(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const u of m)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function o(m){const u={};return m.integrity&&(u.integrity=m.integrity),m.referrerPolicy&&(u.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?u.credentials="include":m.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function c(m){if(m.ep)return;m.ep=!0;const u=o(m);fetch(m.href,u)}})();var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wp(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var bc={exports:{}},zs={};var Uh;function ng(){if(Uh)return zs;Uh=1;var x=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function o(c,m,u){var h=null;if(u!==void 0&&(h=""+u),m.key!==void 0&&(h=""+m.key),"key"in m){u={};for(var f in m)f!=="key"&&(u[f]=m[f])}else u=m;return m=u.ref,{$$typeof:x,type:c,key:h,ref:m!==void 0?m:null,props:u}}return zs.Fragment=l,zs.jsx=o,zs.jsxs=o,zs}var Lh;function ag(){return Lh||(Lh=1,bc.exports=ng()),bc.exports}var i=ag(),wc={exports:{}},et={};var Hh;function ig(){if(Hh)return et;Hh=1;var x=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,k={};function N(C,M,de){this.props=C,this.context=M,this.refs=k,this.updater=de||j}N.prototype.isReactComponent={},N.prototype.setState=function(C,M){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,M,"setState")},N.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function z(){}z.prototype=N.prototype;function D(C,M,de){this.props=C,this.context=M,this.refs=k,this.updater=de||j}var B=D.prototype=new z;B.constructor=D,v(B,N.prototype),B.isPureReactComponent=!0;var H=Array.isArray;function W(){}var Y={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function U(C,M,de){var se=de.ref;return{$$typeof:x,type:C,key:M,ref:se!==void 0?se:null,props:de}}function X(C,M){return U(C.type,M,C.props)}function ne(C){return typeof C=="object"&&C!==null&&C.$$typeof===x}function A(C){var M={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(de){return M[de]})}var O=/\/+/g;function g(C,M){return typeof C=="object"&&C!==null&&C.key!=null?A(""+C.key):M.toString(36)}function I(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(W,W):(C.status="pending",C.then(function(M){C.status==="pending"&&(C.status="fulfilled",C.value=M)},function(M){C.status==="pending"&&(C.status="rejected",C.reason=M)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function q(C,M,de,se,le){var Oe=typeof C;(Oe==="undefined"||Oe==="boolean")&&(C=null);var Le=!1;if(C===null)Le=!0;else switch(Oe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(C.$$typeof){case x:case l:Le=!0;break;case S:return Le=C._init,q(Le(C._payload),M,de,se,le)}}if(Le)return le=le(C),Le=se===""?"."+g(C,0):se,H(le)?(de="",Le!=null&&(de=Le.replace(O,"$&/")+"/"),q(le,M,de,"",function(Ze){return Ze})):le!=null&&(ne(le)&&(le=X(le,de+(le.key==null||C&&C.key===le.key?"":(""+le.key).replace(O,"$&/")+"/")+Le)),M.push(le)),1;Le=0;var ee=se===""?".":se+":";if(H(C))for(var Ne=0;Ne<C.length;Ne++)se=C[Ne],Oe=ee+g(se,Ne),Le+=q(se,M,de,Oe,le);else if(Ne=b(C),typeof Ne=="function")for(C=Ne.call(C),Ne=0;!(se=C.next()).done;)se=se.value,Oe=ee+g(se,Ne++),Le+=q(se,M,de,Oe,le);else if(Oe==="object"){if(typeof C.then=="function")return q(I(C),M,de,se,le);throw M=String(C),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Le}function L(C,M,de){if(C==null)return C;var se=[],le=0;return q(C,se,"","",function(Oe){return M.call(de,Oe,le++)}),se}function K(C){if(C._status===-1){var M=C._result;M=M(),M.then(function(de){(C._status===0||C._status===-1)&&(C._status=1,C._result=de)},function(de){(C._status===0||C._status===-1)&&(C._status=2,C._result=de)}),C._status===-1&&(C._status=0,C._result=M)}if(C._status===1)return C._result.default;throw C._result}var Q=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ue={map:L,forEach:function(C,M,de){L(C,function(){M.apply(this,arguments)},de)},count:function(C){var M=0;return L(C,function(){M++}),M},toArray:function(C){return L(C,function(M){return M})||[]},only:function(C){if(!ne(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return et.Activity=_,et.Children=ue,et.Component=N,et.Fragment=o,et.Profiler=m,et.PureComponent=D,et.StrictMode=c,et.Suspense=p,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,et.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Y.H.useMemoCache(C)}},et.cache=function(C){return function(){return C.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(C,M,de){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var se=v({},C.props),le=C.key;if(M!=null)for(Oe in M.key!==void 0&&(le=""+M.key),M)!G.call(M,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&M.ref===void 0||(se[Oe]=M[Oe]);var Oe=arguments.length-2;if(Oe===1)se.children=de;else if(1<Oe){for(var Le=Array(Oe),ee=0;ee<Oe;ee++)Le[ee]=arguments[ee+2];se.children=Le}return U(C.type,le,se)},et.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},et.createElement=function(C,M,de){var se,le={},Oe=null;if(M!=null)for(se in M.key!==void 0&&(Oe=""+M.key),M)G.call(M,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(le[se]=M[se]);var Le=arguments.length-2;if(Le===1)le.children=de;else if(1<Le){for(var ee=Array(Le),Ne=0;Ne<Le;Ne++)ee[Ne]=arguments[Ne+2];le.children=ee}if(C&&C.defaultProps)for(se in Le=C.defaultProps,Le)le[se]===void 0&&(le[se]=Le[se]);return U(C,Oe,le)},et.createRef=function(){return{current:null}},et.forwardRef=function(C){return{$$typeof:f,render:C}},et.isValidElement=ne,et.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:K}},et.memo=function(C,M){return{$$typeof:d,type:C,compare:M===void 0?null:M}},et.startTransition=function(C){var M=Y.T,de={};Y.T=de;try{var se=C(),le=Y.S;le!==null&&le(de,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(W,Q)}catch(Oe){Q(Oe)}finally{M!==null&&de.types!==null&&(M.types=de.types),Y.T=M}},et.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},et.use=function(C){return Y.H.use(C)},et.useActionState=function(C,M,de){return Y.H.useActionState(C,M,de)},et.useCallback=function(C,M){return Y.H.useCallback(C,M)},et.useContext=function(C){return Y.H.useContext(C)},et.useDebugValue=function(){},et.useDeferredValue=function(C,M){return Y.H.useDeferredValue(C,M)},et.useEffect=function(C,M){return Y.H.useEffect(C,M)},et.useEffectEvent=function(C){return Y.H.useEffectEvent(C)},et.useId=function(){return Y.H.useId()},et.useImperativeHandle=function(C,M,de){return Y.H.useImperativeHandle(C,M,de)},et.useInsertionEffect=function(C,M){return Y.H.useInsertionEffect(C,M)},et.useLayoutEffect=function(C,M){return Y.H.useLayoutEffect(C,M)},et.useMemo=function(C,M){return Y.H.useMemo(C,M)},et.useOptimistic=function(C,M){return Y.H.useOptimistic(C,M)},et.useReducer=function(C,M,de){return Y.H.useReducer(C,M,de)},et.useRef=function(C){return Y.H.useRef(C)},et.useState=function(C){return Y.H.useState(C)},et.useSyncExternalStore=function(C,M,de){return Y.H.useSyncExternalStore(C,M,de)},et.useTransition=function(){return Y.H.useTransition()},et.version="19.2.4",et}var Vh;function Ic(){return Vh||(Vh=1,wc.exports=ig()),wc.exports}var be=Ic();const qh=wp(be);var Sc={exports:{}},Ts={},_c={exports:{}},jc={};var Yh;function sg(){return Yh||(Yh=1,(function(x){function l(q,L){var K=q.length;q.push(L);e:for(;0<K;){var Q=K-1>>>1,ue=q[Q];if(0<m(ue,L))q[Q]=L,q[K]=ue,K=Q;else break e}}function o(q){return q.length===0?null:q[0]}function c(q){if(q.length===0)return null;var L=q[0],K=q.pop();if(K!==L){q[0]=K;e:for(var Q=0,ue=q.length,C=ue>>>1;Q<C;){var M=2*(Q+1)-1,de=q[M],se=M+1,le=q[se];if(0>m(de,K))se<ue&&0>m(le,de)?(q[Q]=le,q[se]=K,Q=se):(q[Q]=de,q[M]=K,Q=M);else if(se<ue&&0>m(le,K))q[Q]=le,q[se]=K,Q=se;else break e}}return L}function m(q,L){var K=q.sortIndex-L.sortIndex;return K!==0?K:q.id-L.id}if(x.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;x.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();x.unstable_now=function(){return h.now()-f}}var p=[],d=[],S=1,_=null,E=3,b=!1,j=!1,v=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(q){for(var L=o(d);L!==null;){if(L.callback===null)c(d);else if(L.startTime<=q)c(d),L.sortIndex=L.expirationTime,l(p,L);else break;L=o(d)}}function H(q){if(v=!1,B(q),!j)if(o(p)!==null)j=!0,W||(W=!0,A());else{var L=o(d);L!==null&&I(H,L.startTime-q)}}var W=!1,Y=-1,G=5,U=-1;function X(){return k?!0:!(x.unstable_now()-U<G)}function ne(){if(k=!1,W){var q=x.unstable_now();U=q;var L=!0;try{e:{j=!1,v&&(v=!1,z(Y),Y=-1),b=!0;var K=E;try{t:{for(B(q),_=o(p);_!==null&&!(_.expirationTime>q&&X());){var Q=_.callback;if(typeof Q=="function"){_.callback=null,E=_.priorityLevel;var ue=Q(_.expirationTime<=q);if(q=x.unstable_now(),typeof ue=="function"){_.callback=ue,B(q),L=!0;break t}_===o(p)&&c(p),B(q)}else c(p);_=o(p)}if(_!==null)L=!0;else{var C=o(d);C!==null&&I(H,C.startTime-q),L=!1}}break e}finally{_=null,E=K,b=!1}L=void 0}}finally{L?A():W=!1}}}var A;if(typeof D=="function")A=function(){D(ne)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,g=O.port2;O.port1.onmessage=ne,A=function(){g.postMessage(null)}}else A=function(){N(ne,0)};function I(q,L){Y=N(function(){q(x.unstable_now())},L)}x.unstable_IdlePriority=5,x.unstable_ImmediatePriority=1,x.unstable_LowPriority=4,x.unstable_NormalPriority=3,x.unstable_Profiling=null,x.unstable_UserBlockingPriority=2,x.unstable_cancelCallback=function(q){q.callback=null},x.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<q?Math.floor(1e3/q):5},x.unstable_getCurrentPriorityLevel=function(){return E},x.unstable_next=function(q){switch(E){case 1:case 2:case 3:var L=3;break;default:L=E}var K=E;E=L;try{return q()}finally{E=K}},x.unstable_requestPaint=function(){k=!0},x.unstable_runWithPriority=function(q,L){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=E;E=q;try{return L()}finally{E=K}},x.unstable_scheduleCallback=function(q,L,K){var Q=x.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,q){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=K+ue,q={id:S++,callback:L,priorityLevel:q,startTime:K,expirationTime:ue,sortIndex:-1},K>Q?(q.sortIndex=K,l(d,q),o(p)===null&&q===o(d)&&(v?(z(Y),Y=-1):v=!0,I(H,K-Q))):(q.sortIndex=ue,l(p,q),j||b||(j=!0,W||(W=!0,A()))),q},x.unstable_shouldYield=X,x.unstable_wrapCallback=function(q){var L=E;return function(){var K=E;E=L;try{return q.apply(this,arguments)}finally{E=K}}}})(jc)),jc}var Zh;function lg(){return Zh||(Zh=1,_c.exports=sg()),_c.exports}var Nc={exports:{}},Pt={};var Ih;function rg(){if(Ih)return Pt;Ih=1;var x=Ic();function l(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)d+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var c={d:{f:o,r:function(){throw Error(l(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},m=Symbol.for("react.portal");function u(p,d,S){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:_==null?null:""+_,children:p,containerInfo:d,implementation:S}}var h=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Pt.createPortal=function(p,d){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(l(299));return u(p,d,null,S)},Pt.flushSync=function(p){var d=h.T,S=c.p;try{if(h.T=null,c.p=2,p)return p()}finally{h.T=d,c.p=S,c.d.f()}},Pt.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,c.d.C(p,d))},Pt.prefetchDNS=function(p){typeof p=="string"&&c.d.D(p)},Pt.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var S=d.as,_=f(S,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;S==="style"?c.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:b}):S==="script"&&c.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pt.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var S=f(d.as,d.crossOrigin);c.d.M(p,{crossOrigin:S,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&c.d.M(p)},Pt.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var S=d.as,_=f(S,d.crossOrigin);c.d.L(p,S,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pt.preloadModule=function(p,d){if(typeof p=="string")if(d){var S=f(d.as,d.crossOrigin);c.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:S,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else c.d.m(p)},Pt.requestFormReset=function(p){c.d.r(p)},Pt.unstable_batchedUpdates=function(p,d){return p(d)},Pt.useFormState=function(p,d,S){return h.H.useFormState(p,d,S)},Pt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Pt.version="19.2.4",Pt}var Gh;function og(){if(Gh)return Nc.exports;Gh=1;function x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x)}catch(l){console.error(l)}}return x(),Nc.exports=rg(),Nc.exports}var Xh;function cg(){if(Xh)return Ts;Xh=1;var x=lg(),l=Ic(),o=og();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(c(188))}function d(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return p(s),e;if(r===a)return p(s),t;r=r.sibling}throw Error(c(188))}if(n.return!==a.return)n=s,a=r;else{for(var y=!1,T=s.child;T;){if(T===n){y=!0,n=s,a=r;break}if(T===a){y=!0,a=s,n=r;break}T=T.sibling}if(!y){for(T=r.child;T;){if(T===n){y=!0,n=r,a=s;break}if(T===a){y=!0,a=r,n=s;break}T=T.sibling}if(!y)throw Error(c(189))}}if(n.alternate!==a)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function g(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case N:return"Profiler";case k:return"StrictMode";case H:return"Suspense";case W:return"SuspenseList";case U:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case D:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:g(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return g(e(t))}catch{}}return null}var I=Array.isArray,q=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Q=[],ue=-1;function C(e){return{current:e}}function M(e){0>ue||(e.current=Q[ue],Q[ue]=null,ue--)}function de(e,t){ue++,Q[ue]=e.current,e.current=t}var se=C(null),le=C(null),Oe=C(null),Le=C(null);function ee(e,t){switch(de(Oe,t),de(le,e),de(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lh(t),e=rh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(se),de(se,e)}function Ne(){M(se),M(le),M(Oe)}function Ze(e){e.memoizedState!==null&&de(Le,e);var t=se.current,n=rh(t,e.type);t!==n&&(de(le,e),de(se,n))}function Ke(e){le.current===e&&(M(se),M(le)),Le.current===e&&(M(Le),Ns._currentValue=K)}var st,Je;function w(e){if(st===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);st=t&&t[1]||"",Je=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+e+Je}var ce=!1;function oe(e,t){if(!e||ce)return"";ce=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(he){var re=he}Reflect.construct(e,[],je)}else{try{je.call()}catch(he){re=he}e.call(je.prototype)}}else{try{throw Error()}catch(he){re=he}(je=e())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(he){if(he&&re&&typeof he.stack=="string")return[he.stack,re.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),y=r[0],T=r[1];if(y&&T){var Z=y.split(`
`),ie=T.split(`
`);for(s=a=0;a<Z.length&&!Z[a].includes("DetermineComponentFrameRoot");)a++;for(;s<ie.length&&!ie[s].includes("DetermineComponentFrameRoot");)s++;if(a===Z.length||s===ie.length)for(a=Z.length-1,s=ie.length-1;1<=a&&0<=s&&Z[a]!==ie[s];)s--;for(;1<=a&&0<=s;a--,s--)if(Z[a]!==ie[s]){if(a!==1||s!==1)do if(a--,s--,0>s||Z[a]!==ie[s]){var xe=`
`+Z[a].replace(" at new "," at ");return e.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",e.displayName)),xe}while(1<=a&&0<=s);break}}}finally{ce=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?w(n):""}function V(e,t){switch(e.tag){case 26:case 27:case 5:return w(e.type);case 16:return w("Lazy");case 13:return e.child!==t&&t!==null?w("Suspense Fallback"):w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return oe(e.type,!1);case 11:return oe(e.type.render,!1);case 1:return oe(e.type,!0);case 31:return w("Activity");default:return""}}function R(e){try{var t="",n=null;do t+=V(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var $=Object.prototype.hasOwnProperty,ve=x.unstable_scheduleCallback,ye=x.unstable_cancelCallback,J=x.unstable_shouldYield,Te=x.unstable_requestPaint,Ee=x.unstable_now,Ae=x.unstable_getCurrentPriorityLevel,qe=x.unstable_ImmediatePriority,ct=x.unstable_UserBlockingPriority,Pe=x.unstable_NormalPriority,Vt=x.unstable_LowPriority,$t=x.unstable_IdlePriority,jt=x.log,cn=x.unstable_setDisableYieldValue,ht=null,St=null;function Zt(e){if(typeof jt=="function"&&cn(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ht,e)}catch{}}var gt=Math.clz32?Math.clz32:bn,zt=Math.log,Mn=Math.LN2;function bn(e){return e>>>=0,e===0?32:31-(zt(e)/Mn|0)|0}var un=256,wn=262144,Jt=4194304;function It(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gn(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,r=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var T=a&134217727;return T!==0?(a=T&~r,a!==0?s=It(a):(y&=T,y!==0?s=It(y):n||(n=T&~e,n!==0&&(s=It(n))))):(T=a&~r,T!==0?s=It(T):y!==0?s=It(y):n||(n=a&~e,n!==0&&(s=It(n)))),s===0?0:t!==0&&t!==s&&(t&r)===0&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function Sn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function me(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ge(){var e=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),e}function pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n,a,s,r){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,Z=e.expirationTimes,ie=e.hiddenUpdates;for(n=y&~n;0<n;){var xe=31-gt(n),je=1<<xe;T[xe]=0,Z[xe]=-1;var re=ie[xe];if(re!==null)for(ie[xe]=null,xe=0;xe<re.length;xe++){var he=re[xe];he!==null&&(he.lane&=-536870913)}n&=~je}a!==0&&ke(e,a,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(y&~t))}function ke(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-gt(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Ce(e,t){var n=t&-t;return n=(n&42)!==0?1:Re(n),(n&(e.suspendedLanes|t))!==0?0:n}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ue(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:Th(e.type))}function He(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ge=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Ge,ut="__reactProps$"+Ge,te="__reactContainer$"+Ge,we="__reactEvents$"+Ge,Me="__reactListeners$"+Ge,Be="__reactHandles$"+Ge,We="__reactResources$"+Ge,Ie="__reactMarker$"+Ge;function pt(e){delete e[Xe],delete e[ut],delete e[we],delete e[Me],delete e[Be]}function dn(e){var t=e[Xe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[te]||n[Xe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ph(e);e!==null;){if(n=e[Xe])return n;e=ph(e)}return t}e=n,n=e.parentNode}return null}function _n(e){if(e=e[Xe]||e[te]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Hn(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qt(e){e[Ie]=!0}var Fc=new Set,Kc={};function Ba(e,t){si(e,t),si(e+"Capture",t)}function si(e,t){for(Kc[e]=t,e=0;e<t.length;e++)Fc.add(t[e])}var Fp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},Wc={};function Kp(e){return $.call(Wc,e)?!0:$.call(Qc,e)?!1:Fp.test(e)?Wc[e]=!0:(Qc[e]=!0,!1)}function Hs(e,t,n){if(Kp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Fn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function jn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $c(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qp(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(y){n=""+y,r.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fr(e){if(!e._valueTracker){var t=$c(e)?"checked":"value";e._valueTracker=Qp(e,t,""+e[t])}}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=$c(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wp=/[\n"\\]/g;function Nn(e){return e.replace(Wp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function hr(e,t,n,a,s,r,y,T){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jn(t)):e.value!==""+jn(t)&&(e.value=""+jn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?pr(e,y,jn(t)):n!=null?pr(e,y,jn(n)):a!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+jn(T):e.removeAttribute("name")}function Pc(e,t,n,a,s,r,y,T){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){fr(e);return}n=n!=null?""+jn(n):"",t=t!=null?""+jn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=T?e.checked:!!a,e.defaultChecked=!!a,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),fr(e)}function pr(e,t,n){t==="number"&&qs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function li(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function eu(e,t,n){if(t!=null&&(t=""+jn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jn(n):""}function tu(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(c(92));if(I(a)){if(1<a.length)throw Error(c(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=jn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),fr(e)}function ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $p=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||$p.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function au(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&nu(e,s,a)}else for(var r in t)t.hasOwnProperty(r)&&nu(e,r,t[r])}function mr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(e){return Pp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var gr=null;function yr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oi=null,ci=null;function iu(e){var t=_n(e);if(t&&(e=t.stateNode)){var n=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(hr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[ut]||null;if(!s)throw Error(c(90));hr(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Jc(a)}break e;case"textarea":eu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&li(e,!!n.multiple,t,!1)}}}var xr=!1;function su(e,t,n){if(xr)return e(t,n);xr=!0;try{var a=e(t);return a}finally{if(xr=!1,(oi!==null||ci!==null)&&(zl(),oi&&(t=oi,e=ci,ci=oi=null,iu(t),e)))for(t=0;t<e.length;t++)iu(e[t])}}function Yi(e,t){var n=e.stateNode;if(n===null)return null;var a=n[ut]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Qn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{vr=!1}var da=null,br=null,Zs=null;function lu(){if(Zs)return Zs;var e,t=br,n=t.length,a,s="value"in da?da.value:da.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var y=n-e;for(a=1;a<=y&&t[n-a]===s[r-a];a++);return Zs=s.slice(e,1<a?1-a:void 0)}function Is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function ru(){return!1}function nn(e){function t(n,a,s,r,y){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=r,this.target=y,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(r):r[T]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Gs:ru,this.isPropagationStopped=ru,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=nn(Ua),Ii=_({},Ua,{view:0,detail:0}),em=nn(Ii),wr,Sr,Gi,Fs=_({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(wr=e.screenX-Gi.screenX,Sr=e.screenY-Gi.screenY):Sr=wr=0,Gi=e),wr)},movementY:function(e){return"movementY"in e?e.movementY:Sr}}),ou=nn(Fs),tm=_({},Fs,{dataTransfer:0}),nm=nn(tm),am=_({},Ii,{relatedTarget:0}),_r=nn(am),im=_({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),sm=nn(im),lm=_({},Ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rm=nn(lm),om=_({},Ua,{data:0}),cu=nn(om),cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dm[e])?!!t[e]:!1}function jr(){return fm}var hm=_({},Ii,{key:function(e){if(e.key){var t=cm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?um[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pm=nn(hm),mm=_({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=nn(mm),gm=_({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),ym=nn(gm),xm=_({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=nn(xm),bm=_({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wm=nn(bm),Sm=_({},Ua,{newState:0,oldState:0}),_m=nn(Sm),jm=[9,13,27,32],Nr=Qn&&"CompositionEvent"in window,Xi=null;Qn&&"documentMode"in document&&(Xi=document.documentMode);var Nm=Qn&&"TextEvent"in window&&!Xi,du=Qn&&(!Nr||Xi&&8<Xi&&11>=Xi),fu=" ",hu=!1;function pu(e,t){switch(e){case"keyup":return jm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function km(e,t){switch(e){case"compositionend":return mu(t);case"keypress":return t.which!==32?null:(hu=!0,fu);case"textInput":return e=t.data,e===fu&&hu?null:e;default:return null}}function Em(e,t){if(ui)return e==="compositionend"||!Nr&&pu(e,t)?(e=lu(),Zs=br=da=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var Cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cm[e.type]:t==="textarea"}function yu(e,t,n,a){oi?ci?ci.push(a):ci=[a]:oi=a,t=Bl(t,"onChange"),0<t.length&&(n=new Xs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Fi=null,Ki=null;function zm(e){eh(e,0)}function Ks(e){var t=Xn(e);if(Jc(t))return e}function xu(e,t){if(e==="change")return t}var vu=!1;if(Qn){var kr;if(Qn){var Er="oninput"in document;if(!Er){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),Er=typeof bu.oninput=="function"}kr=Er}else kr=!1;vu=kr&&(!document.documentMode||9<document.documentMode)}function wu(){Fi&&(Fi.detachEvent("onpropertychange",Su),Ki=Fi=null)}function Su(e){if(e.propertyName==="value"&&Ks(Ki)){var t=[];yu(t,Ki,e,yr(e)),su(zm,t)}}function Tm(e,t,n){e==="focusin"?(wu(),Fi=t,Ki=n,Fi.attachEvent("onpropertychange",Su)):e==="focusout"&&wu()}function Am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks(Ki)}function Dm(e,t){if(e==="click")return Ks(t)}function Om(e,t){if(e==="input"||e==="change")return Ks(t)}function Mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:Mm;function Qi(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!$.call(t,s)||!fn(e[s],t[s]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ju(e,t){var n=_u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_u(n)}}function Nu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ku(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qs(e.document)}return t}function Cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Rm=Qn&&"documentMode"in document&&11>=document.documentMode,di=null,zr=null,Wi=null,Tr=!1;function Eu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tr||di==null||di!==qs(a)||(a=di,"selectionStart"in a&&Cr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Wi&&Qi(Wi,a)||(Wi=a,a=Bl(zr,"onSelect"),0<a.length&&(t=new Xs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=di)))}function La(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fi={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Ar={},Cu={};Qn&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Ha(e){if(Ar[e])return Ar[e];if(!fi[e])return e;var t=fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cu)return Ar[e]=t[n];return e}var zu=Ha("animationend"),Tu=Ha("animationiteration"),Au=Ha("animationstart"),Bm=Ha("transitionrun"),Um=Ha("transitionstart"),Lm=Ha("transitioncancel"),Du=Ha("transitionend"),Ou=new Map,Dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dr.push("scrollEnd");function Rn(e,t){Ou.set(e,t),Ba(t,[e])}var Qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],hi=0,Or=0;function Ws(){for(var e=hi,t=Or=hi=0;t<e;){var n=kn[t];kn[t++]=null;var a=kn[t];kn[t++]=null;var s=kn[t];kn[t++]=null;var r=kn[t];if(kn[t++]=null,a!==null&&s!==null){var y=a.pending;y===null?s.next=s:(s.next=y.next,y.next=s),a.pending=s}r!==0&&Mu(n,s,r)}}function $s(e,t,n,a){kn[hi++]=e,kn[hi++]=t,kn[hi++]=n,kn[hi++]=a,Or|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Mr(e,t,n,a){return $s(e,t,n,a),Js(e)}function Va(e,t){return $s(e,null,null,t),Js(e)}function Mu(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-gt(n),e=r.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),r):null}function Js(e){if(50<xs)throw xs=0,Io=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pi={};function Hm(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,t,n,a){return new Hm(e,t,n,a)}function Rr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wn(e,t){var n=e.alternate;return n===null?(n=hn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ru(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ps(e,t,n,a,s,r){var y=0;if(a=e,typeof e=="function")Rr(e)&&(y=1);else if(typeof e=="string")y=I0(e,n,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case U:return e=hn(31,n,t,s),e.elementType=U,e.lanes=r,e;case v:return qa(n.children,s,r,t);case k:y=8,s|=24;break;case N:return e=hn(12,n,t,s|2),e.elementType=N,e.lanes=r,e;case H:return e=hn(13,n,t,s),e.elementType=H,e.lanes=r,e;case W:return e=hn(19,n,t,s),e.elementType=W,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:y=10;break e;case z:y=9;break e;case B:y=11;break e;case Y:y=14;break e;case G:y=16,a=null;break e}y=29,n=Error(c(130,e===null?"null":typeof e,"")),a=null}return t=hn(y,n,t,s),t.elementType=e,t.type=a,t.lanes=r,t}function qa(e,t,n,a){return e=hn(7,e,a,t),e.lanes=n,e}function Br(e,t,n){return e=hn(6,e,null,t),e.lanes=n,e}function Bu(e){var t=hn(18,null,null,0);return t.stateNode=e,t}function Ur(e,t,n){return t=hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Uu=new WeakMap;function En(e,t){if(typeof e=="object"&&e!==null){var n=Uu.get(e);return n!==void 0?n:(t={value:e,source:t,stack:R(t)},Uu.set(e,t),t)}return{value:e,source:t,stack:R(t)}}var mi=[],gi=0,el=null,$i=0,Cn=[],zn=0,fa=null,Vn=1,qn="";function $n(e,t){mi[gi++]=$i,mi[gi++]=el,el=e,$i=t}function Lu(e,t,n){Cn[zn++]=Vn,Cn[zn++]=qn,Cn[zn++]=fa,fa=e;var a=Vn;e=qn;var s=32-gt(a)-1;a&=~(1<<s),n+=1;var r=32-gt(t)+s;if(30<r){var y=s-s%5;r=(a&(1<<y)-1).toString(32),a>>=y,s-=y,Vn=1<<32-gt(t)+s|n<<s|a,qn=r+e}else Vn=1<<r|n<<s|a,qn=e}function Lr(e){e.return!==null&&($n(e,1),Lu(e,1,0))}function Hr(e){for(;e===el;)el=mi[--gi],mi[gi]=null,$i=mi[--gi],mi[gi]=null;for(;e===fa;)fa=Cn[--zn],Cn[zn]=null,qn=Cn[--zn],Cn[zn]=null,Vn=Cn[--zn],Cn[zn]=null}function Hu(e,t){Cn[zn++]=Vn,Cn[zn++]=qn,Cn[zn++]=fa,Vn=t.id,qn=t.overflow,fa=e}var Gt=null,Nt=null,ot=!1,ha=null,Tn=!1,Vr=Error(c(519));function pa(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ji(En(t,e)),Vr}function Vu(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Xe]=e,t[ut]=a,n){case"dialog":it("cancel",t),it("close",t);break;case"iframe":case"object":case"embed":it("load",t);break;case"video":case"audio":for(n=0;n<bs.length;n++)it(bs[n],t);break;case"source":it("error",t);break;case"img":case"image":case"link":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"input":it("invalid",t),Pc(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":it("invalid",t);break;case"textarea":it("invalid",t),tu(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||ih(t.textContent,n)?(a.popover!=null&&(it("beforetoggle",t),it("toggle",t)),a.onScroll!=null&&it("scroll",t),a.onScrollEnd!=null&&it("scrollend",t),a.onClick!=null&&(t.onclick=Kn),t=!0):t=!1,t||pa(e,!0)}function qu(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Gt=Gt.return}}function yi(e){if(e!==Gt)return!1;if(!ot)return qu(e),ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||sc(e.type,e.memoizedProps)),n=!n),n&&Nt&&pa(e),qu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Nt=hh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Nt=hh(e)}else t===27?(t=Nt,Ca(e.type)?(e=uc,uc=null,Nt=e):Nt=t):Nt=Gt?Dn(e.stateNode.nextSibling):null;return!0}function Ya(){Nt=Gt=null,ot=!1}function qr(){var e=ha;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ha=null),e}function Ji(e){ha===null?ha=[e]:ha.push(e)}var Yr=C(null),Za=null,Jn=null;function ma(e,t,n){de(Yr,t._currentValue),t._currentValue=n}function Pn(e){e._currentValue=Yr.current,M(Yr)}function Zr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ir(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var y=s.child;r=r.firstContext;e:for(;r!==null;){var T=r;r=s;for(var Z=0;Z<t.length;Z++)if(T.context===t[Z]){r.lanes|=n,T=r.alternate,T!==null&&(T.lanes|=n),Zr(r.return,n,e),a||(y=null);break e}r=T.next}}else if(s.tag===18){if(y=s.return,y===null)throw Error(c(341));y.lanes|=n,r=y.alternate,r!==null&&(r.lanes|=n),Zr(y,n,e),y=null}else y=s.child;if(y!==null)y.return=s;else for(y=s;y!==null;){if(y===e){y=null;break}if(s=y.sibling,s!==null){s.return=y.return,y=s;break}y=y.return}s=y}}function xi(e,t,n,a){e=null;for(var s=t,r=!1;s!==null;){if(!r){if((s.flags&524288)!==0)r=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var y=s.alternate;if(y===null)throw Error(c(387));if(y=y.memoizedProps,y!==null){var T=s.type;fn(s.pendingProps.value,y.value)||(e!==null?e.push(T):e=[T])}}else if(s===Le.current){if(y=s.alternate,y===null)throw Error(c(387));y.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Ns):e=[Ns])}s=s.return}e!==null&&Ir(t,e,n,a),t.flags|=262144}function tl(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){Za=e,Jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xt(e){return Yu(Za,e)}function nl(e,t){return Za===null&&Ia(e),Yu(e,t)}function Yu(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Jn===null){if(e===null)throw Error(c(308));Jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jn=Jn.next=t;return n}var Vm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},qm=x.unstable_scheduleCallback,Ym=x.unstable_NormalPriority,Rt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gr(){return{controller:new Vm,data:new Map,refCount:0}}function Pi(e){e.refCount--,e.refCount===0&&qm(Ym,function(){e.controller.abort()})}var es=null,Xr=0,vi=0,bi=null;function Zm(e,t){if(es===null){var n=es=[];Xr=0,vi=Wo(),bi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Xr++,t.then(Zu,Zu),t}function Zu(){if(--Xr===0&&es!==null){bi!==null&&(bi.status="fulfilled");var e=es;es=null,vi=0,bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Im(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var Iu=q.S;q.S=function(e,t){Cf=Ee(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zm(e,t),Iu!==null&&Iu(e,t)};var Ga=C(null);function Fr(){var e=Ga.current;return e!==null?e:_t.pooledCache}function al(e,t){t===null?de(Ga,Ga.current):de(Ga,t.pool)}function Gu(){var e=Fr();return e===null?null:{parent:Rt._currentValue,pool:e}}var wi=Error(c(460)),Kr=Error(c(474)),il=Error(c(542)),sl={then:function(){}};function Xu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fu(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Kn,Kn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qu(e),e;default:if(typeof t.status=="string")t.then(Kn,Kn);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qu(e),e}throw Fa=t,wi}}function Xa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Fa=n,wi):n}}var Fa=null;function Ku(){if(Fa===null)throw Error(c(459));var e=Fa;return Fa=null,e}function Qu(e){if(e===wi||e===il)throw Error(c(483))}var Si=null,ts=0;function ll(e){var t=ts;return ts+=1,Si===null&&(Si=[]),Fu(Si,e,t)}function ns(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rl(e,t){throw t.$$typeof===E?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wu(e){function t(P,F){if(e){var ae=P.deletions;ae===null?(P.deletions=[F],P.flags|=16):ae.push(F)}}function n(P,F){if(!e)return null;for(;F!==null;)t(P,F),F=F.sibling;return null}function a(P){for(var F=new Map;P!==null;)P.key!==null?F.set(P.key,P):F.set(P.index,P),P=P.sibling;return F}function s(P,F){return P=Wn(P,F),P.index=0,P.sibling=null,P}function r(P,F,ae){return P.index=ae,e?(ae=P.alternate,ae!==null?(ae=ae.index,ae<F?(P.flags|=67108866,F):ae):(P.flags|=67108866,F)):(P.flags|=1048576,F)}function y(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,F,ae,_e){return F===null||F.tag!==6?(F=Br(ae,P.mode,_e),F.return=P,F):(F=s(F,ae),F.return=P,F)}function Z(P,F,ae,_e){var Fe=ae.type;return Fe===v?xe(P,F,ae.props.children,_e,ae.key):F!==null&&(F.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===G&&Xa(Fe)===F.type)?(F=s(F,ae.props),ns(F,ae),F.return=P,F):(F=Ps(ae.type,ae.key,ae.props,null,P.mode,_e),ns(F,ae),F.return=P,F)}function ie(P,F,ae,_e){return F===null||F.tag!==4||F.stateNode.containerInfo!==ae.containerInfo||F.stateNode.implementation!==ae.implementation?(F=Ur(ae,P.mode,_e),F.return=P,F):(F=s(F,ae.children||[]),F.return=P,F)}function xe(P,F,ae,_e,Fe){return F===null||F.tag!==7?(F=qa(ae,P.mode,_e,Fe),F.return=P,F):(F=s(F,ae),F.return=P,F)}function je(P,F,ae){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Br(""+F,P.mode,ae),F.return=P,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return ae=Ps(F.type,F.key,F.props,null,P.mode,ae),ns(ae,F),ae.return=P,ae;case j:return F=Ur(F,P.mode,ae),F.return=P,F;case G:return F=Xa(F),je(P,F,ae)}if(I(F)||A(F))return F=qa(F,P.mode,ae,null),F.return=P,F;if(typeof F.then=="function")return je(P,ll(F),ae);if(F.$$typeof===D)return je(P,nl(P,F),ae);rl(P,F)}return null}function re(P,F,ae,_e){var Fe=F!==null?F.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Fe!==null?null:T(P,F,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return ae.key===Fe?Z(P,F,ae,_e):null;case j:return ae.key===Fe?ie(P,F,ae,_e):null;case G:return ae=Xa(ae),re(P,F,ae,_e)}if(I(ae)||A(ae))return Fe!==null?null:xe(P,F,ae,_e,null);if(typeof ae.then=="function")return re(P,F,ll(ae),_e);if(ae.$$typeof===D)return re(P,F,nl(P,ae),_e);rl(P,ae)}return null}function he(P,F,ae,_e,Fe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return P=P.get(ae)||null,T(F,P,""+_e,Fe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:return P=P.get(_e.key===null?ae:_e.key)||null,Z(F,P,_e,Fe);case j:return P=P.get(_e.key===null?ae:_e.key)||null,ie(F,P,_e,Fe);case G:return _e=Xa(_e),he(P,F,ae,_e,Fe)}if(I(_e)||A(_e))return P=P.get(ae)||null,xe(F,P,_e,Fe,null);if(typeof _e.then=="function")return he(P,F,ae,ll(_e),Fe);if(_e.$$typeof===D)return he(P,F,ae,nl(F,_e),Fe);rl(F,_e)}return null}function Ve(P,F,ae,_e){for(var Fe=null,dt=null,Ye=F,nt=F=0,rt=null;Ye!==null&&nt<ae.length;nt++){Ye.index>nt?(rt=Ye,Ye=null):rt=Ye.sibling;var ft=re(P,Ye,ae[nt],_e);if(ft===null){Ye===null&&(Ye=rt);break}e&&Ye&&ft.alternate===null&&t(P,Ye),F=r(ft,F,nt),dt===null?Fe=ft:dt.sibling=ft,dt=ft,Ye=rt}if(nt===ae.length)return n(P,Ye),ot&&$n(P,nt),Fe;if(Ye===null){for(;nt<ae.length;nt++)Ye=je(P,ae[nt],_e),Ye!==null&&(F=r(Ye,F,nt),dt===null?Fe=Ye:dt.sibling=Ye,dt=Ye);return ot&&$n(P,nt),Fe}for(Ye=a(Ye);nt<ae.length;nt++)rt=he(Ye,P,nt,ae[nt],_e),rt!==null&&(e&&rt.alternate!==null&&Ye.delete(rt.key===null?nt:rt.key),F=r(rt,F,nt),dt===null?Fe=rt:dt.sibling=rt,dt=rt);return e&&Ye.forEach(function(Oa){return t(P,Oa)}),ot&&$n(P,nt),Fe}function Qe(P,F,ae,_e){if(ae==null)throw Error(c(151));for(var Fe=null,dt=null,Ye=F,nt=F=0,rt=null,ft=ae.next();Ye!==null&&!ft.done;nt++,ft=ae.next()){Ye.index>nt?(rt=Ye,Ye=null):rt=Ye.sibling;var Oa=re(P,Ye,ft.value,_e);if(Oa===null){Ye===null&&(Ye=rt);break}e&&Ye&&Oa.alternate===null&&t(P,Ye),F=r(Oa,F,nt),dt===null?Fe=Oa:dt.sibling=Oa,dt=Oa,Ye=rt}if(ft.done)return n(P,Ye),ot&&$n(P,nt),Fe;if(Ye===null){for(;!ft.done;nt++,ft=ae.next())ft=je(P,ft.value,_e),ft!==null&&(F=r(ft,F,nt),dt===null?Fe=ft:dt.sibling=ft,dt=ft);return ot&&$n(P,nt),Fe}for(Ye=a(Ye);!ft.done;nt++,ft=ae.next())ft=he(Ye,P,nt,ft.value,_e),ft!==null&&(e&&ft.alternate!==null&&Ye.delete(ft.key===null?nt:ft.key),F=r(ft,F,nt),dt===null?Fe=ft:dt.sibling=ft,dt=ft);return e&&Ye.forEach(function(tg){return t(P,tg)}),ot&&$n(P,nt),Fe}function wt(P,F,ae,_e){if(typeof ae=="object"&&ae!==null&&ae.type===v&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:e:{for(var Fe=ae.key;F!==null;){if(F.key===Fe){if(Fe=ae.type,Fe===v){if(F.tag===7){n(P,F.sibling),_e=s(F,ae.props.children),_e.return=P,P=_e;break e}}else if(F.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===G&&Xa(Fe)===F.type){n(P,F.sibling),_e=s(F,ae.props),ns(_e,ae),_e.return=P,P=_e;break e}n(P,F);break}else t(P,F);F=F.sibling}ae.type===v?(_e=qa(ae.props.children,P.mode,_e,ae.key),_e.return=P,P=_e):(_e=Ps(ae.type,ae.key,ae.props,null,P.mode,_e),ns(_e,ae),_e.return=P,P=_e)}return y(P);case j:e:{for(Fe=ae.key;F!==null;){if(F.key===Fe)if(F.tag===4&&F.stateNode.containerInfo===ae.containerInfo&&F.stateNode.implementation===ae.implementation){n(P,F.sibling),_e=s(F,ae.children||[]),_e.return=P,P=_e;break e}else{n(P,F);break}else t(P,F);F=F.sibling}_e=Ur(ae,P.mode,_e),_e.return=P,P=_e}return y(P);case G:return ae=Xa(ae),wt(P,F,ae,_e)}if(I(ae))return Ve(P,F,ae,_e);if(A(ae)){if(Fe=A(ae),typeof Fe!="function")throw Error(c(150));return ae=Fe.call(ae),Qe(P,F,ae,_e)}if(typeof ae.then=="function")return wt(P,F,ll(ae),_e);if(ae.$$typeof===D)return wt(P,F,nl(P,ae),_e);rl(P,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,F!==null&&F.tag===6?(n(P,F.sibling),_e=s(F,ae),_e.return=P,P=_e):(n(P,F),_e=Br(ae,P.mode,_e),_e.return=P,P=_e),y(P)):n(P,F)}return function(P,F,ae,_e){try{ts=0;var Fe=wt(P,F,ae,_e);return Si=null,Fe}catch(Ye){if(Ye===wi||Ye===il)throw Ye;var dt=hn(29,Ye,null,P.mode);return dt.lanes=_e,dt.return=P,dt}}}var Ka=Wu(!0),$u=Wu(!1),ga=!1;function Qr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(mt&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Js(e),Mu(e,null,n),t}return $s(e,a,t,n),Js(e)}function as(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,De(e,n)}}function $r(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=y:r=r.next=y,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Jr=!1;function is(){if(Jr){var e=bi;if(e!==null)throw e}}function ss(e,t,n,a){Jr=!1;var s=e.updateQueue;ga=!1;var r=s.firstBaseUpdate,y=s.lastBaseUpdate,T=s.shared.pending;if(T!==null){s.shared.pending=null;var Z=T,ie=Z.next;Z.next=null,y===null?r=ie:y.next=ie,y=Z;var xe=e.alternate;xe!==null&&(xe=xe.updateQueue,T=xe.lastBaseUpdate,T!==y&&(T===null?xe.firstBaseUpdate=ie:T.next=ie,xe.lastBaseUpdate=Z))}if(r!==null){var je=s.baseState;y=0,xe=ie=Z=null,T=r;do{var re=T.lane&-536870913,he=re!==T.lane;if(he?(lt&re)===re:(a&re)===re){re!==0&&re===vi&&(Jr=!0),xe!==null&&(xe=xe.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ve=e,Qe=T;re=t;var wt=n;switch(Qe.tag){case 1:if(Ve=Qe.payload,typeof Ve=="function"){je=Ve.call(wt,je,re);break e}je=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Qe.payload,re=typeof Ve=="function"?Ve.call(wt,je,re):Ve,re==null)break e;je=_({},je,re);break e;case 2:ga=!0}}re=T.callback,re!==null&&(e.flags|=64,he&&(e.flags|=8192),he=s.callbacks,he===null?s.callbacks=[re]:he.push(re))}else he={lane:re,tag:T.tag,payload:T.payload,callback:T.callback,next:null},xe===null?(ie=xe=he,Z=je):xe=xe.next=he,y|=re;if(T=T.next,T===null){if(T=s.shared.pending,T===null)break;he=T,T=he.next,he.next=null,s.lastBaseUpdate=he,s.shared.pending=null}}while(!0);xe===null&&(Z=je),s.baseState=Z,s.firstBaseUpdate=ie,s.lastBaseUpdate=xe,r===null&&(s.shared.lanes=0),_a|=y,e.lanes=y,e.memoizedState=je}}function Ju(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Pu(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ju(n[e],t)}var _i=C(null),ol=C(0);function ed(e,t){e=oa,de(ol,e),de(_i,t),oa=e|t.baseLanes}function Pr(){de(ol,oa),de(_i,_i.current)}function eo(){oa=ol.current,M(_i),M(ol)}var pn=C(null),An=null;function va(e){var t=e.alternate;de(Dt,Dt.current&1),de(pn,e),An===null&&(t===null||_i.current!==null||t.memoizedState!==null)&&(An=e)}function to(e){de(Dt,Dt.current),de(pn,e),An===null&&(An=e)}function td(e){e.tag===22?(de(Dt,Dt.current),de(pn,e),An===null&&(An=e)):ba()}function ba(){de(Dt,Dt.current),de(pn,pn.current)}function mn(e){M(pn),An===e&&(An=null),M(Dt)}var Dt=C(0);function cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||oc(n)||cc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=0,tt=null,vt=null,Bt=null,ul=!1,ji=!1,Qa=!1,dl=0,ls=0,Ni=null,Gm=0;function Tt(){throw Error(c(321))}function no(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function ao(e,t,n,a,s,r){return ea=r,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Ld:vo,Qa=!1,r=n(a,s),Qa=!1,ji&&(r=ad(t,n,a,s)),nd(e),r}function nd(e){q.H=cs;var t=vt!==null&&vt.next!==null;if(ea=0,Bt=vt=tt=null,ul=!1,ls=0,Ni=null,t)throw Error(c(300));e===null||Ut||(e=e.dependencies,e!==null&&tl(e)&&(Ut=!0))}function ad(e,t,n,a){tt=e;var s=0;do{if(ji&&(Ni=null),ls=0,ji=!1,25<=s)throw Error(c(301));if(s+=1,Bt=vt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}q.H=Hd,r=t(n,a)}while(ji);return r}function Xm(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?rs(t):t,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(tt.flags|=1024),t}function io(){var e=dl!==0;return dl=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function lo(e){if(ul){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ul=!1}ea=0,Bt=vt=tt=null,ji=!1,ls=dl=0,Ni=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?tt.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Ot(){if(vt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Bt===null?tt.memoizedState:Bt.next;if(t!==null)Bt=t,vt=e;else{if(e===null)throw tt.alternate===null?Error(c(467)):Error(c(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Bt===null?tt.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rs(e){var t=ls;return ls+=1,Ni===null&&(Ni=[]),e=Fu(Ni,e,t),t=tt,(Bt===null?t.memoizedState:Bt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Ld:vo),e}function hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rs(e);if(e.$$typeof===D)return Xt(e)}throw Error(c(438,String(e)))}function ro(e){var t=null,n=tt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=tt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=fl(),tt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=X;return t.index++,n}function ta(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=Ot();return oo(t,vt,e)}function oo(e,t,n){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=n;var s=e.baseQueue,r=a.pending;if(r!==null){if(s!==null){var y=s.next;s.next=r.next,r.next=y}t.baseQueue=s=r,a.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var T=y=null,Z=null,ie=t,xe=!1;do{var je=ie.lane&-536870913;if(je!==ie.lane?(lt&je)===je:(ea&je)===je){var re=ie.revertLane;if(re===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),je===vi&&(xe=!0);else if((ea&re)===re){ie=ie.next,re===vi&&(xe=!0);continue}else je={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Z===null?(T=Z=je,y=r):Z=Z.next=je,tt.lanes|=re,_a|=re;je=ie.action,Qa&&n(r,je),r=ie.hasEagerState?ie.eagerState:n(r,je)}else re={lane:je,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Z===null?(T=Z=re,y=r):Z=Z.next=re,tt.lanes|=je,_a|=je;ie=ie.next}while(ie!==null&&ie!==t);if(Z===null?y=r:Z.next=T,!fn(r,e.memoizedState)&&(Ut=!0,xe&&(n=bi,n!==null)))throw n;e.memoizedState=r,e.baseState=y,e.baseQueue=Z,a.lastRenderedState=r}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function co(e){var t=Ot(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var y=s=s.next;do r=e(r,y.action),y=y.next;while(y!==s);fn(r,t.memoizedState)||(Ut=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function id(e,t,n){var a=tt,s=Ot(),r=ot;if(r){if(n===void 0)throw Error(c(407));n=n()}else n=t();var y=!fn((vt||s).memoizedState,n);if(y&&(s.memoizedState=n,Ut=!0),s=s.queue,ho(rd.bind(null,a,s,e),[e]),s.getSnapshot!==t||y||Bt!==null&&Bt.memoizedState.tag&1){if(a.flags|=2048,ki(9,{destroy:void 0},ld.bind(null,a,s,n,t),null),_t===null)throw Error(c(349));r||(ea&127)!==0||sd(a,t,n)}return n}function sd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t=fl(),tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ld(e,t,n,a){t.value=n,t.getSnapshot=a,od(t)&&cd(e)}function rd(e,t,n){return n(function(){od(t)&&cd(e)})}function od(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function cd(e){var t=Va(e,2);t!==null&&on(t,e,2)}function uo(e){var t=en();if(typeof e=="function"){var n=e;if(e=n(),Qa){Zt(!0);try{n()}finally{Zt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e},t}function ud(e,t,n,a){return e.baseState=n,oo(e,vt,typeof a=="function"?a:ta)}function Fm(e,t,n,a,s){if(yl(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){r.listeners.push(y)}};q.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,dd(t,r)):(r.next=n.next,t.pending=n.next=r)}}function dd(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var r=q.T,y={};q.T=y;try{var T=n(s,a),Z=q.S;Z!==null&&Z(y,T),fd(e,t,T)}catch(ie){fo(e,t,ie)}finally{r!==null&&y.types!==null&&(r.types=y.types),q.T=r}}else try{r=n(s,a),fd(e,t,r)}catch(ie){fo(e,t,ie)}}function fd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){hd(e,t,a)},function(a){return fo(e,t,a)}):hd(e,t,n)}function hd(e,t,n){t.status="fulfilled",t.value=n,pd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,dd(e,n)))}function fo(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,pd(t),t=t.next;while(t!==a)}e.action=null}function pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function md(e,t){return t}function gd(e,t){if(ot){var n=_t.formState;if(n!==null){e:{var a=tt;if(ot){if(Nt){t:{for(var s=Nt,r=Tn;s.nodeType!==8;){if(!r){s=null;break t}if(s=Dn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Nt=Dn(s.nextSibling),a=s.data==="F!";break e}}pa(a)}a=!1}a&&(t=n[0])}}return n=en(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:t},n.queue=a,n=Rd.bind(null,tt,a),a.dispatch=n,a=uo(!1),r=xo.bind(null,tt,!1,a.queue),a=en(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=Fm.bind(null,tt,s,r,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function yd(e){var t=Ot();return xd(t,vt,e)}function xd(e,t,n){if(t=oo(e,t,md)[0],e=pl(ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=rs(t)}catch(y){throw y===wi?il:y}else a=t;t=Ot();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(tt.flags|=2048,ki(9,{destroy:void 0},Km.bind(null,s,n),null)),[a,r,e]}function Km(e,t){e.action=t}function vd(e){var t=Ot(),n=vt;if(n!==null)return xd(t,n,e);Ot(),t=t.memoizedState,n=Ot();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function ki(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=tt.updateQueue,t===null&&(t=fl(),tt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function bd(){return Ot().memoizedState}function ml(e,t,n,a){var s=en();tt.flags|=e,s.memoizedState=ki(1|t,{destroy:void 0},n,a===void 0?null:a)}function gl(e,t,n,a){var s=Ot();a=a===void 0?null:a;var r=s.memoizedState.inst;vt!==null&&a!==null&&no(a,vt.memoizedState.deps)?s.memoizedState=ki(t,r,n,a):(tt.flags|=e,s.memoizedState=ki(1|t,r,n,a))}function wd(e,t){ml(8390656,8,e,t)}function ho(e,t){gl(2048,8,e,t)}function Qm(e){tt.flags|=4;var t=tt.updateQueue;if(t===null)t=fl(),tt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Sd(e){var t=Ot().memoizedState;return Qm({ref:t,nextImpl:e}),function(){if((mt&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function _d(e,t){return gl(4,2,e,t)}function jd(e,t){return gl(4,4,e,t)}function Nd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kd(e,t,n){n=n!=null?n.concat([e]):null,gl(4,4,Nd.bind(null,t,e),n)}function po(){}function Ed(e,t){var n=Ot();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&no(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Cd(e,t){var n=Ot();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&no(t,a[1]))return a[0];if(a=e(),Qa){Zt(!0);try{e()}finally{Zt(!1)}}return n.memoizedState=[a,t],a}function mo(e,t,n){return n===void 0||(ea&1073741824)!==0&&(lt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Tf(),tt.lanes|=e,_a|=e,n)}function zd(e,t,n,a){return fn(n,t)?n:_i.current!==null?(e=mo(e,n,a),fn(e,t)||(Ut=!0),e):(ea&42)===0||(ea&1073741824)!==0&&(lt&261930)===0?(Ut=!0,e.memoizedState=n):(e=Tf(),tt.lanes|=e,_a|=e,t)}function Td(e,t,n,a,s){var r=L.p;L.p=r!==0&&8>r?r:8;var y=q.T,T={};q.T=T,xo(e,!1,t,n);try{var Z=s(),ie=q.S;if(ie!==null&&ie(T,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var xe=Im(Z,a);os(e,t,xe,xn(e))}else os(e,t,a,xn(e))}catch(je){os(e,t,{then:function(){},status:"rejected",reason:je},xn())}finally{L.p=r,y!==null&&T.types!==null&&(y.types=T.types),q.T=y}}function Wm(){}function go(e,t,n,a){if(e.tag!==5)throw Error(c(476));var s=Ad(e).queue;Td(e,s,t,K,n===null?Wm:function(){return Dd(e),n(a)})}function Ad(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:K},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dd(e){var t=Ad(e);t.next===null&&(t=e.alternate.memoizedState),os(e,t.next.queue,{},xn())}function yo(){return Xt(Ns)}function Od(){return Ot().memoizedState}function Md(){return Ot().memoizedState}function $m(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xn();e=ya(n);var a=xa(t,e,n);a!==null&&(on(a,t,n),as(a,t,n)),t={cache:Gr()},e.payload=t;return}t=t.return}}function Jm(e,t,n){var a=xn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},yl(e)?Bd(t,n):(n=Mr(e,t,n,a),n!==null&&(on(n,e,a),Ud(n,t,a)))}function Rd(e,t,n){var a=xn();os(e,t,n,a)}function os(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(yl(e))Bd(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var y=t.lastRenderedState,T=r(y,n);if(s.hasEagerState=!0,s.eagerState=T,fn(T,y))return $s(e,t,s,0),_t===null&&Ws(),!1}catch{}if(n=Mr(e,t,s,a),n!==null)return on(n,e,a),Ud(n,t,a),!0}return!1}function xo(e,t,n,a){if(a={lane:2,revertLane:Wo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yl(e)){if(t)throw Error(c(479))}else t=Mr(e,n,a,2),t!==null&&on(t,e,2)}function yl(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function Bd(e,t){ji=ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ud(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,De(e,n)}}var cs={readContext:Xt,use:hl,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};cs.useEffectEvent=Tt;var Ld={readContext:Xt,use:hl,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:wd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ml(4194308,4,Nd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ml(4194308,4,e,t)},useInsertionEffect:function(e,t){ml(4,2,e,t)},useMemo:function(e,t){var n=en();t=t===void 0?null:t;var a=e();if(Qa){Zt(!0);try{e()}finally{Zt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=en();if(n!==void 0){var s=n(t);if(Qa){Zt(!0);try{n(t)}finally{Zt(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Jm.bind(null,tt,e),[a.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:function(e){e=uo(e);var t=e.queue,n=Rd.bind(null,tt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:po,useDeferredValue:function(e,t){var n=en();return mo(n,e,t)},useTransition:function(){var e=uo(!1);return e=Td.bind(null,tt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=tt,s=en();if(ot){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),_t===null)throw Error(c(349));(lt&127)!==0||sd(a,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,wd(rd.bind(null,a,r,e),[e]),a.flags|=2048,ki(9,{destroy:void 0},ld.bind(null,a,r,n,t),null),n},useId:function(){var e=en(),t=_t.identifierPrefix;if(ot){var n=qn,a=Vn;n=(a&~(1<<32-gt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=dl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Gm++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yo,useFormState:gd,useActionState:gd,useOptimistic:function(e){var t=en();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xo.bind(null,tt,!0,n),n.dispatch=t,[e,t]},useMemoCache:ro,useCacheRefresh:function(){return en().memoizedState=$m.bind(null,tt)},useEffectEvent:function(e){var t=en(),n={impl:e};return t.memoizedState=n,function(){if((mt&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:Xt,use:hl,useCallback:Ed,useContext:Xt,useEffect:ho,useImperativeHandle:kd,useInsertionEffect:_d,useLayoutEffect:jd,useMemo:Cd,useReducer:pl,useRef:bd,useState:function(){return pl(ta)},useDebugValue:po,useDeferredValue:function(e,t){var n=Ot();return zd(n,vt.memoizedState,e,t)},useTransition:function(){var e=pl(ta)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:rs(e),t]},useSyncExternalStore:id,useId:Od,useHostTransitionStatus:yo,useFormState:yd,useActionState:yd,useOptimistic:function(e,t){var n=Ot();return ud(n,vt,e,t)},useMemoCache:ro,useCacheRefresh:Md};vo.useEffectEvent=Sd;var Hd={readContext:Xt,use:hl,useCallback:Ed,useContext:Xt,useEffect:ho,useImperativeHandle:kd,useInsertionEffect:_d,useLayoutEffect:jd,useMemo:Cd,useReducer:co,useRef:bd,useState:function(){return co(ta)},useDebugValue:po,useDeferredValue:function(e,t){var n=Ot();return vt===null?mo(n,e,t):zd(n,vt.memoizedState,e,t)},useTransition:function(){var e=co(ta)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:rs(e),t]},useSyncExternalStore:id,useId:Od,useHostTransitionStatus:yo,useFormState:vd,useActionState:vd,useOptimistic:function(e,t){var n=Ot();return vt!==null?ud(n,vt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ro,useCacheRefresh:Md};Hd.useEffectEvent=Sd;function bo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wo={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=xn(),s=ya(a);s.payload=t,n!=null&&(s.callback=n),t=xa(e,s,a),t!==null&&(on(t,e,a),as(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=xn(),s=ya(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=xa(e,s,a),t!==null&&(on(t,e,a),as(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xn(),a=ya(n);a.tag=2,t!=null&&(a.callback=t),t=xa(e,a,n),t!==null&&(on(t,e,n),as(t,e,n))}};function Vd(e,t,n,a,s,r,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,y):t.prototype&&t.prototype.isPureReactComponent?!Qi(n,a)||!Qi(s,r):!0}function qd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function Wa(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function Yd(e){Qs(e)}function Zd(e){console.error(e)}function Id(e){Qs(e)}function xl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Gd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function So(e,t,n){return n=ya(n),n.tag=3,n.payload={element:null},n.callback=function(){xl(e,t)},n}function Xd(e){return e=ya(e),e.tag=3,e}function Fd(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=a.value;e.payload=function(){return s(r)},e.callback=function(){Gd(t,n,a)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Gd(t,n,a),typeof s!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})})}function Pm(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&xi(t,n,s,!0),n=pn.current,n!==null){switch(n.tag){case 31:case 13:return An===null?Tl():n.alternate===null&&At===0&&(At=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===sl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Fo(e,a,s)),!1;case 22:return n.flags|=65536,a===sl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Fo(e,a,s)),!1}throw Error(c(435,n.tag))}return Fo(e,a,s),Tl(),!1}if(ot)return t=pn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Vr&&(e=Error(c(422),{cause:a}),Ji(En(e,n)))):(a!==Vr&&(t=Error(c(423),{cause:a}),Ji(En(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=En(a,n),s=So(e.stateNode,a,s),$r(e,s),At!==4&&(At=2)),!1;var r=Error(c(520),{cause:a});if(r=En(r,n),ys===null?ys=[r]:ys.push(r),At!==4&&(At=2),t===null)return!0;a=En(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=So(n.stateNode,a,e),$r(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ja===null||!ja.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Xd(s),Fd(s,e,n,a),$r(n,s),!1}n=n.return}while(n!==null);return!1}var _o=Error(c(461)),Ut=!1;function Ft(e,t,n,a){t.child=e===null?$u(t,null,n,a):Ka(t,e.child,n,a)}function Kd(e,t,n,a,s){n=n.render;var r=t.ref;if("ref"in a){var y={};for(var T in a)T!=="ref"&&(y[T]=a[T])}else y=a;return Ia(t),a=ao(e,t,n,y,r,s),T=io(),e!==null&&!Ut?(so(e,t,s),na(e,t,s)):(ot&&T&&Lr(t),t.flags|=1,Ft(e,t,a,s),t.child)}function Qd(e,t,n,a,s){if(e===null){var r=n.type;return typeof r=="function"&&!Rr(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,Wd(e,t,r,a,s)):(e=Ps(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Ao(e,s)){var y=r.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(y,a)&&e.ref===t.ref)return na(e,t,s)}return t.flags|=1,e=Wn(r,a),e.ref=t.ref,e.return=t,t.child=e}function Wd(e,t,n,a,s){if(e!==null){var r=e.memoizedProps;if(Qi(r,a)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=a=r,Ao(e,s))(e.flags&131072)!==0&&(Ut=!0);else return t.lanes=e.lanes,na(e,t,s)}return jo(e,t,n,a,s)}function $d(e,t,n,a){var s=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~r}else a=0,t.child=null;return Jd(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&al(t,r!==null?r.cachePool:null),r!==null?ed(t,r):Pr(),td(t);else return a=t.lanes=536870912,Jd(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(al(t,r.cachePool),ed(t,r),ba(),t.memoizedState=null):(e!==null&&al(t,null),Pr(),ba());return Ft(e,t,s,n),t.child}function us(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jd(e,t,n,a,s){var r=Fr();return r=r===null?null:{parent:Rt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&al(t,null),Pr(),td(t),e!==null&&xi(e,t,a,!0),t.childLanes=s,null}function vl(e,t){return t=wl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pd(e,t,n){return Ka(t,e.child,null,n),e=vl(t,t.pendingProps),e.flags|=2,mn(t),t.memoizedState=null,e}function e0(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ot){if(a.mode==="hidden")return e=vl(t,a),t.lanes=536870912,us(null,e);if(to(t),(e=Nt)?(e=fh(e,Tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:fa!==null?{id:Vn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},n=Bu(e),n.return=t,t.child=n,Gt=t,Nt=null)):e=null,e===null)throw pa(t);return t.lanes=536870912,null}return vl(t,a)}var r=e.memoizedState;if(r!==null){var y=r.dehydrated;if(to(t),s)if(t.flags&256)t.flags&=-257,t=Pd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Ut||xi(e,t,n,!1),s=(n&e.childLanes)!==0,Ut||s){if(a=_t,a!==null&&(y=Ce(a,n),y!==0&&y!==r.retryLane))throw r.retryLane=y,Va(e,y),on(a,e,y),_o;Tl(),t=Pd(e,t,n)}else e=r.treeContext,Nt=Dn(y.nextSibling),Gt=t,ot=!0,ha=null,Tn=!1,e!==null&&Hu(t,e),t=vl(t,a),t.flags|=4096;return t}return e=Wn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function jo(e,t,n,a,s){return Ia(t),n=ao(e,t,n,a,void 0,s),a=io(),e!==null&&!Ut?(so(e,t,s),na(e,t,s)):(ot&&a&&Lr(t),t.flags|=1,Ft(e,t,n,s),t.child)}function ef(e,t,n,a,s,r){return Ia(t),t.updateQueue=null,n=ad(t,a,n,s),nd(e),a=io(),e!==null&&!Ut?(so(e,t,r),na(e,t,r)):(ot&&a&&Lr(t),t.flags|=1,Ft(e,t,n,r),t.child)}function tf(e,t,n,a,s){if(Ia(t),t.stateNode===null){var r=pi,y=n.contextType;typeof y=="object"&&y!==null&&(r=Xt(y)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=wo,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Qr(t),y=n.contextType,r.context=typeof y=="object"&&y!==null?Xt(y):pi,r.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(bo(t,n,y,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(y=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),y!==r.state&&wo.enqueueReplaceState(r,r.state,null),ss(t,a,r,s),is(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var T=t.memoizedProps,Z=Wa(n,T);r.props=Z;var ie=r.context,xe=n.contextType;y=pi,typeof xe=="object"&&xe!==null&&(y=Xt(xe));var je=n.getDerivedStateFromProps;xe=typeof je=="function"||typeof r.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,xe||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(T||ie!==y)&&qd(t,r,a,y),ga=!1;var re=t.memoizedState;r.state=re,ss(t,a,r,s),is(),ie=t.memoizedState,T||re!==ie||ga?(typeof je=="function"&&(bo(t,n,je,a),ie=t.memoizedState),(Z=ga||Vd(t,n,Z,a,re,ie,y))?(xe||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=ie),r.props=a,r.state=ie,r.context=y,a=Z):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Wr(e,t),y=t.memoizedProps,xe=Wa(n,y),r.props=xe,je=t.pendingProps,re=r.context,ie=n.contextType,Z=pi,typeof ie=="object"&&ie!==null&&(Z=Xt(ie)),T=n.getDerivedStateFromProps,(ie=typeof T=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(y!==je||re!==Z)&&qd(t,r,a,Z),ga=!1,re=t.memoizedState,r.state=re,ss(t,a,r,s),is();var he=t.memoizedState;y!==je||re!==he||ga||e!==null&&e.dependencies!==null&&tl(e.dependencies)?(typeof T=="function"&&(bo(t,n,T,a),he=t.memoizedState),(xe=ga||Vd(t,n,xe,a,re,he,Z)||e!==null&&e.dependencies!==null&&tl(e.dependencies))?(ie||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,he,Z),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,he,Z)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||y===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=he),r.props=a,r.state=he,r.context=Z,a=xe):(typeof r.componentDidUpdate!="function"||y===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,bl(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ka(t,e.child,null,s),t.child=Ka(t,null,n,s)):Ft(e,t,n,s),t.memoizedState=r.state,e=t.child):e=na(e,t,s),e}function nf(e,t,n,a){return Ya(),t.flags|=256,Ft(e,t,n,a),t.child}var No={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ko(e){return{baseLanes:e,cachePool:Gu()}}function Eo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=yn),e}function af(e,t,n){var a=t.pendingProps,s=!1,r=(t.flags&128)!==0,y;if((y=r)||(y=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),y&&(s=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(s?va(t):ba(),(e=Nt)?(e=fh(e,Tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:fa!==null?{id:Vn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},n=Bu(e),n.return=t,t.child=n,Gt=t,Nt=null)):e=null,e===null)throw pa(t);return cc(e)?t.lanes=32:t.lanes=536870912,null}var T=a.children;return a=a.fallback,s?(ba(),s=t.mode,T=wl({mode:"hidden",children:T},s),a=qa(a,s,n,null),T.return=t,a.return=t,T.sibling=a,t.child=T,a=t.child,a.memoizedState=ko(n),a.childLanes=Eo(e,y,n),t.memoizedState=No,us(null,a)):(va(t),Co(t,T))}var Z=e.memoizedState;if(Z!==null&&(T=Z.dehydrated,T!==null)){if(r)t.flags&256?(va(t),t.flags&=-257,t=zo(e,t,n)):t.memoizedState!==null?(ba(),t.child=e.child,t.flags|=128,t=null):(ba(),T=a.fallback,s=t.mode,a=wl({mode:"visible",children:a.children},s),T=qa(T,s,n,null),T.flags|=2,a.return=t,T.return=t,a.sibling=T,t.child=a,Ka(t,e.child,null,n),a=t.child,a.memoizedState=ko(n),a.childLanes=Eo(e,y,n),t.memoizedState=No,t=us(null,a));else if(va(t),cc(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var ie=y.dgst;y=ie,a=Error(c(419)),a.stack="",a.digest=y,Ji({value:a,source:null,stack:null}),t=zo(e,t,n)}else if(Ut||xi(e,t,n,!1),y=(n&e.childLanes)!==0,Ut||y){if(y=_t,y!==null&&(a=Ce(y,n),a!==0&&a!==Z.retryLane))throw Z.retryLane=a,Va(e,a),on(y,e,a),_o;oc(T)||Tl(),t=zo(e,t,n)}else oc(T)?(t.flags|=192,t.child=e.child,t=null):(e=Z.treeContext,Nt=Dn(T.nextSibling),Gt=t,ot=!0,ha=null,Tn=!1,e!==null&&Hu(t,e),t=Co(t,a.children),t.flags|=4096);return t}return s?(ba(),T=a.fallback,s=t.mode,Z=e.child,ie=Z.sibling,a=Wn(Z,{mode:"hidden",children:a.children}),a.subtreeFlags=Z.subtreeFlags&65011712,ie!==null?T=Wn(ie,T):(T=qa(T,s,n,null),T.flags|=2),T.return=t,a.return=t,a.sibling=T,t.child=a,us(null,a),a=t.child,T=e.child.memoizedState,T===null?T=ko(n):(s=T.cachePool,s!==null?(Z=Rt._currentValue,s=s.parent!==Z?{parent:Z,pool:Z}:s):s=Gu(),T={baseLanes:T.baseLanes|n,cachePool:s}),a.memoizedState=T,a.childLanes=Eo(e,y,n),t.memoizedState=No,us(e.child,a)):(va(t),n=e.child,e=n.sibling,n=Wn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function Co(e,t){return t=wl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wl(e,t){return e=hn(22,e,null,t),e.lanes=0,e}function zo(e,t,n){return Ka(t,e.child,null,n),e=Co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sf(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Zr(e.return,t,n)}function To(e,t,n,a,s,r){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:r}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=a,y.tail=n,y.tailMode=s,y.treeForkCount=r)}function lf(e,t,n){var a=t.pendingProps,s=a.revealOrder,r=a.tail;a=a.children;var y=Dt.current,T=(y&2)!==0;if(T?(y=y&1|2,t.flags|=128):y&=1,de(Dt,y),Ft(e,t,a,n),a=ot?$i:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,n,t);else if(e.tag===19)sf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&cl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),To(t,!1,s,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&cl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}To(t,!0,n,null,r,a);break;case"together":To(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function na(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_a|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(xi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=Wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ao(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&tl(e)))}function t0(e,t,n){switch(t.tag){case 3:ee(t,t.stateNode.containerInfo),ma(t,Rt,e.memoizedState.cache),Ya();break;case 27:case 5:Ze(t);break;case 4:ee(t,t.stateNode.containerInfo);break;case 10:ma(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,to(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(va(t),t.flags|=128,null):(n&t.child.childLanes)!==0?af(e,t,n):(va(t),e=na(e,t,n),e!==null?e.sibling:null);va(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(xi(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return lf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(Dt,Dt.current),a)break;return null;case 22:return t.lanes=0,$d(e,t,n,t.pendingProps);case 24:ma(t,Rt,e.memoizedState.cache)}return na(e,t,n)}function rf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ut=!0;else{if(!Ao(e,n)&&(t.flags&128)===0)return Ut=!1,t0(e,t,n);Ut=(e.flags&131072)!==0}else Ut=!1,ot&&(t.flags&1048576)!==0&&Lu(t,$i,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Xa(t.elementType),t.type=e,typeof e=="function")Rr(e)?(a=Wa(e,a),t.tag=1,t=tf(null,t,e,a,n)):(t.tag=0,t=jo(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===B){t.tag=11,t=Kd(null,t,e,a,n);break e}else if(s===Y){t.tag=14,t=Qd(null,t,e,a,n);break e}}throw t=g(e)||e,Error(c(306,t,""))}}return t;case 0:return jo(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=Wa(a,t.pendingProps),tf(e,t,a,s,n);case 3:e:{if(ee(t,t.stateNode.containerInfo),e===null)throw Error(c(387));a=t.pendingProps;var r=t.memoizedState;s=r.element,Wr(e,t),ss(t,a,null,n);var y=t.memoizedState;if(a=y.cache,ma(t,Rt,a),a!==r.cache&&Ir(t,[Rt],n,!0),is(),a=y.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=nf(e,t,a,n);break e}else if(a!==s){s=En(Error(c(424)),t),Ji(s),t=nf(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Nt=Dn(e.firstChild),Gt=t,ot=!0,ha=null,Tn=!0,n=$u(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ya(),a===s){t=na(e,t,n);break e}Ft(e,t,a,n)}t=t.child}return t;case 26:return bl(e,t),e===null?(n=xh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ot||(n=t.type,e=t.pendingProps,a=Ul(Oe.current).createElement(n),a[Xe]=t,a[ut]=e,Kt(a,n,e),qt(a),t.stateNode=a):t.memoizedState=xh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ze(t),e===null&&ot&&(a=t.stateNode=mh(t.type,t.pendingProps,Oe.current),Gt=t,Tn=!0,s=Nt,Ca(t.type)?(uc=s,Nt=Dn(a.firstChild)):Nt=s),Ft(e,t,t.pendingProps.children,n),bl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((s=a=Nt)&&(a=A0(a,t.type,t.pendingProps,Tn),a!==null?(t.stateNode=a,Gt=t,Nt=Dn(a.firstChild),Tn=!1,s=!0):s=!1),s||pa(t)),Ze(t),s=t.type,r=t.pendingProps,y=e!==null?e.memoizedProps:null,a=r.children,sc(s,r)?a=null:y!==null&&sc(s,y)&&(t.flags|=32),t.memoizedState!==null&&(s=ao(e,t,Xm,null,null,n),Ns._currentValue=s),bl(e,t),Ft(e,t,a,n),t.child;case 6:return e===null&&ot&&((e=n=Nt)&&(n=D0(n,t.pendingProps,Tn),n!==null?(t.stateNode=n,Gt=t,Nt=null,e=!0):e=!1),e||pa(t)),null;case 13:return af(e,t,n);case 4:return ee(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ka(t,null,a,n):Ft(e,t,a,n),t.child;case 11:return Kd(e,t,t.type,t.pendingProps,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ma(t,t.type,a.value),Ft(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Ia(t),s=Xt(s),a=a(s),t.flags|=1,Ft(e,t,a,n),t.child;case 14:return Qd(e,t,t.type,t.pendingProps,n);case 15:return Wd(e,t,t.type,t.pendingProps,n);case 19:return lf(e,t,n);case 31:return e0(e,t,n);case 22:return $d(e,t,n,t.pendingProps);case 24:return Ia(t),a=Xt(Rt),e===null?(s=Fr(),s===null&&(s=_t,r=Gr(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:a,cache:s},Qr(t),ma(t,Rt,s)):((e.lanes&n)!==0&&(Wr(e,t),ss(t,null,null,n),is()),s=e.memoizedState,r=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ma(t,Rt,a)):(a=r.cache,ma(t,Rt,a),a!==s.cache&&Ir(t,[Rt],n,!0))),Ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function aa(e){e.flags|=4}function Do(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Mf())e.flags|=8192;else throw Fa=sl,Kr}else e.flags&=-16777217}function of(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_h(t))if(Mf())e.flags|=8192;else throw Fa=sl,Kr}function Sl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ge():536870912,e.lanes|=t,Ti|=t)}function ds(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function n0(e,t,n){var a=t.pendingProps;switch(Hr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return kt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pn(Rt),Ne(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yi(t)?aa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qr())),kt(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(aa(t),r!==null?(kt(t),of(t,r)):(kt(t),Do(t,s,null,a,n))):r?r!==e.memoizedState?(aa(t),kt(t),of(t,r)):(kt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&aa(t),kt(t),Do(t,s,e,a,n)),null;case 27:if(Ke(t),n=Oe.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&aa(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return kt(t),null}e=se.current,yi(t)?Vu(t):(e=mh(s,a,n),t.stateNode=e,aa(t))}return kt(t),null;case 5:if(Ke(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&aa(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return kt(t),null}if(r=se.current,yi(t))Vu(t);else{var y=Ul(Oe.current);switch(r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?y.createElement("select",{is:a.is}):y.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?y.createElement(s,{is:a.is}):y.createElement(s)}}r[Xe]=t,r[ut]=a;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=r;e:switch(Kt(r,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&aa(t)}}return kt(t),Do(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&aa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(e=Oe.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=Gt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Xe]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||ih(e.nodeValue,n)),e||pa(t,!0)}else e=Ul(e).createTextNode(a),e[Xe]=t,t.stateNode=e}return kt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=yi(t),n!==null){if(e===null){if(!a)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Xe]=t}else Ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),e=!1}else n=qr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(mn(t),t):(mn(t),null);if((t.flags&128)!==0)throw Error(c(558))}return kt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=yi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(c(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));s[Xe]=t}else Ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),s=!1}else s=qr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(mn(t),t):(mn(t),null)}return mn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Sl(t,t.updateQueue),kt(t),null);case 4:return Ne(),e===null&&ec(t.stateNode.containerInfo),kt(t),null;case 10:return Pn(t.type),kt(t),null;case 19:if(M(Dt),a=t.memoizedState,a===null)return kt(t),null;if(s=(t.flags&128)!==0,r=a.rendering,r===null)if(s)ds(a,!1);else{if(At!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=cl(e),r!==null){for(t.flags|=128,ds(a,!1),e=r.updateQueue,t.updateQueue=e,Sl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ru(n,e),n=n.sibling;return de(Dt,Dt.current&1|2),ot&&$n(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ee()>El&&(t.flags|=128,s=!0,ds(a,!1),t.lanes=4194304)}else{if(!s)if(e=cl(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Sl(t,e),ds(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!ot)return kt(t),null}else 2*Ee()-a.renderingStartTime>El&&n!==536870912&&(t.flags|=128,s=!0,ds(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ee(),e.sibling=null,n=Dt.current,de(Dt,s?n&1|2:n&1),ot&&$n(t,a.treeForkCount),e):(kt(t),null);case 22:case 23:return mn(t),eo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),n=t.updateQueue,n!==null&&Sl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&M(Ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pn(Rt),kt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function a0(e,t){switch(Hr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(Rt),Ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ke(t),null;case 31:if(t.memoizedState!==null){if(mn(t),t.alternate===null)throw Error(c(340));Ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Dt),null;case 4:return Ne(),null;case 10:return Pn(t.type),null;case 22:case 23:return mn(t),eo(),e!==null&&M(Ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pn(Rt),null;case 25:return null;default:return null}}function cf(e,t){switch(Hr(t),t.tag){case 3:Pn(Rt),Ne();break;case 26:case 27:case 5:Ke(t);break;case 4:Ne();break;case 31:t.memoizedState!==null&&mn(t);break;case 13:mn(t);break;case 19:M(Dt);break;case 10:Pn(t.type);break;case 22:case 23:mn(t),eo(),e!==null&&M(Ga);break;case 24:Pn(Rt)}}function fs(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var r=n.create,y=n.inst;a=r(),y.destroy=a}n=n.next}while(n!==s)}}catch(T){xt(t,t.return,T)}}function wa(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var r=s.next;a=r;do{if((a.tag&e)===e){var y=a.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,s=t;var Z=n,ie=T;try{ie()}catch(xe){xt(s,Z,xe)}}}a=a.next}while(a!==r)}}catch(xe){xt(t,t.return,xe)}}function uf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Pu(t,n)}catch(a){xt(e,e.return,a)}}}function df(e,t,n){n.props=Wa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){xt(e,t,a)}}function hs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){xt(e,t,s)}}function Yn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){xt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){xt(e,t,s)}else n.current=null}function ff(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){xt(e,e.return,s)}}function Oo(e,t,n){try{var a=e.stateNode;N0(a,e.type,n,t),a[ut]=t}catch(s){xt(e,e.return,s)}}function hf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ca(e.type)||e.tag===4}function Mo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ro(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kn));else if(a!==4&&(a===27&&Ca(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ro(e,t,n),e=e.sibling;e!==null;)Ro(e,t,n),e=e.sibling}function _l(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Ca(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(_l(e,t,n),e=e.sibling;e!==null;)_l(e,t,n),e=e.sibling}function pf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Kt(t,a,n),t[Xe]=e,t[ut]=n}catch(r){xt(e,e.return,r)}}var ia=!1,Lt=!1,Bo=!1,mf=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function i0(e,t){if(e=e.containerInfo,ac=Il,e=ku(e),Cr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var y=0,T=-1,Z=-1,ie=0,xe=0,je=e,re=null;t:for(;;){for(var he;je!==n||s!==0&&je.nodeType!==3||(T=y+s),je!==r||a!==0&&je.nodeType!==3||(Z=y+a),je.nodeType===3&&(y+=je.nodeValue.length),(he=je.firstChild)!==null;)re=je,je=he;for(;;){if(je===e)break t;if(re===n&&++ie===s&&(T=y),re===r&&++xe===a&&(Z=y),(he=je.nextSibling)!==null)break;je=re,re=je.parentNode}je=he}n=T===-1||Z===-1?null:{start:T,end:Z}}else n=null}n=n||{start:0,end:0}}else n=null;for(ic={focusedElem:e,selectionRange:n},Il=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){switch(t=Yt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var Ve=Wa(n.type,s);e=a.getSnapshotBeforeUpdate(Ve,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Qe){xt(n,n.return,Qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}}function gf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:la(e,n),a&4&&fs(5,n);break;case 1:if(la(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){xt(n,n.return,y)}else{var s=Wa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){xt(n,n.return,y)}}a&64&&uf(n),a&512&&hs(n,n.return);break;case 3:if(la(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Pu(e,t)}catch(y){xt(n,n.return,y)}}break;case 27:t===null&&a&4&&pf(n);case 26:case 5:la(e,n),t===null&&a&4&&ff(n),a&512&&hs(n,n.return);break;case 12:la(e,n);break;case 31:la(e,n),a&4&&vf(e,n);break;case 13:la(e,n),a&4&&bf(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=h0.bind(null,n),O0(e,n))));break;case 22:if(a=n.memoizedState!==null||ia,!a){t=t!==null&&t.memoizedState!==null||Lt,s=ia;var r=Lt;ia=a,(Lt=t)&&!r?ra(e,n,(n.subtreeFlags&8772)!==0):la(e,n),ia=s,Lt=r}break;case 30:break;default:la(e,n)}}function yf(e){var t=e.alternate;t!==null&&(e.alternate=null,yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&pt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,an=!1;function sa(e,t,n){for(n=n.child;n!==null;)xf(e,t,n),n=n.sibling}function xf(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ht,n)}catch{}switch(n.tag){case 26:Lt||Yn(n,t),sa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Lt||Yn(n,t);var a=Et,s=an;Ca(n.type)&&(Et=n.stateNode,an=!1),sa(e,t,n),Ss(n.stateNode),Et=a,an=s;break;case 5:Lt||Yn(n,t);case 6:if(a=Et,s=an,Et=null,sa(e,t,n),Et=a,an=s,Et!==null)if(an)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(r){xt(n,t,r)}else try{Et.removeChild(n.stateNode)}catch(r){xt(n,t,r)}break;case 18:Et!==null&&(an?(e=Et,uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Li(e)):uh(Et,n.stateNode));break;case 4:a=Et,s=an,Et=n.stateNode.containerInfo,an=!0,sa(e,t,n),Et=a,an=s;break;case 0:case 11:case 14:case 15:wa(2,n,t),Lt||wa(4,n,t),sa(e,t,n);break;case 1:Lt||(Yn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&df(n,t,a)),sa(e,t,n);break;case 21:sa(e,t,n);break;case 22:Lt=(a=Lt)||n.memoizedState!==null,sa(e,t,n),Lt=a;break;default:sa(e,t,n)}}function vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Li(e)}catch(n){xt(t,t.return,n)}}}function bf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Li(e)}catch(n){xt(t,t.return,n)}}function s0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new mf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new mf),t;default:throw Error(c(435,e.tag))}}function jl(e,t){var n=s0(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=p0.bind(null,e,a);a.then(s,s)}})}function sn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],r=e,y=t,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Ca(T.type)){Et=T.stateNode,an=!1;break e}break;case 5:Et=T.stateNode,an=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(Et===null)throw Error(c(160));xf(r,y,s),Et=null,an=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)wf(t,e),t=t.sibling}var Bn=null;function wf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(t,e),ln(e),a&4&&(wa(3,e,e.return),fs(3,e),wa(5,e,e.return));break;case 1:sn(t,e),ln(e),a&512&&(Lt||n===null||Yn(n,n.return)),a&64&&ia&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=Bn;if(sn(t,e),ln(e),a&512&&(Lt||n===null||Yn(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Ie]||r[Xe]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(a),s.head.insertBefore(r,s.querySelector("head > title"))),Kt(r,a,n),r[Xe]=e,qt(r),a=r;break e;case"link":var y=wh("link","href",s).get(a+(n.href||""));if(y){for(var T=0;T<y.length;T++)if(r=y[T],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(T,1);break t}}r=s.createElement(a),Kt(r,a,n),s.head.appendChild(r);break;case"meta":if(y=wh("meta","content",s).get(a+(n.content||""))){for(T=0;T<y.length;T++)if(r=y[T],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(T,1);break t}}r=s.createElement(a),Kt(r,a,n),s.head.appendChild(r);break;default:throw Error(c(468,a))}r[Xe]=e,qt(r),a=r}e.stateNode=a}else Sh(s,e.type,e.stateNode);else e.stateNode=bh(s,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?Sh(s,e.type,e.stateNode):bh(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Oo(e,e.memoizedProps,n.memoizedProps)}break;case 27:sn(t,e),ln(e),a&512&&(Lt||n===null||Yn(n,n.return)),n!==null&&a&4&&Oo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sn(t,e),ln(e),a&512&&(Lt||n===null||Yn(n,n.return)),e.flags&32){s=e.stateNode;try{ri(s,"")}catch(Ve){xt(e,e.return,Ve)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Oo(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Bo=!0);break;case 6:if(sn(t,e),ln(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Ve){xt(e,e.return,Ve)}}break;case 3:if(Vl=null,s=Bn,Bn=Ll(t.containerInfo),sn(t,e),Bn=s,ln(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(Ve){xt(e,e.return,Ve)}Bo&&(Bo=!1,Sf(e));break;case 4:a=Bn,Bn=Ll(e.stateNode.containerInfo),sn(t,e),ln(e),Bn=a;break;case 12:sn(t,e),ln(e);break;case 31:sn(t,e),ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 13:sn(t,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(kl=Ee()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 22:s=e.memoizedState!==null;var Z=n!==null&&n.memoizedState!==null,ie=ia,xe=Lt;if(ia=ie||s,Lt=xe||Z,sn(t,e),Lt=xe,ia=ie,ln(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||Z||ia||Lt||$a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){Z=n=t;try{if(r=Z.stateNode,s)y=r.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=Z.stateNode;var je=Z.memoizedProps.style,re=je!=null&&je.hasOwnProperty("display")?je.display:null;T.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ve){xt(Z,Z.return,Ve)}}}else if(t.tag===6){if(n===null){Z=t;try{Z.stateNode.nodeValue=s?"":Z.memoizedProps}catch(Ve){xt(Z,Z.return,Ve)}}}else if(t.tag===18){if(n===null){Z=t;try{var he=Z.stateNode;s?dh(he,!0):dh(Z.stateNode,!1)}catch(Ve){xt(Z,Z.return,Ve)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,jl(e,n))));break;case 19:sn(t,e),ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 30:break;case 21:break;default:sn(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(hf(a)){n=a;break}a=a.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var s=n.stateNode,r=Mo(e);_l(e,r,s);break;case 5:var y=n.stateNode;n.flags&32&&(ri(y,""),n.flags&=-33);var T=Mo(e);_l(e,T,y);break;case 3:case 4:var Z=n.stateNode.containerInfo,ie=Mo(e);Ro(e,ie,Z);break;default:throw Error(c(161))}}catch(xe){xt(e,e.return,xe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function la(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gf(e,t.alternate,t),t=t.sibling}function $a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),$a(t);break;case 1:Yn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&df(t,t.return,n),$a(t);break;case 27:Ss(t.stateNode);case 26:case 5:Yn(t,t.return),$a(t);break;case 22:t.memoizedState===null&&$a(t);break;case 30:$a(t);break;default:$a(t)}e=e.sibling}}function ra(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,r=t,y=r.flags;switch(r.tag){case 0:case 11:case 15:ra(s,r,n),fs(4,r);break;case 1:if(ra(s,r,n),a=r,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(ie){xt(a,a.return,ie)}if(a=r,s=a.updateQueue,s!==null){var T=a.stateNode;try{var Z=s.shared.hiddenCallbacks;if(Z!==null)for(s.shared.hiddenCallbacks=null,s=0;s<Z.length;s++)Ju(Z[s],T)}catch(ie){xt(a,a.return,ie)}}n&&y&64&&uf(r),hs(r,r.return);break;case 27:pf(r);case 26:case 5:ra(s,r,n),n&&a===null&&y&4&&ff(r),hs(r,r.return);break;case 12:ra(s,r,n);break;case 31:ra(s,r,n),n&&y&4&&vf(s,r);break;case 13:ra(s,r,n),n&&y&4&&bf(s,r);break;case 22:r.memoizedState===null&&ra(s,r,n),hs(r,r.return);break;case 30:break;default:ra(s,r,n)}t=t.sibling}}function Uo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Pi(n))}function Lo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pi(e))}function Un(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_f(e,t,n,a),t=t.sibling}function _f(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,a),s&2048&&fs(9,t);break;case 1:Un(e,t,n,a);break;case 3:Un(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pi(e)));break;case 12:if(s&2048){Un(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,y=r.id,T=r.onPostCommit;typeof T=="function"&&T(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Z){xt(t,t.return,Z)}}else Un(e,t,n,a);break;case 31:Un(e,t,n,a);break;case 13:Un(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,y=t.alternate,t.memoizedState!==null?r._visibility&2?Un(e,t,n,a):ps(e,t):r._visibility&2?Un(e,t,n,a):(r._visibility|=2,Ei(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Uo(y,t);break;case 24:Un(e,t,n,a),s&2048&&Lo(t.alternate,t);break;default:Un(e,t,n,a)}}function Ei(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,y=t,T=n,Z=a,ie=y.flags;switch(y.tag){case 0:case 11:case 15:Ei(r,y,T,Z,s),fs(8,y);break;case 23:break;case 22:var xe=y.stateNode;y.memoizedState!==null?xe._visibility&2?Ei(r,y,T,Z,s):ps(r,y):(xe._visibility|=2,Ei(r,y,T,Z,s)),s&&ie&2048&&Uo(y.alternate,y);break;case 24:Ei(r,y,T,Z,s),s&&ie&2048&&Lo(y.alternate,y);break;default:Ei(r,y,T,Z,s)}t=t.sibling}}function ps(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:ps(n,a),s&2048&&Uo(a.alternate,a);break;case 24:ps(n,a),s&2048&&Lo(a.alternate,a);break;default:ps(n,a)}t=t.sibling}}var ms=8192;function Ci(e,t,n){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)jf(e,t,n),e=e.sibling}function jf(e,t,n){switch(e.tag){case 26:Ci(e,t,n),e.flags&ms&&e.memoizedState!==null&&G0(n,Bn,e.memoizedState,e.memoizedProps);break;case 5:Ci(e,t,n);break;case 3:case 4:var a=Bn;Bn=Ll(e.stateNode.containerInfo),Ci(e,t,n),Bn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ms,ms=16777216,Ci(e,t,n),ms=a):Ci(e,t,n));break;default:Ci(e,t,n)}}function Nf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Yt=a,Ef(a,e)}Nf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kf(e),e=e.sibling}function kf(e){switch(e.tag){case 0:case 11:case 15:gs(e),e.flags&2048&&wa(9,e,e.return);break;case 3:gs(e);break;case 12:gs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Nl(e)):gs(e);break;default:gs(e)}}function Nl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Yt=a,Ef(a,e)}Nf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),Nl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Nl(t));break;default:Nl(t)}e=e.sibling}}function Ef(e,t){for(;Yt!==null;){var n=Yt;switch(n.tag){case 0:case 11:case 15:wa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Pi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Yt=a;else e:for(n=e;Yt!==null;){a=Yt;var s=a.sibling,r=a.return;if(yf(a),a===n){Yt=null;break e}if(s!==null){s.return=r,Yt=s;break e}Yt=r}}}var l0={getCacheForType:function(e){var t=Xt(Rt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Xt(Rt).controller.signal}},r0=typeof WeakMap=="function"?WeakMap:Map,mt=0,_t=null,at=null,lt=0,yt=0,gn=null,Sa=!1,zi=!1,Ho=!1,oa=0,At=0,_a=0,Ja=0,Vo=0,yn=0,Ti=0,ys=null,rn=null,qo=!1,kl=0,Cf=0,El=1/0,Cl=null,ja=null,Ht=0,Na=null,Ai=null,ca=0,Yo=0,Zo=null,zf=null,xs=0,Io=null;function xn(){return(mt&2)!==0&&lt!==0?lt&-lt:q.T!==null?Wo():Ue()}function Tf(){if(yn===0)if((lt&536870912)===0||ot){var e=wn;wn<<=1,(wn&3932160)===0&&(wn=262144),yn=e}else yn=536870912;return e=pn.current,e!==null&&(e.flags|=32),yn}function on(e,t,n){(e===_t&&(yt===2||yt===9)||e.cancelPendingCommit!==null)&&(Di(e,0),ka(e,lt,yn,!1)),fe(e,n),((mt&2)===0||e!==_t)&&(e===_t&&((mt&2)===0&&(Ja|=n),At===4&&ka(e,lt,yn,!1)),Zn(e))}function Af(e,t,n){if((mt&6)!==0)throw Error(c(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Sn(e,t),s=a?u0(e,t):Xo(e,t,!0),r=a;do{if(s===0){zi&&!a&&ka(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!o0(n)){s=Xo(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var T=e;s=ys;var Z=T.current.memoizedState.isDehydrated;if(Z&&(Di(T,y).flags|=256),y=Xo(T,y,!1),y!==2){if(Ho&&!Z){T.errorRecoveryDisabledLanes|=r,Ja|=r,s=4;break e}r=rn,rn=s,r!==null&&(rn===null?rn=r:rn.push.apply(rn,r))}s=y}if(r=!1,s!==2)continue}}if(s===1){Di(e,0),ka(e,t,0,!0);break}e:{switch(a=e,r=s,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:ka(a,t,yn,!Sa);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(s=kl+300-Ee(),10<s)){if(ka(a,t,yn,!Sa),Gn(a,0,!0)!==0)break e;ca=t,a.timeoutHandle=oh(Df.bind(null,a,n,rn,Cl,qo,t,yn,Ja,Ti,Sa,r,"Throttled",-0,0),s);break e}Df(a,n,rn,Cl,qo,t,yn,Ja,Ti,Sa,r,null,-0,0)}}break}while(!0);Zn(e)}function Df(e,t,n,a,s,r,y,T,Z,ie,xe,je,re,he){if(e.timeoutHandle=-1,je=t.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},jf(t,r,je);var Ve=(r&62914560)===r?kl-Ee():(r&4194048)===r?Cf-Ee():0;if(Ve=X0(je,Ve),Ve!==null){ca=r,e.cancelPendingCommit=Ve(Vf.bind(null,e,t,r,n,a,s,y,T,Z,xe,je,null,re,he)),ka(e,r,y,!ie);return}}Vf(e,t,r,n,a,s,y,T,Z)}function o0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],r=s.getSnapshot;s=s.value;try{if(!fn(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ka(e,t,n,a){t&=~Vo,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var r=31-gt(s),y=1<<r;a[r]=-1,s&=~y}n!==0&&ke(e,n,t)}function zl(){return(mt&6)===0?(vs(0),!1):!0}function Go(){if(at!==null){if(yt===0)var e=at.return;else e=at,Jn=Za=null,lo(e),Si=null,ts=0,e=at;for(;e!==null;)cf(e.alternate,e),e=e.return;at=null}}function Di(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,C0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ca=0,Go(),_t=e,at=n=Wn(e.current,null),lt=t,yt=0,gn=null,Sa=!1,zi=Sn(e,t),Ho=!1,Ti=yn=Vo=Ja=_a=At=0,rn=ys=null,qo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-gt(a),r=1<<s;t|=e[s],a&=~r}return oa=t,Ws(),n}function Of(e,t){tt=null,q.H=cs,t===wi||t===il?(t=Ku(),yt=3):t===Kr?(t=Ku(),yt=4):yt=t===_o?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gn=t,at===null&&(At=1,xl(e,En(t,e.current)))}function Mf(){var e=pn.current;return e===null?!0:(lt&4194048)===lt?An===null:(lt&62914560)===lt||(lt&536870912)!==0?e===An:!1}function Rf(){var e=q.H;return q.H=cs,e===null?cs:e}function Bf(){var e=q.A;return q.A=l0,e}function Tl(){At=4,Sa||(lt&4194048)!==lt&&pn.current!==null||(zi=!0),(_a&134217727)===0&&(Ja&134217727)===0||_t===null||ka(_t,lt,yn,!1)}function Xo(e,t,n){var a=mt;mt|=2;var s=Rf(),r=Bf();(_t!==e||lt!==t)&&(Cl=null,Di(e,t)),t=!1;var y=At;e:do try{if(yt!==0&&at!==null){var T=at,Z=gn;switch(yt){case 8:Go(),y=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(t=!0);var ie=yt;if(yt=0,gn=null,Oi(e,T,Z,ie),n&&zi){y=0;break e}break;default:ie=yt,yt=0,gn=null,Oi(e,T,Z,ie)}}c0(),y=At;break}catch(xe){Of(e,xe)}while(!0);return t&&e.shellSuspendCounter++,Jn=Za=null,mt=a,q.H=s,q.A=r,at===null&&(_t=null,lt=0,Ws()),y}function c0(){for(;at!==null;)Uf(at)}function u0(e,t){var n=mt;mt|=2;var a=Rf(),s=Bf();_t!==e||lt!==t?(Cl=null,El=Ee()+500,Di(e,t)):zi=Sn(e,t);e:do try{if(yt!==0&&at!==null){t=at;var r=gn;t:switch(yt){case 1:yt=0,gn=null,Oi(e,t,r,1);break;case 2:case 9:if(Xu(r)){yt=0,gn=null,Lf(t);break}t=function(){yt!==2&&yt!==9||_t!==e||(yt=7),Zn(e)},r.then(t,t);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:Xu(r)?(yt=0,gn=null,Lf(t)):(yt=0,gn=null,Oi(e,t,r,7));break;case 5:var y=null;switch(at.tag){case 26:y=at.memoizedState;case 5:case 27:var T=at;if(y?_h(y):T.stateNode.complete){yt=0,gn=null;var Z=T.sibling;if(Z!==null)at=Z;else{var ie=T.return;ie!==null?(at=ie,Al(ie)):at=null}break t}}yt=0,gn=null,Oi(e,t,r,5);break;case 6:yt=0,gn=null,Oi(e,t,r,6);break;case 8:Go(),At=6;break e;default:throw Error(c(462))}}d0();break}catch(xe){Of(e,xe)}while(!0);return Jn=Za=null,q.H=a,q.A=s,mt=n,at!==null?0:(_t=null,lt=0,Ws(),At)}function d0(){for(;at!==null&&!J();)Uf(at)}function Uf(e){var t=rf(e.alternate,e,oa);e.memoizedProps=e.pendingProps,t===null?Al(e):at=t}function Lf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ef(n,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=ef(n,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:lo(t);default:cf(n,t),t=at=Ru(t,oa),t=rf(n,t,oa)}e.memoizedProps=e.pendingProps,t===null?Al(e):at=t}function Oi(e,t,n,a){Jn=Za=null,lo(t),Si=null,ts=0;var s=t.return;try{if(Pm(e,s,t,n,lt)){At=1,xl(e,En(n,e.current)),at=null;return}}catch(r){if(s!==null)throw at=s,r;At=1,xl(e,En(n,e.current)),at=null;return}t.flags&32768?(ot||a===1?e=!0:zi||(lt&536870912)!==0?e=!1:(Sa=e=!0,(a===2||a===9||a===3||a===6)&&(a=pn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Hf(t,e)):Al(t)}function Al(e){var t=e;do{if((t.flags&32768)!==0){Hf(t,Sa);return}e=t.return;var n=n0(t.alternate,t,oa);if(n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);At===0&&(At=5)}function Hf(e,t){do{var n=a0(e.alternate,e);if(n!==null){n.flags&=32767,at=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){at=e;return}at=e=n}while(e!==null);At=6,at=null}function Vf(e,t,n,a,s,r,y,T,Z){e.cancelPendingCommit=null;do Dl();while(Ht!==0);if((mt&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=Or,Se(e,n,r,y,T,Z),e===_t&&(at=_t=null,lt=0),Ai=t,Na=e,ca=n,Yo=r,Zo=s,zf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,m0(Pe,function(){return Gf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=q.T,q.T=null,s=L.p,L.p=2,y=mt,mt|=4;try{i0(e,t,n)}finally{mt=y,L.p=s,q.T=a}}Ht=1,qf(),Yf(),Zf()}}function qf(){if(Ht===1){Ht=0;var e=Na,t=Ai,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=q.T,q.T=null;var a=L.p;L.p=2;var s=mt;mt|=4;try{wf(t,e);var r=ic,y=ku(e.containerInfo),T=r.focusedElem,Z=r.selectionRange;if(y!==T&&T&&T.ownerDocument&&Nu(T.ownerDocument.documentElement,T)){if(Z!==null&&Cr(T)){var ie=Z.start,xe=Z.end;if(xe===void 0&&(xe=ie),"selectionStart"in T)T.selectionStart=ie,T.selectionEnd=Math.min(xe,T.value.length);else{var je=T.ownerDocument||document,re=je&&je.defaultView||window;if(re.getSelection){var he=re.getSelection(),Ve=T.textContent.length,Qe=Math.min(Z.start,Ve),wt=Z.end===void 0?Qe:Math.min(Z.end,Ve);!he.extend&&Qe>wt&&(y=wt,wt=Qe,Qe=y);var P=ju(T,Qe),F=ju(T,wt);if(P&&F&&(he.rangeCount!==1||he.anchorNode!==P.node||he.anchorOffset!==P.offset||he.focusNode!==F.node||he.focusOffset!==F.offset)){var ae=je.createRange();ae.setStart(P.node,P.offset),he.removeAllRanges(),Qe>wt?(he.addRange(ae),he.extend(F.node,F.offset)):(ae.setEnd(F.node,F.offset),he.addRange(ae))}}}}for(je=[],he=T;he=he.parentNode;)he.nodeType===1&&je.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<je.length;T++){var _e=je[T];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Il=!!ac,ic=ac=null}finally{mt=s,L.p=a,q.T=n}}e.current=t,Ht=2}}function Yf(){if(Ht===2){Ht=0;var e=Na,t=Ai,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=q.T,q.T=null;var a=L.p;L.p=2;var s=mt;mt|=4;try{gf(e,t.alternate,t)}finally{mt=s,L.p=a,q.T=n}}Ht=3}}function Zf(){if(Ht===4||Ht===3){Ht=0,Te();var e=Na,t=Ai,n=ca,a=zf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ht=5:(Ht=0,Ai=Na=null,If(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ja=null),ze(n),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ht,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=q.T,s=L.p,L.p=2,q.T=null;try{for(var r=e.onRecoverableError,y=0;y<a.length;y++){var T=a[y];r(T.value,{componentStack:T.stack})}}finally{q.T=t,L.p=s}}(ca&3)!==0&&Dl(),Zn(e),s=e.pendingLanes,(n&261930)!==0&&(s&42)!==0?e===Io?xs++:(xs=0,Io=e):xs=0,vs(0)}}function If(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Pi(t)))}function Dl(){return qf(),Yf(),Zf(),Gf()}function Gf(){if(Ht!==5)return!1;var e=Na,t=Yo;Yo=0;var n=ze(ca),a=q.T,s=L.p;try{L.p=32>n?32:n,q.T=null,n=Zo,Zo=null;var r=Na,y=ca;if(Ht=0,Ai=Na=null,ca=0,(mt&6)!==0)throw Error(c(331));var T=mt;if(mt|=4,kf(r.current),_f(r,r.current,y,n),mt=T,vs(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ht,r)}catch{}return!0}finally{L.p=s,q.T=a,If(e,t)}}function Xf(e,t,n){t=En(n,t),t=So(e.stateNode,t,2),e=xa(e,t,2),e!==null&&(fe(e,2),Zn(e))}function xt(e,t,n){if(e.tag===3)Xf(e,e,n);else for(;t!==null;){if(t.tag===3){Xf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ja===null||!ja.has(a))){e=En(n,e),n=Xd(2),a=xa(t,n,2),a!==null&&(Fd(n,a,t,e),fe(a,2),Zn(a));break}}t=t.return}}function Fo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new r0;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(Ho=!0,s.add(n),e=f0.bind(null,e,t,n),t.then(e,e))}function f0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_t===e&&(lt&n)===n&&(At===4||At===3&&(lt&62914560)===lt&&300>Ee()-kl?(mt&2)===0&&Di(e,0):Vo|=n,Ti===lt&&(Ti=0)),Zn(e)}function Ff(e,t){t===0&&(t=ge()),e=Va(e,t),e!==null&&(fe(e,t),Zn(e))}function h0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ff(e,n)}function p0(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(t),Ff(e,n)}function m0(e,t){return ve(e,t)}var Ol=null,Mi=null,Ko=!1,Ml=!1,Qo=!1,Ea=0;function Zn(e){e!==Mi&&e.next===null&&(Mi===null?Ol=Mi=e:Mi=Mi.next=e),Ml=!0,Ko||(Ko=!0,y0())}function vs(e,t){if(!Qo&&Ml){Qo=!0;do for(var n=!1,a=Ol;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var r=0;else{var y=a.suspendedLanes,T=a.pingedLanes;r=(1<<31-gt(42|e)+1)-1,r&=s&~(y&~T),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,$f(a,r))}else r=lt,r=Gn(a,a===_t?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Sn(a,r)||(n=!0,$f(a,r));a=a.next}while(n);Qo=!1}}function g0(){Kf()}function Kf(){Ml=Ko=!1;var e=0;Ea!==0&&E0()&&(e=Ea);for(var t=Ee(),n=null,a=Ol;a!==null;){var s=a.next,r=Qf(a,t);r===0?(a.next=null,n===null?Ol=s:n.next=s,s===null&&(Mi=n)):(n=a,(e!==0||(r&3)!==0)&&(Ml=!0)),a=s}Ht!==0&&Ht!==5||vs(e),Ea!==0&&(Ea=0)}function Qf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var y=31-gt(r),T=1<<y,Z=s[y];Z===-1?((T&n)===0||(T&a)!==0)&&(s[y]=me(T,t)):Z<=t&&(e.expiredLanes|=T),r&=~T}if(t=_t,n=lt,n=Gn(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(yt===2||yt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ye(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Sn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ye(a),ze(n)){case 2:case 8:n=ct;break;case 32:n=Pe;break;case 268435456:n=$t;break;default:n=Pe}return a=Wf.bind(null,e),n=ve(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ye(a),e.callbackPriority=2,e.callbackNode=null,2}function Wf(e,t){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Dl()&&e.callbackNode!==n)return null;var a=lt;return a=Gn(e,e===_t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Af(e,a,t),Qf(e,Ee()),e.callbackNode!=null&&e.callbackNode===n?Wf.bind(null,e):null)}function $f(e,t){if(Dl())return null;Af(e,t,!0)}function y0(){z0(function(){(mt&6)!==0?ve(qe,g0):Kf()})}function Wo(){if(Ea===0){var e=vi;e===0&&(e=un,un<<=1,(un&261888)===0&&(un=256)),Ea=e}return Ea}function Jf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ys(""+e)}function Pf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function x0(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var r=Jf((s[ut]||null).action),y=a.submitter;y&&(t=(t=y[ut]||null)?Jf(t.formAction):y.getAttribute("formAction"),t!==null&&(r=t,y=null));var T=new Xs("action","action",null,a,s);e.push({event:T,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ea!==0){var Z=y?Pf(s,y):new FormData(s);go(n,{pending:!0,data:Z,method:s.method,action:r},null,Z)}}else typeof r=="function"&&(T.preventDefault(),Z=y?Pf(s,y):new FormData(s),go(n,{pending:!0,data:Z,method:s.method,action:r},r,Z))},currentTarget:s}]})}}for(var $o=0;$o<Dr.length;$o++){var Jo=Dr[$o],v0=Jo.toLowerCase(),b0=Jo[0].toUpperCase()+Jo.slice(1);Rn(v0,"on"+b0)}Rn(zu,"onAnimationEnd"),Rn(Tu,"onAnimationIteration"),Rn(Au,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Bm,"onTransitionRun"),Rn(Um,"onTransitionStart"),Rn(Lm,"onTransitionCancel"),Rn(Du,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function eh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var y=a.length-1;0<=y;y--){var T=a[y],Z=T.instance,ie=T.currentTarget;if(T=T.listener,Z!==r&&s.isPropagationStopped())break e;r=T,s.currentTarget=ie;try{r(s)}catch(xe){Qs(xe)}s.currentTarget=null,r=Z}else for(y=0;y<a.length;y++){if(T=a[y],Z=T.instance,ie=T.currentTarget,T=T.listener,Z!==r&&s.isPropagationStopped())break e;r=T,s.currentTarget=ie;try{r(s)}catch(xe){Qs(xe)}s.currentTarget=null,r=Z}}}}function it(e,t){var n=t[we];n===void 0&&(n=t[we]=new Set);var a=e+"__bubble";n.has(a)||(th(t,e,2,!1),n.add(a))}function Po(e,t,n){var a=0;t&&(a|=4),th(n,e,a,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function ec(e){if(!e[Rl]){e[Rl]=!0,Fc.forEach(function(n){n!=="selectionchange"&&(w0.has(n)||Po(n,!1,e),Po(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,Po("selectionchange",!1,t))}}function th(e,t,n,a){switch(Th(t)){case 2:var s=Q0;break;case 8:s=W0;break;default:s=mc}n=s.bind(null,t,n,e),s=void 0,!vr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function tc(e,t,n,a,s){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var T=a.stateNode.containerInfo;if(T===s)break;if(y===4)for(y=a.return;y!==null;){var Z=y.tag;if((Z===3||Z===4)&&y.stateNode.containerInfo===s)return;y=y.return}for(;T!==null;){if(y=dn(T),y===null)return;if(Z=y.tag,Z===5||Z===6||Z===26||Z===27){a=r=y;continue e}T=T.parentNode}}a=a.return}su(function(){var ie=r,xe=yr(n),je=[];e:{var re=Ou.get(e);if(re!==void 0){var he=Xs,Ve=e;switch(e){case"keypress":if(Is(n)===0)break e;case"keydown":case"keyup":he=pm;break;case"focusin":Ve="focus",he=_r;break;case"focusout":Ve="blur",he=_r;break;case"beforeblur":case"afterblur":he=_r;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=ym;break;case zu:case Tu:case Au:he=sm;break;case Du:he=vm;break;case"scroll":case"scrollend":he=em;break;case"wheel":he=wm;break;case"copy":case"cut":case"paste":he=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=uu;break;case"toggle":case"beforetoggle":he=_m}var Qe=(t&4)!==0,wt=!Qe&&(e==="scroll"||e==="scrollend"),P=Qe?re!==null?re+"Capture":null:re;Qe=[];for(var F=ie,ae;F!==null;){var _e=F;if(ae=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ae===null||P===null||(_e=Yi(F,P),_e!=null&&Qe.push(ws(F,_e,ae))),wt)break;F=F.return}0<Qe.length&&(re=new he(re,Ve,null,n,xe),je.push({event:re,listeners:Qe}))}}if((t&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",he=e==="mouseout"||e==="pointerout",re&&n!==gr&&(Ve=n.relatedTarget||n.fromElement)&&(dn(Ve)||Ve[te]))break e;if((he||re)&&(re=xe.window===xe?xe:(re=xe.ownerDocument)?re.defaultView||re.parentWindow:window,he?(Ve=n.relatedTarget||n.toElement,he=ie,Ve=Ve?dn(Ve):null,Ve!==null&&(wt=u(Ve),Qe=Ve.tag,Ve!==wt||Qe!==5&&Qe!==27&&Qe!==6)&&(Ve=null)):(he=null,Ve=ie),he!==Ve)){if(Qe=ou,_e="onMouseLeave",P="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Qe=uu,_e="onPointerLeave",P="onPointerEnter",F="pointer"),wt=he==null?re:Xn(he),ae=Ve==null?re:Xn(Ve),re=new Qe(_e,F+"leave",he,n,xe),re.target=wt,re.relatedTarget=ae,_e=null,dn(xe)===ie&&(Qe=new Qe(P,F+"enter",Ve,n,xe),Qe.target=ae,Qe.relatedTarget=wt,_e=Qe),wt=_e,he&&Ve)t:{for(Qe=S0,P=he,F=Ve,ae=0,_e=P;_e;_e=Qe(_e))ae++;_e=0;for(var Fe=F;Fe;Fe=Qe(Fe))_e++;for(;0<ae-_e;)P=Qe(P),ae--;for(;0<_e-ae;)F=Qe(F),_e--;for(;ae--;){if(P===F||F!==null&&P===F.alternate){Qe=P;break t}P=Qe(P),F=Qe(F)}Qe=null}else Qe=null;he!==null&&nh(je,re,he,Qe,!1),Ve!==null&&wt!==null&&nh(je,wt,Ve,Qe,!0)}}e:{if(re=ie?Xn(ie):window,he=re.nodeName&&re.nodeName.toLowerCase(),he==="select"||he==="input"&&re.type==="file")var dt=xu;else if(gu(re))if(vu)dt=Om;else{dt=Am;var Ye=Tm}else he=re.nodeName,!he||he.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ie&&mr(ie.elementType)&&(dt=xu):dt=Dm;if(dt&&(dt=dt(e,ie))){yu(je,dt,n,xe);break e}Ye&&Ye(e,re,ie),e==="focusout"&&ie&&re.type==="number"&&ie.memoizedProps.value!=null&&pr(re,"number",re.value)}switch(Ye=ie?Xn(ie):window,e){case"focusin":(gu(Ye)||Ye.contentEditable==="true")&&(di=Ye,zr=ie,Wi=null);break;case"focusout":Wi=zr=di=null;break;case"mousedown":Tr=!0;break;case"contextmenu":case"mouseup":case"dragend":Tr=!1,Eu(je,n,xe);break;case"selectionchange":if(Rm)break;case"keydown":case"keyup":Eu(je,n,xe)}var nt;if(Nr)e:{switch(e){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else ui?pu(e,n)&&(rt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(rt="onCompositionStart");rt&&(du&&n.locale!=="ko"&&(ui||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&ui&&(nt=lu()):(da=xe,br="value"in da?da.value:da.textContent,ui=!0)),Ye=Bl(ie,rt),0<Ye.length&&(rt=new cu(rt,e,null,n,xe),je.push({event:rt,listeners:Ye}),nt?rt.data=nt:(nt=mu(n),nt!==null&&(rt.data=nt)))),(nt=Nm?km(e,n):Em(e,n))&&(rt=Bl(ie,"onBeforeInput"),0<rt.length&&(Ye=new cu("onBeforeInput","beforeinput",null,n,xe),je.push({event:Ye,listeners:rt}),Ye.data=nt)),x0(je,e,ie,n,xe)}eh(je,t)})}function ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bl(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Yi(e,n),s!=null&&a.unshift(ws(e,s,r)),s=Yi(e,t),s!=null&&a.push(ws(e,s,r))),e.tag===3)return a;e=e.return}return[]}function S0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nh(e,t,n,a,s){for(var r=t._reactName,y=[];n!==null&&n!==a;){var T=n,Z=T.alternate,ie=T.stateNode;if(T=T.tag,Z!==null&&Z===a)break;T!==5&&T!==26&&T!==27||ie===null||(Z=ie,s?(ie=Yi(n,r),ie!=null&&y.unshift(ws(n,ie,Z))):s||(ie=Yi(n,r),ie!=null&&y.push(ws(n,ie,Z)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var _0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function ah(e){return(typeof e=="string"?e:""+e).replace(_0,`
`).replace(j0,"")}function ih(e,t){return t=ah(t),ah(e)===t}function bt(e,t,n,a,s,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ri(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ri(e,""+a);break;case"className":Vs(e,"class",a);break;case"tabIndex":Vs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(e,n,a);break;case"style":au(e,a,r);break;case"data":if(t!=="object"){Vs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ys(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&bt(e,t,"name",s.name,s,null),bt(e,t,"formEncType",s.formEncType,s,null),bt(e,t,"formMethod",s.formMethod,s,null),bt(e,t,"formTarget",s.formTarget,s,null)):(bt(e,t,"encType",s.encType,s,null),bt(e,t,"method",s.method,s,null),bt(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ys(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Kn);break;case"onScroll":a!=null&&it("scroll",e);break;case"onScrollEnd":a!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ys(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":it("beforetoggle",e),it("toggle",e),Hs(e,"popover",a);break;case"xlinkActuate":Fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Fn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Fn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Fn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Fn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Hs(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Jp.get(n)||n,Hs(e,n,a))}}function nc(e,t,n,a,s,r){switch(n){case"style":au(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ri(e,a):(typeof a=="number"||typeof a=="bigint")&&ri(e,""+a);break;case"onScroll":a!=null&&it("scroll",e);break;case"onScrollEnd":a!=null&&it("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[ut]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Hs(e,n,a)}}}function Kt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var a=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var y=n[r];if(y!=null)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:bt(e,t,r,y,n,null)}}s&&bt(e,t,"srcSet",n.srcSet,n,null),a&&bt(e,t,"src",n.src,n,null);return;case"input":it("invalid",e);var T=r=y=s=null,Z=null,ie=null;for(a in n)if(n.hasOwnProperty(a)){var xe=n[a];if(xe!=null)switch(a){case"name":s=xe;break;case"type":y=xe;break;case"checked":Z=xe;break;case"defaultChecked":ie=xe;break;case"value":r=xe;break;case"defaultValue":T=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(c(137,t));break;default:bt(e,t,a,xe,n,null)}}Pc(e,r,T,Z,ie,y,s,!1);return;case"select":it("invalid",e),a=y=r=null;for(s in n)if(n.hasOwnProperty(s)&&(T=n[s],T!=null))switch(s){case"value":r=T;break;case"defaultValue":y=T;break;case"multiple":a=T;default:bt(e,t,s,T,n,null)}t=r,n=y,e.multiple=!!a,t!=null?li(e,!!a,t,!1):n!=null&&li(e,!!a,n,!0);return;case"textarea":it("invalid",e),r=s=a=null;for(y in n)if(n.hasOwnProperty(y)&&(T=n[y],T!=null))switch(y){case"value":a=T;break;case"defaultValue":s=T;break;case"children":r=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(c(91));break;default:bt(e,t,y,T,n,null)}tu(e,a,s,r);return;case"option":for(Z in n)n.hasOwnProperty(Z)&&(a=n[Z],a!=null)&&(Z==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":bt(e,t,Z,a,n,null));return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(a=0;a<bs.length;a++)it(bs[a],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in n)if(n.hasOwnProperty(ie)&&(a=n[ie],a!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:bt(e,t,ie,a,n,null)}return;default:if(mr(t)){for(xe in n)n.hasOwnProperty(xe)&&(a=n[xe],a!==void 0&&nc(e,t,xe,a,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(a=n[T],a!=null&&bt(e,t,T,a,n,null))}function N0(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,y=null,T=null,Z=null,ie=null,xe=null;for(he in n){var je=n[he];if(n.hasOwnProperty(he)&&je!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Z=je;default:a.hasOwnProperty(he)||bt(e,t,he,null,a,je)}}for(var re in a){var he=a[re];if(je=n[re],a.hasOwnProperty(re)&&(he!=null||je!=null))switch(re){case"type":r=he;break;case"name":s=he;break;case"checked":ie=he;break;case"defaultChecked":xe=he;break;case"value":y=he;break;case"defaultValue":T=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(c(137,t));break;default:he!==je&&bt(e,t,re,he,a,je)}}hr(e,y,T,Z,ie,xe,r,s);return;case"select":he=y=T=re=null;for(r in n)if(Z=n[r],n.hasOwnProperty(r)&&Z!=null)switch(r){case"value":break;case"multiple":he=Z;default:a.hasOwnProperty(r)||bt(e,t,r,null,a,Z)}for(s in a)if(r=a[s],Z=n[s],a.hasOwnProperty(s)&&(r!=null||Z!=null))switch(s){case"value":re=r;break;case"defaultValue":T=r;break;case"multiple":y=r;default:r!==Z&&bt(e,t,s,r,a,Z)}t=T,n=y,a=he,re!=null?li(e,!!n,re,!1):!!a!=!!n&&(t!=null?li(e,!!n,t,!0):li(e,!!n,n?[]:"",!1));return;case"textarea":he=re=null;for(T in n)if(s=n[T],n.hasOwnProperty(T)&&s!=null&&!a.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:bt(e,t,T,null,a,s)}for(y in a)if(s=a[y],r=n[y],a.hasOwnProperty(y)&&(s!=null||r!=null))switch(y){case"value":re=s;break;case"defaultValue":he=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(c(91));break;default:s!==r&&bt(e,t,y,s,a,r)}eu(e,re,he);return;case"option":for(var Ve in n)re=n[Ve],n.hasOwnProperty(Ve)&&re!=null&&!a.hasOwnProperty(Ve)&&(Ve==="selected"?e.selected=!1:bt(e,t,Ve,null,a,re));for(Z in a)re=a[Z],he=n[Z],a.hasOwnProperty(Z)&&re!==he&&(re!=null||he!=null)&&(Z==="selected"?e.selected=re&&typeof re!="function"&&typeof re!="symbol":bt(e,t,Z,re,a,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in n)re=n[Qe],n.hasOwnProperty(Qe)&&re!=null&&!a.hasOwnProperty(Qe)&&bt(e,t,Qe,null,a,re);for(ie in a)if(re=a[ie],he=n[ie],a.hasOwnProperty(ie)&&re!==he&&(re!=null||he!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(c(137,t));break;default:bt(e,t,ie,re,a,he)}return;default:if(mr(t)){for(var wt in n)re=n[wt],n.hasOwnProperty(wt)&&re!==void 0&&!a.hasOwnProperty(wt)&&nc(e,t,wt,void 0,a,re);for(xe in a)re=a[xe],he=n[xe],!a.hasOwnProperty(xe)||re===he||re===void 0&&he===void 0||nc(e,t,xe,re,a,he);return}}for(var P in n)re=n[P],n.hasOwnProperty(P)&&re!=null&&!a.hasOwnProperty(P)&&bt(e,t,P,null,a,re);for(je in a)re=a[je],he=n[je],!a.hasOwnProperty(je)||re===he||re==null&&he==null||bt(e,t,je,re,a,he)}function sh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],r=s.transferSize,y=s.initiatorType,T=s.duration;if(r&&T&&sh(y)){for(y=0,T=s.responseEnd,a+=1;a<n.length;a++){var Z=n[a],ie=Z.startTime;if(ie>T)break;var xe=Z.transferSize,je=Z.initiatorType;xe&&sh(je)&&(Z=Z.responseEnd,y+=xe*(Z<T?1:(T-ie)/(Z-ie)))}if(--a,t+=8*(r+y)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ac=null,ic=null;function Ul(e){return e.nodeType===9?e:e.ownerDocument}function lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lc=null;function E0(){var e=window.event;return e&&e.type==="popstate"?e===lc?!1:(lc=e,!0):(lc=null,!1)}var oh=typeof setTimeout=="function"?setTimeout:void 0,C0=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(T0)}:oh;function T0(e){setTimeout(function(){throw e})}function Ca(e){return e==="head"}function uh(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Li(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ss(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ss(n);for(var r=n.firstChild;r;){var y=r.nextSibling,T=r.nodeName;r[Ie]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=y}}else n==="body"&&Ss(e.ownerDocument.body);n=s}while(n);Li(t)}function dh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function rc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":rc(n),pt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function A0(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ie])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function D0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function fh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function oc(e){return e.data==="$?"||e.data==="$~"}function cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var uc=null;function hh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function mh(e,t,n){switch(t=Ul(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Ss(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);pt(e)}var On=new Map,gh=new Set;function Ll(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ua=L.d;L.d={f:M0,r:R0,D:B0,C:U0,L:L0,m:H0,X:q0,S:V0,M:Y0};function M0(){var e=ua.f(),t=zl();return e||t}function R0(e){var t=_n(e);t!==null&&t.tag===5&&t.type==="form"?Dd(t):ua.r(e)}var Ri=typeof document>"u"?null:document;function yh(e,t,n){var a=Ri;if(a&&typeof t=="string"&&t){var s=Nn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),gh.has(s)||(gh.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Kt(t,"link",e),qt(t),a.head.appendChild(t)))}}function B0(e){ua.D(e),yh("dns-prefetch",e,null)}function U0(e,t){ua.C(e,t),yh("preconnect",e,t)}function L0(e,t,n){ua.L(e,t,n);var a=Ri;if(a&&e&&t){var s='link[rel="preload"][as="'+Nn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Nn(n.imageSizes)+'"]')):s+='[href="'+Nn(e)+'"]';var r=s;switch(t){case"style":r=Bi(e);break;case"script":r=Ui(e)}On.has(r)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),On.set(r,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(_s(r))||t==="script"&&a.querySelector(js(r))||(t=a.createElement("link"),Kt(t,"link",e),qt(t),a.head.appendChild(t)))}}function H0(e,t){ua.m(e,t);var n=Ri;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Nn(a)+'"][href="'+Nn(e)+'"]',r=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ui(e)}if(!On.has(r)&&(e=_({rel:"modulepreload",href:e},t),On.set(r,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(js(r)))return}a=n.createElement("link"),Kt(a,"link",e),qt(a),n.head.appendChild(a)}}}function V0(e,t,n){ua.S(e,t,n);var a=Ri;if(a&&e){var s=Hn(a).hoistableStyles,r=Bi(e);t=t||"default";var y=s.get(r);if(!y){var T={loading:0,preload:null};if(y=a.querySelector(_s(r)))T.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=On.get(r))&&dc(e,n);var Z=y=a.createElement("link");qt(Z),Kt(Z,"link",e),Z._p=new Promise(function(ie,xe){Z.onload=ie,Z.onerror=xe}),Z.addEventListener("load",function(){T.loading|=1}),Z.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hl(y,t,a)}y={type:"stylesheet",instance:y,count:1,state:T},s.set(r,y)}}}function q0(e,t){ua.X(e,t);var n=Ri;if(n&&e){var a=Hn(n).hoistableScripts,s=Ui(e),r=a.get(s);r||(r=n.querySelector(js(s)),r||(e=_({src:e,async:!0},t),(t=On.get(s))&&fc(e,t),r=n.createElement("script"),qt(r),Kt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}function Y0(e,t){ua.M(e,t);var n=Ri;if(n&&e){var a=Hn(n).hoistableScripts,s=Ui(e),r=a.get(s);r||(r=n.querySelector(js(s)),r||(e=_({src:e,async:!0,type:"module"},t),(t=On.get(s))&&fc(e,t),r=n.createElement("script"),qt(r),Kt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}function xh(e,t,n,a){var s=(s=Oe.current)?Ll(s):null;if(!s)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Bi(n.href),n=Hn(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Bi(n.href);var r=Hn(s).hoistableStyles,y=r.get(e);if(y||(s=s.ownerDocument||s,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,y),(r=s.querySelector(_s(e)))&&!r._p&&(y.instance=r,y.state.loading=5),On.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},On.set(e,n),r||Z0(s,e,n,y.state))),t&&a===null)throw Error(c(528,""));return y}if(t&&a!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ui(n),n=Hn(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Bi(e){return'href="'+Nn(e)+'"'}function _s(e){return'link[rel="stylesheet"]['+e+"]"}function vh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Kt(t,"link",n),qt(t),e.head.appendChild(t))}function Ui(e){return'[src="'+Nn(e)+'"]'}function js(e){return"script[async]"+e}function bh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Nn(n.href)+'"]');if(a)return t.instance=a,qt(a),a;var s=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),qt(a),Kt(a,"style",s),Hl(a,n.precedence,e),t.instance=a;case"stylesheet":s=Bi(n.href);var r=e.querySelector(_s(s));if(r)return t.state.loading|=4,t.instance=r,qt(r),r;a=vh(n),(s=On.get(s))&&dc(a,s),r=(e.ownerDocument||e).createElement("link"),qt(r);var y=r;return y._p=new Promise(function(T,Z){y.onload=T,y.onerror=Z}),Kt(r,"link",a),t.state.loading|=4,Hl(r,n.precedence,e),t.instance=r;case"script":return r=Ui(n.src),(s=e.querySelector(js(r)))?(t.instance=s,qt(s),s):(a=n,(s=On.get(r))&&(a=_({},n),fc(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),qt(s),Kt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Hl(a,n.precedence,e));return t.instance}function Hl(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,r=s,y=0;y<a.length;y++){var T=a[y];if(T.dataset.precedence===t)r=T;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vl=null;function wh(e,t,n){if(Vl===null){var a=new Map,s=Vl=new Map;s.set(n,a)}else s=Vl,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[Ie]||r[Xe]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var y=r.getAttribute(t)||"";y=e+y;var T=a.get(y);T?T.push(r):a.set(y,[r])}}return a}function Sh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function I0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _h(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function G0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=Bi(a.href),r=t.querySelector(_s(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ql.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,qt(r);return}r=t.ownerDocument||t,a=vh(a),(s=On.get(s))&&dc(a,s),r=r.createElement("link"),qt(r);var y=r;y._p=new Promise(function(T,Z){y.onload=T,y.onerror=Z}),Kt(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ql.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var hc=0;function X0(e,t){return e.stylesheets&&e.count===0&&Zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Zl(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&hc===0&&(hc=62500*k0());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zl(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>hc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yl=null;function Zl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yl=new Map,t.forEach(F0,e),Yl=null,ql.call(e))}function F0(e,t){if(!(t.state.loading&4)){var n=Yl.get(e);if(n)var a=n.get(null);else{n=new Map,Yl.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var y=s[r];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),a=y)}a&&n.set(null,a)}s=t.instance,y=s.getAttribute("data-precedence"),r=n.get(y)||a,r===a&&n.set(null,s),n.set(y,s),this.count++,a=ql.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Ns={$$typeof:D,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function K0(e,t,n,a,s,r,y,T,Z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pe(0),this.hiddenUpdates=pe(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function jh(e,t,n,a,s,r,y,T,Z,ie,xe,je){return e=new K0(e,t,n,y,Z,ie,xe,je,T),t=1,r===!0&&(t|=24),r=hn(3,null,null,t),e.current=r,r.stateNode=e,t=Gr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Qr(r),e}function Nh(e){return e?(e=pi,e):pi}function kh(e,t,n,a,s,r){s=Nh(s),a.context===null?a.context=s:a.pendingContext=s,a=ya(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=xa(e,a,t),n!==null&&(on(n,e,t),as(n,e,t))}function Eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pc(e,t){Eh(e,t),(e=e.alternate)&&Eh(e,t)}function Ch(e){if(e.tag===13||e.tag===31){var t=Va(e,67108864);t!==null&&on(t,e,67108864),pc(e,67108864)}}function zh(e){if(e.tag===13||e.tag===31){var t=xn();t=Re(t);var n=Va(e,t);n!==null&&on(n,e,t),pc(e,t)}}var Il=!0;function Q0(e,t,n,a){var s=q.T;q.T=null;var r=L.p;try{L.p=2,mc(e,t,n,a)}finally{L.p=r,q.T=s}}function W0(e,t,n,a){var s=q.T;q.T=null;var r=L.p;try{L.p=8,mc(e,t,n,a)}finally{L.p=r,q.T=s}}function mc(e,t,n,a){if(Il){var s=gc(a);if(s===null)tc(e,t,a,Gl,n),Ah(e,a);else if(J0(s,e,t,n,a))a.stopPropagation();else if(Ah(e,a),t&4&&-1<$0.indexOf(e)){for(;s!==null;){var r=_n(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var y=It(r.pendingLanes);if(y!==0){var T=r;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var Z=1<<31-gt(y);T.entanglements[1]|=Z,y&=~Z}Zn(r),(mt&6)===0&&(El=Ee()+500,vs(0))}}break;case 31:case 13:T=Va(r,2),T!==null&&on(T,r,2),zl(),pc(r,2)}if(r=gc(a),r===null&&tc(e,t,a,Gl,n),r===s)break;s=r}s!==null&&a.stopPropagation()}else tc(e,t,a,null,n)}}function gc(e){return e=yr(e),yc(e)}var Gl=null;function yc(e){if(Gl=null,e=dn(e),e!==null){var t=u(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=f(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gl=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case qe:return 2;case ct:return 8;case Pe:case Vt:return 32;case $t:return 268435456;default:return 32}default:return 32}}var xc=!1,za=null,Ta=null,Aa=null,ks=new Map,Es=new Map,Da=[],$0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Cs(e,t,n,a,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[s]},t!==null&&(t=_n(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function J0(e,t,n,a,s){switch(t){case"focusin":return za=Cs(za,e,t,n,a,s),!0;case"dragenter":return Ta=Cs(Ta,e,t,n,a,s),!0;case"mouseover":return Aa=Cs(Aa,e,t,n,a,s),!0;case"pointerover":var r=s.pointerId;return ks.set(r,Cs(ks.get(r)||null,e,t,n,a,s)),!0;case"gotpointercapture":return r=s.pointerId,Es.set(r,Cs(Es.get(r)||null,e,t,n,a,s)),!0}return!1}function Dh(e){var t=dn(e.target);if(t!==null){var n=u(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,He(e.priority,function(){zh(n)});return}}else if(t===31){if(t=f(n),t!==null){e.blockedOn=t,He(e.priority,function(){zh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);gr=a,n.target.dispatchEvent(a),gr=null}else return t=_n(n),t!==null&&Ch(t),e.blockedOn=n,!1;t.shift()}return!0}function Oh(e,t,n){Xl(e)&&n.delete(t)}function P0(){xc=!1,za!==null&&Xl(za)&&(za=null),Ta!==null&&Xl(Ta)&&(Ta=null),Aa!==null&&Xl(Aa)&&(Aa=null),ks.forEach(Oh),Es.forEach(Oh)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,xc||(xc=!0,x.unstable_scheduleCallback(x.unstable_NormalPriority,P0)))}var Kl=null;function Mh(e){Kl!==e&&(Kl=e,x.unstable_scheduleCallback(x.unstable_NormalPriority,function(){Kl===e&&(Kl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(yc(a||n)===null)continue;break}var r=_n(n);r!==null&&(e.splice(t,3),t-=3,go(r,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Li(e){function t(Z){return Fl(Z,e)}za!==null&&Fl(za,e),Ta!==null&&Fl(Ta,e),Aa!==null&&Fl(Aa,e),ks.forEach(t),Es.forEach(t);for(var n=0;n<Da.length;n++){var a=Da[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)Dh(n),n.blockedOn===null&&Da.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],r=n[a+1],y=s[ut]||null;if(typeof r=="function")y||Mh(n);else if(y){var T=null;if(r&&r.hasAttribute("formAction")){if(s=r,y=r[ut]||null)T=y.formAction;else if(yc(s)!==null)continue}else T=y.action;typeof T=="function"?n[a+1]=T:(n.splice(a,3),a-=3),Mh(n)}}}function Rh(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(y){return s=y})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function vc(e){this._internalRoot=e}Ql.prototype.render=vc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,a=xn();kh(n,a,e,t,null,null)},Ql.prototype.unmount=vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kh(e.current,2,null,e,null,null),zl(),t[te]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Da.length&&t!==0&&t<Da[n].priority;n++);Da.splice(n,0,e),n===0&&Dh(e)}};var Bh=l.version;if(Bh!=="19.2.4")throw Error(c(527,Bh,"19.2.4"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=d(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var eg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{ht=Wl.inject(eg),St=Wl}catch{}}return Ts.createRoot=function(e,t){if(!m(e))throw Error(c(299));var n=!1,a="",s=Yd,r=Zd,y=Id;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=jh(e,1,!1,null,null,n,a,null,s,r,y,Rh),e[te]=t.current,ec(e),new vc(t)},Ts.hydrateRoot=function(e,t,n){if(!m(e))throw Error(c(299));var a=!1,s="",r=Yd,y=Zd,T=Id,Z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(Z=n.formState)),t=jh(e,1,!0,t,n??null,a,s,Z,r,y,T,Rh),t.context=Nh(null),n=t.current,a=xn(),a=Re(a),s=ya(a),s.callback=null,xa(n,s,a),n=a,t.current.lanes=n,fe(t,n),Zn(t),e[te]=t.current,ec(e),new Ql(t)},Ts.version="19.2.4",Ts}var Fh;function ug(){if(Fh)return Sc.exports;Fh=1;function x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x)}catch(l){console.error(l)}}return x(),Sc.exports=cg(),Sc.exports}var dg=ug();const fg="modulepreload",hg=function(x){return"/spotykach_WAV_builder/"+x},Kh={},Ms=function(l,o,c){let m=Promise.resolve();if(o&&o.length>0){let d=function(S){return Promise.all(S.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var h=d;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");m=d(o.map(S=>{if(S=hg(S),S in Kh)return;Kh[S]=!0;const _=S.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${E}`))return;const b=document.createElement("link");if(b.rel=_?"stylesheet":fg,_||(b.as="script"),b.crossOrigin="",b.href=S,p&&b.setAttribute("nonce",p),document.head.appendChild(b),_)return new Promise((j,v)=>{b.addEventListener("load",j),b.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${S}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return m.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return l().catch(u)})},Ct=["Blue","Green","Pink","Red","Turquoise","Yellow"];const Sp=(...x)=>x.filter((l,o,c)=>!!l&&l.trim()!==""&&c.indexOf(l)===o).join(" ").trim();const pg=x=>x.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const mg=x=>x.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,o,c)=>c?c.toUpperCase():o.toLowerCase());const Qh=x=>{const l=mg(x);return l.charAt(0).toUpperCase()+l.slice(1)};var gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yg=x=>{for(const l in x)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const xg=be.forwardRef(({color:x="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:m="",children:u,iconNode:h,...f},p)=>be.createElement("svg",{ref:p,...gg,width:l,height:l,stroke:x,strokeWidth:c?Number(o)*24/Number(l):o,className:Sp("lucide",m),...!u&&!yg(f)&&{"aria-hidden":"true"},...f},[...h.map(([d,S])=>be.createElement(d,S)),...Array.isArray(u)?u:[u]]));const $e=(x,l)=>{const o=be.forwardRef(({className:c,...m},u)=>be.createElement(xg,{ref:u,iconNode:l,className:Sp(`lucide-${pg(Qh(x))}`,`lucide-${x}`,c),...m}));return o.displayName=Qh(x),o};const vg=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Mc=$e("archive",vg);const bg=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],wg=$e("arrow-left-right",bg);const Sg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kc=$e("arrow-right",Sg);const _g=[["path",{d:"M17 12H3",key:"8awo09"}],["path",{d:"m11 18 6-6-6-6",key:"8c2y43"}],["path",{d:"M21 5v14",key:"nzette"}]],jg=$e("arrow-right-to-line",_g);const Ng=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],kg=$e("bot",Ng);const Eg=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Cg=$e("chart-no-axes-column",Eg);const zg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ni=$e("check",zg);const Tg=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rc=$e("chevron-down",Tg);const Ag=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ir=$e("chevron-right",Ag);const Dg=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Og=$e("circle-check-big",Dg);const Mg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wh=$e("circle-check",Mg);const Rg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bg=$e("circle-question-mark",Rg);const Ug=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_p=$e("circle-x",Ug);const Lg=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Hg=$e("command",Lg);const Vg=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jp=$e("copy",Vg);const qg=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],Yg=$e("corner-down-right",qg);const Zg=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Ec=$e("cpu",Zg);const Ig=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ln=$e("download",Ig);const Gg=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$h=$e("external-link",Gg);const Xg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fg=$e("eye",Xg);const Kg=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Qg=$e("file-down",Kg);const Wg=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],or=$e("file-headphone",Wg);const $g=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],Bc=$e("folder-input",$g);const Jg=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Np=$e("folder-open",Jg);const Pg=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ey=$e("grip-vertical",Pg);const ty=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],kp=$e("hard-drive",ty);const ny=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rs=$e("info",ny);const ay=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],iy=$e("layout-grid",ay);const sy=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],ly=$e("layout-list",sy);const ry=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],oy=$e("list",ry);const cy=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Ep=$e("loader",cy);const uy=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Jh=$e("monitor",uy);const dy=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],fy=$e("music",dy);const hy=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ph=$e("pause",hy);const py=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cp=$e("pen-line",py);const my=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Vi=$e("play",my);const gy=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],zp=$e("repeat",gy);const yy=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ep=$e("rotate-ccw",yy);const xy=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uc=$e("save",xy);const vy=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],by=$e("scissors",vy);const wy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],cr=$e("square",wy);const Sy=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Tp=$e("terminal",Sy);const _y=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qi=$e("trash-2",_y);const jy=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vn=$e("triangle-alert",jy);const Ny=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ky=$e("upload",Ny);const Ey=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wt=$e("x",Ey);const Cy=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],zy=$e("zoom-in",Cy);const Ty=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Ay=$e("zoom-out",Ty),ai=({color:x="currentColor",size:l,className:o,style:c})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 66.73 64.39",width:l,height:l,className:o,style:c,fill:x,children:i.jsx("path",{d:"M63.39,27.9l-27.82,6.26,31.15-19.42-3.65-7.62-30.47,10.63,16-10.67-.28-.42s-.05-.05-.05-.08l-.4-.6s0,.08-.02.11c-.05.09-.18.13-.27.07-.09-.05-.13-.18-.07-.27.05-.09.16-.11.25-.07l-3.88-5.82L0,29.27l3.76,7.55,3.9-1.36c.04-.07.12-.12.2-.1.01,0,.01.01.02.02l21.94-7.66-20.02,12.48,3.18,7.76,17.56-3.95-6.59,3.26,2.35,8.04,9.07-.99-5.06,2.38.16.34s.09-.01.13,0c.16.07.23.26.16.42-.01.03-.04.04-.06.06l1.27,2.71c.09.08.14.18.14.3l1.2,2.55s.09,0,.12.02c.13.08.18.24.1.38,0,.01-.02.01-.03.02l.42.9,3.77-1.77s-.05,0-.07,0c-.11-.06-.15-.21-.08-.32s.21-.15.31-.08c.1.06.13.18.09.29l.77-.36c-.07,0-.13,0-.19-.03-.16-.1-.22-.3-.12-.46.09-.16.3-.22.46-.12.16.09.22.3.12.46-.02.03-.05.03-.07.05l1.15-.54c-.02-.06-.02-.13.01-.19.06-.11.2-.14.31-.08.04.02.05.06.07.09l2.09-.98s0,0,0,0c.06-.11.18-.14.3-.13l19.18-9.02-2.27-8.07-10.53,1.15,16.96-8.39-2.82-7.96Z"})}),Dy=({currentTape:x,isAllView:l,onSelect:o,onToggleAllView:c,onDropOnTape:m,onDropOnViewAll:u,onReset:h})=>{const f=d=>{d.dataTransfer.types.includes("application/x-spotykach-file-id")&&(d.preventDefault(),d.dataTransfer.dropEffect=d.ctrlKey||d.altKey?"copy":"move")},p=(d,S)=>{d.preventDefault();const _=d.dataTransfer.getData("application/x-spotykach-file-id"),E=d.dataTransfer.getData("application/x-spotykach-source"),b=d.ctrlKey||d.altKey;_&&m(S,_,E,b)};return i.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-synthux-tapebg h-full border-r border-gray-800 w-24 items-center",children:[Ct.map(d=>{const S=!l&&x===d,_=`var(--color-synthux-${Oy(d)})`;return i.jsxs("button",{onClick:()=>o(d),onDragOver:f,onDrop:E=>p(E,d),className:`
                            w-12 h-12 relative group transition-all duration-300 rounded-full flex items-center justify-center
                            ${S?"z-10":"opacity-70 hover:opacity-100 hover:scale-105"}
                        `,title:`Tape ${d}`,children:[S&&i.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center pointer-events-none",style:{filter:"blur(6px)",opacity:.8,animation:"pulse-glow-anim 3s ease-in-out infinite","--pulse-color":_},children:i.jsx(ai,{color:_,className:"w-full h-full",style:{transform:"scale(1.25)"}})}),i.jsx("div",{className:"w-full h-full relative z-20 flex items-center justify-center transition-all duration-300",children:i.jsx(ai,{color:_,className:"w-full h-full",style:{transform:S?"scale(1.1)":"scale(1)"}})})]},d)}),i.jsxs("div",{className:"w-full border-t border-gray-800 my-2 pt-2 flex flex-col items-center gap-2",children:[i.jsxs("button",{onClick:c,onDragOver:f,onDrop:d=>{d.preventDefault();const S=d.dataTransfer.getData("application/x-spotykach-file-id"),_=d.dataTransfer.getData("application/x-spotykach-source"),E=d.ctrlKey||d.altKey;S&&u(S,_,E)},className:`
                        w-12 h-12 relative group transition-all duration-300 rounded-xl flex items-center justify-center
                         ${l?"bg-white text-black z-10":"text-gray-500 hover:text-white hover:bg-white/10"}
                    `,title:"View All Tapes",children:[i.jsx(iy,{size:24}),i.jsx("span",{className:"absolute left-full ml-4 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:"View All"})]}),i.jsx("div",{className:"text-[9px] text-synthux-yellow font-mono text-center uppercase tracking-widest leading-none",children:"Select Tape"})]}),i.jsxs("div",{className:"mt-auto w-full pt-4 border-t border-gray-800 flex flex-col items-center gap-2",children:[i.jsx("button",{onClick:h,className:"w-10 h-10 rounded-full flex items-center justify-center text-red-400 bg-gray-800 border border-red-900/60 hover:bg-red-600 hover:text-white hover:border-red-500 hover:shadow-[0_0_10px_rgba(220,38,38,0.5)] transition-all duration-200 group",title:"Reset Application",children:i.jsx("span",{className:"text-xl font-bold group-hover:scale-110 transition-transform",children:""})}),i.jsx("div",{className:"text-[9px] text-synthux-yellow font-mono text-center uppercase tracking-widest leading-none transition-colors",children:"Reset App"})]})]})},Oy=x=>{switch(x){case"Red":return"red";case"Blue":return"blue";case"Green":return"green";case"Pink":return"pink";case"Yellow":return"yellow";case"Turquoise":return"turquoise"}return"blue"},My="/spotykach_WAV_builder/assets/Spotykach_Logo-iL2WXhuM.webp",tp="/spotykach_WAV_builder/assets/spotykachtapeicon-Csu3Rwjb.svg",Ap=({blob:x,buffer:l,width:o=100,height:c=40,color:m="#4ade80",className:u="",progress:h=0,onSeek:f})=>{const[p,d]=be.useState([]),S=qh.useRef(null),_=qh.useRef(!1);be.useEffect(()=>{let N=!0;return(async()=>{if(p.length>0&&!x&&!l)return;let D=l;if(!D&&x)try{const G=new(window.AudioContext||window.webkitAudioContext),U=await x.arrayBuffer();D=await G.decodeAudioData(U)}catch(G){console.error("Failed to decode for mini waveform",G);return}if(!D||!N)return;const B=D.getChannelData(0),H=[],W=o,Y=Math.floor(B.length/W);for(let G=0;G<W;G++){let U=0;const X=G*Y,ne=X+Y,A=Math.max(1,Math.floor((ne-X)/10));for(let O=X;O<ne;O+=A){const g=Math.abs(B[O]);g>U&&(U=g)}H.push(U)}N&&d(H)})(),()=>{N=!1}},[x,l,o]);const E=be.useMemo(()=>{if(p.length===0)return"";const N=c/2;let z=`M 0 ${N} `;p.forEach((D,B)=>{const H=B/p.length*o,W=N-D*N*.9;z+=`L ${H} ${W} `}),z+=`L ${o} ${N} `;for(let D=p.length-1;D>=0;D--){const B=p[D],H=D/p.length*o,W=N+B*N*.9;z+=`L ${H} ${W} `}return z+="Z",z},[p,o,c]),b=N=>{!f||!S.current||(N.stopPropagation(),_.current=!0,N.target.setPointerCapture(N.pointerId),k(N))},j=N=>{_.current&&k(N)},v=N=>{_.current&&(_.current=!1,N.target.releasePointerCapture(N.pointerId))},k=N=>{if(!S.current||!f)return;const z=S.current.getBoundingClientRect(),D=N.clientX-z.left,B=Math.max(0,Math.min(1,D/z.width));f(B)};return i.jsx("div",{ref:S,className:`flex items-center justify-center opacity-80 relative ${u} ${f?"cursor-ew-resize":""}`,style:{width:o,height:c},onPointerDown:b,onPointerMove:j,onPointerUp:v,onClick:N=>N.stopPropagation(),children:p.length>0?i.jsxs(i.Fragment,{children:[i.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${o} ${c}`,preserveAspectRatio:"none",className:"pointer-events-none",children:i.jsx("path",{d:E,fill:m})}),h>0&&i.jsx("div",{className:"absolute top-0 bottom-0 w-[2px] bg-white shadow-[0_0_4px_rgba(0,0,0,0.5)] pointer-events-none transition-all duration-75",style:{left:`${h*100}%`}})]}):i.jsx("div",{className:"w-full h-[1px] bg-gray-700 animate-pulse"})})},Dp=be.createContext(null),ur=()=>{const x=be.useContext(Dp);if(!x)throw new Error("useAudioPlayer must be used within AudioPlayerProvider");return x},Ry=({children:x})=>{const[l,o]=be.useState(!1),[c,m]=be.useState(null),[u,h]=be.useState(0),[f,p]=be.useState(0),d=be.useRef(null),S=be.useRef(null);be.useEffect(()=>(d.current=new Audio,d.current.onended=()=>{o(!1),m(null),p(0)},d.current.ontimeupdate=()=>{d.current&&p(d.current.currentTime)},d.current.onloadedmetadata=()=>{d.current&&h(d.current.duration)},d.current.onerror=j=>{console.error("Audio Playback Error",j),o(!1),m(null)},()=>{S.current&&URL.revokeObjectURL(S.current)}),[]);const _=()=>{d.current&&(d.current.pause(),d.current.currentTime=0),o(!1),m(null),p(0)},E=j=>{d.current&&(d.current.currentTime=j,p(j))},b=(j,v)=>{if(c===j.id&&l){_();return}_();const k=v||j.currentVersionId,N=j.versions.find(D=>D.id===k);if(!N||!N.blob){console.warn("AudioPlayer: No valid blob found for file",j.name);return}S.current&&URL.revokeObjectURL(S.current);const z=URL.createObjectURL(N.blob);S.current=z,d.current&&(d.current.src=z,d.current.play().then(()=>{o(!0),m(j.id)}).catch(D=>{console.error("Play failed",D),alert("Playback failed. See console.")}))};return i.jsx(Dp.Provider,{value:{isPlaying:l,activeFileId:c,play:b,stop:_,seek:E,duration:u,currentTime:f},children:x})},By=({slot:x,fileRecord:l,tapeColor:o,isActive:c,onClick:m,onDrop:u,onDropInternal:h,onRemove:f,onDelete:p,isDuplicate:d,onBulkAssign:S,isSelected:_,onToggleSlotSelection:E,onSlotDragStart:b})=>{const{play:j,stop:v,isPlaying:k,activeFileId:N,currentTime:z,duration:D,seek:B}=ur(),H=k&&N===l?.id,[W,Y]=be.useState(!1),G=K=>{if(b){b(K);return}l?(K.dataTransfer.setData("application/x-spotykach-file-id",l.id),K.dataTransfer.setData("text/plain",l.id),K.dataTransfer.setData("application/x-spotykach-source","slot"),K.dataTransfer.setData("application/x-spotykach-slot-id",x.id.toString()),K.dataTransfer.effectAllowed="copyMove"):K.preventDefault()},U=K=>{K.preventDefault(),K.stopPropagation(),(K.dataTransfer.types.includes("application/x-spotykach-file-id")||K.dataTransfer.types.includes("text/plain"))&&(K.dataTransfer.dropEffect=K.ctrlKey||K.altKey?"copy":"move",W||Y(!0))},X=K=>{K.preventDefault(),K.stopPropagation(),(K.dataTransfer.types.includes("application/x-spotykach-file-id")||K.dataTransfer.types.includes("text/plain"))&&Y(!0)},ne=K=>{K.preventDefault(),K.currentTarget.contains(K.relatedTarget)||Y(!1)},A=K=>{K.preventDefault(),K.stopPropagation(),Y(!1);let Q=K.dataTransfer.getData("application/x-spotykach-file-id"),ue=K.dataTransfer.getData("application/x-spotykach-source"),C=K.dataTransfer.getData("application/x-spotykach-bulk-ids"),M=K.dataTransfer.getData("application/x-spotykach-bulk-source-slots"),de=K.dataTransfer.getData("application/x-spotykach-slot-id"),se=K.dataTransfer.getData("application/x-spotykach-slot-color");if(!Q){const le=K.dataTransfer.getData("text/plain");if(le)try{const Oe=JSON.parse(le);Oe.id?(Q=Oe.id,ue=Oe.source,Oe.bulkIds&&(C=JSON.stringify(Oe.bulkIds)),Oe.bulkSourceKeys&&(M=JSON.stringify(Oe.bulkSourceKeys)),Oe.slotId&&(de=Oe.slotId.toString()),Oe.slotColor&&(se=Oe.slotColor)):Q=le}catch{Q=le}}if(C&&S)try{const le=JSON.parse(C),Oe=M?JSON.parse(M):void 0;if(Array.isArray(le)&&le.length>0){S(x.id,le,o,Oe);return}}catch(le){console.error("Failed to parse bulk drop",le)}if(Q){const le=K.ctrlKey||K.altKey,Oe=de?parseInt(de,10):void 0;h(Q,ue,le,Oe,se||void 0);return}K.dataTransfer.files&&K.dataTransfer.files.length>0&&u(K.dataTransfer.files)},O=()=>{m()},g=()=>{m()},I=l?.versions.find(K=>K.id===l.currentVersionId),q=I?.description?.toLowerCase().includes("loop"),L=`var(--color-synthux-${o.toLowerCase()})`;return i.jsxs("div",{draggable:!!l||_,onDragStart:G,onDragOver:U,onDragEnter:X,onDragLeave:ne,onDrop:A,onClick:O,onDoubleClick:g,className:`
                relative aspect-square rounded-xl border-2 cursor-pointer transition-all duration-200
                flex flex-col group
                ${W?"bg-white/10 scale-105 z-20":c?"bg-[#1a1a1a] shadow-xl scale-[1.02]":"border-gray-700 bg-[#151515] hover:border-gray-500"}
                ${l?"shadow-lg":""}
                ${d?"!border-orange-500/50 shadow-[0_0_10px_rgba(249,115,22,0.1)]":""}
                ${_?"ring-2 ring-synthux-yellow":""}
            `,style:{borderColor:c||W?L:_?"var(--color-synthux-yellow)":void 0,touchAction:"none"},children:[l&&i.jsx("div",{className:`absolute -top-3 -left-3 w-6 h-6 z-50 rounded-full border-2 flex items-center justify-center cursor-pointer transition-colors shadow-md ${_?"bg-synthux-yellow border-white text-black":"bg-gray-800 border-gray-500 text-transparent hover:border-white"}`,onClick:K=>{K.stopPropagation(),E()},children:i.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})}),d&&i.jsx("div",{className:"absolute -top-2 -right-2 text-orange-400/80 z-40 bg-black/80 rounded-full p-1 border border-orange-500/30 shadow-sm",title:"Duplicate File",children:i.jsx(vn,{size:14})}),i.jsx("div",{className:"absolute top-2 left-3 text-xs font-bold text-gray-600 z-10 pointer-events-none",children:x.id}),l&&I?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 w-full bg-black/20 flex items-center justify-center relative overflow-hidden rounded-t-lg",children:[i.jsx(Ap,{blob:I.blob,width:200,height:80,color:c?"#60a5fa":"#9ca3af",className:"w-full h-full p-4",progress:H&&D>0?z/D:0,onSeek:K=>{H&&D>0?B(K*D):l&&j(l)}}),i.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[l.versions.length>1&&i.jsxs("span",{className:"px-1.5 py-0.5 bg-synthux-blue/20 rounded text-[9px] text-synthux-blue border border-synthux-blue/50 font-mono",children:["v",l.versions.length]}),q&&i.jsxs("span",{className:"px-1.5 py-0.5 bg-green-900/40 rounded text-[9px] text-green-400 border border-green-700/50 font-bold uppercase tracking-wider flex items-center gap-1",children:[i.jsx(zp,{size:8})," Loop"]})]})]}),i.jsx("div",{className:"px-3 py-2 border-t border-gray-800 bg-[#1e1e1e] flex items-center justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-bold truncate text-white mb-0.5",title:l.name,children:l.name}),i.jsxs("div",{className:"flex items-center text-[10px] text-gray-400 font-mono uppercase tracking-wider gap-2",children:[i.jsxs("span",{children:[I.duration.toFixed(2),"s"]}),I.description&&I.description!=="Original Upload"&&I.description!=="Edited"&&!q&&i.jsx("span",{className:"text-synthux-gold truncate max-w-[80px]",children:I.description})]})]})}),i.jsxs("div",{className:"flex items-center justify-between gap-1 px-2 py-2 bg-[#111] border-t border-gray-800 rounded-b-lg",children:[i.jsxs("button",{onClick:K=>{K.stopPropagation(),H?v():l&&j(l)},className:`flex-1 flex items-center justify-center gap-2 py-1.5 rounded transition-all active:scale-95 ${H?"bg-synthux-blue text-white shadow-lg shadow-synthux-blue/20":"bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white"} `,title:H?"Stop":"Preview",children:[H?i.jsx(cr,{size:12,fill:"currentColor"}):i.jsx(Vi,{size:12,fill:"currentColor"}),i.jsx("span",{className:"text-[10px] font-bold uppercase",children:H?"STOP":"PLAY"})]}),i.jsx("button",{onClick:K=>{K.stopPropagation(),Ms(()=>Promise.resolve().then(()=>Xc),void 0).then(Q=>Q.exportSingleFile(l))},className:"p-1.5 rounded bg-gray-900 text-gray-500 hover:bg-gray-800 hover:text-white transition-colors",title:"Download WAV",children:i.jsx(Ln,{size:14})}),i.jsx("button",{onClick:K=>{K.stopPropagation(),m()},className:"p-2 hover:bg-white/10 text-gray-500 hover:text-white rounded transition-colors",title:"Open Editor",children:i.jsx(Cp,{size:14})}),i.jsx("button",{onClick:K=>{K.stopPropagation(),f()},className:"p-2 hover:bg-synthux-yellow/20 text-gray-500 hover:text-synthux-yellow rounded transition-colors",title:"Remove from Slot (Move to Unassigned)",children:i.jsx(Wt,{size:14})}),i.jsx("button",{onClick:K=>{K.stopPropagation(),p?.()},className:"p-2 hover:bg-red-500/20 text-gray-500 hover:text-red-500 rounded transition-colors",title:"Permanently Delete File",children:i.jsx(qi,{size:14})})]})]}):i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-600 gap-2 group-hover:scale-105 transition-transform",children:[i.jsx("style",{children:`
                        .group:hover .empty-plus-large {
                            color: #ffb900 !important;
                            opacity: 1 !important; 
                            text-shadow: 0 0 10px #ffb90060;
                        }
                    `}),i.jsx("div",{className:"text-4xl font-light empty-plus-large transition-all duration-300",style:{color:"#ffb900",opacity:.5},children:"+"}),i.jsx("div",{className:"text-xs font-medium empty-plus-large transition-all duration-300",style:{color:"#ffb900",opacity:.5},children:"Empty Slot"})]})]})},Uy=({slots:x,files:l,tapeColor:o,activeSlotId:c,onSlotClick:m,onSlotDrop:u,onSlotDropInternal:h,onRemoveSlot:f,duplicates:p,onDeleteFile:d,onBulkAssign:S,selectedSlots:_,onSlotSelectionClick:E,onToggleSlotSelection:b,onSlotDragStart:j})=>i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 p-6 w-full max-w-4xl mx-auto",children:x.map(v=>{const k=v.fileId?l[v.fileId]:null,N=v.fileId?p.has(v.fileId):!1;return i.jsx(By,{slot:v,fileRecord:k,tapeColor:o,isActive:c===v.id,isDuplicate:N,onClick:()=>m(v.id),onDrop:z=>u(v.id,z),onDropInternal:(z,D,B,H,W)=>h(v.id,z,D,B,H,W),onRemove:()=>f(v.id),onDelete:()=>v.fileId&&d(v.fileId),onBulkAssign:S,isSelected:_.has(`${o}-${v.id}`),onSlotSelectionClick:z=>E(o,v.id,z),onToggleSlotSelection:()=>b(o,v.id),onSlotDragStart:z=>j(z,v.id,o)},v.id)})}),Ly=({slot:x,fileRecord:l,tapeColor:o,onRemove:c,onDelete:m,onDrop:u,onDropInternal:h,onClick:f,isDuplicate:p,onBulkAssign:d,isSelected:S,onToggleSlotSelection:_,onSlotDragStart:E})=>{const{play:b,stop:j,isPlaying:v,activeFileId:k}=ur(),N=v&&k===l?.id,z=l?.versions.find(A=>A.id===l.currentVersionId),[D,B]=be.useState(!1),H=S?"ring-2 ring-white z-10":"",W=A=>{if(E){E(A);return}l?(A.dataTransfer.setData("application/x-spotykach-file-id",l.id),A.dataTransfer.setData("text/plain",l.id),A.dataTransfer.setData("application/x-spotykach-source","slot"),A.dataTransfer.setData("application/x-spotykach-slot-id",x.id.toString()),A.dataTransfer.effectAllowed="copyMove"):A.preventDefault()},Y=A=>{A.preventDefault(),A.stopPropagation(),A.dataTransfer.types.includes("application/x-spotykach-file-id")||A.dataTransfer.types.includes("text/plain")?(A.dataTransfer.dropEffect=A.ctrlKey||A.altKey?"copy":"move",D||B(!0)):(A.dataTransfer.dropEffect="copy",B(!!A.dataTransfer.types.length))},G=A=>{A.preventDefault(),A.stopPropagation(),(A.dataTransfer.types.includes("application/x-spotykach-file-id")||A.dataTransfer.types.includes("text/plain"))&&B(!0)},U=A=>{A.preventDefault(),A.currentTarget.contains(A.relatedTarget)||B(!1)},X=A=>{A.preventDefault(),A.stopPropagation(),B(!1);let O=A.dataTransfer.getData("application/x-spotykach-file-id"),g=A.dataTransfer.getData("application/x-spotykach-source"),I=A.dataTransfer.getData("application/x-spotykach-bulk-ids"),q=A.dataTransfer.getData("application/x-spotykach-bulk-source-slots"),L=A.dataTransfer.getData("application/x-spotykach-slot-id"),K=A.dataTransfer.getData("application/x-spotykach-slot-color");if(!O){const Q=A.dataTransfer.getData("text/plain");if(Q)try{const ue=JSON.parse(Q);ue.id?(O=ue.id,g=ue.source,ue.bulkIds&&(I=JSON.stringify(ue.bulkIds)),ue.bulkSourceKeys&&(q=JSON.stringify(ue.bulkSourceKeys)),ue.slotId&&(L=ue.slotId.toString()),ue.slotColor&&(K=ue.slotColor)):O=Q}catch{O=Q}}if(I&&d)try{const Q=JSON.parse(I),ue=q?JSON.parse(q):void 0;if(Array.isArray(Q)&&Q.length>0){d(x.id,Q,o,ue);return}}catch(Q){console.error("Failed to parse bulk drop",Q)}if(O){const Q=A.ctrlKey||A.altKey,ue=L?parseInt(L,10):void 0;h(O,g,Q,ue,K||void 0);return}A.dataTransfer.files&&A.dataTransfer.files.length>0&&u(A.dataTransfer.files)},ne=A=>{switch(A){case"Blue":return"#00aaff";case"Green":return"#00ff00";case"Pink":return"#ff00ff";case"Red":return"#f00f13";case"Turquoise":return"#00ffff";case"Yellow":return"#ffb900";default:return"#fff"}};return i.jsxs("div",{onClick:f,onDoubleClick:f,draggable:!!l,onDragStart:W,onDragOver:Y,onDragEnter:G,onDragLeave:U,onDrop:X,style:{touchAction:"none"},className:`
            relative w-full h-full min-h-[50px] rounded-lg border bg-[#151515] 
            flex flex-col group transition-all
            ${D?"border-synthux-blue bg-synthux-blue/10 scale-105 z-20 shadow-xl":"border-gray-800 hover:border-gray-500"}
            ${l?"cursor-grab active:cursor-grabbing":"opacity-80 hover:opacity-100 cursor-pointer"}
            ${l&&p?"!border-orange-500/50":""}
            ${H}
        `,children:[l&&i.jsx("div",{className:`absolute -top-1 -left-1 w-4 h-4 z-20 rounded-full border flex items-center justify-center cursor-pointer transition-colors ${S?"bg-synthux-yellow border-white text-black":"bg-gray-800 border-gray-600 text-transparent hover:border-gray-400"}`,onClick:A=>{A.stopPropagation(),_()},children:i.jsx("div",{className:"w-1.5 h-1.5 bg-current rounded-full"})}),l&&z?i.jsxs(i.Fragment,{children:[p&&i.jsx("div",{className:"absolute -top-1.5 -right-1.5 z-30 text-orange-400/80 bg-black/50 rounded-full p-0.5 border border-orange-500/30 shadow-sm",children:i.jsx(vn,{size:8})}),i.jsx("div",{className:"absolute inset-0 z-0 opacity-50 overflow-hidden rounded-lg",children:i.jsx(Ap,{blob:z.blob,width:100,height:60,color:N?"#ffffff":"#6b7280",className:"w-full h-full p-2"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full p-2 bg-gradient-to-t from-black/80 to-transparent",children:[i.jsxs("div",{className:`flex justify - between items - start transition - opacity duration - 200 ${N?"opacity-100":"opacity-0 group-hover:opacity-100"} `,children:[i.jsx("button",{onClick:A=>{A.stopPropagation(),N?j():b(l)},className:"p-1 rounded-full bg-black/60 hover:bg-white text-white hover:text-black transition-colors",title:N?"Stop":"Play",children:N?i.jsx(cr,{size:10,fill:"currentColor"}):i.jsx(Vi,{size:10,fill:"currentColor"})}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:A=>{A.stopPropagation(),f()},className:"p-1 rounded-full bg-black/60 hover:bg-white text-white hover:text-black transition-colors",title:"Edit",children:i.jsx(Cp,{size:10})}),i.jsx("button",{onClick:A=>{A.stopPropagation(),c()},className:"p-1 rounded-full bg-black/60 hover:bg-synthux-yellow/20 text-gray-400 hover:text-synthux-yellow transition-colors",title:"Unassign",children:i.jsx(Wt,{size:10})}),m&&i.jsx("button",{onClick:A=>{A.stopPropagation(),m()},className:"p-1 rounded-full bg-black/60 hover:bg-red-500 text-gray-400 hover:text-white transition-colors",title:"Delete Permanently",children:i.jsx(qi,{size:10})})]})]}),i.jsx("div",{className:"mt-auto pt-2",children:i.jsx("div",{className:"text-[9px] font-bold text-gray-300 truncate",title:l.name,children:l.name})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-full group-hover:scale-110 transition-transform",children:i.jsxs("div",{className:"text-2xl font-light transition-colors duration-300",style:{color:"#ffb900",opacity:.5},children:[i.jsx("style",{children:`
        .group: hover.empty - plus {
        color: ${ne(o)} !important;
        opacity: 1!important;
        text - shadow: 0 0 8px ${ne(o)} 40;
    }
    `}),i.jsx("span",{className:"empty-plus transition-all duration-300",children:"+"})]})})]})},Hy=({tapes:x,files:l,onRemoveSlot:o,onSlotDrop:c,onSlotDropInternal:m,onSlotClick:u,onTapeHeaderClick:h,duplicates:f,onDeleteFile:p,onBulkAssign:d,selectedSlots:S,onSlotSelectionClick:_,onToggleSlotSelection:E,onSlotDragStart:b})=>{const j=v=>{switch(v){case"Red":return"red";case"Blue":return"blue";case"Green":return"green";case"Pink":return"pink";case"Yellow":return"yellow";case"Turquoise":return"turquoise";default:return"blue"}};return i.jsx("div",{className:"w-full h-full p-4 md:p-6 relative z-10 flex flex-col overflow-hidden",children:i.jsx("div",{className:"flex-1 flex flex-col gap-2 min-h-0",children:Ct.map(v=>{const k=x[v],N=`var(--color-synthux-${j(v)})`;return i.jsxs("div",{className:"flex-1 min-h-[60px] flex flex-col md:flex-row gap-2 items-center p-2 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group/tape-row",children:[i.jsxs("button",{onClick:()=>h(v),className:"w-24 flex-shrink-0 flex items-center gap-3 md:flex-col md:items-center md:gap-2 cursor-pointer hover:bg-white/10 rounded-lg p-1 transition-colors group/header",title:`Open ${v} Tape View`,children:[i.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 group-hover/header:scale-110 transition-transform",children:i.jsx(ai,{color:N,className:"w-full h-full"})}),i.jsx("span",{style:{color:N},className:"text-xs font-bold uppercase tracking-wider group-hover/header:brightness-125 transition-all",children:v})]}),i.jsx("div",{className:"flex-1 w-full h-full grid grid-cols-6 gap-2",children:k.slots.map(z=>{const D=z.fileId?l[z.fileId]:null,B=z.fileId?f.has(z.fileId):!1;return i.jsx("div",{className:"h-full",children:i.jsx(Ly,{slot:z,fileRecord:D,tapeColor:v,isDuplicate:B,onRemove:()=>o(z.id),onDelete:()=>z.fileId&&p(z.fileId),onDrop:H=>c(z.id,H,v),onDropInternal:(H,W,Y,G,U)=>m(z.id,H,W,Y,v,G,U),onClick:()=>u(z.id,v),onBulkAssign:d,isSelected:S.has(`${v}-${z.id}`),onSlotSelectionClick:H=>_(z.id,v,H),onToggleSlotSelection:()=>E(z.id,v),onSlotDragStart:H=>b(H,z.id,v)})},z.id)})})]},v)})})})};function tn(x,l,o,c){return new(o||(o=Promise))((function(m,u){function h(d){try{p(c.next(d))}catch(S){u(S)}}function f(d){try{p(c.throw(d))}catch(S){u(S)}}function p(d){var S;d.done?m(d.value):(S=d.value,S instanceof o?S:new o((function(_){_(S)}))).then(h,f)}p((c=c.apply(x,l||[])).next())}))}let Us=class{constructor(){this.listeners={}}on(l,o,c){if(this.listeners[l]||(this.listeners[l]=new Set),c?.once){const m=(...u)=>{this.un(l,m),o(...u)};return this.listeners[l].add(m),()=>this.un(l,m)}return this.listeners[l].add(o),()=>this.un(l,o)}un(l,o){var c;(c=this.listeners[l])===null||c===void 0||c.delete(o)}once(l,o){return this.on(l,o,{once:!0})}unAll(){this.listeners={}}emit(l,...o){this.listeners[l]&&this.listeners[l].forEach((c=>c(...o)))}};const Jl={decode:function(x,l){return tn(this,void 0,void 0,(function*(){const o=new AudioContext({sampleRate:l});try{return yield o.decodeAudioData(x)}finally{o.close()}}))},createBuffer:function(x,l){if(!x||x.length===0)throw new Error("channelData must be a non-empty array");if(l<=0)throw new Error("duration must be greater than 0");if(typeof x[0]=="number"&&(x=[x]),!x[0]||x[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(c){const m=c[0];if(m.some((u=>u>1||u<-1))){const u=m.length;let h=0;for(let f=0;f<u;f++){const p=Math.abs(m[f]);p>h&&(h=p)}for(const f of c)for(let p=0;p<u;p++)f[p]/=h}})(x);const o=x.map((c=>c instanceof Float32Array?c:Float32Array.from(c)));return{duration:l,length:o[0].length,sampleRate:o[0].length/l,numberOfChannels:o.length,getChannelData:c=>{const m=o[c];if(!m)throw new Error(`Channel ${c} not found`);return m},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Op(x,l){const o=l.xmlns?document.createElementNS(l.xmlns,x):document.createElement(x);for(const[c,m]of Object.entries(l))if(c==="children"&&m)for(const[u,h]of Object.entries(m))h instanceof Node?o.appendChild(h):typeof h=="string"?o.appendChild(document.createTextNode(h)):o.appendChild(Op(u,h));else c==="style"?Object.assign(o.style,m):c==="textContent"?o.textContent=m:o.setAttribute(c,m.toString());return o}function np(x,l,o){const c=Op(x,l||{});return o?.appendChild(c),c}var Vy=Object.freeze({__proto__:null,createElement:np,default:np});const qy={fetchBlob:function(x,l,o){return tn(this,void 0,void 0,(function*(){const c=yield fetch(x,o);if(c.status>=400)throw new Error(`Failed to fetch ${x}: ${c.status} (${c.statusText})`);return(function(m,u){tn(this,void 0,void 0,(function*(){if(!m.body||!m.headers)return;const h=m.body.getReader(),f=Number(m.headers.get("Content-Length"))||0;let p=0;const d=S=>{p+=S?.length||0;const _=Math.round(p/f*100);u(_)};try{for(;;){const S=yield h.read();if(S.done)break;d(S.value)}}catch(S){console.warn("Progress tracking error:",S)}}))})(c.clone(),l),c.blob()}))}};function Mt(x){let l=x;const o=new Set;return{get value(){return l},set(c){Object.is(l,c)||(l=c,o.forEach((m=>m(l))))},update(c){this.set(c(l))},subscribe:c=>(o.add(c),()=>o.delete(c))}}function ti(x,l){const o=Mt(x());return l.forEach((c=>c.subscribe((()=>{const m=x();Object.is(o.value,m)||o.set(m)})))),{get value(){return o.value},subscribe:c=>o.subscribe(c)}}function Ma(x,l){let o;const c=()=>{o&&(o(),o=void 0),o=x()},m=l.map((u=>u.subscribe(c)));return c(),()=>{o&&(o(),o=void 0),m.forEach((u=>u()))}}class Yy extends Us{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(l){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],l.media?(this.media=l.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=Mt(!1),this._currentTime=Mt(0),this._duration=Mt(0),this._volume=Mt(this.media.volume),this._muted=Mt(this.media.muted),this._playbackRate=Mt(this.media.playbackRate||1),this._seeking=Mt(!1),this.setupReactiveMediaEvents(),l.mediaControls&&(this.media.controls=!0),l.autoplay&&(this.media.autoplay=!0),l.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{l.playbackRate!=null&&(this.media.playbackRate=l.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(l,o,c){return this.media.addEventListener(l,o,c),()=>this.media.removeEventListener(l,o,c)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const l=this.getSrc();l.startsWith("blob:")&&URL.revokeObjectURL(l)}canPlayType(l){return this.media.canPlayType(l)!==""}setSrc(l,o){const c=this.getSrc();if(l&&c===l)return;this.revokeSrc();const m=o instanceof Blob&&(this.canPlayType(o.type)||!l)?URL.createObjectURL(o):l;if(c&&this.media.removeAttribute("src"),m||l)try{this.media.src=m}catch{this.media.src=l}}destroy(){this.reactiveMediaEventCleanups.forEach((l=>l())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(l){this.reactiveMediaEventCleanups.forEach((o=>o())),this.reactiveMediaEventCleanups=[],this.media=l,this.setupReactiveMediaEvents()}play(){return tn(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(l){if(l instanceof DOMException&&l.name==="AbortError")return;throw l}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(l){this.media.currentTime=Math.max(0,Math.min(l,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(l){this.media.volume=l}getMuted(){return this.media.muted}setMuted(l){this.media.muted=l}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(l,o){o!=null&&(this.media.preservesPitch=o),this.media.playbackRate=l}getMediaElement(){return this.media}setSinkId(l){return this.media.setSinkId(l)}}function Zy({maxTop:x,maxBottom:l,halfHeight:o,vScale:c,barMinHeight:m=0,barAlign:u}){let h=Math.round(x*o*c),f=h+Math.round(l*o*c)||1;return f<m&&(f=m,u||(h=f/2)),{topHeight:h,totalHeight:f}}function Iy({barAlign:x,halfHeight:l,topHeight:o,totalHeight:c,canvasHeight:m}){return x==="top"?0:x==="bottom"?m-c:l-o}function ap(x,l,o){const c=l-x.left,m=o-x.top;return[c/x.width,m/x.height]}function Mp(x){return!!(x.barWidth||x.barGap||x.barAlign)}function ip(x,l){if(!Mp(l))return x;const o=l.barWidth||.5,c=o+(l.barGap||o/2);return c===0?x:Math.floor(x/c)*c}function sp({scrollLeft:x,totalWidth:l,numCanvases:o}){if(l===0)return[0];const c=x/l,m=Math.floor(c*o);return[m-1,m,m+1]}function Rp(x){const l=x._cleanup;typeof l=="function"&&l()}function Gy(x){const l=Mt({scrollLeft:x.scrollLeft,scrollWidth:x.scrollWidth,clientWidth:x.clientWidth}),o=ti((()=>(function(u){const{scrollLeft:h,scrollWidth:f,clientWidth:p}=u;if(f===0)return{startX:0,endX:1};const d=h/f,S=(h+p)/f;return{startX:Math.max(0,Math.min(1,d)),endX:Math.max(0,Math.min(1,S))}})(l.value)),[l]),c=ti((()=>(function(u){return{left:u.scrollLeft,right:u.scrollLeft+u.clientWidth}})(l.value)),[l]),m=()=>{l.set({scrollLeft:x.scrollLeft,scrollWidth:x.scrollWidth,clientWidth:x.clientWidth})};return x.addEventListener("scroll",m,{passive:!0}),{scrollData:l,percentages:o,bounds:c,cleanup:()=>{x.removeEventListener("scroll",m),Rp(l)}}}class Xy extends Us{constructor(l,o){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=l;const c=this.parentFromOptionsContainer(l.container);this.parent=c;const[m,u]=this.initHtml();c.appendChild(m),this.container=m,this.scrollContainer=u.querySelector(".scroll"),this.wrapper=u.querySelector(".wrapper"),this.canvasWrapper=u.querySelector(".canvases"),this.progressWrapper=u.querySelector(".progress"),this.cursor=u.querySelector(".cursor"),o&&u.appendChild(o),this.initEvents()}parentFromOptionsContainer(l){let o;if(typeof l=="string"?o=document.querySelector(l):l instanceof HTMLElement&&(o=l),!o)throw new Error("Container not found");return o}initEvents(){this.wrapper.addEventListener("click",(o=>{const c=this.wrapper.getBoundingClientRect(),[m,u]=ap(c,o.clientX,o.clientY);this.emit("click",m,u)})),this.wrapper.addEventListener("dblclick",(o=>{const c=this.wrapper.getBoundingClientRect(),[m,u]=ap(c,o.clientX,o.clientY);this.emit("dblclick",m,u)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollStream=Gy(this.scrollContainer);const l=Ma((()=>{const{startX:o,endX:c}=this.scrollStream.percentages.value,{left:m,right:u}=this.scrollStream.bounds.value;this.emit("scroll",o,c,m,u)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(l),typeof ResizeObserver=="function"){const o=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{o().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const l=this.parent.clientWidth;l===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=l,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=(function(o,c={}){const{threshold:m=3,mouseButton:u=0,touchDelay:h=100}=c,f=Mt(null),p=new Map,d=matchMedia("(pointer: coarse)").matches;let S=()=>{};const _=E=>{if(E.button!==u||(p.set(E.pointerId,E),p.size>1))return;let b=E.clientX,j=E.clientY,v=!1;const k=Date.now(),N=o.getBoundingClientRect(),{left:z,top:D}=N,B=U=>{if(U.defaultPrevented||p.size>1||d&&Date.now()-k<h)return;const X=U.clientX,ne=U.clientY,A=X-b,O=ne-j;(v||Math.abs(A)>m||Math.abs(O)>m)&&(U.preventDefault(),U.stopPropagation(),v||(f.set({type:"start",x:b-z,y:j-D}),v=!0),f.set({type:"move",x:X-z,y:ne-D,deltaX:A,deltaY:O}),b=X,j=ne)},H=U=>{if(p.delete(U.pointerId),v){const X=U.clientX,ne=U.clientY;f.set({type:"end",x:X-z,y:ne-D})}S()},W=U=>{p.delete(U.pointerId),U.relatedTarget&&U.relatedTarget!==document.documentElement||H(U)},Y=U=>{v&&(U.stopPropagation(),U.preventDefault())},G=U=>{U.defaultPrevented||p.size>1||v&&U.preventDefault()};document.addEventListener("pointermove",B),document.addEventListener("pointerup",H),document.addEventListener("pointerout",W),document.addEventListener("pointercancel",W),document.addEventListener("touchmove",G,{passive:!1}),document.addEventListener("click",Y,{capture:!0}),S=()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",H),document.removeEventListener("pointerout",W),document.removeEventListener("pointercancel",W),document.removeEventListener("touchmove",G),setTimeout((()=>{document.removeEventListener("click",Y,{capture:!0})}),10)}};return o.addEventListener("pointerdown",_),{signal:f,cleanup:()=>{S(),o.removeEventListener("pointerdown",_),p.clear(),Rp(f)}}})(this.wrapper);const l=Ma((()=>{const o=this.dragStream.signal.value;if(!o)return;const c=this.wrapper.getBoundingClientRect().width,m=(u=o.x/c)<0?0:u>1?1:u;var u;o.type==="start"?(this.isDragging=!0,this.emit("dragstart",m)):o.type==="move"?this.emit("drag",m):o.type==="end"&&(this.isDragging=!1,this.emit("dragend",m))}),[this.dragStream.signal]);this.subscriptions.push(l)}initHtml(){const l=document.createElement("div"),o=l.attachShadow({mode:"open"}),c=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return o.innerHTML=`
      <style${c?` nonce="${c}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[l,o]}setOptions(l){if(this.options.container!==l.container){const o=this.parentFromOptionsContainer(l.container);o.appendChild(this.container),this.parent=o}l.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=l,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(l){this.scrollContainer.scrollLeft=l}setScrollPercentage(l){const{scrollWidth:o}=this.scrollContainer,c=o*l;this.setScroll(c)}destroy(){var l;this.subscriptions.forEach((o=>o())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(l=this.unsubscribeOnScroll)===null||l===void 0||l.forEach((o=>o())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(l=10){let o,c;const m=()=>{o&&(clearTimeout(o),o=void 0),c&&(c(),c=void 0)};return this.timeouts.push(m),()=>new Promise(((u,h)=>{m(),c=h,o=setTimeout((()=>{o=void 0,c=void 0,u()}),l)}))}getHeight(l,o){var c;const m=((c=this.audioData)===null||c===void 0?void 0:c.numberOfChannels)||1;return(function({optionsHeight:u,optionsSplitChannels:h,parentHeight:f,numberOfChannels:p,defaultHeight:d=128}){if(u==null)return d;const S=Number(u);if(!isNaN(S))return S;if(u==="auto"){const _=f||d;return h?.every((E=>!E.overlay))?_/p:_}return d})({optionsHeight:l,optionsSplitChannels:o,parentHeight:this.parent.clientHeight,numberOfChannels:m,defaultHeight:128})}convertColorValues(l,o){return(function(c,m,u){if(!Array.isArray(c))return c||"";if(c.length===0)return"#999";if(c.length<2)return c[0]||"";const h=document.createElement("canvas"),f=h.getContext("2d"),p=u??h.height*m,d=f.createLinearGradient(0,0,0,p||m),S=1/(c.length-1);return c.forEach(((_,E)=>{d.addColorStop(E*S,_)})),d})(l,this.getPixelRatio(),o?.canvas.height)}getPixelRatio(){return l=window.devicePixelRatio,Math.max(1,l||1);var l}renderBarWaveform(l,o,c,m){const{width:u,height:h}=c.canvas,{halfHeight:f,barWidth:p,barRadius:d,barIndexScale:S,barSpacing:_,barMinHeight:E}=(function({width:j,height:v,length:k,options:N,pixelRatio:z}){const D=v/2,B=N.barWidth?N.barWidth*z:1,H=N.barGap?N.barGap*z:N.barWidth?B/2:0,W=B+H||1;return{halfHeight:D,barWidth:B,barGap:H,barRadius:N.barRadius||0,barMinHeight:N.barMinHeight?N.barMinHeight*z:0,barIndexScale:k>0?j/W/k:0,barSpacing:W}})({width:u,height:h,length:(l[0]||[]).length,options:o,pixelRatio:this.getPixelRatio()}),b=(function({channelData:j,barIndexScale:v,barSpacing:k,barWidth:N,halfHeight:z,vScale:D,canvasHeight:B,barAlign:H,barMinHeight:W}){const Y=j[0]||[],G=j[1]||Y,U=Y.length,X=[];let ne=0,A=0,O=0;for(let g=0;g<=U;g++){const I=Math.round(g*v);if(I>ne){const{topHeight:K,totalHeight:Q}=Zy({maxTop:A,maxBottom:O,halfHeight:z,vScale:D,barMinHeight:W,barAlign:H}),ue=Iy({barAlign:H,halfHeight:z,topHeight:K,totalHeight:Q,canvasHeight:B});X.push({x:ne*k,y:ue,width:N,height:Q}),ne=I,A=0,O=0}const q=Math.abs(Y[g]||0),L=Math.abs(G[g]||0);q>A&&(A=q),L>O&&(O=L)}return X})({channelData:l,barIndexScale:S,barSpacing:_,barWidth:p,halfHeight:f,vScale:m,canvasHeight:h,barAlign:o.barAlign,barMinHeight:E});c.beginPath();for(const j of b)d&&"roundRect"in c?c.roundRect(j.x,j.y,j.width,j.height,d):c.rect(j.x,j.y,j.width,j.height);c.fill(),c.closePath()}renderLineWaveform(l,o,c,m){const{width:u,height:h}=c.canvas,f=(function({channelData:p,width:d,height:S,vScale:_}){const E=S/2,b=p[0]||[];return[b,p[1]||b].map(((j,v)=>{const k=j.length,N=k?d/k:0,z=E,D=v===0?-1:1,B=[{x:0,y:z}];let H=0,W=0;for(let Y=0;Y<=k;Y++){const G=Math.round(Y*N);if(G>H){const X=z+(Math.round(W*E*_)||1)*D;B.push({x:H,y:X}),H=G,W=0}const U=Math.abs(j[Y]||0);U>W&&(W=U)}return B.push({x:H,y:z}),B}))})({channelData:l,width:u,height:h,vScale:m});c.beginPath();for(const p of f)if(p.length){c.moveTo(p[0].x,p[0].y);for(let d=1;d<p.length;d++){const S=p[d];c.lineTo(S.x,S.y)}}c.fill(),c.closePath()}renderWaveform(l,o,c){if(c.fillStyle=this.convertColorValues(o.waveColor,c),o.renderFunction)return void o.renderFunction(l,c);const m=(function({channelData:u,barHeight:h,normalize:f,maxPeak:p}){var d;const S=h||1;if(!f)return S;const _=u[0];if(!_||_.length===0)return S;let E=p??0;if(!p)for(let b=0;b<_.length;b++){const j=(d=_[b])!==null&&d!==void 0?d:0,v=Math.abs(j);v>E&&(E=v)}return E?S/E:S})({channelData:l,barHeight:o.barHeight,normalize:o.normalize,maxPeak:o.maxPeak});Mp(o)?this.renderBarWaveform(l,o,c,m):this.renderLineWaveform(l,o,c,m)}renderSingleCanvas(l,o,c,m,u,h,f){const p=this.getPixelRatio(),d=document.createElement("canvas");d.width=Math.round(c*p),d.height=Math.round(m*p),d.style.width=`${c}px`,d.style.height=`${m}px`,d.style.left=`${Math.round(u)}px`,h.appendChild(d);const S=d.getContext("2d");if(o.renderFunction?(S.fillStyle=this.convertColorValues(o.waveColor,S),o.renderFunction(l,S)):this.renderWaveform(l,o,S),d.width>0&&d.height>0){const _=d.cloneNode(),E=_.getContext("2d");E.drawImage(d,0,0),E.globalCompositeOperation="source-in",E.fillStyle=this.convertColorValues(o.progressColor,E),E.fillRect(0,0,d.width,d.height),f.appendChild(_)}}renderMultiCanvas(l,o,c,m,u,h){const f=this.getPixelRatio(),{clientWidth:p}=this.scrollContainer,d=c/f,S=(function({clientWidth:j,totalWidth:v,options:k}){return ip(Math.min(8e3,j,v),k)})({clientWidth:p,totalWidth:d,options:o});let _={};if(S===0)return;const E=j=>{if(j<0||j>=b||_[j])return;_[j]=!0;const v=j*S;let k=Math.min(d-v,S);if(k=ip(k,o),k<=0)return;const N=(function({channelData:z,offset:D,clampedWidth:B,totalWidth:H}){return z.map((W=>{const Y=Math.floor(D/H*W.length),G=Math.floor((D+B)/H*W.length);return W.slice(Y,G)}))})({channelData:l,offset:v,clampedWidth:k,totalWidth:d});this.renderSingleCanvas(N,o,k,m,v,u,h)},b=Math.ceil(d/S);if(!this.isScrollable){for(let j=0;j<b;j++)E(j);return}if(sp({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:d,numCanvases:b}).forEach((j=>E(j))),b>1){const j=this.on("scroll",(()=>{const{scrollLeft:v}=this.scrollContainer;Object.keys(_).length>10&&(u.innerHTML="",h.innerHTML="",_={}),sp({scrollLeft:v,totalWidth:d,numCanvases:b}).forEach((k=>E(k)))}));this.unsubscribeOnScroll.push(j)}}renderChannel(l,o,c,m){var{overlay:u}=o,h=(function(S,_){var E={};for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&_.indexOf(b)<0&&(E[b]=S[b]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function"){var j=0;for(b=Object.getOwnPropertySymbols(S);j<b.length;j++)_.indexOf(b[j])<0&&Object.prototype.propertyIsEnumerable.call(S,b[j])&&(E[b[j]]=S[b[j]])}return E})(o,["overlay"]);const f=document.createElement("div"),p=this.getHeight(h.height,h.splitChannels);f.style.height=`${p}px`,u&&m>0&&(f.style.marginTop=`-${p}px`),this.canvasWrapper.style.minHeight=`${p}px`,this.canvasWrapper.appendChild(f);const d=f.cloneNode();this.progressWrapper.appendChild(d),this.renderMultiCanvas(l,h,c,p,f,d)}render(l){return tn(this,void 0,void 0,(function*(){var o;this.timeouts.forEach((d=>d())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const c=this.getPixelRatio(),m=this.scrollContainer.clientWidth,{scrollWidth:u,isScrollable:h,useParentWidth:f,width:p}=(function({duration:d,minPxPerSec:S=0,parentWidth:_,fillParent:E,pixelRatio:b}){const j=Math.ceil(d*S),v=j>_,k=!!(E&&!v);return{scrollWidth:j,isScrollable:v,useParentWidth:k,width:(k?_:j)*b}})({duration:l.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:m,fillParent:this.options.fillParent,pixelRatio:c});if(this.isScrollable=h,this.wrapper.style.width=f?"100%":`${u}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=l,this.emit("render"),this.options.splitChannels)for(let d=0;d<l.numberOfChannels;d++){const S=Object.assign(Object.assign({},this.options),(o=this.options.splitChannels)===null||o===void 0?void 0:o[d]);this.renderChannel([l.getChannelData(d)],S,p,d)}else{const d=[l.getChannelData(0)];l.numberOfChannels>1&&d.push(l.getChannelData(1)),this.renderChannel(d,this.options,p,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((c=>c())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:l}=this.scrollContainer,{right:o}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&l!==this.scrollContainer.scrollWidth){const{right:c}=this.progressWrapper.getBoundingClientRect(),m=(function(u){const h=2*u;return(h<0?Math.floor(h):Math.ceil(h))/2})(c-o);this.scrollContainer.scrollLeft+=m}}zoom(l){this.options.minPxPerSec=l,this.reRender()}scrollIntoView(l,o=!1){const{scrollLeft:c,scrollWidth:m,clientWidth:u}=this.scrollContainer,h=l*m,f=c,p=c+u,d=u/2;if(this.isDragging)h+30>p?this.scrollContainer.scrollLeft+=30:h-30<f&&(this.scrollContainer.scrollLeft-=30);else{(h<f||h>p)&&(this.scrollContainer.scrollLeft=h-(this.options.autoCenter?d:0));const S=h-c-d;o&&this.options.autoCenter&&S>0&&(this.scrollContainer.scrollLeft+=S)}}renderProgress(l,o){if(isNaN(l))return;const c=100*l;this.canvasWrapper.style.clipPath=`polygon(${c}% 0%, 100% 0%, 100% 100%, ${c}% 100%)`,this.progressWrapper.style.width=`${c}%`,this.cursor.style.left=`${c}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${l*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(l,o)}exportImage(l,o,c){return tn(this,void 0,void 0,(function*(){const m=this.canvasWrapper.querySelectorAll("canvas");if(!m.length)throw new Error("No waveform data");if(c==="dataURL"){const u=Array.from(m).map((h=>h.toDataURL(l,o)));return Promise.resolve(u)}return Promise.all(Array.from(m).map((u=>new Promise(((h,f)=>{u.toBlob((p=>{p?h(p):f(new Error("Could not export image"))}),l,o)})))))}))}}class Fy extends Us{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const l=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(l))};l()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class Cc extends Us{constructor(l=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=l,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return tn(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(l){if(this.currentSrc=l,this._duration=void 0,!l)return this.buffer=null,void this.emit("emptied");fetch(l).then((o=>{if(o.status>=400)throw new Error(`Failed to fetch ${l}: ${o.status} (${o.statusText})`);return o.arrayBuffer()})).then((o=>this.currentSrc!==l?null:this.audioContext.decodeAudioData(o))).then((o=>{this.currentSrc===l&&(this.buffer=o,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((o=>{console.error("WebAudioPlayer load error:",o)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let l=this.playedDuration*this._playbackRate;(l>=this.duration||l<0)&&(l=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,l),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var l;this.paused=!0,(l=this.bufferNode)===null||l===void 0||l.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return tn(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(l){const o=l-this.currentTime,c=this.bufferNode;c?.stop(this.audioContext.currentTime+o),c?.addEventListener("ended",(()=>{c===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(l){return tn(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(l)}))}get playbackRate(){return this._playbackRate}set playbackRate(l){this._playbackRate=l,this.bufferNode&&(this.bufferNode.playbackRate.value=l)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(l){const o=!this.paused;o&&this._pause(),this.playedDuration=l/this._playbackRate,o&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var l,o;return(l=this._duration)!==null&&l!==void 0?l:((o=this.buffer)===null||o===void 0?void 0:o.duration)||0}set duration(l){this._duration=l}get volume(){return this.gainNode.gain.value}set volume(l){this.gainNode.gain.value=l,this.emit("volumechange")}get muted(){return this._muted}set muted(l){this._muted!==l&&(this._muted=l,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(l){return/^(audio|video)\//.test(l)}getGainNode(){return this.gainNode}getChannelData(){const l=[];if(!this.buffer)return l;const o=this.buffer.numberOfChannels;for(let c=0;c<o;c++)l.push(this.buffer.getChannelData(c));return l}removeAttribute(l){switch(l){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const Ky={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Bs extends Yy{static create(l){return new Bs(l)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(l){const o=l.media||(l.backend==="WebAudio"?new Cc:void 0);super({media:o,mediaControls:l.mediaControls,autoplay:l.autoplay,playbackRate:l.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},Ky,l);const{state:c,actions:m}=(function(f){var p,d,S,_,E,b;const j=(p=f?.currentTime)!==null&&p!==void 0?p:Mt(0),v=(d=f?.duration)!==null&&d!==void 0?d:Mt(0),k=(S=f?.isPlaying)!==null&&S!==void 0?S:Mt(!1),N=(_=f?.isSeeking)!==null&&_!==void 0?_:Mt(!1),z=(E=f?.volume)!==null&&E!==void 0?E:Mt(1),D=(b=f?.playbackRate)!==null&&b!==void 0?b:Mt(1),B=Mt(null),H=Mt(null),W=Mt(""),Y=Mt(0),G=Mt(0),U=ti((()=>!k.value),[k]),X=ti((()=>B.value!==null),[B]),ne=ti((()=>X.value&&v.value>0),[X,v]),A=ti((()=>j.value),[j]),O=ti((()=>v.value>0?j.value/v.value:0),[j,v]);return{state:{currentTime:j,duration:v,isPlaying:k,isPaused:U,isSeeking:N,volume:z,playbackRate:D,audioBuffer:B,peaks:H,url:W,zoom:Y,scrollPosition:G,canPlay:X,isReady:ne,progress:A,progressPercent:O},actions:{setCurrentTime:g=>{const I=Math.max(0,Math.min(v.value||1/0,g));j.set(I)},setDuration:g=>{v.set(Math.max(0,g))},setPlaying:g=>{k.set(g)},setSeeking:g=>{N.set(g)},setVolume:g=>{const I=Math.max(0,Math.min(1,g));z.set(I)},setPlaybackRate:g=>{const I=Math.max(.1,Math.min(16,g));D.set(I)},setAudioBuffer:g=>{B.set(g),g&&v.set(g.duration)},setPeaks:g=>{H.set(g)},setUrl:g=>{W.set(g)},setZoom:g=>{Y.set(Math.max(0,g))},setScrollPosition:g=>{G.set(Math.max(0,g))}}}})({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=c,this.wavesurferActions=m,this.timer=new Fy;const u=o?void 0:this.getMediaElement();this.renderer=new Xy(this.options,u),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const h=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:f,duration:p}=this.options;(h||f&&p)&&this.load(h,f,p).catch((d=>{this.emit("error",d instanceof Error?d:new Error(String(d)))}))}))}updateProgress(l=this.getCurrentTime()){return this.renderer.renderProgress(l/this.getDuration(),this.isPlaying()),l}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const l=this.updateProgress();this.emit("timeupdate",l),this.emit("audioprocess",l),this.stopAtPosition!=null&&this.isPlaying()&&l>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push((function(l,o){const c=[];c.push(Ma((()=>{const h=l.isPlaying.value;o.emit(h?"play":"pause")}),[l.isPlaying])),c.push(Ma((()=>{const h=l.currentTime.value;o.emit("timeupdate",h),l.isPlaying.value&&o.emit("audioprocess",h)}),[l.currentTime,l.isPlaying])),c.push(Ma((()=>{l.isSeeking.value&&o.emit("seeking",l.currentTime.value)}),[l.isSeeking,l.currentTime]));let m=!1;c.push(Ma((()=>{l.isReady.value&&!m&&(m=!0,o.emit("ready",l.duration.value))}),[l.isReady,l.duration]));let u=!1;return c.push(Ma((()=>{const h=l.isPlaying.value,f=l.currentTime.value,p=l.duration.value,d=p>0&&f>=p;u&&!h&&d&&o.emit("finish"),u=h&&d}),[l.isPlaying,l.currentTime,l.duration])),c.push(Ma((()=>{const h=l.zoom.value;h>0&&o.emit("zoom",h)}),[l.zoom])),()=>{c.forEach((h=>h()))}})(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const l=this.updateProgress();this.emit("timeupdate",l)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var l;this.emit("error",(l=this.getMediaElement().error)!==null&&l!==void 0?l:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((l,o)=>{this.options.interact&&(this.seekTo(l),this.emit("interaction",l*this.getDuration()),this.emit("click",l,o))})),this.renderer.on("dblclick",((l,o)=>{this.emit("dblclick",l,o)})),this.renderer.on("scroll",((l,o,c,m)=>{const u=this.getDuration();this.emit("scroll",l*u,o*u,c,m)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(l=>{this.emit("dragstart",l)})),this.renderer.on("dragend",(l=>{this.emit("dragend",l)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let l;const o=this.renderer.on("drag",(c=>{var m;if(!this.options.interact)return;this.renderer.renderProgress(c),clearTimeout(l);let u=0;const h=this.options.dragToSeek;this.isPlaying()?u=0:h===!0?u=200:h&&typeof h=="object"&&(u=(m=h.debounceTime)!==null&&m!==void 0?m:200),l=setTimeout((()=>{this.seekTo(c)}),u),this.emit("interaction",c*this.getDuration()),this.emit("drag",c)}));this.subscriptions.push((()=>{clearTimeout(l),o()}))}}initPlugins(){var l;!((l=this.options.plugins)===null||l===void 0)&&l.length&&this.options.plugins.forEach((o=>{this.registerPlugin(o)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((l=>l())),this.mediaSubscriptions=[]}setOptions(l){this.options=Object.assign({},this.options,l),l.duration&&!l.peaks&&(this.decodedData=Jl.createBuffer(this.exportPeaks(),l.duration)),l.peaks&&l.duration&&(this.decodedData=Jl.createBuffer(l.peaks,l.duration)),this.renderer.setOptions(this.options),l.audioRate&&this.setPlaybackRate(l.audioRate),l.mediaControls!=null&&(this.getMediaElement().controls=l.mediaControls)}registerPlugin(l){if(this.plugins.includes(l))return l;l._init(this),this.plugins.push(l);const o=l.once("destroy",(()=>{this.plugins=this.plugins.filter((c=>c!==l)),this.subscriptions=this.subscriptions.filter((c=>c!==o))}));return this.subscriptions.push(o),l}unregisterPlugin(l){this.plugins=this.plugins.filter((o=>o!==l)),l.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(l){return this.renderer.setScroll(l)}setScrollTime(l){const o=l/this.getDuration();this.renderer.setScrollPercentage(o)}getActivePlugins(){return this.plugins}loadAudio(l,o,c,m){return tn(this,void 0,void 0,(function*(){var u;if(this.emit("load",l),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(u=this.abortController)===null||u===void 0||u.abort(),this.abortController=null,!o&&!c){const f=this.options.fetchParams||{};window.AbortController&&!f.signal&&(this.abortController=new AbortController,f.signal=this.abortController.signal);const p=S=>this.emit("loading",S);o=yield qy.fetchBlob(l,p,f);const d=this.options.blobMimeType;d&&(o=new Blob([o],{type:d}))}this.setSrc(l,o);const h=yield new Promise((f=>{const p=m||this.getDuration();p?f(p):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>f(this.getDuration())),{once:!0}))}));if(!l&&!o){const f=this.getMediaElement();f instanceof Cc&&(f.duration=h)}if(c)this.decodedData=Jl.createBuffer(c,h||0);else if(o){const f=yield o.arrayBuffer();this.decodedData=yield Jl.decode(f,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(l,o,c){return tn(this,void 0,void 0,(function*(){try{return yield this.loadAudio(l,void 0,o,c)}catch(m){throw this.emit("error",m),m}}))}loadBlob(l,o,c){return tn(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",l,o,c)}catch(m){throw this.emit("error",m),m}}))}zoom(l){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(l),this.emit("zoom",l)}getDecodedData(){return this.decodedData}exportPeaks({channels:l=2,maxLength:o=8e3,precision:c=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const m=Math.min(l,this.decodedData.numberOfChannels),u=[];for(let h=0;h<m;h++){const f=this.decodedData.getChannelData(h),p=[],d=f.length/o;for(let S=0;S<o;S++){const _=f.slice(Math.floor(S*d),Math.ceil((S+1)*d));let E=0;for(let b=0;b<_.length;b++){const j=_[b];Math.abs(j)>Math.abs(E)&&(E=j)}p.push(Math.round(E*c)/c)}u.push(p)}return u}getDuration(){let l=super.getDuration()||0;return l!==0&&l!==1/0||!this.decodedData||(l=this.decodedData.duration),l}toggleInteraction(l){this.options.interact=l}setTime(l){this.stopAtPosition=null,super.setTime(l),this.updateProgress(l),this.emit("timeupdate",l)}seekTo(l){const o=this.getDuration()*l;this.setTime(o)}play(l,o){const c=Object.create(null,{play:{get:()=>super.play}});return tn(this,void 0,void 0,(function*(){l!=null&&this.setTime(l);const m=yield c.play.call(this);return o!=null&&(this.media instanceof Cc?this.media.stopAt(o):this.stopAtPosition=o),m}))}playPause(){return tn(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(l){this.setTime(this.getCurrentTime()+l)}empty(){this.load("",[[0]],.001)}setMediaElement(l){this.unsubscribePlayerEvents(),super.setMediaElement(l),this.initPlayerEvents()}exportImage(){return tn(this,arguments,void 0,(function*(l="image/png",o=1,c="dataURL"){return this.renderer.exportImage(l,o,c)}))}destroy(){var l;this.emit("destroy"),(l=this.abortController)===null||l===void 0||l.abort(),this.plugins.forEach((o=>o.destroy())),this.subscriptions.forEach((o=>o())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((o=>o())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Bs.BasePlugin=class extends Us{constructor(x){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=x}onInit(){}_init(x){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=x,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((x=>x())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},Bs.dom=Vy;class Bp{constructor(){this.listeners={}}on(l,o,c){if(this.listeners[l]||(this.listeners[l]=new Set),c?.once){const m=(...u)=>{this.un(l,m),o(...u)};return this.listeners[l].add(m),()=>this.un(l,m)}return this.listeners[l].add(o),()=>this.un(l,o)}un(l,o){var c;(c=this.listeners[l])===null||c===void 0||c.delete(o)}once(l,o){return this.on(l,o,{once:!0})}unAll(){this.listeners={}}emit(l,...o){this.listeners[l]&&this.listeners[l].forEach((c=>c(...o)))}}class Qy extends Bp{constructor(l){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=l}onInit(){}_init(l){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=l,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((l=>l())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function Up(x,l){const o=l.xmlns?document.createElementNS(l.xmlns,x):document.createElement(x);for(const[c,m]of Object.entries(l))if(c==="children"&&m)for(const[u,h]of Object.entries(m))h instanceof Node?o.appendChild(h):typeof h=="string"?o.appendChild(document.createTextNode(h)):o.appendChild(Up(u,h));else c==="style"?Object.assign(o.style,m):c==="textContent"?o.textContent=m:o.setAttribute(c,m.toString());return o}function As(x,l,o){const c=Up(x,l||{});return o?.appendChild(c),c}function Lp(x){let l=x;const o=new Set;return{get value(){return l},set(c){Object.is(l,c)||(l=c,o.forEach((m=>m(l))))},update(c){this.set(c(l))},subscribe:c=>(o.add(c),()=>o.delete(c))}}function tr(x,l){let o;const c=()=>{o&&(o(),o=void 0),o=x()},m=l.map((u=>u.subscribe(c)));return c(),()=>{o&&(o(),o=void 0),m.forEach((u=>u()))}}function Hi(x,l){const o=Lp(null),c=m=>{o.set(m)};return x.addEventListener(l,c),o._cleanup=()=>{x.removeEventListener(l,c)},o}function Pa(x){const l=x._cleanup;typeof l=="function"&&l()}function nr(x,l={}){const{threshold:o=3,mouseButton:c=0,touchDelay:m=100}=l,u=Lp(null),h=new Map,f=matchMedia("(pointer: coarse)").matches;let p=()=>{};const d=S=>{if(S.button!==c||(h.set(S.pointerId,S),h.size>1))return;let _=S.clientX,E=S.clientY,b=!1;const j=Date.now(),v=x.getBoundingClientRect(),{left:k,top:N}=v,z=Y=>{if(Y.defaultPrevented||h.size>1||f&&Date.now()-j<m)return;const G=Y.clientX,U=Y.clientY,X=G-_,ne=U-E;(b||Math.abs(X)>o||Math.abs(ne)>o)&&(Y.preventDefault(),Y.stopPropagation(),b||(u.set({type:"start",x:_-k,y:E-N}),b=!0),u.set({type:"move",x:G-k,y:U-N,deltaX:X,deltaY:ne}),_=G,E=U)},D=Y=>{if(h.delete(Y.pointerId),b){const G=Y.clientX,U=Y.clientY;u.set({type:"end",x:G-k,y:U-N})}p()},B=Y=>{h.delete(Y.pointerId),Y.relatedTarget&&Y.relatedTarget!==document.documentElement||D(Y)},H=Y=>{b&&(Y.stopPropagation(),Y.preventDefault())},W=Y=>{Y.defaultPrevented||h.size>1||b&&Y.preventDefault()};document.addEventListener("pointermove",z),document.addEventListener("pointerup",D),document.addEventListener("pointerout",B),document.addEventListener("pointercancel",B),document.addEventListener("touchmove",W,{passive:!1}),document.addEventListener("click",H,{capture:!0}),p=()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",D),document.removeEventListener("pointerout",B),document.removeEventListener("pointercancel",B),document.removeEventListener("touchmove",W),setTimeout((()=>{document.removeEventListener("click",H,{capture:!0})}),10)}};return x.addEventListener("pointerdown",d),{signal:u,cleanup:()=>{p(),x.removeEventListener("pointerdown",d),h.clear(),Pa(u)}}}class lp extends Bp{constructor(l,o,c=0){var m,u,h,f,p,d,S,_,E,b;super(),this.totalDuration=o,this.numberOfChannels=c,this.element=null,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.subscriptions=[],this.updatingSide=void 0,this.isRemoved=!1,this.subscriptions=[],this.id=l.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(l.start),this.end=this.clampPosition((m=l.end)!==null&&m!==void 0?m:l.start),this.drag=(u=l.drag)===null||u===void 0||u,this.resize=(h=l.resize)===null||h===void 0||h,this.resizeStart=(f=l.resizeStart)===null||f===void 0||f,this.resizeEnd=(p=l.resizeEnd)===null||p===void 0||p,this.color=(d=l.color)!==null&&d!==void 0?d:"rgba(0, 0, 0, 0.1)",this.minLength=(S=l.minLength)!==null&&S!==void 0?S:this.minLength,this.maxLength=(_=l.maxLength)!==null&&_!==void 0?_:this.maxLength,this.channelIdx=(E=l.channelIdx)!==null&&E!==void 0?E:-1,this.contentEditable=(b=l.contentEditable)!==null&&b!==void 0?b:this.contentEditable,this.element=this.initElement(),this.setContent(l.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(l){return Math.max(0,Math.min(this.totalDuration,l))}setPart(){var l;const o=this.start===this.end;(l=this.element)===null||l===void 0||l.setAttribute("part",`${o?"marker":"region"} ${this.id}`)}addResizeHandles(l){const o={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},c=As("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},o),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},l),m=As("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},o),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},l),u=nr(c,{threshold:1}),h=nr(m,{threshold:1}),f=tr((()=>{const d=u.signal.value;d&&(d.type==="move"&&d.deltaX!==void 0?this.onResize(d.deltaX,"start"):d.type==="end"&&this.onEndResizing("start"))}),[u.signal]),p=tr((()=>{const d=h.signal.value;d&&(d.type==="move"&&d.deltaX!==void 0?this.onResize(d.deltaX,"end"):d.type==="end"&&this.onEndResizing("end"))}),[h.signal]);this.subscriptions.push((()=>{f(),p(),u.cleanup(),h.cleanup()}))}removeResizeHandles(l){const o=l.querySelector('[part*="region-handle-left"]'),c=l.querySelector('[part*="region-handle-right"]');o&&l.removeChild(o),c&&l.removeChild(c)}initElement(){if(this.isRemoved)return null;const l=this.start===this.end;let o=0,c=100;this.channelIdx>=0&&this.numberOfChannels>0&&this.channelIdx<this.numberOfChannels&&(c=100/this.numberOfChannels,o=c*this.channelIdx);const m=As("div",{style:{position:"absolute",top:`${o}%`,height:`${c}%`,backgroundColor:l?"none":this.color,borderLeft:l?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!l&&this.resize&&this.addResizeHandles(m),m}renderPosition(){if(!this.element)return;const l=this.start/this.totalDuration,o=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*l+"%",this.element.style.right=100*o+"%"}toggleCursor(l){var o;this.drag&&(!((o=this.element)===null||o===void 0)&&o.style)&&(this.element.style.cursor=l?"grabbing":"grab")}initMouseEvents(){const{element:l}=this;if(!l)return;const o=Hi(l,"click"),c=Hi(l,"mouseenter"),m=Hi(l,"mouseleave"),u=Hi(l,"dblclick"),h=Hi(l,"pointerdown"),f=Hi(l,"pointerup"),p=o.subscribe((k=>k&&this.emit("click",k))),d=c.subscribe((k=>k&&this.emit("over",k))),S=m.subscribe((k=>k&&this.emit("leave",k))),_=u.subscribe((k=>k&&this.emit("dblclick",k))),E=h.subscribe((k=>k&&this.toggleCursor(!0))),b=f.subscribe((k=>k&&this.toggleCursor(!1)));this.subscriptions.push((()=>{p(),d(),S(),_(),E(),b(),Pa(o),Pa(c),Pa(m),Pa(u),Pa(h),Pa(f)}));const j=nr(l),v=tr((()=>{const k=j.signal.value;k&&(k.type==="start"?this.toggleCursor(!0):k.type==="move"&&k.deltaX!==void 0?this.onMove(k.deltaX):k.type==="end"&&(this.toggleCursor(!1),this.drag&&this.emit("update-end")))}),[j.signal]);this.subscriptions.push((()=>{v(),j.cleanup()})),this.contentEditable&&this.content&&(this.contentClickListener=k=>this.onContentClick(k),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener))}_onUpdate(l,o,c){var m;if(!(!((m=this.element)===null||m===void 0)&&m.parentElement))return;const{width:u}=this.element.parentElement.getBoundingClientRect(),h=l/u*this.totalDuration;let f=o&&o!=="start"?this.start:this.start+h,p=o&&o!=="end"?this.end:this.end+h;const d=c!==void 0;d&&this.updatingSide&&this.updatingSide!==o&&(this.updatingSide==="start"?f=c:p=c),f=Math.max(0,f),p=Math.min(this.totalDuration,p);const S=p-f;this.updatingSide=o;const _=S>=this.minLength&&S<=this.maxLength;f<=p&&(_||d)&&(this.start=f,this.end=p,this.renderPosition(),this.emit("update",o))}onMove(l){this.drag&&this._onUpdate(l)}onResize(l,o){this.resize&&(this.resizeStart||o!=="start")&&(this.resizeEnd||o!=="end")&&this._onUpdate(l,o)}onEndResizing(l){this.resize&&(this.emit("update-end",l),this.updatingSide=void 0)}onContentClick(l){l.stopPropagation(),l.target.focus(),this.emit("click",l)}onContentBlur(){this.emit("update-end")}_setTotalDuration(l){this.totalDuration=l,this.renderPosition()}play(l){this.emit("play",l&&this.end!==this.start?this.end:void 0)}getContent(l=!1){var o;return l?this.content||void 0:this.element instanceof HTMLElement?((o=this.content)===null||o===void 0?void 0:o.innerHTML)||void 0:""}setContent(l){var o;if(this.element)if(this.content&&this.contentEditable&&(this.contentClickListener&&this.content.removeEventListener("click",this.contentClickListener),this.contentBlurListener&&this.content.removeEventListener("blur",this.contentBlurListener)),(o=this.content)===null||o===void 0||o.remove(),l){if(typeof l=="string"){const c=this.start===this.end;this.content=As("div",{style:{padding:`0.2em ${c?.2:.4}em`,display:"inline-block"},textContent:l})}else this.content=l;this.contentEditable&&(this.content.contentEditable="true",this.contentClickListener=c=>this.onContentClick(c),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener)),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content),this.emit("content-changed")}else this.content=void 0}setOptions(l){var o,c;if(this.element){if(l.color&&(this.color=l.color,this.element.style.backgroundColor=this.color),l.drag!==void 0&&(this.drag=l.drag,this.element.style.cursor=this.drag?"grab":"default"),l.start!==void 0||l.end!==void 0){const m=this.start===this.end;this.start=this.clampPosition((o=l.start)!==null&&o!==void 0?o:this.start),this.end=this.clampPosition((c=l.end)!==null&&c!==void 0?c:m?this.start:this.end),this.renderPosition(),this.setPart()}if(l.content&&this.setContent(l.content),l.id&&(this.id=l.id,this.setPart()),l.resize!==void 0&&l.resize!==this.resize){const m=this.start===this.end;this.resize=l.resize,this.resize&&!m?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}l.resizeStart!==void 0&&(this.resizeStart=l.resizeStart),l.resizeEnd!==void 0&&(this.resizeEnd=l.resizeEnd)}}remove(){this.isRemoved=!0,this.emit("remove"),this.subscriptions.forEach((l=>l())),this.subscriptions=[],this.content&&this.contentEditable&&(this.contentClickListener&&(this.content.removeEventListener("click",this.contentClickListener),this.contentClickListener=void 0),this.contentBlurListener&&(this.content.removeEventListener("blur",this.contentBlurListener),this.contentBlurListener=void 0)),this.element&&(this.element.remove(),this.element=null),this.unAll()}}class Gc extends Qy{constructor(l){super(l),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(l){return new Gc(l)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer),this.subscriptions.push(this.wavesurfer.on("ready",(o=>{this.regions.forEach((c=>c._setTotalDuration(o)))})));let l=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",(o=>{const c=this.regions.filter((m=>m.start<=o&&(m.end===m.start?m.start+.05:m.end)>=o));c.forEach((m=>{l.includes(m)||this.emit("region-in",m)})),l.forEach((m=>{c.includes(m)||this.emit("region-out",m)})),l=c})))}initRegionsContainer(){return As("div",{part:"regions-container",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"5",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(l){l.content&&setTimeout((()=>{const o=l.content,c=o.getBoundingClientRect(),m=this.regions.map((u=>{if(u===l||!u.content)return 0;const h=u.content.getBoundingClientRect();return c.left<h.left+h.width&&h.left<c.left+c.width?h.height:0})).reduce(((u,h)=>u+h),0);o.style.marginTop=`${m}px`}),10)}adjustScroll(l){var o,c;if(!l.element)return;const m=(c=(o=this.wavesurfer)===null||o===void 0?void 0:o.getWrapper())===null||c===void 0?void 0:c.parentElement;if(!m)return;const{clientWidth:u,scrollWidth:h}=m;if(h<=u)return;const f=m.getBoundingClientRect(),p=l.element.getBoundingClientRect(),d=p.left-f.left,S=p.right-f.left;d<0?m.scrollLeft+=d:S>u&&(m.scrollLeft+=S-u)}virtualAppend(l,o,c){const m=()=>{if(!this.wavesurfer)return;const u=this.wavesurfer.getWidth(),h=this.wavesurfer.getScroll(),f=o.clientWidth,p=this.wavesurfer.getDuration(),d=Math.round(l.start/p*f),S=d+(Math.round((l.end-l.start)/p*f)||1)>h&&d<h+u;S&&!c.parentElement?o.appendChild(c):!S&&c.parentElement&&c.remove()};setTimeout((()=>{if(!this.wavesurfer||!l.element)return;m();const u=this.wavesurfer.on("scroll",m),h=this.wavesurfer.on("zoom",m),f=this.wavesurfer.on("resize",m);this.subscriptions.push(u,h,f),l.once("remove",(()=>{u(),h(),f()}))}),0)}saveRegion(l){if(!l.element)return;this.virtualAppend(l,this.regionsContainer,l.element),this.avoidOverlapping(l),this.regions.push(l);const o=[l.on("update",(c=>{c||this.adjustScroll(l),this.emit("region-update",l,c)})),l.on("update-end",(c=>{this.avoidOverlapping(l),this.emit("region-updated",l,c)})),l.on("play",(c=>{var m;(m=this.wavesurfer)===null||m===void 0||m.play(l.start,c)})),l.on("click",(c=>{this.emit("region-clicked",l,c)})),l.on("dblclick",(c=>{this.emit("region-double-clicked",l,c)})),l.on("content-changed",(()=>{this.emit("region-content-changed",l)})),l.once("remove",(()=>{o.forEach((c=>c())),this.regions=this.regions.filter((c=>c!==l)),this.emit("region-removed",l)}))];this.subscriptions.push(...o),this.emit("region-created",l)}addRegion(l){var o,c;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const m=this.wavesurfer.getDuration(),u=(c=(o=this.wavesurfer)===null||o===void 0?void 0:o.getDecodedData())===null||c===void 0?void 0:c.numberOfChannels,h=new lp(l,m,u);return this.emit("region-initialized",h),m?this.saveRegion(h):this.subscriptions.push(this.wavesurfer.once("ready",(f=>{h._setTotalDuration(f),this.saveRegion(h)}))),h}enableDragSelection(l,o=3){var c;const m=(c=this.wavesurfer)===null||c===void 0?void 0:c.getWrapper();if(!(m&&m instanceof HTMLElement))return()=>{};let u=null,h=0,f=0;const p=nr(m,{threshold:o}),d=tr((()=>{var S,_;const E=p.signal.value;if(E)if(E.type==="start"){if(h=E.x,!this.wavesurfer)return;const b=this.wavesurfer.getDuration(),j=(_=(S=this.wavesurfer)===null||S===void 0?void 0:S.getDecodedData())===null||_===void 0?void 0:_.numberOfChannels,{width:v}=this.wavesurfer.getWrapper().getBoundingClientRect();f=h/v*b;const k=E.x/v*b,N=(E.x+5)/v*b;u=new lp(Object.assign(Object.assign({},l),{start:k,end:N}),b,j),this.emit("region-initialized",u),u.element&&this.regionsContainer.appendChild(u.element)}else E.type==="move"&&E.deltaX!==void 0?u&&u._onUpdate(E.deltaX,E.x>h?"end":"start",f):E.type==="end"&&u&&(this.saveRegion(u),u.updatingSide=void 0,u=null)}),[p.signal]);return()=>{d(),p.cleanup()}}clearRegions(){this.regions.slice().forEach((l=>l.remove())),this.regions=[]}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}class Wy{async applyFades(l,o,c){const m=l.numberOfChannels,u=l.length,h=l.sampleRate,f=new AudioBuffer({length:u,numberOfChannels:m,sampleRate:h});for(let p=0;p<m;p++){const d=l.getChannelData(p),S=f.getChannelData(p);S.set(d);const _=Math.floor(o*h);for(let j=0;j<_&&j<u;j++)S[j]*=j/_;const E=Math.floor(c*h),b=u-E;for(let j=0;j<E&&b+j<u;j++){const v=b+j;v>=0&&(S[v]*=1-j/E)}}return f}async applyCrossfadeLoop(l,o){const c=l.sampleRate,m=Math.floor(o*c),u=l.length;if(m>=u/2)return l;const h=u-m,f=new AudioBuffer({length:h,numberOfChannels:l.numberOfChannels,sampleRate:c});for(let p=0;p<l.numberOfChannels;p++){const d=l.getChannelData(p),S=f.getChannelData(p);S.set(d.subarray(0,h));const _=d.subarray(h,u);for(let E=0;E<m;E++){const b=E/m,j=1-b;S[E]=S[E]*b+_[E]*j}}return f}async trim(l,o,c){const m=l.sampleRate,u=Math.floor(o*m),h=Math.ceil(c*m),f=h-u;if(f<=0)return l;const p=new AudioBuffer({length:f,numberOfChannels:l.numberOfChannels,sampleRate:m});for(let d=0;d<l.numberOfChannels;d++){const S=l.getChannelData(d).subarray(u,h);p.getChannelData(d).set(S)}return p}async normalize(l,o=-1){const c=new OfflineAudioContext(l.numberOfChannels,l.length,l.sampleRate),m=c.createBufferSource();m.buffer=l;let u=0;for(let d=0;d<l.numberOfChannels;d++){const S=l.getChannelData(d);for(let _=0;_<S.length;_++){const E=Math.abs(S[_]);E>u&&(u=E)}}const h=Math.pow(10,o/20);if(u===0)return l;const f=h/u,p=c.createGain();return p.gain.value=f,m.connect(p),p.connect(c.destination),m.start(),await c.startRendering()}}const In=new Wy;function ei(x){const u=x.length*2*4,h=new ArrayBuffer(44+u),f=new DataView(h);Pl(f,0,"RIFF"),f.setUint32(4,36+u,!0),Pl(f,8,"WAVE"),Pl(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,3,!0),f.setUint16(22,2,!0),f.setUint32(24,48e3,!0),f.setUint32(28,48e3*2*4,!0),f.setUint16(32,8,!0),f.setUint16(34,32,!0),Pl(f,36,"data"),f.setUint32(40,u,!0);const p=x.getChannelData(0),d=x.numberOfChannels>1?x.getChannelData(1):p;let S=44;for(let _=0;_<x.length;_++)f.setFloat32(S,p[_],!0),S+=4,f.setFloat32(S,d[_],!0),S+=4;return new Blob([h],{type:"audio/wav"})}function Pl(x,l,o){for(let c=0;c<o.length;c++)x.setUint8(l+c,o.charCodeAt(c))}const ar=({isOpen:x,onClose:l,onConfirm:o,title:c,message:m,confirmLabel:u="Confirm",isDestructive:h=!1,showCancel:f=!0})=>x?i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-md shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20",children:[i.jsxs("h3",{className:"text-xl font-bold text-white font-header flex items-center gap-2",children:[h&&i.jsx(vn,{size:20,className:"text-synthux-orange"}),c]}),i.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:i.jsx(Wt,{size:20})})]}),i.jsx("div",{className:"p-6 font-body text-gray-300 leading-relaxed space-y-4",children:m}),i.jsxs("div",{className:"p-6 pt-4 border-t border-gray-800 bg-gray-900/50 flex justify-end gap-3 transition-colors",children:[f&&i.jsx("button",{onClick:l,className:"px-4 py-2 hover:bg-gray-800 rounded-lg text-gray-400 hover:text-white font-bold text-sm transition-colors border border-transparent hover:border-gray-700",children:"Cancel"}),i.jsx("button",{onClick:()=>{o()},className:`px-6 py-2 rounded-lg text-white font-bold text-sm transition-all shadow-lg hover:scale-105 active:scale-95 ${h?"bg-synthux-orange hover:bg-orange-600 shadow-orange-900/20":"bg-synthux-blue hover:bg-blue-600 shadow-blue-900/20"}`,children:u})]})]})}):null,$y=({width:x,height:l,fadeIn:o,fadeOut:c,duration:m,region:u,onFadeChange:h,onRegionChange:f})=>{if(m<=0)return null;const p=x/m,d=u.start*p,S=u.end*p,_=S-d,E=u.end-u.start,b=d+o*p,j=S-c*p,v=42,k=d+v*p,N=E>v,[z,D]=be.useState(null),[B,H]=be.useState(null),W=be.useRef(null),Y=(X,ne)=>{ne.preventDefault(),ne.stopPropagation(),D(X),H({x:ne.clientX,regionStart:u.start,regionEnd:u.end}),ne.target.setPointerCapture(ne.pointerId)},G=X=>{if(!z||!W.current||!B)return;X.preventDefault();const ne=W.current.getBoundingClientRect();if(z==="move"){if(!f)return;const O=(X.clientX-B.x)/p;let g=B.regionStart+O,I=B.regionEnd+O;g<0&&(g=0,I=0+(B.regionEnd-B.regionStart)),I>m&&(I=m,g=m-(B.regionEnd-B.regionStart)),f(g,I)}else if(z==="resize-start"){if(!f)return;const O=(X.clientX-B.x)/p;let g=B.regionStart+O;g<0&&(g=0),g>=B.regionEnd-.1&&(g=B.regionEnd-.1),f(g,B.regionEnd)}else if(z==="resize-end"){if(!f)return;const O=(X.clientX-B.x)/p;let g=B.regionEnd+O;g>m&&(g=m),g<=B.regionStart+.1&&(g=B.regionStart+.1),f(B.regionStart,g)}else{if(!h)return;const O=(X.clientX-ne.left)/ne.width*m;if(z==="in"){let g=O-u.start;g<0&&(g=0),g>u.end-u.start&&(g=u.end-u.start),h("in",g)}else{let g=u.end-O;g<0&&(g=0),g>u.end-u.start&&(g=u.end-u.start),h("out",g)}}},U=X=>{D(null),H(null),X.target.releasePointerCapture(X.pointerId)};return i.jsxs("svg",{ref:W,className:"absolute top-0 left-0 fade-overlay fade-overlay-svg-container",style:{width:"100%",height:"100%",pointerEvents:"none",zIndex:999,position:"absolute",top:0,left:0},viewBox:`0 0 ${x} ${l}`,preserveAspectRatio:"none",onPointerMove:G,onPointerUp:U,onPointerLeave:U,children:[i.jsxs("defs",{children:[i.jsx("style",{children:`
                        .fade-overlay { mix-blend-mode: normal; }
                        .fade-handle { pointer-events: auto; cursor: col-resize; }
                        .fade-handle:hover line { stroke: white; }
                        .fade-handle:hover polygon { fill: white; }

                        /* Bottom Move Bar */
                        .move-bar { pointer-events: auto; cursor: grab; fill: rgba(0,0,0,0.4); stroke: rgba(255,255,255,0.2); transition: fill 0.2s; }
                        .move-bar:hover { fill: rgba(255,255,255,0.1); stroke: rgba(255,255,255,0.5); }
                        .move-bar:active { cursor: grabbing; fill: rgba(255,255,255,0.2); }
                        
                        .resize-handle { pointer-events: auto; cursor: col-resize; transition: opacity 0.2s; }
                        .resize-handle:hover rect { opacity: 1; }
                        .resize-handle:active rect { fill: #ffb900; }

                        /* Corner Fade Creator Handles */
                        .corner-handle { pointer-events: auto; cursor: col-resize; fill: rgba(255,255,255,0.5); transition: fill 0.2s; }
                        .corner-handle:hover { fill: rgba(255,255,255,1); }
                        
                        rect.handle-hit-area { fill: transparent; pointer-events: auto; cursor: col-resize; }
                        rect.handle-hit-area:hover + polygon { fill: white; }
                        
                        /* Danger Zone Pattern */
                        .danger-pattern { fill: url(#dangerStripe); opacity: 0.3; pointer-events: none; }
                    `}),i.jsx("pattern",{id:"dangerStripe",width:"10",height:"10",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)",children:i.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"10",stroke:"#f00f13",strokeWidth:"2"})})]}),N&&i.jsx("rect",{x:k,y:0,width:S-k,height:l,fill:"rgba(240, 15, 19, 0.1)",className:"danger-zone"}),N&&i.jsx("rect",{x:k,y:0,width:S-k,height:l,fill:"url(#dangerStripe)",opacity:.2,style:{pointerEvents:"none"}}),i.jsxs("g",{className:"move-group",children:[i.jsx("rect",{x:d+10,y:l-24,width:Math.max(0,_-20),height:24,className:"move-bar",onPointerDown:X=>Y("move",X)}),i.jsxs("g",{className:"resize-handle",onPointerDown:X=>Y("resize-start",X),children:[i.jsx("rect",{x:d,y:l-24,width:10,height:24,fill:"#fff",opacity:.8,rx:"2"}),i.jsx("line",{x1:d+3,y1:l-20,x2:d+3,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5}),i.jsx("line",{x1:d+6,y1:l-20,x2:d+6,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5})]}),i.jsxs("g",{className:"resize-handle",onPointerDown:X=>Y("resize-end",X),children:[i.jsx("rect",{x:S-10,y:l-24,width:10,height:24,fill:"#fff",opacity:.8,rx:"2"}),i.jsx("line",{x1:S-7,y1:l-20,x2:S-7,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5}),i.jsx("line",{x1:S-4,y1:l-20,x2:S-4,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5})]}),i.jsxs("text",{x:d+_/2,y:l-8,textAnchor:"middle",fill:N?"#f00f13":"white",fontSize:"10",fontWeight:"bold",pointerEvents:"none",style:{textShadow:"0 1px 2px black"},children:[E.toFixed(2),"s ",N?"(!)":""]})]}),o>0&&i.jsxs(i.Fragment,{children:[i.jsx("path",{d:`M ${d},${l} C ${d+(b-d)/2},${l} ${b-(b-d)/2},0 ${b},0 L ${d},0 Z`,fill:"rgba(255, 185, 0, 0.3)"}),i.jsx("path",{d:`M ${d},${l} C ${d+(b-d)/2},${l} ${b-(b-d)/2},0 ${b},0`,fill:"none",stroke:"rgba(255, 255, 255, 0.9)",strokeWidth:"2"}),i.jsxs("g",{className:"fade-handle",onPointerDown:X=>Y("in",X),children:[i.jsx("line",{x1:b,y1:0,x2:b,y2:l,stroke:"rgba(255,255,255,0.5)",strokeWidth:"1",strokeDasharray:"4 4"}),i.jsx("polygon",{points:`${b},0 ${b-12},0 ${b},16`,fill:"rgba(255,255,255,0.8)"}),i.jsx("rect",{x:b-16,y:0,width:32,height:l,className:"handle-hit-area"})]})]}),i.jsxs("g",{className:"corner-handle",onPointerDown:X=>Y("in",X),children:[i.jsx("polygon",{points:`${d},0 ${d+24},0 ${d},24`}),i.jsx("rect",{x:d,y:0,width:24,height:24,fill:"transparent",style:{pointerEvents:"auto",cursor:"ew-resize"}})]}),c>0&&i.jsxs(i.Fragment,{children:[i.jsx("path",{d:`M ${j},0 C ${j+(S-j)/2},0 ${S-(S-j)/2},${l} ${S},${l} L ${S},0 Z`,fill:"rgba(255, 185, 0, 0.2)"}),i.jsx("path",{d:`M ${j},0 C ${j+(S-j)/2},0 ${S-(S-j)/2},${l} ${S},${l}`,fill:"none",stroke:"rgba(255, 255, 255, 0.8)",strokeWidth:"2"}),i.jsxs("g",{className:"fade-handle",onPointerDown:X=>Y("out",X),children:[i.jsx("line",{x1:j,y1:0,x2:j,y2:l,stroke:"rgba(255,255,255,0.5)",strokeWidth:"1",strokeDasharray:"4 4"}),i.jsx("polygon",{points:`${j},0 ${j+12},0 ${j},16`,fill:"rgba(255,255,255,0.8)"}),i.jsx("rect",{x:j-16,y:0,width:32,height:l,fill:"transparent"})]})]}),i.jsxs("g",{className:"corner-handle",onPointerDown:X=>Y("out",X),children:[i.jsx("polygon",{points:`${S},0 ${S-24},0 ${S},24`}),i.jsx("rect",{x:S-24,y:0,width:24,height:24,fill:"transparent",style:{pointerEvents:"auto",cursor:"ew-resize"}})]})]})},Jy=({slot:x,versions:l,activeVersionId:o,tapeColor:c,onClose:m,onSave:u,onSaveAsCopy:h,onDeleteVersion:f,onAssignVersion:p,onMoveVersionToPool:d,isDuplicate:S,onSaveUnique:_})=>{const E=be.useRef(null),b=be.useRef(null),j=be.useRef(null),v=be.useRef(null),[k,N]=be.useState(!1),[z,D]=be.useState(10),[B,H]=be.useState(0),[W,Y]=be.useState(0),[G,U]=be.useState(!1),[X,ne]=be.useState(.2),[A,O]=be.useState(!1),[g,I]=be.useState(null),q=be.useRef(null),L=(te,we="success")=>{q.current&&clearTimeout(q.current),I({message:te,type:we}),q.current=setTimeout(()=>{I(null)},3e3)},[K,Q]=be.useState(!1),[ue,C]=be.useState(""),[M,de]=be.useState(!1),[se,le]=be.useState(!1),[Oe,Le]=be.useState(null),[ee]=be.useState(new Audio),[Ne,Ze]=be.useState(null),[Ke,st]=be.useState(x.blob),[Je,w]=be.useState(o),[ce,oe]=be.useState(null),{stop:V}=ur(),[R,$]=be.useState(0),[ve,ye]=be.useState(.1),[J,Te]=be.useState({start:0,end:0}),Ee=be.useRef(null),[Ae,qe]=be.useState(!1),[ct,Pe]=be.useState(!1),[Vt,$t]=be.useState(!1),[jt,cn]=be.useState(new Set),[ht,St]=be.useState(!1),[Zt,gt]=be.useState(!1),zt=be.useRef(!1),Mn=be.useRef(null),bn=()=>{!M&&zt.current&&de(!0)};be.useEffect(()=>(zt.current=!0,Mn.current&&clearTimeout(Mn.current),Mn.current=setTimeout(()=>{It()},100),()=>{if(zt.current=!1,Mn.current&&clearTimeout(Mn.current),j.current){try{j.current.destroy()}catch(te){console.warn(te)}j.current=null}}),[Ke]),be.useEffect(()=>{H(0),Y(0),de(!1);const te=l.find(we=>we.id===Je);te?.processing?(qe(te.processing.includes("normalized")),Pe(te.processing.includes("trimmed"))):(qe(!1),Pe(!1))},[Ke,Je,l]),be.useEffect(()=>{x.blob!==Ke&&st(x.blob)},[x.blob]),be.useEffect(()=>{o!==Je&&w(o)},[o]),be.useEffect(()=>{j.current&&j.current.zoom(z)},[z]);const un=be.useRef(!1),wn=be.useRef(null),Jt=be.useRef(null);be.useEffect(()=>{un.current=G},[G]);const It=async()=>{if(!(!E.current||!Ke||!zt.current)){j.current&&(j.current.destroy(),j.current=null);try{const te=URL.createObjectURL(Ke),we=Bs.create({container:E.current,waveColor:"#ffb900",progressColor:"#FFDF9B",url:te,height:256,minPxPerSec:z,interact:!0,dragToSeek:!0,autoScroll:!1});j.current=we,wn.current=we,we.on("error",Ie=>{zt.current&&(typeof Ie=="string"&&Ie.includes("not initialized")||console.error("WaveSurfer Error:",Ie))});try{const Ie=we.registerPlugin(Gc.create());v.current=Ie,Jt.current=Ie,we.on("ready",()=>{if(!zt.current)return;const pt=we.getDuration();if($(pt),E.current){const Hn=E.current.clientWidth/pt;ye(Hn),D(Hn),we.zoom(Hn)}let dn=0,_n=pt;if(pt>42){const Xn=pt/2;dn=Xn-21,_n=Xn+21}Ie.addRegion({start:dn,end:_n,color:"rgba(255, 255, 255, 0.1)",drag:!1,resize:!0}),Te({start:dn,end:_n})}),Ie.on("region-update",pt=>Te({start:pt.start,end:pt.end})),Ie.on("region-updated",pt=>{Te({start:pt.start,end:pt.end}),zt.current&&bn()}),Ie.on("region-out",pt=>{un.current&&zt.current&&we.play(pt.start,pt.end)})}catch(Ie){console.warn(Ie)}we.on("play",()=>zt.current&&N(!0)),we.on("pause",()=>{zt.current&&N(!1)}),we.on("finish",()=>{if(un.current&&zt.current){if(Jt.current){const Ie=Jt.current.getRegions();if(Ie.length>0){const pt=Ie[0];we.play(pt.start,pt.end);return}}we.play()}else zt.current&&N(!1)});const Me=await Ke.arrayBuffer();if(!zt.current)return;const Be=new AudioContext,We=await Be.decodeAudioData(Me);oe(We),Be.close()}catch(te){console.error(te),zt.current&&L("Init Failed: "+te,"error")}}};be.useEffect(()=>(V(),()=>{Ee.current&&cancelAnimationFrame(Ee.current)}),[]);const Gn=()=>{if(!j.current)return;const we=j.current.getCurrentTime()-J.start,Me=J.end-J.start;let Be=1;if(we<0||we>Me)Be=1;else if(B>0&&we<B){const We=we/B;Be=.5*(1-Math.cos(We*Math.PI))}else if(W>0&&we>Me-W){const Ie=(Me-we)/W;Be=.5*(1-Math.cos(Ie*Math.PI))}j.current.setVolume(Be),k&&(Ee.current=requestAnimationFrame(Gn))};be.useEffect(()=>(k?Gn():Ee.current&&cancelAnimationFrame(Ee.current),()=>{Ee.current&&cancelAnimationFrame(Ee.current)}),[k,B,W]),be.useEffect(()=>{const te=we=>{we.code==="Space"&&(we.preventDefault(),ke())};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[k,G]);const Sn=(te,we)=>{const Me=Math.max(te,ve);if(D(Me),j.current&&b.current&&E.current){const Be=j.current.getCurrentTime(),We=b.current.clientWidth,Ie=Be*Me-We/2;requestAnimationFrame(()=>{b.current&&(b.current.scrollLeft=Math.max(0,Ie))})}},me=()=>Sn(Math.min(z*1.25,500)),ge=()=>Sn(Math.max(z*.8,ve)),pe=()=>{if(!b.current||!R)return;const we=b.current.clientWidth/R;ye(we),D(we),b.current&&(b.current.scrollLeft=0)},fe=()=>{if(!b.current||!R)return;const te=b.current.clientWidth,we=J.end-J.start;if(we<=0)return;const Be=te*.9/we,We=Math.max(Be,ve);D(We),setTimeout(()=>{if(b.current){const _n=(J.start+we/2)*We+16-te/2;b.current.scrollLeft=Math.max(0,_n)}},0)},Se=te=>{if(te.ctrlKey){te.preventDefault();const we=-Math.sign(te.deltaY),Me=1.1;let Be=z;we>0?Be=Math.min(z*Me,500):Be=Math.max(z/Me,ve),Sn(Be)}},ke=async()=>{if(j.current)if(k)j.current.pause();else{const te=v.current?.getRegions();if(te&&te.length>0){const we=te[0],Me=j.current.getCurrentTime();Me>=we.end-.05?j.current.play(we.start,we.end):Me>=we.start&&Me<we.end?j.current.play(Me,we.end):j.current.play(we.start,we.end)}else j.current.play()}},De=async()=>{if(ce){Q(!0);try{let te=!1;(B>0||W>0)&&(te=!0),(J.start>.01||J.end<ce.duration-.01)&&(te=!0);let we=0,Me=ce.duration;if(v.current){const Ie=v.current.getRegions();Ie&&Ie.length>0&&(we=Ie[0].start,Me=Ie[0].end)}let Be,We;if(te){let Ie=await In.trim(ce,we,Me);(B>0||W>0)&&(Ie=await In.applyFades(Ie,B,W)),We=Ie.duration,Be=ei(Ie),u(Be,We,"Edited",te,["trimmed"])}else{let Ie=await In.trim(ce,we,Me);We=Ie.duration,Be=ei(Ie);const pt=l.find(dn=>dn.id===Je)?.processing;u(Be,We,"Edited",te,pt)}L(te?"Version Saved!":"Assigned to Tape","success"),te||m()}catch(te){console.error(te),L("Failed to save","error")}finally{Q(!1)}}},Ce=te=>{zt.current&&te.id!==Je&&(M?(Le(te),le(!0)):(st(te.blob),w(te.id)))},Re=(te,we)=>{if(we.stopPropagation(),Ne===te.id)ee.pause(),Ze(null);else{const Me=URL.createObjectURL(te.blob);ee.src=Me,ee.play().catch(Be=>console.error("Preview fail",Be)),Ze(te.id),ee.onended=()=>Ze(null)}},ze=Math.floor(R*z),Ue=be.useRef(!1),He=te=>{te.button===0&&(Ue.current=!0,te.target.setPointerCapture(te.pointerId),ut(te))},Ge=te=>{Ue.current&&ut(te)},Xe=te=>{Ue.current&&(Ue.current=!1,te.target.releasePointerCapture(te.pointerId))},ut=te=>{if(!E.current||!j.current)return;const we=E.current.getBoundingClientRect();let Be=(te.clientX-we.left)/we.width;Be<0&&(Be=0),Be>1&&(Be=1),j.current.seekTo(Be)};return i.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur flex items-center justify-center z-50 p-6",children:[i.jsx("style",{children:`
                /* Allow clicks to pass through region body to seek */
                .wavesurfer-region {
                    pointer-events: none !important;
                }
                /* Restrict Region Handles to Bottom 50% for Trimming */
                .wavesurfer-region [data-region-handle] {
                   height: 50% !important;
                   top: 50% !important;
                   pointer-events: auto !important;
                }
                /* Ensure region visuals are above waveform but below handles */
                .wavesurfer-region {
                    z-index: 4 !important;
                }
                /* Toast Animation */
                @keyframes slideIn {
                    from { transform: translateY(-20px) translateX(-50%); opacity: 0; }
                    to { transform: translateY(0) translateX(-50%); opacity: 1; }
                }

                /* Hide WaveSurfer Internal Scrollbar */
                ::part(scroll) {
                    overflow-x: hidden !important;
                }
                
                /* Custom Scrollbar */
                .editor-scroll::-webkit-scrollbar {
                    height: 12px;
                    background: #111;
                    border-top: 1px solid #333;
                }
                .editor-scroll::-webkit-scrollbar-thumb, .history-scroll::-webkit-scrollbar-thumb {
                    background: #444;
                    border-radius: 6px;
                    border: 2px solid #111;
                }
                .editor-scroll::-webkit-scrollbar-thumb:hover, .history-scroll::-webkit-scrollbar-thumb:hover {
                    background: #666;
                }
                
                /* History Sidebar Scrollbar */
                .history-scroll::-webkit-scrollbar {
                    width: 6px;
                    background: #111;
                }
            `}),g&&i.jsx("div",{className:"absolute top-8 left-1/2 z-[70] animate-[slideIn_0.3s_ease-out]",style:{transform:"translateX(-50%)"},children:i.jsxs("div",{className:`px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 border ${g.type==="success"?"bg-green-900/90 border-green-500 text-green-100":"bg-red-900/90 border-red-500 text-red-100"}`,children:[g.type==="success"?i.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center text-black font-bold text-xs",children:""}):i.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center text-white font-bold text-xs",children:"!"}),i.jsx("span",{className:"font-medium text-sm",children:g.message})]})}),se&&i.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-700 p-6 rounded-xl shadow-2xl max-w-sm w-full text-center",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Changes"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"You have unsaved changes in the current view. Loading a different version will discard them."}),i.jsxs("div",{className:"flex gap-3 justify-center",children:[i.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 rounded-full bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium text-sm transition-colors",children:"Cancel"}),i.jsx("button",{onClick:()=>{Oe&&(st(Oe.blob),w(Oe.id),le(!1),Le(null))},className:"px-4 py-2 rounded-full bg-red-600 hover:bg-red-500 text-white font-bold text-sm transition-colors",children:"Discard & Load"})]})]})}),i.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-2xl w-full max-w-7xl h-[90vh] shadow-2xl flex overflow-hidden",children:[i.jsx(ar,{isOpen:Vt,onClose:()=>$t(!1),onConfirm:()=>{const te=l.find(we=>we.id===Je);if(te&&st(te.blob),H(0),Y(0),de(!1),j.current&&v.current){const we=j.current.getDuration();v.current.clearRegions();let Me=we,Be=0;if(we>42){const We=we/2;Be=We-21,Me=We+21}v.current.addRegion({start:Be,end:Me,color:"rgba(255, 255, 255, 0.1)",drag:!1,resize:!0}),Te({start:Be,end:Me})}L("Reset to original","success"),$t(!1)},title:"Reset Changes?",message:"Are you sure you want to discard all changes and revert to the last saved version? This cannot be undone.",confirmLabel:"Discard & Reset",isDestructive:!0}),i.jsx(ar,{isOpen:ht,onClose:()=>St(!1),onConfirm:()=>{f&&(jt.forEach(te=>f(te)),cn(new Set),St(!1),L(`Deleted ${jt.size} versions`,"success"))},title:`Delete ${jt.size} Version${jt.size>1?"s":""}?`,message:"This action cannot be undone. These versions will be permanently removed from the history.",confirmLabel:"Delete Forever",isDestructive:!0}),i.jsx(ar,{isOpen:Zt,onClose:()=>gt(!1),onConfirm:()=>{d&&(jt.forEach(te=>d(te)),cn(new Set),gt(!1),L(`Moved ${jt.size} versions to Pool`,"success"))},title:`Move ${jt.size} Version${jt.size>1?"s":""} to Pool?`,message:"These versions will be removed from this file's history and created as new unassigned files.",confirmLabel:"Move to Pool"}),i.jsxs("div",{className:"w-64 bg-[#111] border-r border-gray-800 flex flex-col shrink-0",children:[i.jsxs("div",{className:"p-4 border-b border-gray-800 bg-gray-900/50 flex flex-wrap gap-2 justify-between items-center",children:[i.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"History"}),jt.size>0&&i.jsxs("div",{className:"flex gap-1",children:[d&&i.jsxs("button",{onClick:()=>gt(!0),className:"text-xs font-bold text-synthux-yellow hover:text-white flex items-center gap-1 bg-synthux-yellow/10 px-2 py-1 rounded hover:bg-synthux-yellow/30 transition-colors border border-synthux-yellow/20",children:[i.jsx(Wt,{size:12})," Move"]}),f&&i.jsxs("button",{onClick:()=>St(!0),className:"text-xs font-bold text-red-400 hover:text-red-300 flex items-center gap-1 bg-red-900/20 px-2 py-1 rounded hover:bg-red-900/40 transition-colors",children:[i.jsx(qi,{size:12})," Delete"]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 history-scroll",children:l.map(te=>{const we=te.id===Je,Me=jt.has(te.id);return i.jsxs("div",{onClick:()=>{Ce(te)},className:`group p-3 rounded-lg border cursor-pointer transition-all hover:bg-gray-800 relative select-none
                                        ${we?"bg-gray-800 border-synthux-blue/50 ring-1 ring-synthux-blue/20":""}
                                        ${Me?"bg-synthux-yellow/10 border-synthux-yellow/50":we?"":"bg-transparent border-gray-800 opacity-60 hover:opacity-100"}
                                    `,children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{onClick:Be=>{Be.stopPropagation();const We=new Set(jt);We.has(te.id)?We.delete(te.id):We.add(te.id),cn(We)},className:`w-3 h-3 rounded-sm border flex items-center justify-center shrink-0 transition-colors ${Me?"bg-synthux-yellow border-synthux-yellow":"border-gray-600 hover:border-gray-400"}`,children:Me&&i.jsx(ni,{size:8,className:"text-black stroke-[4]"})}),i.jsx("div",{className:"text-xs text-gray-500",children:new Date(te.timestamp).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"})})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:Be=>Re(te,Be),className:"p-1.5 rounded-full bg-gray-700 hover:bg-synthux-blue text-white transition-colors",title:Ne===te.id?"Stop Preview":"Preview Audio",children:Ne===te.id?i.jsx(Ph,{size:10,fill:"white"}):i.jsx(Vi,{size:10,fill:"white"})}),i.jsx("button",{onClick:Be=>{Be.stopPropagation(),Ms(()=>Promise.resolve().then(()=>Xc),void 0).then(We=>We.exportSingleFile({...x,versions:[te],currentVersionId:te.id,name:`${x.name} (v${new Date(te.timestamp).getTime()})`}))},className:"p-1.5 rounded-full bg-gray-700 hover:bg-gray-600 text-gray-400 hover:text-white transition-colors",title:"Download Version WAV",children:i.jsx(Ln,{size:10})}),d&&i.jsx("button",{onClick:Be=>{Be.stopPropagation(),d(te.id)},className:"p-1.5 rounded-full bg-gray-700 hover:bg-synthux-yellow/20 text-gray-400 hover:text-synthux-yellow transition-colors",title:"Move to Pool",children:i.jsx(Wt,{size:10})}),f&&i.jsx("button",{onClick:Be=>{Be.stopPropagation(),f(te.id)},className:"p-1.5 rounded-full bg-gray-700 hover:bg-red-500 text-gray-400 hover:text-white transition-colors",title:"Delete Version",children:i.jsx(qi,{size:10})})]})]}),i.jsxs("div",{className:`text-sm font-medium truncate ${we?"text-synthux-blue":"text-white"}`,children:[te.description||"Edited Version",te.processing&&te.processing.length>0&&i.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:te.processing.map(Be=>i.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700/50 rounded text-[10px] uppercase font-bold text-gray-300 border border-gray-600",children:Be},Be))})]}),i.jsx("div",{className:"text-[10px] text-gray-600 mt-1 flex justify-between items-center",children:i.jsxs("span",{children:[(te.duration||0).toFixed(2),"s  ",(te.blob.size/1024).toFixed(0),"KB"]})})]},te.id)})})]}),i.jsxs("div",{className:"flex-1 flex flex-col relative bg-[#1a1a1a] min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 pb-2",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(ai,{color:c?`var(--color-synthux-${c.toLowerCase()})`:"gold",size:40})}),i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("h2",{className:"text-2xl font-black bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent tracking-tighter uppercase",children:x.name})}),i.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-widest uppercase flex items-center gap-2",children:[i.jsx("span",{children:"Waveform Editor"}),i.jsx("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),i.jsx("span",{className:M?"text-amber-500":"text-gray-600",children:M?"Unsaved Changes":"All Saved"})]})]})]}),i.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:""})]}),i.jsxs("div",{className:"p-6 pt-2 flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"flex gap-6 mb-4 bg-[#111] p-4 rounded-xl border border-gray-800 flex-col text-left shrink-0 max-w-full",children:i.jsxs("div",{className:"flex items-center gap-6 w-full overflow-x-auto pb-2",children:[i.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-700 pr-6 shrink-0",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Fade In"}),i.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:B,onChange:te=>{H(Number(te.target.value)),bn()},onMouseEnter:()=>C("Adjust Fade In Duration"),onMouseLeave:()=>C(""),className:"w-24 h-2 bg-gradient-to-r from-green-900 to-synthux-green rounded-lg appearance-none cursor-pointer"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Fade Out"}),i.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:W,onChange:te=>{Y(Number(te.target.value)),bn()},onMouseEnter:()=>C("Adjust Fade Out Duration"),onMouseLeave:()=>C(""),className:"w-24 h-2 bg-gradient-to-r from-synthux-orange to-red-900 rounded-lg appearance-none cursor-pointer"})]})]}),i.jsxs("button",{onClick:()=>O(!A),onMouseEnter:()=>C("Create Seamless Loop (Crossfade end/start)"),onMouseLeave:()=>C(""),disabled:K,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${A?"bg-synthux-blue text-white border-transparent":"bg-gray-800 hover:bg-gray-700 border-gray-700"}`,children:[i.jsx(ep,{size:14})," Make Loop"]}),(()=>{const te=J.end-J.start,we=Math.abs(te-R)<.05,Me=K||we||ct;return i.jsxs("button",{onClick:()=>{De()},onMouseEnter:()=>C(ct?"Already Applied":we?"Full Selection (Nothing to Trim)":"Apply Trim & Fades (Keep Open)"),onMouseLeave:()=>C(""),disabled:Me,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${Me?"bg-gray-900 border-gray-800 text-gray-600 cursor-not-allowed opacity-50":"bg-gray-800 hover:bg-gray-700 border-gray-700 text-green-400 hover:text-green-300 hover:border-green-800"}`,children:[i.jsx(ni,{size:14})," Apply Trim"]})})(),i.jsxs("button",{onClick:async()=>{if(ce){Q(!0);try{const te=await In.normalize(ce,-1),we=ei(te);u(we,te.duration,"Normalized",!0,["normalized"]),qe(!0),L("Normalized Saved!","success")}catch(te){console.error(te),L("Normalization Failed","error")}finally{Q(!1)}}},onMouseEnter:()=>C(Ae?"Already Applied":"Normalize Audio to -1dB"),onMouseLeave:()=>C(""),title:Ae?"Already Applied":"",disabled:K||Ae,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${Ae?"bg-gray-900 border-gray-800 text-gray-600 cursor-not-allowed opacity-50":"bg-gray-800 hover:bg-gray-700 border-gray-700 text-yellow-400 hover:text-yellow-300 hover:border-yellow-800"}`,children:[i.jsx(Cg,{size:14})," Normalize"]}),i.jsxs("button",{onClick:()=>$t(!0),onMouseEnter:()=>C("Discard Changes & Reset"),onMouseLeave:()=>C(""),disabled:!M,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${M?"bg-red-900/20 hover:bg-red-900/40 border-red-900/30 text-red-400 hover:text-red-300":"bg-gray-900 border-gray-800 text-gray-700 cursor-not-allowed hidden"}`,children:[i.jsx(ep,{size:14})," Reset"]})]})}),A&&i.jsxs("div",{className:"mt-4 border-t border-gray-800 pt-4 flex gap-4 items-center animate-[slideIn_0.2s_ease-out]",children:[i.jsx("div",{className:"flex flex-col gap-1 grow max-w-xs",children:(()=>{const te=J.end-J.start,we=Math.min(10,te/2),Me=Math.min(X,we);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-gray-400 uppercase",children:[i.jsx("span",{children:"Loop Crossfade Duration"}),i.jsxs("span",{className:"text-synthux-blue",children:[Me.toFixed(2),"s ",i.jsxs("span",{className:"text-gray-600",children:["/ ",we.toFixed(2),"s"]})]})]}),i.jsx("input",{type:"range",min:"0.01",max:we,step:"0.01",value:Me,onChange:Be=>ne(Number(Be.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]})})()}),i.jsx("button",{onClick:async()=>{if(ce){Q(!0);try{let te=0,we=ce.duration;if(v.current){const Ie=v.current.getRegions();Ie.length>0&&(te=Ie[0].start,we=Ie[0].end)}const Me=await In.trim(ce,te,we),Be=await In.applyCrossfadeLoop(Me,X),We=ei(Be);u(We,Be.duration,`Loop (${X.toFixed(2)}s)`,!0,["looped","trimmed"]),L("Loop Created!","success"),O(!1)}catch(te){console.error(te),L("Failed to make loopable","error")}finally{Q(!1)}}},className:"px-6 py-2 bg-synthux-blue hover:bg-blue-500 rounded text-sm font-bold text-white transition-colors h-full self-end",children:"Create Loop"})]}),i.jsx("div",{className:"absolute top-[88px] left-6 text-[10px] text-synthux-blue font-mono tracking-widest uppercase pointer-events-none transition-opacity duration-200",children:ue||"Ready"}),i.jsx("div",{className:"flex-1 bg-black/40 border-y border-gray-800 relative flex flex-col justify-center overflow-hidden min-h-[300px] min-w-0 max-w-full",children:i.jsx("div",{ref:b,className:"w-full h-full overflow-x-auto overflow-y-hidden px-4 editor-scroll",style:{userSelect:"none"},onWheel:Se,children:i.jsxs("div",{className:"relative my-auto top-1/2 -translate-y-1/2",style:{width:ze,height:256,minWidth:"100%"},children:[i.jsx("div",{ref:E,className:"absolute inset-0 z-0 bg-black/20 cursor-text touch-none",onPointerDown:He,onPointerMove:Ge,onPointerUp:Xe,onPointerLeave:Xe}),R>0&&i.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",style:{width:ze,height:256},children:i.jsx($y,{width:ze,height:256,fadeIn:B,fadeOut:W,duration:R,region:J,onFadeChange:(te,we)=>{const Me=Math.round(we*100)/100;te==="in"?H(Me):Y(Me),bn()},onRegionChange:(te,we)=>{const Me=v.current?.getRegions();Me&&Me.length>0&&Me[0].setOptions({start:te,end:we}),Te({start:te,end:we})}})}),i.jsx("div",{className:"absolute inset-0 pointer-events-none border-t border-b border-dashed border-gray-700/30 top-1/2 -translate-y-1/2 h-0 z-0"})]})})}),i.jsxs("div",{className:"flex items-center justify-between px-6 py-2 bg-[#111] border-t border-gray-800 shrink-0 gap-4",children:[i.jsx("div",{className:"flex-1 flex justify-start",children:(()=>{const te=J.end-J.start,we=te>42.01;return i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:`text-xs font-bold uppercase tracking-widest flex items-center gap-2 ${we?"text-red-500":"text-gray-500"}`,children:[we&&i.jsx("span",{children:""}),i.jsxs("span",{children:["Trim: ",te.toFixed(2),"s"]}),we&&i.jsx("span",{className:"text-[10px] normal-case opacity-80",children:"(Max 42s)"})]}),i.jsx("button",{onClick:()=>{if(v.current){const Me=v.current.getRegions();if(Me.length>0){const Be=Me[0],We=Be.start+te/2,Ie=Math.max(0,We-21),pt=Math.min(R,We+21);Be.setOptions({start:Ie,end:pt}),Te({start:Ie,end:pt}),bn()}}},className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase transition-all border ${we?"bg-red-900/30 hover:bg-red-900/50 border-red-500/50 text-red-200":"bg-gray-800 hover:bg-gray-700 border-gray-600 text-gray-400 hover:text-white"}`,children:"Set 42s"})]})})()}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"mr-2 text-gray-500 flex items-center gap-1 opacity-50",children:i.jsx(Fg,{size:14})}),i.jsxs("button",{onClick:pe,className:"px-2 py-1 hover:bg-gray-800 rounded text-[10px] font-bold uppercase text-gray-400 hover:text-white flex items-center gap-1 border border-transparent hover:border-gray-700 transition-all",title:"Fit All",children:[i.jsx(wg,{size:14})," Fit View"]}),i.jsxs("button",{onClick:fe,className:"px-2 py-1 hover:bg-gray-800 rounded text-[10px] font-bold uppercase text-gray-400 hover:text-white flex items-center gap-1 border border-transparent hover:border-gray-700 transition-all",title:"Fit Trim",children:[i.jsx(by,{size:14})," Fit Trim"]}),i.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),i.jsx("button",{onClick:ge,disabled:z<=ve*1.001,className:`p-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white ${z<=ve*1.001?"opacity-30":""}`,children:i.jsx(Ay,{size:16})}),i.jsx("input",{type:"range",min:ve||.1,max:"1000",step:"0.1",value:z,onChange:te=>Sn(Number(te.target.value)),className:"w-24 h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),i.jsx("button",{onClick:me,className:"p-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white",children:i.jsx(zy,{size:16})})]})]}),i.jsxs("div",{className:"flex justify-center gap-4 shrink-0 pb-4 pt-2 border-t border-gray-800 bg-[#1a1a1a] z-50",children:[i.jsx("button",{onClick:()=>{const te=!G;if(U(te),v.current){const we=v.current.getRegions();we.length>0&&we[0].setOptions({loop:te})}},className:`flex items-center justify-center w-12 h-12 rounded-full border border-gray-700 transition-all ${G?"bg-synthux-blue text-white border-transparent":"bg-gray-800 text-gray-400 hover:text-white"}`,title:G?"Looping Active":"Enable Looping",children:i.jsx(zp,{size:20})}),i.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-8 py-3 bg-gray-800 hover:bg-gray-700 rounded-full text-lg font-bold transition-all hover:scale-105 active:scale-95 shadow-lg shadow-black/50",children:[k?i.jsx(Ph,{fill:"white"}):i.jsx(Vi,{fill:"white"}),k?"PAUSE":"PLAY"]}),i.jsx("div",{title:!M&&Je===o?"File has not changed":"",children:i.jsxs("button",{onClick:()=>{!M&&Je!==o&&p?p(Je):De()},disabled:K||!M&&Je===o,className:`flex items-center gap-2 px-8 py-3 rounded-full text-lg font-bold transition-all shadow-lg ${K||!M&&Je===o?"bg-gray-800 text-gray-500 cursor-not-allowed shadow-none":"bg-synthux-blue hover:bg-blue-500 text-white hover:scale-105 active:scale-95 shadow-synthux-blue/20"}`,children:[i.jsx(Uc,{size:20})," ",K?"SAVING...":"ASSIGN TO TAPE"]})}),S&&_&&i.jsxs("button",{onClick:async()=>{if(ce){Q(!0);try{let te=0,we=ce.duration;if(v.current){const Ie=v.current.getRegions();Ie&&Ie.length>0&&(te=Ie[0].start,we=Ie[0].end)}const Me=[];(te>.01||we<ce.duration-.01)&&Me.push("trimmed"),G&&Me.push("looped");let Be=await In.trim(ce,te,we);(B>0||W>0)&&(Be=await In.applyFades(Be,B,W));const We=ei(Be);_(We,Be.duration,Me),L("Saved as Unique File!","success")}catch(te){console.error(te),L("Failed to save unique file","error")}finally{Q(!1)}}},disabled:K,className:"flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-500 rounded-full text-sm font-bold transition-all hover:scale-105 active:scale-95 shadow-lg border border-orange-500 text-white",title:"Save as a new unique file and assign to this slot, leaving other duplicates unchanged.",children:[i.jsx(jp,{size:16})," SAVE UNIQUE"]}),i.jsxs("button",{onClick:async()=>{if(ce){Q(!0);try{let te=0,we=ce.duration;if(v.current){const We=v.current.getRegions();We&&We.length>0&&(te=We[0].start,we=We[0].end)}let Me=await In.trim(ce,te,we);(B>0||W>0)&&(Me=await In.applyFades(Me,B,W));const Be=ei(Me);h(Be,Me.duration),L("Saved copy to Unused Pool!","success")}catch(te){console.error(te),L("Failed to save copy","error")}finally{Q(!1)}}},disabled:K,className:"flex items-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full text-sm font-bold transition-all hover:scale-105 active:scale-95 shadow-lg border border-gray-600 text-gray-300",title:"Save as a new Parked file (Unassigned)",children:[i.jsx(Uc,{size:16})," SAVE COPY TO POOL"]})]})]})]})]})]})},Py=({files:x,tapes:l,onParkRequest:o,onOpenSampleBrowser:c,duplicates:m,onOpenDuplicateModal:u,onUnassignFile:h,onBulkUnassign:f,onDeleteFile:p,onFillFreeSlots:d})=>{const[S,_]=be.useState(!0),[E,b]=be.useState(!0),[j,v]=be.useState(!1),[k,N]=be.useState(new Set),[z,D]=be.useState(null),[B,H]=be.useState(null),W=()=>{const ee=x.filter(Ze=>Ze.isParked),Ne=x.filter(Ze=>!Ze.isParked);return[...ee,...Ne]},Y=(ee,Ne)=>{Ne.stopPropagation();const Ze=W(),Ke=new Set(k);if(Ne.shiftKey&&B){const st=Ze.findIndex(w=>w.id===B),Je=Ze.findIndex(w=>w.id===ee);if(st!==-1&&Je!==-1){const w=Math.min(st,Je),ce=Math.max(st,Je);!Ne.ctrlKey&&!Ne.metaKey&&Ke.clear();for(let oe=w;oe<=ce;oe++)Ke.add(Ze[oe].id);D(ee)}}else Ne.ctrlKey||Ne.metaKey?Ke.has(ee)?Ke.delete(ee):(Ke.add(ee),D(ee),H(ee)):(Ke.clear(),Ke.add(ee),D(ee),H(ee));N(Ke)},G=ee=>{const Ne=new Set(k);Ne.has(ee)?Ne.delete(ee):(Ne.add(ee),D(ee),H(ee)),N(Ne)},U=ee=>{if(ee.key!=="ArrowUp"&&ee.key!=="ArrowDown")return;ee.preventDefault();const Ne=W();if(Ne.length===0)return;let Ze=0;if(z){const ce=Ne.findIndex(oe=>oe.id===z);ce!==-1&&(ee.key==="ArrowUp"?Ze=Math.max(0,ce-1):Ze=Math.min(Ne.length-1,ce+1))}const st=Ne[Ze].id,Je=new Set(k);if(ee.shiftKey){B||H(z||st);const ce=B||z||st,oe=Ne.findIndex(ve=>ve.id===ce),V=Ze,R=Math.min(oe,V),$=Math.max(oe,V);!ee.ctrlKey&&!ee.metaKey&&Je.clear();for(let ve=R;ve<=$;ve++)Je.add(Ne[ve].id);D(st)}else Je.clear(),Je.add(st),D(st),H(st);N(Je),document.getElementById(`file-item-${st}`)?.scrollIntoView({block:"nearest"})},X=()=>{if(!f&&!h)return;const ee=[];k.forEach(Ne=>{const Ze=x.find(Ke=>Ke.id===Ne);Ze&&!Ze.isParked&&ee.push(Ne)}),ee.length!==0&&(f?f(ee):h&&ee.forEach(Ne=>h(Ne)),N(new Set))},ne=()=>{p&&confirm(`Are you sure you want to delete ${k.size} files? This cannot be undone.`)&&(k.forEach(ee=>p(ee)),N(new Set))},A=()=>N(new Set),O=()=>{const ee=new Set(k);ue.forEach(Ne=>ee.add(Ne.id)),N(ee)},g=()=>{const ee=new Set(k);C.forEach(Ne=>ee.add(Ne.id)),N(ee)},I=()=>{if(!d)return;const ee=ue.filter(Ze=>k.has(Ze.id)).map(Ze=>Ze.id),Ne=ee.length>0?ee:ue.map(Ze=>Ze.id);Ne.length!==0&&(d(Ne),A())},q=(ee,Ne)=>{if(k.has(Ne)){const Ze=Array.from(k);ee.dataTransfer.setData("application/x-spotykach-bulk-ids",JSON.stringify(Ze)),ee.dataTransfer.setData("application/x-spotykach-source","browser"),ee.dataTransfer.effectAllowed="copyMove",ee.dataTransfer.setData("application/x-spotykach-file-id",Ne),ee.dataTransfer.setData("text/plain",JSON.stringify({id:Ne,source:"browser",bulkIds:Ze}))}else ee.dataTransfer.setData("application/x-spotykach-file-id",Ne),ee.dataTransfer.setData("application/x-spotykach-source","browser"),ee.dataTransfer.effectAllowed="copyMove",ee.dataTransfer.setData("text/plain",JSON.stringify({id:Ne,source:"browser"}))},L=ee=>{ee.preventDefault(),ee.dataTransfer.types.includes("application/x-spotykach-file-id")&&(ee.dataTransfer.dropEffect="move")},K=ee=>{ee.preventDefault();const Ne=ee.dataTransfer.getData("application/x-spotykach-file-id"),Ze=ee.dataTransfer.getData("application/x-spotykach-source");Ne&&Ze==="slot"&&o(Ne)},Q=ee=>{for(const[Ne,Ze]of Object.entries(l)){const Ke=Ze.slots.find(st=>st.fileId===ee);if(Ke)return`${Ne} ${Ke.id}`}return null},ue=x.filter(ee=>ee.isParked),C=x.filter(ee=>!ee.isParked),M=ee=>{if(!ee)return"";switch(ee.split(" ")[0]){case"Blue":return"bg-synthux-blue/20 text-synthux-blue border-synthux-blue/50";case"Green":return"bg-synthux-green/20 text-synthux-green border-synthux-green/50";case"Pink":return"bg-synthux-pink/20 text-synthux-pink border-synthux-pink/50";case"Red":return"bg-synthux-red/20 text-synthux-red border-synthux-red/50";case"Turquoise":return"bg-teal-400/20 text-teal-400 border-teal-400/50";case"Yellow":return"bg-synthux-yellow/20 text-synthux-yellow border-synthux-yellow/50";default:return"bg-gray-700 text-gray-300 border-gray-600"}},de=ee=>{if(!ee)return"border-gray-600";switch(ee.split(" ")[0]){case"Blue":return"border-synthux-blue";case"Green":return"border-synthux-green";case"Pink":return"border-synthux-pink";case"Red":return"border-synthux-red";case"Turquoise":return"border-teal-400";case"Yellow":return"border-synthux-yellow";default:return"border-gray-600"}},{play:se,stop:le,isPlaying:Oe,activeFileId:Le}=ur();return i.jsxs("div",{className:"w-72 bg-synthux-browsebg border-r border-gray-800 flex flex-col h-full transition-all outline-none focus:ring-1 focus:ring-synthux-blue/50",onDragOver:L,onDrop:K,tabIndex:0,onKeyDown:U,children:[i.jsxs("div",{className:"p-4 border-b border-gray-800 bg-synthux-panel flex items-center justify-between min-h-[60px]",children:[k.size>0?i.jsxs("div",{className:"flex items-center gap-2 w-full animate-in fade-in slide-in-from-top-1 duration-200",children:[i.jsxs("button",{onClick:A,className:"mr-auto text-xs font-bold text-gray-400 hover:text-white flex items-center gap-1",children:[i.jsx(Wt,{size:14})," ",k.size," Selected"]}),h&&i.jsx("button",{onClick:X,className:"p-1.5 rounded-md bg-synthux-yellow/10 border border-synthux-yellow/30 text-synthux-yellow hover:bg-synthux-yellow/30 transition-colors",title:"Move Selected to Unassigned",children:i.jsx(Wt,{size:14})}),p&&i.jsx("button",{onClick:ne,className:"p-1.5 rounded-md bg-red-900/20 border border-red-900/30 text-red-500 hover:bg-red-900/40 transition-colors",title:"Delete Selected",children:i.jsx(qi,{size:14})})]}):i.jsxs("div",{children:[i.jsxs("h3",{className:"text-gray-400 uppercase text-xs font-bold flex items-center gap-2",children:[i.jsx(or,{size:14})," File Registry"]}),i.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"All imported files."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:c,className:"p-1.5 rounded hover:bg-gray-700 transition-colors text-gray-400 hover:text-synthux-orange",title:"Browse Sample Packs",children:i.jsx(Np,{size:16})}),i.jsx("button",{onClick:()=>v(!j),className:`p-1.5 rounded hover:bg-gray-700 transition-colors ${j?"text-synthux-blue bg-gray-800":"text-gray-400"}`,title:j?"Expand View":"Compact View",children:j?i.jsx(ly,{size:16}):i.jsx(oy,{size:16})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1 w-full",children:[i.jsxs("button",{onClick:()=>b(!E),className:"flex items-center gap-1 text-left text-xs font-bold text-gray-400 uppercase hover:text-white flex-1",children:[E?i.jsx(Rc,{size:14}):i.jsx(ir,{size:14}),"Unassigned (",ue.length,")"]}),i.jsx("button",{onClick:ee=>{ee.stopPropagation(),O()},className:"text-[10px] text-gray-500 hover:text-white underline decoration-transparent hover:decoration-white transition-all",title:"Select All Unassigned",children:"Select All"}),d&&ue.length>0&&i.jsx("button",{onClick:ee=>{ee.stopPropagation(),I()},className:"p-1 rounded bg-gray-800 hover:bg-synthux-blue/20 text-gray-400 hover:text-synthux-blue transition-colors ml-1",title:"Add all unassigned to free slots",children:i.jsx(jg,{size:12})})]}),E&&i.jsxs("div",{className:"pl-1",children:[ue.map(ee=>i.jsx(rp,{file:ee,isMinified:j,isPlaying:Oe,activeFileId:Le,play:se,stop:le,onDragStart:q,location:null,getLabelStyle:M,getBorderColor:de,isSelected:k.has(ee.id),onToggleSelect:()=>G(ee.id),onSelectionClick:Ne=>Y(ee.id,Ne),onDelete:()=>{p&&p(ee.id)}},ee.id)),ue.length===0&&i.jsx("div",{className:"text-gray-600 text-xs italic px-2 py-4 border border-dashed border-gray-800 rounded",children:"No unassigned files"})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1 w-full",children:[i.jsxs("button",{onClick:()=>_(!S),className:"flex items-center gap-1 text-left text-xs font-bold text-gray-400 uppercase hover:text-white flex-1",children:[S?i.jsx(Rc,{size:14}):i.jsx(ir,{size:14}),"Assigned (",C.length,")"]}),i.jsx("button",{onClick:ee=>{ee.stopPropagation(),g()},className:"text-[10px] text-gray-500 hover:text-white underline decoration-transparent hover:decoration-white transition-all",title:"Select All Assigned",children:"Select All"})]}),S&&i.jsxs("div",{className:"pl-1",children:[C.map(ee=>i.jsx(rp,{file:ee,isMinified:j,isPlaying:Oe,activeFileId:Le,play:se,stop:le,onDragStart:q,location:Q(ee.id),getLabelStyle:M,getBorderColor:de,isDuplicate:m.has(ee.id),onOpenDuplicateModal:u,isSelected:k.has(ee.id),onToggleSelect:()=>G(ee.id),onSelectionClick:Ne=>Y(ee.id,Ne),onUnassign:()=>{h&&h(ee.id)},onDelete:()=>{p&&p(ee.id)}},ee.id)),C.length===0&&i.jsx("div",{className:"text-gray-600 text-xs italic px-2 py-4 border border-dashed border-gray-800 rounded",children:"No assigned files"})]})]})]})]})},rp=({file:x,location:l,isMinified:o,isPlaying:c,activeFileId:m,play:u,stop:h,onDragStart:f,getLabelStyle:p,getBorderColor:d,isDuplicate:S,onUnassign:_,onDelete:E,isSelected:b,onToggleSelect:j,onSelectionClick:v})=>{const k=c&&m===x.id,N=o&&l?d(l):l?"border-gray-700":"border-gray-600",z=l?"bg-gray-800/50":"bg-gray-800";return i.jsxs("div",{id:`file-item-${x.id}`,draggable:!0,onDragStart:D=>f(D,x.id),onClick:v,className:`
            relative rounded-md text-sm border cursor-grab active:cursor-grabbing group flex gap-2 select-none transition-colors mb-2
            ${z} ${N}
            ${o?"items-center p-1.5":"items-start p-2"}

            hover:border-gray-500 hover:bg-gray-700
            ${S?"!border-orange-500":""}
            ${b?"bg-synthux-yellow/10 border-synthux-yellow/50":""}
        `,children:[i.jsxs("div",{className:`flex shrink-0 ${o?"flex-row items-center gap-2":"flex-col items-center gap-1"}`,children:[i.jsx("div",{onClick:D=>{D.stopPropagation(),j()},className:`
                        w-4 h-4 rounded border flex items-center justify-center shrink-0 transition-colors cursor-pointer
                        ${b?"bg-synthux-yellow border-synthux-yellow":"bg-gray-800 border-gray-600 hover:border-gray-500"}
                    `,title:b?"Deselect":"Select",children:b&&i.jsx(ni,{size:10,className:"text-black stroke-[3]"})}),i.jsx("button",{onClick:D=>{D.stopPropagation(),k?h():u(x)},className:`p-1.5 rounded-md transition-colors ${k?"bg-synthux-blue text-white":"bg-gray-700 text-gray-400 hover:text-white hover:bg-gray-600"}`,title:k?"Stop Preview":"Preview Audio",children:k?i.jsx(cr,{size:12,fill:"currentColor"}):i.jsx(Vi,{size:12,fill:"currentColor"})}),i.jsx("button",{onClick:D=>{D.stopPropagation(),Ms(()=>Promise.resolve().then(()=>Xc),void 0).then(B=>B.exportSingleFile(x))},className:"p-1.5 rounded-md transition-colors bg-gray-700 text-gray-400 hover:text-white hover:bg-gray-600",title:"Download WAV",children:i.jsx(Ln,{size:12})})]}),i.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[i.jsx("div",{className:"font-medium truncate text-gray-200",children:x.name}),!o&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-between text-[10px] text-gray-400 mt-0.5",children:i.jsx("span",{className:"truncate max-w-[100px]",children:x.originalName})}),i.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:x.versions.find(D=>D.id===x.currentVersionId)?.description||"Original"}),i.jsxs("div",{className:"text-[10px] text-gray-600 mt-1",children:[x.versions.length," version",x.versions.length!==1?"s":""]})]})]}),i.jsxs("div",{className:`flex items-center gap-1 ${o?"ml-1":"ml-2"}`,children:[l&&_&&i.jsx("button",{onClick:D=>{D.stopPropagation(),_()},className:"p-1 rounded hover:bg-synthux-yellow/20 text-gray-500 hover:text-synthux-yellow transition-colors",title:"Unassign (Move to Unassigned)",children:i.jsx(Wt,{size:12})}),E&&i.jsx("button",{onClick:D=>{D.stopPropagation(),E()},className:"p-1 rounded hover:bg-red-900/40 text-gray-500 hover:text-red-500 transition-colors",title:"Permanently Delete",children:i.jsx(qi,{size:12})})]}),l&&!o&&i.jsx("div",{className:`absolute bottom-1 right-1 text-[9px] px-1 py-0.5 rounded border leading-none font-mono ${p(l)}`,children:l}),!o&&i.jsx(ey,{size:16,className:"text-gray-600 mt-0.5 shrink-0 opacity-50 group-hover:opacity-100"})]})},ex=x=>({id:x,fileId:null}),tx=x=>({color:x,slots:Array.from({length:6},(l,o)=>ex(o+1))}),op=()=>{const x=Ct.reduce((l,o)=>(l[o]=tx(o),l),{});return{files:{},tapes:x}};class nx{audioContext;constructor(){this.audioContext=new(window.AudioContext||window.webkitAudioContext)}async loadAndProcessAudio(l){const o=await l.arrayBuffer(),c=await this.audioContext.decodeAudioData(o);let m=c;(c.sampleRate!==48e3||c.numberOfChannels!==2)&&(m=await this.resampleTo48kStereo(c));const u=ei(m);return{buffer:m,blob:u}}async resampleTo48kStereo(l){const m=l.duration,u=Math.ceil(m*48e3),h=new OfflineAudioContext(2,u,48e3),f=h.createBufferSource();return f.buffer=l,f.connect(h.destination),f.start(0),await h.startRendering()}}const cp=new nx;function er(x){throw new Error('Could not dynamically require "'+x+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zc={exports:{}};var up;function ax(){return up||(up=1,(function(x,l){(function(o){x.exports=o()})(function(){return(function o(c,m,u){function h(d,S){if(!m[d]){if(!c[d]){var _=typeof er=="function"&&er;if(!S&&_)return _(d,!0);if(f)return f(d,!0);var E=new Error("Cannot find module '"+d+"'");throw E.code="MODULE_NOT_FOUND",E}var b=m[d]={exports:{}};c[d][0].call(b.exports,function(j){var v=c[d][1][j];return h(v||j)},b,b.exports,o,c,m,u)}return m[d].exports}for(var f=typeof er=="function"&&er,p=0;p<u.length;p++)h(u[p]);return h})({1:[function(o,c,m){var u=o("./utils"),h=o("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function(p){for(var d,S,_,E,b,j,v,k=[],N=0,z=p.length,D=z,B=u.getTypeOf(p)!=="string";N<p.length;)D=z-N,_=B?(d=p[N++],S=N<z?p[N++]:0,N<z?p[N++]:0):(d=p.charCodeAt(N++),S=N<z?p.charCodeAt(N++):0,N<z?p.charCodeAt(N++):0),E=d>>2,b=(3&d)<<4|S>>4,j=1<D?(15&S)<<2|_>>6:64,v=2<D?63&_:64,k.push(f.charAt(E)+f.charAt(b)+f.charAt(j)+f.charAt(v));return k.join("")},m.decode=function(p){var d,S,_,E,b,j,v=0,k=0,N="data:";if(p.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");var z,D=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===f.charAt(64)&&D--,p.charAt(p.length-2)===f.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(z=h.uint8array?new Uint8Array(0|D):new Array(0|D);v<p.length;)d=f.indexOf(p.charAt(v++))<<2|(E=f.indexOf(p.charAt(v++)))>>4,S=(15&E)<<4|(b=f.indexOf(p.charAt(v++)))>>2,_=(3&b)<<6|(j=f.indexOf(p.charAt(v++))),z[k++]=d,b!==64&&(z[k++]=S),j!==64&&(z[k++]=_);return z}},{"./support":30,"./utils":32}],2:[function(o,c,m){var u=o("./external"),h=o("./stream/DataWorker"),f=o("./stream/Crc32Probe"),p=o("./stream/DataLengthProbe");function d(S,_,E,b,j){this.compressedSize=S,this.uncompressedSize=_,this.crc32=E,this.compression=b,this.compressedContent=j}d.prototype={getContentWorker:function(){var S=new h(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),_=this;return S.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),S},getCompressedWorker:function(){return new h(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(S,_,E){return S.pipe(new f).pipe(new p("uncompressedSize")).pipe(_.compressWorker(E)).pipe(new p("compressedSize")).withStreamInfo("compression",_)},c.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,c,m){var u=o("./stream/GenericWorker");m.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},m.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,c,m){var u=o("./utils"),h=(function(){for(var f,p=[],d=0;d<256;d++){f=d;for(var S=0;S<8;S++)f=1&f?3988292384^f>>>1:f>>>1;p[d]=f}return p})();c.exports=function(f,p){return f!==void 0&&f.length?u.getTypeOf(f)!=="string"?(function(d,S,_,E){var b=h,j=E+_;d^=-1;for(var v=E;v<j;v++)d=d>>>8^b[255&(d^S[v])];return-1^d})(0|p,f,f.length,0):(function(d,S,_,E){var b=h,j=E+_;d^=-1;for(var v=E;v<j;v++)d=d>>>8^b[255&(d^S.charCodeAt(v))];return-1^d})(0|p,f,f.length,0):0}},{"./utils":32}],5:[function(o,c,m){m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!0,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],6:[function(o,c,m){var u=null;u=typeof Promise<"u"?Promise:o("lie"),c.exports={Promise:u}},{lie:37}],7:[function(o,c,m){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=o("pako"),f=o("./utils"),p=o("./stream/GenericWorker"),d=u?"uint8array":"array";function S(_,E){p.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=E,this.meta={}}m.magic="\b\0",f.inherits(S,p),S.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(d,_.data),!1)},S.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(E){_.push({data:E,meta:_.meta})}},m.compressWorker=function(_){return new S("Deflate",_)},m.uncompressWorker=function(){return new S("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,c,m){function u(b,j){var v,k="";for(v=0;v<j;v++)k+=String.fromCharCode(255&b),b>>>=8;return k}function h(b,j,v,k,N,z){var D,B,H=b.file,W=b.compression,Y=z!==d.utf8encode,G=f.transformTo("string",z(H.name)),U=f.transformTo("string",d.utf8encode(H.name)),X=H.comment,ne=f.transformTo("string",z(X)),A=f.transformTo("string",d.utf8encode(X)),O=U.length!==H.name.length,g=A.length!==X.length,I="",q="",L="",K=H.dir,Q=H.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};j&&!v||(ue.crc32=b.crc32,ue.compressedSize=b.compressedSize,ue.uncompressedSize=b.uncompressedSize);var C=0;j&&(C|=8),Y||!O&&!g||(C|=2048);var M=0,de=0;K&&(M|=16),N==="UNIX"?(de=798,M|=(function(le,Oe){var Le=le;return le||(Le=Oe?16893:33204),(65535&Le)<<16})(H.unixPermissions,K)):(de=20,M|=(function(le){return 63&(le||0)})(H.dosPermissions)),D=Q.getUTCHours(),D<<=6,D|=Q.getUTCMinutes(),D<<=5,D|=Q.getUTCSeconds()/2,B=Q.getUTCFullYear()-1980,B<<=4,B|=Q.getUTCMonth()+1,B<<=5,B|=Q.getUTCDate(),O&&(q=u(1,1)+u(S(G),4)+U,I+="up"+u(q.length,2)+q),g&&(L=u(1,1)+u(S(ne),4)+A,I+="uc"+u(L.length,2)+L);var se="";return se+=`
\0`,se+=u(C,2),se+=W.magic,se+=u(D,2),se+=u(B,2),se+=u(ue.crc32,4),se+=u(ue.compressedSize,4),se+=u(ue.uncompressedSize,4),se+=u(G.length,2),se+=u(I.length,2),{fileRecord:_.LOCAL_FILE_HEADER+se+G+I,dirRecord:_.CENTRAL_FILE_HEADER+u(de,2)+se+u(ne.length,2)+"\0\0\0\0"+u(M,4)+u(k,4)+G+I+ne}}var f=o("../utils"),p=o("../stream/GenericWorker"),d=o("../utf8"),S=o("../crc32"),_=o("../signature");function E(b,j,v,k){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=v,this.encodeFileName=k,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(E,p),E.prototype.push=function(b){var j=b.meta.percent||0,v=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,p.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:v?(j+100*(v-k-1))/v:100}}))},E.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var j=this.streamFiles&&!b.file.dir;if(j){var v=h(b,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(b){this.accumulate=!1;var j=this.streamFiles&&!b.file.dir,v=h(b,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),j)this.push({data:(function(k){return _.DATA_DESCRIPTOR+u(k.crc32,4)+u(k.compressedSize,4)+u(k.uncompressedSize,4)})(b),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var b=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var v=this.bytesWritten-b,k=(function(N,z,D,B,H){var W=f.transformTo("string",H(B));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(N,2)+u(N,2)+u(z,4)+u(D,4)+u(W.length,2)+W})(this.dirRecords.length,v,b,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(b){this._sources.push(b);var j=this;return b.on("data",function(v){j.processChunk(v)}),b.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),b.on("error",function(v){j.error(v)}),this},E.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(b){var j=this._sources;if(!p.prototype.error.call(this,b))return!1;for(var v=0;v<j.length;v++)try{j[v].error(b)}catch{}return!0},E.prototype.lock=function(){p.prototype.lock.call(this);for(var b=this._sources,j=0;j<b.length;j++)b[j].lock()},c.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,c,m){var u=o("../compressions"),h=o("./ZipFileWorker");m.generateWorker=function(f,p,d){var S=new h(p.streamFiles,d,p.platform,p.encodeFileName),_=0;try{f.forEach(function(E,b){_++;var j=(function(z,D){var B=z||D,H=u[B];if(!H)throw new Error(B+" is not a valid compression method !");return H})(b.options.compression,p.compression),v=b.options.compressionOptions||p.compressionOptions||{},k=b.dir,N=b.date;b._compressWorker(j,v).withStreamInfo("file",{name:E,dir:k,date:N,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(S)}),S.entriesCount=_}catch(E){S.error(E)}return S}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,c,m){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new u;for(var f in this)typeof this[f]!="function"&&(h[f]=this[f]);return h}}(u.prototype=o("./object")).loadAsync=o("./load"),u.support=o("./support"),u.defaults=o("./defaults"),u.version="3.10.1",u.loadAsync=function(h,f){return new u().loadAsync(h,f)},u.external=o("./external"),c.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,c,m){var u=o("./utils"),h=o("./external"),f=o("./utf8"),p=o("./zipEntries"),d=o("./stream/Crc32Probe"),S=o("./nodejsUtils");function _(E){return new h.Promise(function(b,j){var v=E.decompressed.getContentWorker().pipe(new d);v.on("error",function(k){j(k)}).on("end",function(){v.streamInfo.crc32!==E.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}c.exports=function(E,b){var j=this;return b=u.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),S.isNode&&S.isStream(E)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",E,!0,b.optimizedBinaryString,b.base64).then(function(v){var k=new p(b);return k.load(v),k}).then(function(v){var k=[h.Promise.resolve(v)],N=v.files;if(b.checkCRC32)for(var z=0;z<N.length;z++)k.push(_(N[z]));return h.Promise.all(k)}).then(function(v){for(var k=v.shift(),N=k.files,z=0;z<N.length;z++){var D=N[z],B=D.fileNameStr,H=u.resolve(D.fileNameStr);j.file(H,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:b.createFolders}),D.dir||(j.file(H).unsafeOriginalName=B)}return k.zipComment.length&&(j.comment=k.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,c,m){var u=o("../utils"),h=o("../stream/GenericWorker");function f(p,d){h.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(d)}u.inherits(f,h),f.prototype._bindStream=function(p){var d=this;(this._stream=p).pause(),p.on("data",function(S){d.push({data:S,meta:{percent:0}})}).on("error",function(S){d.isPaused?this.generatedError=S:d.error(S)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},f.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},c.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,c,m){var u=o("readable-stream").Readable;function h(f,p,d){u.call(this,p),this._helper=f;var S=this;f.on("data",function(_,E){S.push(_)||S._helper.pause(),d&&d(E)}).on("error",function(_){S.emit("error",_)}).on("end",function(){S.push(null)})}o("../utils").inherits(h,u),h.prototype._read=function(){this._helper.resume()},c.exports=h},{"../utils":32,"readable-stream":16}],14:[function(o,c,m){c.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,h);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,h)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var h=new Buffer(u);return h.fill(0),h},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(o,c,m){function u(H,W,Y){var G,U=f.getTypeOf(W),X=f.extend(Y||{},S);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&(H=N(H)),X.createFolders&&(G=k(H))&&z.call(this,G,!0);var ne=U==="string"&&X.binary===!1&&X.base64===!1;Y&&Y.binary!==void 0||(X.binary=!ne),(W instanceof _&&W.uncompressedSize===0||X.dir||!W||W.length===0)&&(X.base64=!1,X.binary=!0,W="",X.compression="STORE",U="string");var A=null;A=W instanceof _||W instanceof p?W:j.isNode&&j.isStream(W)?new v(H,W):f.prepareContent(H,W,X.binary,X.optimizedBinaryString,X.base64);var O=new E(H,A,X);this.files[H]=O}var h=o("./utf8"),f=o("./utils"),p=o("./stream/GenericWorker"),d=o("./stream/StreamHelper"),S=o("./defaults"),_=o("./compressedObject"),E=o("./zipObject"),b=o("./generate"),j=o("./nodejsUtils"),v=o("./nodejs/NodejsStreamInputAdapter"),k=function(H){H.slice(-1)==="/"&&(H=H.substring(0,H.length-1));var W=H.lastIndexOf("/");return 0<W?H.substring(0,W):""},N=function(H){return H.slice(-1)!=="/"&&(H+="/"),H},z=function(H,W){return W=W!==void 0?W:S.createFolders,H=N(H),this.files[H]||u.call(this,H,null,{dir:!0,createFolders:W}),this.files[H]};function D(H){return Object.prototype.toString.call(H)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(H){var W,Y,G;for(W in this.files)G=this.files[W],(Y=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&H(Y,G)},filter:function(H){var W=[];return this.forEach(function(Y,G){H(Y,G)&&W.push(G)}),W},file:function(H,W,Y){if(arguments.length!==1)return H=this.root+H,u.call(this,H,W,Y),this;if(D(H)){var G=H;return this.filter(function(X,ne){return!ne.dir&&G.test(X)})}var U=this.files[this.root+H];return U&&!U.dir?U:null},folder:function(H){if(!H)return this;if(D(H))return this.filter(function(U,X){return X.dir&&H.test(U)});var W=this.root+H,Y=z.call(this,W),G=this.clone();return G.root=Y.name,G},remove:function(H){H=this.root+H;var W=this.files[H];if(W||(H.slice(-1)!=="/"&&(H+="/"),W=this.files[H]),W&&!W.dir)delete this.files[H];else for(var Y=this.filter(function(U,X){return X.name.slice(0,H.length)===H}),G=0;G<Y.length;G++)delete this.files[Y[G].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(H){var W,Y={};try{if((Y=f.extend(H||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=Y.type.toLowerCase(),Y.compression=Y.compression.toUpperCase(),Y.type==="binarystring"&&(Y.type="string"),!Y.type)throw new Error("No output type specified.");f.checkSupport(Y.type),Y.platform!=="darwin"&&Y.platform!=="freebsd"&&Y.platform!=="linux"&&Y.platform!=="sunos"||(Y.platform="UNIX"),Y.platform==="win32"&&(Y.platform="DOS");var G=Y.comment||this.comment||"";W=b.generateWorker(this,Y,G)}catch(U){(W=new p("error")).error(U)}return new d(W,Y.type||"string",Y.mimeType)},generateAsync:function(H,W){return this.generateInternalStream(H).accumulate(W)},generateNodeStream:function(H,W){return(H=H||{}).type||(H.type="nodebuffer"),this.generateInternalStream(H).toNodejsStream(W)}};c.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,c,m){c.exports=o("stream")},{stream:void 0}],17:[function(o,c,m){var u=o("./DataReader");function h(f){u.call(this,f);for(var p=0;p<this.data.length;p++)f[p]=255&f[p]}o("../utils").inherits(h,u),h.prototype.byteAt=function(f){return this.data[this.zero+f]},h.prototype.lastIndexOfSignature=function(f){for(var p=f.charCodeAt(0),d=f.charCodeAt(1),S=f.charCodeAt(2),_=f.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===p&&this.data[E+1]===d&&this.data[E+2]===S&&this.data[E+3]===_)return E-this.zero;return-1},h.prototype.readAndCheckSignature=function(f){var p=f.charCodeAt(0),d=f.charCodeAt(1),S=f.charCodeAt(2),_=f.charCodeAt(3),E=this.readData(4);return p===E[0]&&d===E[1]&&S===E[2]&&_===E[3]},h.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},c.exports=h},{"../utils":32,"./DataReader":18}],18:[function(o,c,m){var u=o("../utils");function h(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var p,d=0;for(this.checkOffset(f),p=this.index+f-1;p>=this.index;p--)d=(d<<8)+this.byteAt(p);return this.index+=f,d},readString:function(f){return u.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},c.exports=h},{"../utils":32}],19:[function(o,c,m){var u=o("./Uint8ArrayReader");function h(f){u.call(this,f)}o("../utils").inherits(h,u),h.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},c.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,c,m){var u=o("./DataReader");function h(f){u.call(this,f)}o("../utils").inherits(h,u),h.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},h.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},h.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},h.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},c.exports=h},{"../utils":32,"./DataReader":18}],21:[function(o,c,m){var u=o("./ArrayReader");function h(f){u.call(this,f)}o("../utils").inherits(h,u),h.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},c.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(o,c,m){var u=o("../utils"),h=o("../support"),f=o("./ArrayReader"),p=o("./StringReader"),d=o("./NodeBufferReader"),S=o("./Uint8ArrayReader");c.exports=function(_){var E=u.getTypeOf(_);return u.checkSupport(E),E!=="string"||h.uint8array?E==="nodebuffer"?new d(_):h.uint8array?new S(u.transformTo("uint8array",_)):new f(u.transformTo("array",_)):new p(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,c,m){m.LOCAL_FILE_HEADER="PK",m.CENTRAL_FILE_HEADER="PK",m.CENTRAL_DIRECTORY_END="PK",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK",m.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,c,m){var u=o("./GenericWorker"),h=o("../utils");function f(p){u.call(this,"ConvertWorker to "+p),this.destType=p}h.inherits(f,u),f.prototype.processChunk=function(p){this.push({data:h.transformTo(this.destType,p.data),meta:p.meta})},c.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(o,c,m){var u=o("./GenericWorker"),h=o("../crc32");function f(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(f,u),f.prototype.processChunk=function(p){this.streamInfo.crc32=h(p.data,this.streamInfo.crc32||0),this.push(p)},c.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,c,m){var u=o("../utils"),h=o("./GenericWorker");function f(p){h.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}u.inherits(f,h),f.prototype.processChunk=function(p){if(p){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+p.data.length}h.prototype.processChunk.call(this,p)},c.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(o,c,m){var u=o("../utils"),h=o("./GenericWorker");function f(p){h.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(S){d.dataIsReady=!0,d.data=S,d.max=S&&S.length||0,d.type=u.getTypeOf(S),d.isPaused||d._tickAndRepeat()},function(S){d.error(S)})}u.inherits(f,h),f.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,d);break;case"uint8array":p=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":p=this.data.slice(this.index,d)}return this.index=d,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},c.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(o,c,m){function u(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,f){return this._listeners[h].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,f){if(this._listeners[h])for(var p=0;p<this._listeners[h].length;p++)this._listeners[h][p].call(this,f)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var f=this;return h.on("data",function(p){f.processChunk(p)}),h.on("end",function(){f.end()}),h.on("error",function(p){f.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,f){return this.extraStreamInfo[h]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},c.exports=u},{}],29:[function(o,c,m){var u=o("../utils"),h=o("./ConvertWorker"),f=o("./GenericWorker"),p=o("../base64"),d=o("../support"),S=o("../external"),_=null;if(d.nodestream)try{_=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function E(j,v){return new S.Promise(function(k,N){var z=[],D=j._internalType,B=j._outputType,H=j._mimeType;j.on("data",function(W,Y){z.push(W),v&&v(Y)}).on("error",function(W){z=[],N(W)}).on("end",function(){try{var W=(function(Y,G,U){switch(Y){case"blob":return u.newBlob(u.transformTo("arraybuffer",G),U);case"base64":return p.encode(G);default:return u.transformTo(Y,G)}})(B,(function(Y,G){var U,X=0,ne=null,A=0;for(U=0;U<G.length;U++)A+=G[U].length;switch(Y){case"string":return G.join("");case"array":return Array.prototype.concat.apply([],G);case"uint8array":for(ne=new Uint8Array(A),U=0;U<G.length;U++)ne.set(G[U],X),X+=G[U].length;return ne;case"nodebuffer":return Buffer.concat(G);default:throw new Error("concat : unsupported type '"+Y+"'")}})(D,z),H);k(W)}catch(Y){N(Y)}z=[]}).resume()})}function b(j,v,k){var N=v;switch(v){case"blob":case"arraybuffer":N="uint8array";break;case"base64":N="string"}try{this._internalType=N,this._outputType=v,this._mimeType=k,u.checkSupport(N),this._worker=j.pipe(new h(N)),j.lock()}catch(z){this._worker=new f("error"),this._worker.error(z)}}b.prototype={accumulate:function(j){return E(this,j)},on:function(j,v){var k=this;return j==="data"?this._worker.on(j,function(N){v.call(k,N.data,N.meta)}):this._worker.on(j,function(){u.delay(v,arguments,k)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},j)}},c.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,c,m){if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",m.nodebuffer=typeof Buffer<"u",m.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")m.blob=!1;else{var u=new ArrayBuffer(0);try{m.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(u),m.blob=h.getBlob("application/zip").size===0}catch{m.blob=!1}}}try{m.nodestream=!!o("readable-stream").Readable}catch{m.nodestream=!1}},{"readable-stream":16}],31:[function(o,c,m){for(var u=o("./utils"),h=o("./support"),f=o("./nodejsUtils"),p=o("./stream/GenericWorker"),d=new Array(256),S=0;S<256;S++)d[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;d[254]=d[254]=1;function _(){p.call(this,"utf-8 decode"),this.leftOver=null}function E(){p.call(this,"utf-8 encode")}m.utf8encode=function(b){return h.nodebuffer?f.newBufferFrom(b,"utf-8"):(function(j){var v,k,N,z,D,B=j.length,H=0;for(z=0;z<B;z++)(64512&(k=j.charCodeAt(z)))==55296&&z+1<B&&(64512&(N=j.charCodeAt(z+1)))==56320&&(k=65536+(k-55296<<10)+(N-56320),z++),H+=k<128?1:k<2048?2:k<65536?3:4;for(v=h.uint8array?new Uint8Array(H):new Array(H),z=D=0;D<H;z++)(64512&(k=j.charCodeAt(z)))==55296&&z+1<B&&(64512&(N=j.charCodeAt(z+1)))==56320&&(k=65536+(k-55296<<10)+(N-56320),z++),k<128?v[D++]=k:(k<2048?v[D++]=192|k>>>6:(k<65536?v[D++]=224|k>>>12:(v[D++]=240|k>>>18,v[D++]=128|k>>>12&63),v[D++]=128|k>>>6&63),v[D++]=128|63&k);return v})(b)},m.utf8decode=function(b){return h.nodebuffer?u.transformTo("nodebuffer",b).toString("utf-8"):(function(j){var v,k,N,z,D=j.length,B=new Array(2*D);for(v=k=0;v<D;)if((N=j[v++])<128)B[k++]=N;else if(4<(z=d[N]))B[k++]=65533,v+=z-1;else{for(N&=z===2?31:z===3?15:7;1<z&&v<D;)N=N<<6|63&j[v++],z--;1<z?B[k++]=65533:N<65536?B[k++]=N:(N-=65536,B[k++]=55296|N>>10&1023,B[k++]=56320|1023&N)}return B.length!==k&&(B.subarray?B=B.subarray(0,k):B.length=k),u.applyFromCharCode(B)})(b=u.transformTo(h.uint8array?"uint8array":"array",b))},u.inherits(_,p),_.prototype.processChunk=function(b){var j=u.transformTo(h.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var v=j;(j=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),j.set(v,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var k=(function(z,D){var B;for((D=D||z.length)>z.length&&(D=z.length),B=D-1;0<=B&&(192&z[B])==128;)B--;return B<0||B===0?D:B+d[z[B]]>D?B:D})(j),N=j;k!==j.length&&(h.uint8array?(N=j.subarray(0,k),this.leftOver=j.subarray(k,j.length)):(N=j.slice(0,k),this.leftOver=j.slice(k,j.length))),this.push({data:m.utf8decode(N),meta:b.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:m.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},m.Utf8DecodeWorker=_,u.inherits(E,p),E.prototype.processChunk=function(b){this.push({data:m.utf8encode(b.data),meta:b.meta})},m.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,c,m){var u=o("./support"),h=o("./base64"),f=o("./nodejsUtils"),p=o("./external");function d(v){return v}function S(v,k){for(var N=0;N<v.length;++N)k[N]=255&v.charCodeAt(N);return k}o("setimmediate"),m.newBlob=function(v,k){m.checkSupport("blob");try{return new Blob([v],{type:k})}catch{try{var N=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return N.append(v),N.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(v,k,N){var z=[],D=0,B=v.length;if(B<=N)return String.fromCharCode.apply(null,v);for(;D<B;)k==="array"||k==="nodebuffer"?z.push(String.fromCharCode.apply(null,v.slice(D,Math.min(D+N,B)))):z.push(String.fromCharCode.apply(null,v.subarray(D,Math.min(D+N,B)))),D+=N;return z.join("")},stringifyByChar:function(v){for(var k="",N=0;N<v.length;N++)k+=String.fromCharCode(v[N]);return k},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}})()}};function E(v){var k=65536,N=m.getTypeOf(v),z=!0;if(N==="uint8array"?z=_.applyCanBeUsed.uint8array:N==="nodebuffer"&&(z=_.applyCanBeUsed.nodebuffer),z)for(;1<k;)try{return _.stringifyByChunk(v,N,k)}catch{k=Math.floor(k/2)}return _.stringifyByChar(v)}function b(v,k){for(var N=0;N<v.length;N++)k[N]=v[N];return k}m.applyFromCharCode=E;var j={};j.string={string:d,array:function(v){return S(v,new Array(v.length))},arraybuffer:function(v){return j.string.uint8array(v).buffer},uint8array:function(v){return S(v,new Uint8Array(v.length))},nodebuffer:function(v){return S(v,f.allocBuffer(v.length))}},j.array={string:E,array:d,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return f.newBufferFrom(v)}},j.arraybuffer={string:function(v){return E(new Uint8Array(v))},array:function(v){return b(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:d,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return f.newBufferFrom(new Uint8Array(v))}},j.uint8array={string:E,array:function(v){return b(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:d,nodebuffer:function(v){return f.newBufferFrom(v)}},j.nodebuffer={string:E,array:function(v){return b(v,new Array(v.length))},arraybuffer:function(v){return j.nodebuffer.uint8array(v).buffer},uint8array:function(v){return b(v,new Uint8Array(v.length))},nodebuffer:d},m.transformTo=function(v,k){if(k=k||"",!v)return k;m.checkSupport(v);var N=m.getTypeOf(k);return j[N][v](k)},m.resolve=function(v){for(var k=v.split("/"),N=[],z=0;z<k.length;z++){var D=k[z];D==="."||D===""&&z!==0&&z!==k.length-1||(D===".."?N.pop():N.push(D))}return N.join("/")},m.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":u.nodebuffer&&f.isBuffer(v)?"nodebuffer":u.uint8array&&v instanceof Uint8Array?"uint8array":u.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(v){if(!u[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(v){var k,N,z="";for(N=0;N<(v||"").length;N++)z+="\\x"+((k=v.charCodeAt(N))<16?"0":"")+k.toString(16).toUpperCase();return z},m.delay=function(v,k,N){setImmediate(function(){v.apply(N||null,k||[])})},m.inherits=function(v,k){function N(){}N.prototype=k.prototype,v.prototype=new N},m.extend=function(){var v,k,N={};for(v=0;v<arguments.length;v++)for(k in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],k)&&N[k]===void 0&&(N[k]=arguments[v][k]);return N},m.prepareContent=function(v,k,N,z,D){return p.Promise.resolve(k).then(function(B){return u.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new p.Promise(function(H,W){var Y=new FileReader;Y.onload=function(G){H(G.target.result)},Y.onerror=function(G){W(G.target.error)},Y.readAsArrayBuffer(B)}):B}).then(function(B){var H=m.getTypeOf(B);return H?(H==="arraybuffer"?B=m.transformTo("uint8array",B):H==="string"&&(D?B=h.decode(B):N&&z!==!0&&(B=(function(W){return S(W,u.uint8array?new Uint8Array(W.length):new Array(W.length))})(B))),B):p.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,c,m){var u=o("./reader/readerFor"),h=o("./utils"),f=o("./signature"),p=o("./zipEntry"),d=o("./support");function S(_){this.files=[],this.loadOptions=_}S.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(E)+", expected "+h.pretty(_)+")")}},isSignature:function(_,E){var b=this.reader.index;this.reader.setIndex(_);var j=this.reader.readString(4)===E;return this.reader.setIndex(b),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),E=d.uint8array?"uint8array":"array",b=h.transformTo(E,_);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,E,b,j=this.zip64EndOfCentralSize-44;0<j;)_=this.reader.readInt(2),E=this.reader.readInt(4),b=this.reader.readData(E),this.zip64ExtensibleData[_]={id:_,length:E,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,E;for(_=0;_<this.files.length;_++)E=this.files[_],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(_=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var E=_;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var j=E-b;if(0<j)this.isSignature(E,f.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(_){this.reader=u(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},c.exports=S},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,c,m){var u=o("./reader/readerFor"),h=o("./utils"),f=o("./compressedObject"),p=o("./crc32"),d=o("./utf8"),S=o("./compressions"),_=o("./support");function E(b,j){this.options=b,this.loadOptions=j}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var j,v;if(b.skip(22),this.fileNameLength=b.readInt(2),v=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=(function(k){for(var N in S)if(Object.prototype.hasOwnProperty.call(S,N)&&S[N].magic===k)return S[N];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,j,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var j=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(j),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=u(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var j,v,k,N=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<N;)j=b.readInt(2),v=b.readInt(2),k=b.readData(v),this.extraFields[j]={id:j,length:v,value:k};b.setIndex(N)},handleUTF8:function(){var b=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var v=h.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var N=h.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var j=u(b.value);return j.readInt(1)!==1||p(this.fileName)!==j.readInt(4)?null:d.utf8decode(j.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var j=u(b.value);return j.readInt(1)!==1||p(this.fileComment)!==j.readInt(4)?null:d.utf8decode(j.readData(b.length-5))}return null}},c.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,c,m){function u(j,v,k){this.name=j,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=v,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var h=o("./stream/StreamHelper"),f=o("./stream/DataWorker"),p=o("./utf8"),d=o("./compressedObject"),S=o("./stream/GenericWorker");u.prototype={internalStream:function(j){var v=null,k="string";try{if(!j)throw new Error("No output type specified.");var N=(k=j.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),v=this._decompressWorker();var z=!this._dataBinary;z&&!N&&(v=v.pipe(new p.Utf8EncodeWorker)),!z&&N&&(v=v.pipe(new p.Utf8DecodeWorker))}catch(D){(v=new S("error")).error(D)}return new h(v,k,"")},async:function(j,v){return this.internalStream(j).accumulate(v)},nodeStream:function(j,v){return this.internalStream(j||"nodebuffer").toNodejsStream(v)},_compressWorker:function(j,v){if(this._data instanceof d&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new p.Utf8EncodeWorker)),d.createWorkerFrom(k,j,v)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof S?this._data:new f(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<_.length;b++)u.prototype[_[b]]=E;c.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,c,m){(function(u){var h,f,p=u.MutationObserver||u.WebKitMutationObserver;if(p){var d=0,S=new p(j),_=u.document.createTextNode("");S.observe(_,{characterData:!0}),h=function(){_.data=d=++d%2}}else if(u.setImmediate||u.MessageChannel===void 0)h="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var v=u.document.createElement("script");v.onreadystatechange=function(){j(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},u.document.documentElement.appendChild(v)}:function(){setTimeout(j,0)};else{var E=new u.MessageChannel;E.port1.onmessage=j,h=function(){E.port2.postMessage(0)}}var b=[];function j(){var v,k;f=!0;for(var N=b.length;N;){for(k=b,b=[],v=-1;++v<N;)k[v]();N=b.length}f=!1}c.exports=function(v){b.push(v)!==1||f||h()}}).call(this,typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,c,m){var u=o("immediate");function h(){}var f={},p=["REJECTED"],d=["FULFILLED"],S=["PENDING"];function _(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,N!==h&&v(this,N)}function E(N,z,D){this.promise=N,typeof z=="function"&&(this.onFulfilled=z,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function b(N,z,D){u(function(){var B;try{B=z(D)}catch(H){return f.reject(N,H)}B===N?f.reject(N,new TypeError("Cannot resolve promise with itself")):f.resolve(N,B)})}function j(N){var z=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof z=="function")return function(){z.apply(N,arguments)}}function v(N,z){var D=!1;function B(Y){D||(D=!0,f.reject(N,Y))}function H(Y){D||(D=!0,f.resolve(N,Y))}var W=k(function(){z(H,B)});W.status==="error"&&B(W.value)}function k(N,z){var D={};try{D.value=N(z),D.status="success"}catch(B){D.status="error",D.value=B}return D}(c.exports=_).prototype.finally=function(N){if(typeof N!="function")return this;var z=this.constructor;return this.then(function(D){return z.resolve(N()).then(function(){return D})},function(D){return z.resolve(N()).then(function(){throw D})})},_.prototype.catch=function(N){return this.then(null,N)},_.prototype.then=function(N,z){if(typeof N!="function"&&this.state===d||typeof z!="function"&&this.state===p)return this;var D=new this.constructor(h);return this.state!==S?b(D,this.state===d?N:z,this.outcome):this.queue.push(new E(D,N,z)),D},E.prototype.callFulfilled=function(N){f.resolve(this.promise,N)},E.prototype.otherCallFulfilled=function(N){b(this.promise,this.onFulfilled,N)},E.prototype.callRejected=function(N){f.reject(this.promise,N)},E.prototype.otherCallRejected=function(N){b(this.promise,this.onRejected,N)},f.resolve=function(N,z){var D=k(j,z);if(D.status==="error")return f.reject(N,D.value);var B=D.value;if(B)v(N,B);else{N.state=d,N.outcome=z;for(var H=-1,W=N.queue.length;++H<W;)N.queue[H].callFulfilled(z)}return N},f.reject=function(N,z){N.state=p,N.outcome=z;for(var D=-1,B=N.queue.length;++D<B;)N.queue[D].callRejected(z);return N},_.resolve=function(N){return N instanceof this?N:f.resolve(new this(h),N)},_.reject=function(N){var z=new this(h);return f.reject(z,N)},_.all=function(N){var z=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=N.length,B=!1;if(!D)return this.resolve([]);for(var H=new Array(D),W=0,Y=-1,G=new this(h);++Y<D;)U(N[Y],Y);return G;function U(X,ne){z.resolve(X).then(function(A){H[ne]=A,++W!==D||B||(B=!0,f.resolve(G,H))},function(A){B||(B=!0,f.reject(G,A))})}},_.race=function(N){var z=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=N.length,B=!1;if(!D)return this.resolve([]);for(var H=-1,W=new this(h);++H<D;)Y=N[H],z.resolve(Y).then(function(G){B||(B=!0,f.resolve(W,G))},function(G){B||(B=!0,f.reject(W,G))});var Y;return W}},{immediate:36}],38:[function(o,c,m){var u={};(0,o("./lib/utils/common").assign)(u,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),c.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,c,m){var u=o("./zlib/deflate"),h=o("./utils/common"),f=o("./utils/strings"),p=o("./zlib/messages"),d=o("./zlib/zstream"),S=Object.prototype.toString,_=0,E=-1,b=0,j=8;function v(N){if(!(this instanceof v))return new v(N);this.options=h.assign({level:E,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},N||{});var z=this.options;z.raw&&0<z.windowBits?z.windowBits=-z.windowBits:z.gzip&&0<z.windowBits&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var D=u.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(D!==_)throw new Error(p[D]);if(z.header&&u.deflateSetHeader(this.strm,z.header),z.dictionary){var B;if(B=typeof z.dictionary=="string"?f.string2buf(z.dictionary):S.call(z.dictionary)==="[object ArrayBuffer]"?new Uint8Array(z.dictionary):z.dictionary,(D=u.deflateSetDictionary(this.strm,B))!==_)throw new Error(p[D]);this._dict_set=!0}}function k(N,z){var D=new v(z);if(D.push(N,!0),D.err)throw D.msg||p[D.err];return D.result}v.prototype.push=function(N,z){var D,B,H=this.strm,W=this.options.chunkSize;if(this.ended)return!1;B=z===~~z?z:z===!0?4:0,typeof N=="string"?H.input=f.string2buf(N):S.call(N)==="[object ArrayBuffer]"?H.input=new Uint8Array(N):H.input=N,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new h.Buf8(W),H.next_out=0,H.avail_out=W),(D=u.deflate(H,B))!==1&&D!==_)return this.onEnd(D),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(h.shrinkBuf(H.output,H.next_out))):this.onData(h.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&D!==1);return B===4?(D=u.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===_):B!==2||(this.onEnd(_),!(H.avail_out=0))},v.prototype.onData=function(N){this.chunks.push(N)},v.prototype.onEnd=function(N){N===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},m.Deflate=v,m.deflate=k,m.deflateRaw=function(N,z){return(z=z||{}).raw=!0,k(N,z)},m.gzip=function(N,z){return(z=z||{}).gzip=!0,k(N,z)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,c,m){var u=o("./zlib/inflate"),h=o("./utils/common"),f=o("./utils/strings"),p=o("./zlib/constants"),d=o("./zlib/messages"),S=o("./zlib/zstream"),_=o("./zlib/gzheader"),E=Object.prototype.toString;function b(v){if(!(this instanceof b))return new b(v);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},v||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||v&&v.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&(15&k.windowBits)==0&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var N=u.inflateInit2(this.strm,k.windowBits);if(N!==p.Z_OK)throw new Error(d[N]);this.header=new _,u.inflateGetHeader(this.strm,this.header)}function j(v,k){var N=new b(k);if(N.push(v,!0),N.err)throw N.msg||d[N.err];return N.result}b.prototype.push=function(v,k){var N,z,D,B,H,W,Y=this.strm,G=this.options.chunkSize,U=this.options.dictionary,X=!1;if(this.ended)return!1;z=k===~~k?k:k===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof v=="string"?Y.input=f.binstring2buf(v):E.call(v)==="[object ArrayBuffer]"?Y.input=new Uint8Array(v):Y.input=v,Y.next_in=0,Y.avail_in=Y.input.length;do{if(Y.avail_out===0&&(Y.output=new h.Buf8(G),Y.next_out=0,Y.avail_out=G),(N=u.inflate(Y,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&U&&(W=typeof U=="string"?f.string2buf(U):E.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,N=u.inflateSetDictionary(this.strm,W)),N===p.Z_BUF_ERROR&&X===!0&&(N=p.Z_OK,X=!1),N!==p.Z_STREAM_END&&N!==p.Z_OK)return this.onEnd(N),!(this.ended=!0);Y.next_out&&(Y.avail_out!==0&&N!==p.Z_STREAM_END&&(Y.avail_in!==0||z!==p.Z_FINISH&&z!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=f.utf8border(Y.output,Y.next_out),B=Y.next_out-D,H=f.buf2string(Y.output,D),Y.next_out=B,Y.avail_out=G-B,B&&h.arraySet(Y.output,Y.output,D,B,0),this.onData(H)):this.onData(h.shrinkBuf(Y.output,Y.next_out)))),Y.avail_in===0&&Y.avail_out===0&&(X=!0)}while((0<Y.avail_in||Y.avail_out===0)&&N!==p.Z_STREAM_END);return N===p.Z_STREAM_END&&(z=p.Z_FINISH),z===p.Z_FINISH?(N=u.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===p.Z_OK):z!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(Y.avail_out=0))},b.prototype.onData=function(v){this.chunks.push(v)},b.prototype.onEnd=function(v){v===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},m.Inflate=b,m.inflate=j,m.inflateRaw=function(v,k){return(k=k||{}).raw=!0,j(v,k)},m.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,c,m){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";m.assign=function(p){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var S=d.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var _ in S)S.hasOwnProperty(_)&&(p[_]=S[_])}}return p},m.shrinkBuf=function(p,d){return p.length===d?p:p.subarray?p.subarray(0,d):(p.length=d,p)};var h={arraySet:function(p,d,S,_,E){if(d.subarray&&p.subarray)p.set(d.subarray(S,S+_),E);else for(var b=0;b<_;b++)p[E+b]=d[S+b]},flattenChunks:function(p){var d,S,_,E,b,j;for(d=_=0,S=p.length;d<S;d++)_+=p[d].length;for(j=new Uint8Array(_),d=E=0,S=p.length;d<S;d++)b=p[d],j.set(b,E),E+=b.length;return j}},f={arraySet:function(p,d,S,_,E){for(var b=0;b<_;b++)p[E+b]=d[S+b]},flattenChunks:function(p){return[].concat.apply([],p)}};m.setTyped=function(p){p?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,h)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,f))},m.setTyped(u)},{}],42:[function(o,c,m){var u=o("./common"),h=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var p=new u.Buf8(256),d=0;d<256;d++)p[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function S(_,E){if(E<65537&&(_.subarray&&f||!_.subarray&&h))return String.fromCharCode.apply(null,u.shrinkBuf(_,E));for(var b="",j=0;j<E;j++)b+=String.fromCharCode(_[j]);return b}p[254]=p[254]=1,m.string2buf=function(_){var E,b,j,v,k,N=_.length,z=0;for(v=0;v<N;v++)(64512&(b=_.charCodeAt(v)))==55296&&v+1<N&&(64512&(j=_.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(j-56320),v++),z+=b<128?1:b<2048?2:b<65536?3:4;for(E=new u.Buf8(z),v=k=0;k<z;v++)(64512&(b=_.charCodeAt(v)))==55296&&v+1<N&&(64512&(j=_.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(j-56320),v++),b<128?E[k++]=b:(b<2048?E[k++]=192|b>>>6:(b<65536?E[k++]=224|b>>>12:(E[k++]=240|b>>>18,E[k++]=128|b>>>12&63),E[k++]=128|b>>>6&63),E[k++]=128|63&b);return E},m.buf2binstring=function(_){return S(_,_.length)},m.binstring2buf=function(_){for(var E=new u.Buf8(_.length),b=0,j=E.length;b<j;b++)E[b]=_.charCodeAt(b);return E},m.buf2string=function(_,E){var b,j,v,k,N=E||_.length,z=new Array(2*N);for(b=j=0;b<N;)if((v=_[b++])<128)z[j++]=v;else if(4<(k=p[v]))z[j++]=65533,b+=k-1;else{for(v&=k===2?31:k===3?15:7;1<k&&b<N;)v=v<<6|63&_[b++],k--;1<k?z[j++]=65533:v<65536?z[j++]=v:(v-=65536,z[j++]=55296|v>>10&1023,z[j++]=56320|1023&v)}return S(z,j)},m.utf8border=function(_,E){var b;for((E=E||_.length)>_.length&&(E=_.length),b=E-1;0<=b&&(192&_[b])==128;)b--;return b<0||b===0?E:b+p[_[b]]>E?b:E}},{"./common":41}],43:[function(o,c,m){c.exports=function(u,h,f,p){for(var d=65535&u|0,S=u>>>16&65535|0,_=0;f!==0;){for(f-=_=2e3<f?2e3:f;S=S+(d=d+h[p++]|0)|0,--_;);d%=65521,S%=65521}return d|S<<16|0}},{}],44:[function(o,c,m){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,c,m){var u=(function(){for(var h,f=[],p=0;p<256;p++){h=p;for(var d=0;d<8;d++)h=1&h?3988292384^h>>>1:h>>>1;f[p]=h}return f})();c.exports=function(h,f,p,d){var S=u,_=d+p;h^=-1;for(var E=d;E<_;E++)h=h>>>8^S[255&(h^f[E])];return-1^h}},{}],46:[function(o,c,m){var u,h=o("../utils/common"),f=o("./trees"),p=o("./adler32"),d=o("./crc32"),S=o("./messages"),_=0,E=4,b=0,j=-2,v=-1,k=4,N=2,z=8,D=9,B=286,H=30,W=19,Y=2*B+1,G=15,U=3,X=258,ne=X+U+1,A=42,O=113,g=1,I=2,q=3,L=4;function K(w,ce){return w.msg=S[ce],ce}function Q(w){return(w<<1)-(4<w?9:0)}function ue(w){for(var ce=w.length;0<=--ce;)w[ce]=0}function C(w){var ce=w.state,oe=ce.pending;oe>w.avail_out&&(oe=w.avail_out),oe!==0&&(h.arraySet(w.output,ce.pending_buf,ce.pending_out,oe,w.next_out),w.next_out+=oe,ce.pending_out+=oe,w.total_out+=oe,w.avail_out-=oe,ce.pending-=oe,ce.pending===0&&(ce.pending_out=0))}function M(w,ce){f._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,ce),w.block_start=w.strstart,C(w.strm)}function de(w,ce){w.pending_buf[w.pending++]=ce}function se(w,ce){w.pending_buf[w.pending++]=ce>>>8&255,w.pending_buf[w.pending++]=255&ce}function le(w,ce){var oe,V,R=w.max_chain_length,$=w.strstart,ve=w.prev_length,ye=w.nice_match,J=w.strstart>w.w_size-ne?w.strstart-(w.w_size-ne):0,Te=w.window,Ee=w.w_mask,Ae=w.prev,qe=w.strstart+X,ct=Te[$+ve-1],Pe=Te[$+ve];w.prev_length>=w.good_match&&(R>>=2),ye>w.lookahead&&(ye=w.lookahead);do if(Te[(oe=ce)+ve]===Pe&&Te[oe+ve-1]===ct&&Te[oe]===Te[$]&&Te[++oe]===Te[$+1]){$+=2,oe++;do;while(Te[++$]===Te[++oe]&&Te[++$]===Te[++oe]&&Te[++$]===Te[++oe]&&Te[++$]===Te[++oe]&&Te[++$]===Te[++oe]&&Te[++$]===Te[++oe]&&Te[++$]===Te[++oe]&&Te[++$]===Te[++oe]&&$<qe);if(V=X-(qe-$),$=qe-X,ve<V){if(w.match_start=ce,ye<=(ve=V))break;ct=Te[$+ve-1],Pe=Te[$+ve]}}while((ce=Ae[ce&Ee])>J&&--R!=0);return ve<=w.lookahead?ve:w.lookahead}function Oe(w){var ce,oe,V,R,$,ve,ye,J,Te,Ee,Ae=w.w_size;do{if(R=w.window_size-w.lookahead-w.strstart,w.strstart>=Ae+(Ae-ne)){for(h.arraySet(w.window,w.window,Ae,Ae,0),w.match_start-=Ae,w.strstart-=Ae,w.block_start-=Ae,ce=oe=w.hash_size;V=w.head[--ce],w.head[ce]=Ae<=V?V-Ae:0,--oe;);for(ce=oe=Ae;V=w.prev[--ce],w.prev[ce]=Ae<=V?V-Ae:0,--oe;);R+=Ae}if(w.strm.avail_in===0)break;if(ve=w.strm,ye=w.window,J=w.strstart+w.lookahead,Te=R,Ee=void 0,Ee=ve.avail_in,Te<Ee&&(Ee=Te),oe=Ee===0?0:(ve.avail_in-=Ee,h.arraySet(ye,ve.input,ve.next_in,Ee,J),ve.state.wrap===1?ve.adler=p(ve.adler,ye,Ee,J):ve.state.wrap===2&&(ve.adler=d(ve.adler,ye,Ee,J)),ve.next_in+=Ee,ve.total_in+=Ee,Ee),w.lookahead+=oe,w.lookahead+w.insert>=U)for($=w.strstart-w.insert,w.ins_h=w.window[$],w.ins_h=(w.ins_h<<w.hash_shift^w.window[$+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[$+U-1])&w.hash_mask,w.prev[$&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=$,$++,w.insert--,!(w.lookahead+w.insert<U)););}while(w.lookahead<ne&&w.strm.avail_in!==0)}function Le(w,ce){for(var oe,V;;){if(w.lookahead<ne){if(Oe(w),w.lookahead<ne&&ce===_)return g;if(w.lookahead===0)break}if(oe=0,w.lookahead>=U&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+U-1])&w.hash_mask,oe=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),oe!==0&&w.strstart-oe<=w.w_size-ne&&(w.match_length=le(w,oe)),w.match_length>=U)if(V=f._tr_tally(w,w.strstart-w.match_start,w.match_length-U),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=U){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+U-1])&w.hash_mask,oe=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else V=f._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(V&&(M(w,!1),w.strm.avail_out===0))return g}return w.insert=w.strstart<U-1?w.strstart:U-1,ce===E?(M(w,!0),w.strm.avail_out===0?q:L):w.last_lit&&(M(w,!1),w.strm.avail_out===0)?g:I}function ee(w,ce){for(var oe,V,R;;){if(w.lookahead<ne){if(Oe(w),w.lookahead<ne&&ce===_)return g;if(w.lookahead===0)break}if(oe=0,w.lookahead>=U&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+U-1])&w.hash_mask,oe=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=U-1,oe!==0&&w.prev_length<w.max_lazy_match&&w.strstart-oe<=w.w_size-ne&&(w.match_length=le(w,oe),w.match_length<=5&&(w.strategy===1||w.match_length===U&&4096<w.strstart-w.match_start)&&(w.match_length=U-1)),w.prev_length>=U&&w.match_length<=w.prev_length){for(R=w.strstart+w.lookahead-U,V=f._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-U),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=R&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+U-1])&w.hash_mask,oe=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=U-1,w.strstart++,V&&(M(w,!1),w.strm.avail_out===0))return g}else if(w.match_available){if((V=f._tr_tally(w,0,w.window[w.strstart-1]))&&M(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return g}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(V=f._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<U-1?w.strstart:U-1,ce===E?(M(w,!0),w.strm.avail_out===0?q:L):w.last_lit&&(M(w,!1),w.strm.avail_out===0)?g:I}function Ne(w,ce,oe,V,R){this.good_length=w,this.max_lazy=ce,this.nice_length=oe,this.max_chain=V,this.func=R}function Ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*Y),this.dyn_dtree=new h.Buf16(2*(2*H+1)),this.bl_tree=new h.Buf16(2*(2*W+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(G+1),this.heap=new h.Buf16(2*B+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*B+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ke(w){var ce;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=N,(ce=w.state).pending=0,ce.pending_out=0,ce.wrap<0&&(ce.wrap=-ce.wrap),ce.status=ce.wrap?A:O,w.adler=ce.wrap===2?0:1,ce.last_flush=_,f._tr_init(ce),b):K(w,j)}function st(w){var ce=Ke(w);return ce===b&&(function(oe){oe.window_size=2*oe.w_size,ue(oe.head),oe.max_lazy_match=u[oe.level].max_lazy,oe.good_match=u[oe.level].good_length,oe.nice_match=u[oe.level].nice_length,oe.max_chain_length=u[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=U-1,oe.match_available=0,oe.ins_h=0})(w.state),ce}function Je(w,ce,oe,V,R,$){if(!w)return j;var ve=1;if(ce===v&&(ce=6),V<0?(ve=0,V=-V):15<V&&(ve=2,V-=16),R<1||D<R||oe!==z||V<8||15<V||ce<0||9<ce||$<0||k<$)return K(w,j);V===8&&(V=9);var ye=new Ze;return(w.state=ye).strm=w,ye.wrap=ve,ye.gzhead=null,ye.w_bits=V,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=R+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+U-1)/U),ye.window=new h.Buf8(2*ye.w_size),ye.head=new h.Buf16(ye.hash_size),ye.prev=new h.Buf16(ye.w_size),ye.lit_bufsize=1<<R+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new h.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=ce,ye.strategy=$,ye.method=oe,st(w)}u=[new Ne(0,0,0,0,function(w,ce){var oe=65535;for(oe>w.pending_buf_size-5&&(oe=w.pending_buf_size-5);;){if(w.lookahead<=1){if(Oe(w),w.lookahead===0&&ce===_)return g;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var V=w.block_start+oe;if((w.strstart===0||w.strstart>=V)&&(w.lookahead=w.strstart-V,w.strstart=V,M(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-ne&&(M(w,!1),w.strm.avail_out===0))return g}return w.insert=0,ce===E?(M(w,!0),w.strm.avail_out===0?q:L):(w.strstart>w.block_start&&(M(w,!1),w.strm.avail_out),g)}),new Ne(4,4,8,4,Le),new Ne(4,5,16,8,Le),new Ne(4,6,32,32,Le),new Ne(4,4,16,16,ee),new Ne(8,16,32,32,ee),new Ne(8,16,128,128,ee),new Ne(8,32,128,256,ee),new Ne(32,128,258,1024,ee),new Ne(32,258,258,4096,ee)],m.deflateInit=function(w,ce){return Je(w,ce,z,15,8,0)},m.deflateInit2=Je,m.deflateReset=st,m.deflateResetKeep=Ke,m.deflateSetHeader=function(w,ce){return w&&w.state?w.state.wrap!==2?j:(w.state.gzhead=ce,b):j},m.deflate=function(w,ce){var oe,V,R,$;if(!w||!w.state||5<ce||ce<0)return w?K(w,j):j;if(V=w.state,!w.output||!w.input&&w.avail_in!==0||V.status===666&&ce!==E)return K(w,w.avail_out===0?-5:j);if(V.strm=w,oe=V.last_flush,V.last_flush=ce,V.status===A)if(V.wrap===2)w.adler=0,de(V,31),de(V,139),de(V,8),V.gzhead?(de(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),de(V,255&V.gzhead.time),de(V,V.gzhead.time>>8&255),de(V,V.gzhead.time>>16&255),de(V,V.gzhead.time>>24&255),de(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),de(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(de(V,255&V.gzhead.extra.length),de(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(w.adler=d(w.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(de(V,0),de(V,0),de(V,0),de(V,0),de(V,0),de(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),de(V,3),V.status=O);else{var ve=z+(V.w_bits-8<<4)<<8;ve|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(ve|=32),ve+=31-ve%31,V.status=O,se(V,ve),V.strstart!==0&&(se(V,w.adler>>>16),se(V,65535&w.adler)),w.adler=1}if(V.status===69)if(V.gzhead.extra){for(R=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>R&&(w.adler=d(w.adler,V.pending_buf,V.pending-R,R)),C(w),R=V.pending,V.pending!==V.pending_buf_size));)de(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>R&&(w.adler=d(w.adler,V.pending_buf,V.pending-R,R)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){R=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>R&&(w.adler=d(w.adler,V.pending_buf,V.pending-R,R)),C(w),R=V.pending,V.pending===V.pending_buf_size)){$=1;break}$=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,de(V,$)}while($!==0);V.gzhead.hcrc&&V.pending>R&&(w.adler=d(w.adler,V.pending_buf,V.pending-R,R)),$===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){R=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>R&&(w.adler=d(w.adler,V.pending_buf,V.pending-R,R)),C(w),R=V.pending,V.pending===V.pending_buf_size)){$=1;break}$=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,de(V,$)}while($!==0);V.gzhead.hcrc&&V.pending>R&&(w.adler=d(w.adler,V.pending_buf,V.pending-R,R)),$===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&C(w),V.pending+2<=V.pending_buf_size&&(de(V,255&w.adler),de(V,w.adler>>8&255),w.adler=0,V.status=O)):V.status=O),V.pending!==0){if(C(w),w.avail_out===0)return V.last_flush=-1,b}else if(w.avail_in===0&&Q(ce)<=Q(oe)&&ce!==E)return K(w,-5);if(V.status===666&&w.avail_in!==0)return K(w,-5);if(w.avail_in!==0||V.lookahead!==0||ce!==_&&V.status!==666){var ye=V.strategy===2?(function(J,Te){for(var Ee;;){if(J.lookahead===0&&(Oe(J),J.lookahead===0)){if(Te===_)return g;break}if(J.match_length=0,Ee=f._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,Ee&&(M(J,!1),J.strm.avail_out===0))return g}return J.insert=0,Te===E?(M(J,!0),J.strm.avail_out===0?q:L):J.last_lit&&(M(J,!1),J.strm.avail_out===0)?g:I})(V,ce):V.strategy===3?(function(J,Te){for(var Ee,Ae,qe,ct,Pe=J.window;;){if(J.lookahead<=X){if(Oe(J),J.lookahead<=X&&Te===_)return g;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=U&&0<J.strstart&&(Ae=Pe[qe=J.strstart-1])===Pe[++qe]&&Ae===Pe[++qe]&&Ae===Pe[++qe]){ct=J.strstart+X;do;while(Ae===Pe[++qe]&&Ae===Pe[++qe]&&Ae===Pe[++qe]&&Ae===Pe[++qe]&&Ae===Pe[++qe]&&Ae===Pe[++qe]&&Ae===Pe[++qe]&&Ae===Pe[++qe]&&qe<ct);J.match_length=X-(ct-qe),J.match_length>J.lookahead&&(J.match_length=J.lookahead)}if(J.match_length>=U?(Ee=f._tr_tally(J,1,J.match_length-U),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0):(Ee=f._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++),Ee&&(M(J,!1),J.strm.avail_out===0))return g}return J.insert=0,Te===E?(M(J,!0),J.strm.avail_out===0?q:L):J.last_lit&&(M(J,!1),J.strm.avail_out===0)?g:I})(V,ce):u[V.level].func(V,ce);if(ye!==q&&ye!==L||(V.status=666),ye===g||ye===q)return w.avail_out===0&&(V.last_flush=-1),b;if(ye===I&&(ce===1?f._tr_align(V):ce!==5&&(f._tr_stored_block(V,0,0,!1),ce===3&&(ue(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),C(w),w.avail_out===0))return V.last_flush=-1,b}return ce!==E?b:V.wrap<=0?1:(V.wrap===2?(de(V,255&w.adler),de(V,w.adler>>8&255),de(V,w.adler>>16&255),de(V,w.adler>>24&255),de(V,255&w.total_in),de(V,w.total_in>>8&255),de(V,w.total_in>>16&255),de(V,w.total_in>>24&255)):(se(V,w.adler>>>16),se(V,65535&w.adler)),C(w),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?b:1)},m.deflateEnd=function(w){var ce;return w&&w.state?(ce=w.state.status)!==A&&ce!==69&&ce!==73&&ce!==91&&ce!==103&&ce!==O&&ce!==666?K(w,j):(w.state=null,ce===O?K(w,-3):b):j},m.deflateSetDictionary=function(w,ce){var oe,V,R,$,ve,ye,J,Te,Ee=ce.length;if(!w||!w.state||($=(oe=w.state).wrap)===2||$===1&&oe.status!==A||oe.lookahead)return j;for($===1&&(w.adler=p(w.adler,ce,Ee,0)),oe.wrap=0,Ee>=oe.w_size&&($===0&&(ue(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),Te=new h.Buf8(oe.w_size),h.arraySet(Te,ce,Ee-oe.w_size,oe.w_size,0),ce=Te,Ee=oe.w_size),ve=w.avail_in,ye=w.next_in,J=w.input,w.avail_in=Ee,w.next_in=0,w.input=ce,Oe(oe);oe.lookahead>=U;){for(V=oe.strstart,R=oe.lookahead-(U-1);oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[V+U-1])&oe.hash_mask,oe.prev[V&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=V,V++,--R;);oe.strstart=V,oe.lookahead=U-1,Oe(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=U-1,oe.match_available=0,w.next_in=ye,w.input=J,w.avail_in=ve,oe.wrap=$,b},m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,c,m){c.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,c,m){c.exports=function(u,h){var f,p,d,S,_,E,b,j,v,k,N,z,D,B,H,W,Y,G,U,X,ne,A,O,g,I;f=u.state,p=u.next_in,g=u.input,d=p+(u.avail_in-5),S=u.next_out,I=u.output,_=S-(h-u.avail_out),E=S+(u.avail_out-257),b=f.dmax,j=f.wsize,v=f.whave,k=f.wnext,N=f.window,z=f.hold,D=f.bits,B=f.lencode,H=f.distcode,W=(1<<f.lenbits)-1,Y=(1<<f.distbits)-1;e:do{D<15&&(z+=g[p++]<<D,D+=8,z+=g[p++]<<D,D+=8),G=B[z&W];t:for(;;){if(z>>>=U=G>>>24,D-=U,(U=G>>>16&255)===0)I[S++]=65535&G;else{if(!(16&U)){if((64&U)==0){G=B[(65535&G)+(z&(1<<U)-1)];continue t}if(32&U){f.mode=12;break e}u.msg="invalid literal/length code",f.mode=30;break e}X=65535&G,(U&=15)&&(D<U&&(z+=g[p++]<<D,D+=8),X+=z&(1<<U)-1,z>>>=U,D-=U),D<15&&(z+=g[p++]<<D,D+=8,z+=g[p++]<<D,D+=8),G=H[z&Y];n:for(;;){if(z>>>=U=G>>>24,D-=U,!(16&(U=G>>>16&255))){if((64&U)==0){G=H[(65535&G)+(z&(1<<U)-1)];continue n}u.msg="invalid distance code",f.mode=30;break e}if(ne=65535&G,D<(U&=15)&&(z+=g[p++]<<D,(D+=8)<U&&(z+=g[p++]<<D,D+=8)),b<(ne+=z&(1<<U)-1)){u.msg="invalid distance too far back",f.mode=30;break e}if(z>>>=U,D-=U,(U=S-_)<ne){if(v<(U=ne-U)&&f.sane){u.msg="invalid distance too far back",f.mode=30;break e}if(O=N,(A=0)===k){if(A+=j-U,U<X){for(X-=U;I[S++]=N[A++],--U;);A=S-ne,O=I}}else if(k<U){if(A+=j+k-U,(U-=k)<X){for(X-=U;I[S++]=N[A++],--U;);if(A=0,k<X){for(X-=U=k;I[S++]=N[A++],--U;);A=S-ne,O=I}}}else if(A+=k-U,U<X){for(X-=U;I[S++]=N[A++],--U;);A=S-ne,O=I}for(;2<X;)I[S++]=O[A++],I[S++]=O[A++],I[S++]=O[A++],X-=3;X&&(I[S++]=O[A++],1<X&&(I[S++]=O[A++]))}else{for(A=S-ne;I[S++]=I[A++],I[S++]=I[A++],I[S++]=I[A++],2<(X-=3););X&&(I[S++]=I[A++],1<X&&(I[S++]=I[A++]))}break}}break}}while(p<d&&S<E);p-=X=D>>3,z&=(1<<(D-=X<<3))-1,u.next_in=p,u.next_out=S,u.avail_in=p<d?d-p+5:5-(p-d),u.avail_out=S<E?E-S+257:257-(S-E),f.hold=z,f.bits=D}},{}],49:[function(o,c,m){var u=o("../utils/common"),h=o("./adler32"),f=o("./crc32"),p=o("./inffast"),d=o("./inftrees"),S=1,_=2,E=0,b=-2,j=1,v=852,k=592;function N(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(A){var O;return A&&A.state?(O=A.state,A.total_in=A.total_out=O.total=0,A.msg="",O.wrap&&(A.adler=1&O.wrap),O.mode=j,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new u.Buf32(v),O.distcode=O.distdyn=new u.Buf32(k),O.sane=1,O.back=-1,E):b}function B(A){var O;return A&&A.state?((O=A.state).wsize=0,O.whave=0,O.wnext=0,D(A)):b}function H(A,O){var g,I;return A&&A.state?(I=A.state,O<0?(g=0,O=-O):(g=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?b:(I.window!==null&&I.wbits!==O&&(I.window=null),I.wrap=g,I.wbits=O,B(A))):b}function W(A,O){var g,I;return A?(I=new z,(A.state=I).window=null,(g=H(A,O))!==E&&(A.state=null),g):b}var Y,G,U=!0;function X(A){if(U){var O;for(Y=new u.Buf32(512),G=new u.Buf32(32),O=0;O<144;)A.lens[O++]=8;for(;O<256;)A.lens[O++]=9;for(;O<280;)A.lens[O++]=7;for(;O<288;)A.lens[O++]=8;for(d(S,A.lens,0,288,Y,0,A.work,{bits:9}),O=0;O<32;)A.lens[O++]=5;d(_,A.lens,0,32,G,0,A.work,{bits:5}),U=!1}A.lencode=Y,A.lenbits=9,A.distcode=G,A.distbits=5}function ne(A,O,g,I){var q,L=A.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new u.Buf8(L.wsize)),I>=L.wsize?(u.arraySet(L.window,O,g-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(I<(q=L.wsize-L.wnext)&&(q=I),u.arraySet(L.window,O,g-I,q,L.wnext),(I-=q)?(u.arraySet(L.window,O,g-I,I,0),L.wnext=I,L.whave=L.wsize):(L.wnext+=q,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=q))),0}m.inflateReset=B,m.inflateReset2=H,m.inflateResetKeep=D,m.inflateInit=function(A){return W(A,15)},m.inflateInit2=W,m.inflate=function(A,O){var g,I,q,L,K,Q,ue,C,M,de,se,le,Oe,Le,ee,Ne,Ze,Ke,st,Je,w,ce,oe,V,R=0,$=new u.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return b;(g=A.state).mode===12&&(g.mode=13),K=A.next_out,q=A.output,ue=A.avail_out,L=A.next_in,I=A.input,Q=A.avail_in,C=g.hold,M=g.bits,de=Q,se=ue,ce=E;e:for(;;)switch(g.mode){case j:if(g.wrap===0){g.mode=13;break}for(;M<16;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if(2&g.wrap&&C===35615){$[g.check=0]=255&C,$[1]=C>>>8&255,g.check=f(g.check,$,2,0),M=C=0,g.mode=2;break}if(g.flags=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&C)<<8)+(C>>8))%31){A.msg="incorrect header check",g.mode=30;break}if((15&C)!=8){A.msg="unknown compression method",g.mode=30;break}if(M-=4,w=8+(15&(C>>>=4)),g.wbits===0)g.wbits=w;else if(w>g.wbits){A.msg="invalid window size",g.mode=30;break}g.dmax=1<<w,A.adler=g.check=1,g.mode=512&C?10:12,M=C=0;break;case 2:for(;M<16;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if(g.flags=C,(255&g.flags)!=8){A.msg="unknown compression method",g.mode=30;break}if(57344&g.flags){A.msg="unknown header flags set",g.mode=30;break}g.head&&(g.head.text=C>>8&1),512&g.flags&&($[0]=255&C,$[1]=C>>>8&255,g.check=f(g.check,$,2,0)),M=C=0,g.mode=3;case 3:for(;M<32;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}g.head&&(g.head.time=C),512&g.flags&&($[0]=255&C,$[1]=C>>>8&255,$[2]=C>>>16&255,$[3]=C>>>24&255,g.check=f(g.check,$,4,0)),M=C=0,g.mode=4;case 4:for(;M<16;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}g.head&&(g.head.xflags=255&C,g.head.os=C>>8),512&g.flags&&($[0]=255&C,$[1]=C>>>8&255,g.check=f(g.check,$,2,0)),M=C=0,g.mode=5;case 5:if(1024&g.flags){for(;M<16;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}g.length=C,g.head&&(g.head.extra_len=C),512&g.flags&&($[0]=255&C,$[1]=C>>>8&255,g.check=f(g.check,$,2,0)),M=C=0}else g.head&&(g.head.extra=null);g.mode=6;case 6:if(1024&g.flags&&(Q<(le=g.length)&&(le=Q),le&&(g.head&&(w=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Array(g.head.extra_len)),u.arraySet(g.head.extra,I,L,le,w)),512&g.flags&&(g.check=f(g.check,I,le,L)),Q-=le,L+=le,g.length-=le),g.length))break e;g.length=0,g.mode=7;case 7:if(2048&g.flags){if(Q===0)break e;for(le=0;w=I[L+le++],g.head&&w&&g.length<65536&&(g.head.name+=String.fromCharCode(w)),w&&le<Q;);if(512&g.flags&&(g.check=f(g.check,I,le,L)),Q-=le,L+=le,w)break e}else g.head&&(g.head.name=null);g.length=0,g.mode=8;case 8:if(4096&g.flags){if(Q===0)break e;for(le=0;w=I[L+le++],g.head&&w&&g.length<65536&&(g.head.comment+=String.fromCharCode(w)),w&&le<Q;);if(512&g.flags&&(g.check=f(g.check,I,le,L)),Q-=le,L+=le,w)break e}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(512&g.flags){for(;M<16;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if(C!==(65535&g.check)){A.msg="header crc mismatch",g.mode=30;break}M=C=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),A.adler=g.check=0,g.mode=12;break;case 10:for(;M<32;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}A.adler=g.check=N(C),M=C=0,g.mode=11;case 11:if(g.havedict===0)return A.next_out=K,A.avail_out=ue,A.next_in=L,A.avail_in=Q,g.hold=C,g.bits=M,2;A.adler=g.check=1,g.mode=12;case 12:if(O===5||O===6)break e;case 13:if(g.last){C>>>=7&M,M-=7&M,g.mode=27;break}for(;M<3;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}switch(g.last=1&C,M-=1,3&(C>>>=1)){case 0:g.mode=14;break;case 1:if(X(g),g.mode=20,O!==6)break;C>>>=2,M-=2;break e;case 2:g.mode=17;break;case 3:A.msg="invalid block type",g.mode=30}C>>>=2,M-=2;break;case 14:for(C>>>=7&M,M-=7&M;M<32;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if((65535&C)!=(C>>>16^65535)){A.msg="invalid stored block lengths",g.mode=30;break}if(g.length=65535&C,M=C=0,g.mode=15,O===6)break e;case 15:g.mode=16;case 16:if(le=g.length){if(Q<le&&(le=Q),ue<le&&(le=ue),le===0)break e;u.arraySet(q,I,L,le,K),Q-=le,L+=le,ue-=le,K+=le,g.length-=le;break}g.mode=12;break;case 17:for(;M<14;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if(g.nlen=257+(31&C),C>>>=5,M-=5,g.ndist=1+(31&C),C>>>=5,M-=5,g.ncode=4+(15&C),C>>>=4,M-=4,286<g.nlen||30<g.ndist){A.msg="too many length or distance symbols",g.mode=30;break}g.have=0,g.mode=18;case 18:for(;g.have<g.ncode;){for(;M<3;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}g.lens[ve[g.have++]]=7&C,C>>>=3,M-=3}for(;g.have<19;)g.lens[ve[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,oe={bits:g.lenbits},ce=d(0,g.lens,0,19,g.lencode,0,g.work,oe),g.lenbits=oe.bits,ce){A.msg="invalid code lengths set",g.mode=30;break}g.have=0,g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;Ne=(R=g.lencode[C&(1<<g.lenbits)-1])>>>16&255,Ze=65535&R,!((ee=R>>>24)<=M);){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if(Ze<16)C>>>=ee,M-=ee,g.lens[g.have++]=Ze;else{if(Ze===16){for(V=ee+2;M<V;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if(C>>>=ee,M-=ee,g.have===0){A.msg="invalid bit length repeat",g.mode=30;break}w=g.lens[g.have-1],le=3+(3&C),C>>>=2,M-=2}else if(Ze===17){for(V=ee+3;M<V;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}M-=ee,w=0,le=3+(7&(C>>>=ee)),C>>>=3,M-=3}else{for(V=ee+7;M<V;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}M-=ee,w=0,le=11+(127&(C>>>=ee)),C>>>=7,M-=7}if(g.have+le>g.nlen+g.ndist){A.msg="invalid bit length repeat",g.mode=30;break}for(;le--;)g.lens[g.have++]=w}}if(g.mode===30)break;if(g.lens[256]===0){A.msg="invalid code -- missing end-of-block",g.mode=30;break}if(g.lenbits=9,oe={bits:g.lenbits},ce=d(S,g.lens,0,g.nlen,g.lencode,0,g.work,oe),g.lenbits=oe.bits,ce){A.msg="invalid literal/lengths set",g.mode=30;break}if(g.distbits=6,g.distcode=g.distdyn,oe={bits:g.distbits},ce=d(_,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,oe),g.distbits=oe.bits,ce){A.msg="invalid distances set",g.mode=30;break}if(g.mode=20,O===6)break e;case 20:g.mode=21;case 21:if(6<=Q&&258<=ue){A.next_out=K,A.avail_out=ue,A.next_in=L,A.avail_in=Q,g.hold=C,g.bits=M,p(A,se),K=A.next_out,q=A.output,ue=A.avail_out,L=A.next_in,I=A.input,Q=A.avail_in,C=g.hold,M=g.bits,g.mode===12&&(g.back=-1);break}for(g.back=0;Ne=(R=g.lencode[C&(1<<g.lenbits)-1])>>>16&255,Ze=65535&R,!((ee=R>>>24)<=M);){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if(Ne&&(240&Ne)==0){for(Ke=ee,st=Ne,Je=Ze;Ne=(R=g.lencode[Je+((C&(1<<Ke+st)-1)>>Ke)])>>>16&255,Ze=65535&R,!(Ke+(ee=R>>>24)<=M);){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}C>>>=Ke,M-=Ke,g.back+=Ke}if(C>>>=ee,M-=ee,g.back+=ee,g.length=Ze,Ne===0){g.mode=26;break}if(32&Ne){g.back=-1,g.mode=12;break}if(64&Ne){A.msg="invalid literal/length code",g.mode=30;break}g.extra=15&Ne,g.mode=22;case 22:if(g.extra){for(V=g.extra;M<V;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}g.length+=C&(1<<g.extra)-1,C>>>=g.extra,M-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=23;case 23:for(;Ne=(R=g.distcode[C&(1<<g.distbits)-1])>>>16&255,Ze=65535&R,!((ee=R>>>24)<=M);){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if((240&Ne)==0){for(Ke=ee,st=Ne,Je=Ze;Ne=(R=g.distcode[Je+((C&(1<<Ke+st)-1)>>Ke)])>>>16&255,Ze=65535&R,!(Ke+(ee=R>>>24)<=M);){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}C>>>=Ke,M-=Ke,g.back+=Ke}if(C>>>=ee,M-=ee,g.back+=ee,64&Ne){A.msg="invalid distance code",g.mode=30;break}g.offset=Ze,g.extra=15&Ne,g.mode=24;case 24:if(g.extra){for(V=g.extra;M<V;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}g.offset+=C&(1<<g.extra)-1,C>>>=g.extra,M-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){A.msg="invalid distance too far back",g.mode=30;break}g.mode=25;case 25:if(ue===0)break e;if(le=se-ue,g.offset>le){if((le=g.offset-le)>g.whave&&g.sane){A.msg="invalid distance too far back",g.mode=30;break}Oe=le>g.wnext?(le-=g.wnext,g.wsize-le):g.wnext-le,le>g.length&&(le=g.length),Le=g.window}else Le=q,Oe=K-g.offset,le=g.length;for(ue<le&&(le=ue),ue-=le,g.length-=le;q[K++]=Le[Oe++],--le;);g.length===0&&(g.mode=21);break;case 26:if(ue===0)break e;q[K++]=g.length,ue--,g.mode=21;break;case 27:if(g.wrap){for(;M<32;){if(Q===0)break e;Q--,C|=I[L++]<<M,M+=8}if(se-=ue,A.total_out+=se,g.total+=se,se&&(A.adler=g.check=g.flags?f(g.check,q,se,K-se):h(g.check,q,se,K-se)),se=ue,(g.flags?C:N(C))!==g.check){A.msg="incorrect data check",g.mode=30;break}M=C=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;M<32;){if(Q===0)break e;Q--,C+=I[L++]<<M,M+=8}if(C!==(4294967295&g.total)){A.msg="incorrect length check",g.mode=30;break}M=C=0}g.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;default:return b}return A.next_out=K,A.avail_out=ue,A.next_in=L,A.avail_in=Q,g.hold=C,g.bits=M,(g.wsize||se!==A.avail_out&&g.mode<30&&(g.mode<27||O!==4))&&ne(A,A.output,A.next_out,se-A.avail_out)?(g.mode=31,-4):(de-=A.avail_in,se-=A.avail_out,A.total_in+=de,A.total_out+=se,g.total+=se,g.wrap&&se&&(A.adler=g.check=g.flags?f(g.check,q,se,A.next_out-se):h(g.check,q,se,A.next_out-se)),A.data_type=g.bits+(g.last?64:0)+(g.mode===12?128:0)+(g.mode===20||g.mode===15?256:0),(de==0&&se===0||O===4)&&ce===E&&(ce=-5),ce)},m.inflateEnd=function(A){if(!A||!A.state)return b;var O=A.state;return O.window&&(O.window=null),A.state=null,E},m.inflateGetHeader=function(A,O){var g;return A&&A.state?(2&(g=A.state).wrap)==0?b:((g.head=O).done=!1,E):b},m.inflateSetDictionary=function(A,O){var g,I=O.length;return A&&A.state?(g=A.state).wrap!==0&&g.mode!==11?b:g.mode===11&&h(1,O,I,0)!==g.check?-3:ne(A,O,I,I)?(g.mode=31,-4):(g.havedict=1,E):b},m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,c,m){var u=o("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(S,_,E,b,j,v,k,N){var z,D,B,H,W,Y,G,U,X,ne=N.bits,A=0,O=0,g=0,I=0,q=0,L=0,K=0,Q=0,ue=0,C=0,M=null,de=0,se=new u.Buf16(16),le=new u.Buf16(16),Oe=null,Le=0;for(A=0;A<=15;A++)se[A]=0;for(O=0;O<b;O++)se[_[E+O]]++;for(q=ne,I=15;1<=I&&se[I]===0;I--);if(I<q&&(q=I),I===0)return j[v++]=20971520,j[v++]=20971520,N.bits=1,0;for(g=1;g<I&&se[g]===0;g++);for(q<g&&(q=g),A=Q=1;A<=15;A++)if(Q<<=1,(Q-=se[A])<0)return-1;if(0<Q&&(S===0||I!==1))return-1;for(le[1]=0,A=1;A<15;A++)le[A+1]=le[A]+se[A];for(O=0;O<b;O++)_[E+O]!==0&&(k[le[_[E+O]]++]=O);if(Y=S===0?(M=Oe=k,19):S===1?(M=h,de-=257,Oe=f,Le-=257,256):(M=p,Oe=d,-1),A=g,W=v,K=O=C=0,B=-1,H=(ue=1<<(L=q))-1,S===1&&852<ue||S===2&&592<ue)return 1;for(;;){for(G=A-K,X=k[O]<Y?(U=0,k[O]):k[O]>Y?(U=Oe[Le+k[O]],M[de+k[O]]):(U=96,0),z=1<<A-K,g=D=1<<L;j[W+(C>>K)+(D-=z)]=G<<24|U<<16|X|0,D!==0;);for(z=1<<A-1;C&z;)z>>=1;if(z!==0?(C&=z-1,C+=z):C=0,O++,--se[A]==0){if(A===I)break;A=_[E+k[O]]}if(q<A&&(C&H)!==B){for(K===0&&(K=q),W+=g,Q=1<<(L=A-K);L+K<I&&!((Q-=se[L+K])<=0);)L++,Q<<=1;if(ue+=1<<L,S===1&&852<ue||S===2&&592<ue)return 1;j[B=C&H]=q<<24|L<<16|W-v|0}}return C!==0&&(j[W+C]=A-K<<24|64<<16|0),N.bits=q,0}},{"../utils/common":41}],51:[function(o,c,m){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,c,m){var u=o("../utils/common"),h=0,f=1;function p(R){for(var $=R.length;0<=--$;)R[$]=0}var d=0,S=29,_=256,E=_+1+S,b=30,j=19,v=2*E+1,k=15,N=16,z=7,D=256,B=16,H=17,W=18,Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(E+2));p(ne);var A=new Array(2*b);p(A);var O=new Array(512);p(O);var g=new Array(256);p(g);var I=new Array(S);p(I);var q,L,K,Q=new Array(b);function ue(R,$,ve,ye,J){this.static_tree=R,this.extra_bits=$,this.extra_base=ve,this.elems=ye,this.max_length=J,this.has_stree=R&&R.length}function C(R,$){this.dyn_tree=R,this.max_code=0,this.stat_desc=$}function M(R){return R<256?O[R]:O[256+(R>>>7)]}function de(R,$){R.pending_buf[R.pending++]=255&$,R.pending_buf[R.pending++]=$>>>8&255}function se(R,$,ve){R.bi_valid>N-ve?(R.bi_buf|=$<<R.bi_valid&65535,de(R,R.bi_buf),R.bi_buf=$>>N-R.bi_valid,R.bi_valid+=ve-N):(R.bi_buf|=$<<R.bi_valid&65535,R.bi_valid+=ve)}function le(R,$,ve){se(R,ve[2*$],ve[2*$+1])}function Oe(R,$){for(var ve=0;ve|=1&R,R>>>=1,ve<<=1,0<--$;);return ve>>>1}function Le(R,$,ve){var ye,J,Te=new Array(k+1),Ee=0;for(ye=1;ye<=k;ye++)Te[ye]=Ee=Ee+ve[ye-1]<<1;for(J=0;J<=$;J++){var Ae=R[2*J+1];Ae!==0&&(R[2*J]=Oe(Te[Ae]++,Ae))}}function ee(R){var $;for($=0;$<E;$++)R.dyn_ltree[2*$]=0;for($=0;$<b;$++)R.dyn_dtree[2*$]=0;for($=0;$<j;$++)R.bl_tree[2*$]=0;R.dyn_ltree[2*D]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function Ne(R){8<R.bi_valid?de(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function Ze(R,$,ve,ye){var J=2*$,Te=2*ve;return R[J]<R[Te]||R[J]===R[Te]&&ye[$]<=ye[ve]}function Ke(R,$,ve){for(var ye=R.heap[ve],J=ve<<1;J<=R.heap_len&&(J<R.heap_len&&Ze($,R.heap[J+1],R.heap[J],R.depth)&&J++,!Ze($,ye,R.heap[J],R.depth));)R.heap[ve]=R.heap[J],ve=J,J<<=1;R.heap[ve]=ye}function st(R,$,ve){var ye,J,Te,Ee,Ae=0;if(R.last_lit!==0)for(;ye=R.pending_buf[R.d_buf+2*Ae]<<8|R.pending_buf[R.d_buf+2*Ae+1],J=R.pending_buf[R.l_buf+Ae],Ae++,ye===0?le(R,J,$):(le(R,(Te=g[J])+_+1,$),(Ee=Y[Te])!==0&&se(R,J-=I[Te],Ee),le(R,Te=M(--ye),ve),(Ee=G[Te])!==0&&se(R,ye-=Q[Te],Ee)),Ae<R.last_lit;);le(R,D,$)}function Je(R,$){var ve,ye,J,Te=$.dyn_tree,Ee=$.stat_desc.static_tree,Ae=$.stat_desc.has_stree,qe=$.stat_desc.elems,ct=-1;for(R.heap_len=0,R.heap_max=v,ve=0;ve<qe;ve++)Te[2*ve]!==0?(R.heap[++R.heap_len]=ct=ve,R.depth[ve]=0):Te[2*ve+1]=0;for(;R.heap_len<2;)Te[2*(J=R.heap[++R.heap_len]=ct<2?++ct:0)]=1,R.depth[J]=0,R.opt_len--,Ae&&(R.static_len-=Ee[2*J+1]);for($.max_code=ct,ve=R.heap_len>>1;1<=ve;ve--)Ke(R,Te,ve);for(J=qe;ve=R.heap[1],R.heap[1]=R.heap[R.heap_len--],Ke(R,Te,1),ye=R.heap[1],R.heap[--R.heap_max]=ve,R.heap[--R.heap_max]=ye,Te[2*J]=Te[2*ve]+Te[2*ye],R.depth[J]=(R.depth[ve]>=R.depth[ye]?R.depth[ve]:R.depth[ye])+1,Te[2*ve+1]=Te[2*ye+1]=J,R.heap[1]=J++,Ke(R,Te,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],(function(Pe,Vt){var $t,jt,cn,ht,St,Zt,gt=Vt.dyn_tree,zt=Vt.max_code,Mn=Vt.stat_desc.static_tree,bn=Vt.stat_desc.has_stree,un=Vt.stat_desc.extra_bits,wn=Vt.stat_desc.extra_base,Jt=Vt.stat_desc.max_length,It=0;for(ht=0;ht<=k;ht++)Pe.bl_count[ht]=0;for(gt[2*Pe.heap[Pe.heap_max]+1]=0,$t=Pe.heap_max+1;$t<v;$t++)Jt<(ht=gt[2*gt[2*(jt=Pe.heap[$t])+1]+1]+1)&&(ht=Jt,It++),gt[2*jt+1]=ht,zt<jt||(Pe.bl_count[ht]++,St=0,wn<=jt&&(St=un[jt-wn]),Zt=gt[2*jt],Pe.opt_len+=Zt*(ht+St),bn&&(Pe.static_len+=Zt*(Mn[2*jt+1]+St)));if(It!==0){do{for(ht=Jt-1;Pe.bl_count[ht]===0;)ht--;Pe.bl_count[ht]--,Pe.bl_count[ht+1]+=2,Pe.bl_count[Jt]--,It-=2}while(0<It);for(ht=Jt;ht!==0;ht--)for(jt=Pe.bl_count[ht];jt!==0;)zt<(cn=Pe.heap[--$t])||(gt[2*cn+1]!==ht&&(Pe.opt_len+=(ht-gt[2*cn+1])*gt[2*cn],gt[2*cn+1]=ht),jt--)}})(R,$),Le(Te,ct,R.bl_count)}function w(R,$,ve){var ye,J,Te=-1,Ee=$[1],Ae=0,qe=7,ct=4;for(Ee===0&&(qe=138,ct=3),$[2*(ve+1)+1]=65535,ye=0;ye<=ve;ye++)J=Ee,Ee=$[2*(ye+1)+1],++Ae<qe&&J===Ee||(Ae<ct?R.bl_tree[2*J]+=Ae:J!==0?(J!==Te&&R.bl_tree[2*J]++,R.bl_tree[2*B]++):Ae<=10?R.bl_tree[2*H]++:R.bl_tree[2*W]++,Te=J,ct=(Ae=0)===Ee?(qe=138,3):J===Ee?(qe=6,3):(qe=7,4))}function ce(R,$,ve){var ye,J,Te=-1,Ee=$[1],Ae=0,qe=7,ct=4;for(Ee===0&&(qe=138,ct=3),ye=0;ye<=ve;ye++)if(J=Ee,Ee=$[2*(ye+1)+1],!(++Ae<qe&&J===Ee)){if(Ae<ct)for(;le(R,J,R.bl_tree),--Ae!=0;);else J!==0?(J!==Te&&(le(R,J,R.bl_tree),Ae--),le(R,B,R.bl_tree),se(R,Ae-3,2)):Ae<=10?(le(R,H,R.bl_tree),se(R,Ae-3,3)):(le(R,W,R.bl_tree),se(R,Ae-11,7));Te=J,ct=(Ae=0)===Ee?(qe=138,3):J===Ee?(qe=6,3):(qe=7,4)}}p(Q);var oe=!1;function V(R,$,ve,ye){se(R,(d<<1)+(ye?1:0),3),(function(J,Te,Ee,Ae){Ne(J),de(J,Ee),de(J,~Ee),u.arraySet(J.pending_buf,J.window,Te,Ee,J.pending),J.pending+=Ee})(R,$,ve)}m._tr_init=function(R){oe||((function(){var $,ve,ye,J,Te,Ee=new Array(k+1);for(J=ye=0;J<S-1;J++)for(I[J]=ye,$=0;$<1<<Y[J];$++)g[ye++]=J;for(g[ye-1]=J,J=Te=0;J<16;J++)for(Q[J]=Te,$=0;$<1<<G[J];$++)O[Te++]=J;for(Te>>=7;J<b;J++)for(Q[J]=Te<<7,$=0;$<1<<G[J]-7;$++)O[256+Te++]=J;for(ve=0;ve<=k;ve++)Ee[ve]=0;for($=0;$<=143;)ne[2*$+1]=8,$++,Ee[8]++;for(;$<=255;)ne[2*$+1]=9,$++,Ee[9]++;for(;$<=279;)ne[2*$+1]=7,$++,Ee[7]++;for(;$<=287;)ne[2*$+1]=8,$++,Ee[8]++;for(Le(ne,E+1,Ee),$=0;$<b;$++)A[2*$+1]=5,A[2*$]=Oe($,5);q=new ue(ne,Y,_+1,E,k),L=new ue(A,G,0,b,k),K=new ue(new Array(0),U,0,j,z)})(),oe=!0),R.l_desc=new C(R.dyn_ltree,q),R.d_desc=new C(R.dyn_dtree,L),R.bl_desc=new C(R.bl_tree,K),R.bi_buf=0,R.bi_valid=0,ee(R)},m._tr_stored_block=V,m._tr_flush_block=function(R,$,ve,ye){var J,Te,Ee=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=(function(Ae){var qe,ct=4093624447;for(qe=0;qe<=31;qe++,ct>>>=1)if(1&ct&&Ae.dyn_ltree[2*qe]!==0)return h;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return f;for(qe=32;qe<_;qe++)if(Ae.dyn_ltree[2*qe]!==0)return f;return h})(R)),Je(R,R.l_desc),Je(R,R.d_desc),Ee=(function(Ae){var qe;for(w(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),w(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),Je(Ae,Ae.bl_desc),qe=j-1;3<=qe&&Ae.bl_tree[2*X[qe]+1]===0;qe--);return Ae.opt_len+=3*(qe+1)+5+5+4,qe})(R),J=R.opt_len+3+7>>>3,(Te=R.static_len+3+7>>>3)<=J&&(J=Te)):J=Te=ve+5,ve+4<=J&&$!==-1?V(R,$,ve,ye):R.strategy===4||Te===J?(se(R,2+(ye?1:0),3),st(R,ne,A)):(se(R,4+(ye?1:0),3),(function(Ae,qe,ct,Pe){var Vt;for(se(Ae,qe-257,5),se(Ae,ct-1,5),se(Ae,Pe-4,4),Vt=0;Vt<Pe;Vt++)se(Ae,Ae.bl_tree[2*X[Vt]+1],3);ce(Ae,Ae.dyn_ltree,qe-1),ce(Ae,Ae.dyn_dtree,ct-1)})(R,R.l_desc.max_code+1,R.d_desc.max_code+1,Ee+1),st(R,R.dyn_ltree,R.dyn_dtree)),ee(R),ye&&Ne(R)},m._tr_tally=function(R,$,ve){return R.pending_buf[R.d_buf+2*R.last_lit]=$>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&$,R.pending_buf[R.l_buf+R.last_lit]=255&ve,R.last_lit++,$===0?R.dyn_ltree[2*ve]++:(R.matches++,$--,R.dyn_ltree[2*(g[ve]+_+1)]++,R.dyn_dtree[2*M($)]++),R.last_lit===R.lit_bufsize-1},m._tr_align=function(R){se(R,2,3),le(R,D,ne),(function($){$.bi_valid===16?(de($,$.bi_buf),$.bi_buf=0,$.bi_valid=0):8<=$.bi_valid&&($.pending_buf[$.pending++]=255&$.bi_buf,$.bi_buf>>=8,$.bi_valid-=8)})(R)}},{"../utils/common":41}],53:[function(o,c,m){c.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,c,m){(function(u){(function(h,f){if(!h.setImmediate){var p,d,S,_,E=1,b={},j=!1,v=h.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(h);k=k&&k.setTimeout?k:h,p={}.toString.call(h.process)==="[object process]"?function(B){process.nextTick(function(){z(B)})}:(function(){if(h.postMessage&&!h.importScripts){var B=!0,H=h.onmessage;return h.onmessage=function(){B=!1},h.postMessage("","*"),h.onmessage=H,B}})()?(_="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",D,!1):h.attachEvent("onmessage",D),function(B){h.postMessage(_+B,"*")}):h.MessageChannel?((S=new MessageChannel).port1.onmessage=function(B){z(B.data)},function(B){S.port2.postMessage(B)}):v&&"onreadystatechange"in v.createElement("script")?(d=v.documentElement,function(B){var H=v.createElement("script");H.onreadystatechange=function(){z(B),H.onreadystatechange=null,d.removeChild(H),H=null},d.appendChild(H)}):function(B){setTimeout(z,0,B)},k.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var H=new Array(arguments.length-1),W=0;W<H.length;W++)H[W]=arguments[W+1];var Y={callback:B,args:H};return b[E]=Y,p(E),E++},k.clearImmediate=N}function N(B){delete b[B]}function z(B){if(j)setTimeout(z,0,B);else{var H=b[B];if(H){j=!0;try{(function(W){var Y=W.callback,G=W.args;switch(G.length){case 0:Y();break;case 1:Y(G[0]);break;case 2:Y(G[0],G[1]);break;case 3:Y(G[0],G[1],G[2]);break;default:Y.apply(f,G)}})(H)}finally{N(B),j=!1}}}}function D(B){B.source===h&&typeof B.data=="string"&&B.data.indexOf(_)===0&&z(+B.data.slice(_.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(zc)),zc.exports}var ix=ax();const Ls=wp(ix),ii=(x,l)=>{const o=URL.createObjectURL(x),c=document.createElement("a");c.href=o,c.download=l,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)},Lc=(x,l)=>{let c=`SPOTYKACH WAV BUILDER EXPORT
Date: ${new Date().toISOString().split("T")[0]}
App Version: 1.0.1

========================================================================
FOLDER STRUCTURE (STRICT MODE)
========================================================================
Files in the SK folder are renamed to 1.WAV ... 6.WAV based on their slot position.
This is required by the Spotykach firmware.

`;Ct.forEach(h=>{const f=x.tapes[h],p=h.charAt(0).toUpperCase(),d=f.slots.filter(S=>S.fileId);d.length>0&&(c+=`[${h.toUpperCase()}] -> SK/${p}/
`,d.forEach(S=>{const _=x.files[S.fileId];c+=`  Slot ${S.id}: ${S.id}.WAV  (Source: "${_?.originalName||_?.name||"Unknown"}")
`}),c+=`
`)}),l&&(c+=`
========================================================================
PROJECT BACKUP
========================================================================
A full project backup (project.json + source files) is included in the 
"SK/PROJECT_BACKUP" folder. 
You can import this folder back into the app to restore your work.
`),c+=`
========================================================================
LEGAL / LICENSES
========================================================================
`;const m=new Set,u=new Set;return Object.values(x.files).forEach(h=>{h.license&&m.add(`${h.origin?`[${h.origin}] `:""}${h.license}`),h.origin&&u.add(h.origin)}),m.size>0?(c+=`This project uses samples with the following licenses:

`,m.forEach(h=>c+=`${h}

---

`)):c+=`No specific license information found for samples.
`,u.size>0&&(c+=`
Sample Origins:
`,u.forEach(h=>c+=`- ${h}
`)),c},sr=async(x,l=!1,o)=>{o?.("Starting project backup...");const c=new Ls,m={},u=c.folder("blobs");o?.("Serializing file records...");for(const[d,S]of Object.entries(x.files))m[d]={...S,versions:S.versions.map(_=>{const E=`${_.id}.wav`;return u&&u.file(E,_.blob),{..._,blob:null,blobRef:E}})};o?.("Saving metadata...");const h={files:m,tapes:x.tapes,metadata:{appName:"Spotykach WAV Builder",version:"1.0.0",exportDate:new Date().toISOString()}};if(c.file("project.json",JSON.stringify(h,null,2)),l)return o?.("Project backup zip prepared for bundling."),c;o?.("Generating final ZIP file...");const f=await c.generateAsync({type:"blob"}),p=new Date().toISOString().split("T")[0];ii(f,`Spotykach_Project_${p}.zip`),o?.("Download started.")},Hp=async(x,l,o)=>{if(l.directWrite)try{if(!("showDirectoryPicker"in window))throw new Error("Browser not supported");o?.("Requesting directory access...");const f=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});o?.("Creating SK folder...");const p=await f.getDirectoryHandle("SK",{create:!0});o?.("Writing README.md...");const S=await(await f.getFileHandle("README.md",{create:!0})).createWritable();await S.write(Lc(x,l.includeProject)),await S.close();for(const _ of Ct){const E=x.tapes[_],b=_.charAt(0).toUpperCase();if(E.slots.filter(k=>k.fileId).length===0)continue;o?.(`Processing Tape ${_}...`);const v=await p.getDirectoryHandle(b,{create:!0});for(const k of E.slots)if(k.fileId&&x.files[k.fileId]){const N=x.files[k.fileId],z=N.versions.find(D=>D.id===N.currentVersionId);if(z?.blob){const D=`${k.id}.WAV`;o?.(`  -> Writing ${D}`);const H=await(await v.getFileHandle(D,{create:!0})).createWritable();await H.write(z.blob),await H.close()}}}if(l.includeProject){o?.("Creating Project Backup Bundle...");const _=await p.getDirectoryHandle("PROJECT_BACKUP",{create:!0});o?.("Generating Backup ZIP...");const E=await sr(x,!0,k=>o?.(`  [Backup] ${k}`));o?.("Writing Backup ZIP to disk...");const b=await E.generateAsync({type:"blob"}),v=await(await _.getFileHandle("project_backup.zip",{create:!0})).createWritable();await v.write(b),await v.close()}o?.("SD Card Export Complete.");return}catch(f){throw console.error("Direct Write Error:",f),f.name==="NotAllowedError"||f.message.includes("read-only")?new Error("System blocked write access. Please use Zip Export."):f}o?.("Preparing SD Card ZIP...");const c=new Ls,m=c.folder("SK");if(!m)throw new Error("Failed to create zip");if(o?.("Adding README..."),c.file("README.md",Lc(x,l.includeProject)),Ct.forEach(f=>{const p=x.tapes[f],d=f.charAt(0).toUpperCase();if(p.slots.filter(_=>_.fileId).length>0){o?.(`Adding Tape ${f}...`);const _=m.folder(d);_&&p.slots.forEach(E=>{if(E.fileId){const b=x.files[E.fileId],j=b.versions.find(v=>v.id===b.currentVersionId);j?.blob&&_.file(`${E.id}.WAV`,j.blob)}})}}),l.includeProject){o?.("Bundling Project Backup...");const f=await sr(x,!0,S=>o?.(`  [Backup] ${S}`)),p=m.folder("PROJECT_BACKUP");o?.("Compressing Backup...");const d=await f.generateAsync({type:"blob"});p?.file("project_backup.zip",d)}o?.("Combining and Compressing Final ZIP...");const u=await c.generateAsync({type:"blob"}),h=new Date().toISOString().split("T")[0];o?.("Triggering Download..."),ii(u,`Spotykach_SD_${h}.zip`),o?.("Done.")},Vp=async(x,l,o)=>{o?.("Starting File Export...");const c=new Ls;o?.("Adding Information..."),c.file("README.md",Lc(x,!1));const m=p=>{for(const d of Ct)if(x.tapes[d].slots.some(S=>S.fileId===p))return d.charAt(0).toUpperCase();return null};let u=0;for(const p of l.fileIds){const d=x.files[p];if(!d)continue;const S=d.versions.find(b=>b.id===d.currentVersionId);if(!S?.blob)continue;u++;let _="";if(l.keepStructure){const b=m(p);_=b||"POOL"}const E=_?c.folder(_):c;if(E){let b=d.name||d.originalName||`file_${p}`;b=b.replace(/\.wav$/i,"")+".wav",E.file(b,S.blob)}}o?.(`Processed ${u} files.`),o?.("Compressing ZIP...");const h=await c.generateAsync({type:"blob"}),f=new Date().toISOString().split("T")[0];o?.("Triggering Download..."),ii(h,`Spotykach_Selection_${f}.zip`),o?.("Done.")},qp=async(x,l,o)=>{const c=new Ls,m=x.charAt(0).toUpperCase(),u=c.folder(m);if(!u)throw new Error("Zip Error");let h=0;if(l.slots.forEach(p=>{if(p.fileId&&o[p.fileId]){const d=o[p.fileId],S=d.versions.find(_=>_.id===d.currentVersionId);S?.blob&&(u.file(`${p.id}.WAV`,S.blob),h++)}}),h===0)throw new Error("Tape is empty");const f=await c.generateAsync({type:"blob"});ii(f,`${x}_Tape.zip`)},sx=async x=>{const l=x.versions.find(c=>c.id===x.currentVersionId);if(!l?.blob){console.error("No blob found for file export");return}let o=x.name||x.originalName||"export";o.toLowerCase().endsWith(".wav")||(o+=".wav"),ii(l.blob,o)},Xc=Object.freeze(Object.defineProperty({__proto__:null,downloadBlob:ii,exportFilesOnly:Vp,exportSDStructure:Hp,exportSaveState:sr,exportSingleFile:sx,exportSingleTape:qp},Symbol.toStringTag,{value:"Module"})),Qt=[];for(let x=0;x<256;++x)Qt.push((x+256).toString(16).slice(1));function lx(x,l=0){return(Qt[x[l+0]]+Qt[x[l+1]]+Qt[x[l+2]]+Qt[x[l+3]]+"-"+Qt[x[l+4]]+Qt[x[l+5]]+"-"+Qt[x[l+6]]+Qt[x[l+7]]+"-"+Qt[x[l+8]]+Qt[x[l+9]]+"-"+Qt[x[l+10]]+Qt[x[l+11]]+Qt[x[l+12]]+Qt[x[l+13]]+Qt[x[l+14]]+Qt[x[l+15]]).toLowerCase()}let Tc;const rx=new Uint8Array(16);function ox(){if(!Tc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Tc=crypto.getRandomValues.bind(crypto)}return Tc(rx)}const cx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dp={randomUUID:cx};function ux(x,l,o){x=x||{};const c=x.random??x.rng?.()??ox();if(c.length<16)throw new Error("Random bytes length must be >= 16");return c[6]=c[6]&15|64,c[8]=c[8]&63|128,lx(c)}function lr(x,l,o){return dp.randomUUID&&!x?dp.randomUUID():ux(x)}const Yp=async x=>{if(x.length===1&&x[0].name.endsWith(".zip"))try{const m=await Ls.loadAsync(x[0]),u=m.file("project.json");if(u){const h=await u.async("string"),f=JSON.parse(h),p=m.folder("blobs");if(p)for(const d of Object.keys(f.files)){const S=f.files[d];for(const _ of S.versions){const E=`${_.id}.wav`,b=p.file(E);b&&(_.blob=await b.async("blob"))}}return{type:"PROJECT_BACKUP",summary:`Found Project Backup (v${f.metadata?.version||"Unknown"}) with ${Object.keys(f.files).length} files.`,projectState:f}}}catch(m){console.warn("Failed to parse ZIP",m)}x.find(m=>m.name==="project.json");const l={};let o=!1;for(const m of x){const h=(m.webkitRelativePath||m.name).toUpperCase().split("/");if(h.length>=2){const f=h[h.length-1],d=h[h.length-2].charAt(0).toUpperCase(),S=Ct.find(_=>_.charAt(0).toUpperCase()===d);if(S){const _=f.match(/^(\d+)\.WAV$/i);if(_){const E=parseInt(_[1]);l[S]||(l[S]={}),l[S][E]=m,o=!0}}}}if(o){let m=0;return Object.values(l).forEach(u=>m+=Object.keys(u).length),{type:"SD_STRUCTURE",summary:`Found SD Card Structure with ${m} assigned files.`,structureMap:l}}const c=x.filter(m=>m.type.startsWith("audio/")||m.name.toLowerCase().endsWith(".wav")||m.name.toLowerCase().endsWith(".mp3"));return c.length>0?{type:"LOOSE_FILES",summary:`Found ${c.length} audio files.`,files:c}:{type:"UNKNOWN",summary:"No recognizable audio or project files found."}},dx=x=>{const l={};for(const o of x)if(o.type.startsWith("audio/")||o.name.endsWith(".wav")||o.name.endsWith(".mp3")){const c=lr();l[c]={id:c,name:o.name,originalName:o.name,versions:[{id:lr(),timestamp:Date.now(),description:"Original Import",blob:o,duration:0}],currentVersionId:"",isParked:!0},l[c].currentVersionId=l[c].versions[0].id}return l},fx=(x,l,o)=>{const c=[];Object.values(x).forEach(p=>{Object.values(p).forEach(d=>c.push(d))});const m={},u=new Map;for(const p of c){const d=lr();u.set(p,d),m[d]={id:d,name:p.name,originalName:p.name,versions:[{id:lr(),timestamp:Date.now(),description:"Imported from SD",blob:p,duration:0}],currentVersionId:"",isParked:!1},m[d].currentVersionId=m[d].versions[0].id}const h={...l,...m},f={...o};for(const p of Ct){const d=x[p];if(d)for(const[S,_]of Object.entries(d)){const E=parseInt(S),b=u.get(_);if(b){const j=f[p];f[p]={...j,slots:j.slots.map(v=>v.id===E?{...v,fileId:b}:v)}}}}return{files:h,tapes:f}},fp=Object.freeze(Object.defineProperty({__proto__:null,analyzeImport:Yp,processAudioFiles:dx,processSDStructure:fx},Symbol.toStringTag,{value:"Module"})),hx="1.0.1",px=({onClose:x,onReset:l})=>i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-6",children:i.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent font-header",children:"About Spotykach WAV Builder"}),i.jsxs("p",{className:"text-gray-500 text-sm mt-1 font-body",children:["Version ",hx]})]}),i.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:i.jsx(Wt,{size:24})})]}),i.jsxs("div",{className:"p-8 overflow-y-auto max-h-[70vh] space-y-8 font-body",children:[i.jsxs("div",{className:"bg-synthux-yellow/10 border border-synthux-yellow/30 p-4 rounded-lg flex items-start gap-3",children:[i.jsx("div",{className:"text-synthux-yellow mt-0.5",children:""}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsx("strong",{className:"text-synthux-yellow block mb-1",children:"Desktop Recommended"}),"This application is optimized for use on a ",i.jsx("strong",{children:"Desktop Computer"})," (Chrome/Edge) with a mouse/trackpad.",i.jsx("br",{}),i.jsxs("span",{className:"opacity-80 mt-1 block",children:[i.jsx("strong",{children:"Mobile/Touch Support:"})," Functional (Beta). Audio processing works, but the layout is cramped on phones and file management (SD Card) varies by OS."]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[i.jsx(Ec,{size:20,className:"text-synthux-blue"}),"Purpose"]}),i.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["This application is specifically designed to prepare audio files for the ",i.jsx("strong",{className:"text-white",children:"Synthux Spotykach - the looper playground"}),". It automatically handles the strict format requirements needed by the firmware, ensuring your samples assume the correct",i.jsx("span",{className:"text-synthux-blue font-mono text-xs mx-1 px-1.5 py-0.5 bg-synthux-blue/20 rounded",children:"48kHz Stereo WAV"}),"format and folder structure."]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[i.jsx(or,{size:20,className:"text-synthux-green"}),"Supported Files"]}),i.jsx("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800",children:i.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:[i.jsx("li",{children:"All standard audio formats (MP3, WAV, AIF, OGG, etc.)"}),i.jsx("li",{children:"Files are automatically converted to 48kHz / 16-bit / Stereo."}),i.jsx("li",{children:" Drag & Drop files directly onto slots or use the Import Folder button."})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[i.jsx(Ec,{size:20,className:"text-synthux-pink"}),"Technology Stack"]}),i.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800 text-sm text-gray-300",children:["Built with ",i.jsx("span",{className:"text-white font-bold",children:"React"}),", ",i.jsx("span",{className:"text-white font-bold",children:"Vite"}),", and ",i.jsx("span",{className:"text-white font-bold",children:"TailwindCSS"}),".",i.jsx("br",{}),"Assisted by ",i.jsx("span",{className:"text-synthux-pink font-bold",children:"Google Deepmind"}),"'s experimental agentic coding models."]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[i.jsx(Ec,{size:20,className:"text-synthux-yellow"}),"Roadmap & Contributing"]}),i.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800 text-sm text-gray-300 space-y-2",children:[i.jsxs("p",{children:["Future versions will include ",i.jsx("strong",{children:"Multi-Project Support"}),", a ",i.jsx("strong",{children:"Shared Sample Pool"}),", and a ",i.jsx("strong",{children:"Project Manager"}),"."]}),i.jsxs("p",{children:["Want to help? Join the discussion on the ",i.jsx("a",{href:"https://synthux.academy",target:"_blank",rel:"noreferrer",className:"text-synthux-yellow hover:underline",children:"Synthux Discord"}),", open an issue on GitHub, or check out our ",i.jsx("a",{href:"https://github.com/jonwaterschoot/spotykach_WAV_builder/blob/main/CONTRIBUTING.md",target:"_blank",rel:"noreferrer",className:"text-synthux-yellow hover:underline",children:"Contribution Guide"}),"."]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("a",{href:"https://github.com/jonwaterschoot/spotykach_WAV_builder",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-4 bg-gray-800/50 hover:bg-gray-800 rounded-xl border border-gray-700 transition-all group",children:[i.jsx("span",{className:"font-medium text-white group-hover:text-synthux-blue transition-colors",children:"GitHub Repository"}),i.jsx($h,{size:16,className:"text-gray-500 group-hover:text-white transition-colors"})]}),i.jsxs("a",{href:"https://discord.gg/synthux",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-4 bg-gray-800/50 hover:bg-gray-800 rounded-xl border border-gray-700 transition-all group",children:[i.jsx("span",{className:"font-medium text-synthux-yellow group-hover:text-synthux-yellow-light transition-colors",children:"Synthux Discord"}),i.jsx($h,{size:16,className:"text-gray-500 group-hover:text-white transition-colors"})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-800 text-center space-y-4",children:[i.jsxs("div",{className:"text-xs text-gray-500 font-mono bg-black/40 p-3 rounded border border-gray-800/50 mx-auto max-w-md",children:[i.jsx("p",{className:"font-bold text-gray-400 mb-1",children:"LICENSE"}),"DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE",i.jsx("br",{}),"Version 2, December 2004",i.jsx("br",{}),i.jsx("br",{}),"Copyright (C) 2026 @jonwtr",i.jsx("br",{}),"Everyone is permitted to copy and distribute verbatim or modified copies of this license document, and changing it is allowed as long as the name is changed."]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm",children:[i.jsx(kg,{size:16}),i.jsxs("span",{children:["Built by ",i.jsx("a",{href:"https://github.com/jonwaterschoot",target:"_blank",rel:"noreferrer",className:"text-synthux-yellow hover:text-synthux-yellow-light hover:underline",children:"@jonwaterschoot"})]})]}),i.jsx("div",{className:"pt-4",children:i.jsx("button",{onClick:l,className:"text-red-500 hover:text-red-400 text-xs font-bold uppercase tracking-wider hover:underline transition-colors",children:"Reset Application"})})]})]})]})}),mx=({onClose:x})=>{const[l,o]=be.useState("structure"),c=u=>{o(h=>h===u?null:u)},m=({id:u,title:h,icon:f})=>i.jsxs("button",{onClick:()=>c(u),className:`w-full flex items-center justify-between p-4 ${l===u?"bg-synthux-blue/20 text-white":"bg-gray-800/50 text-gray-300 hover:bg-gray-800"} transition-colors border-b border-gray-700 first:rounded-t-lg last:border-0`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(f,{size:20,className:l===u?"text-synthux-blue":"text-gray-500"}),i.jsx("span",{className:"font-bold font-header uppercase tracking-wider",children:h})]}),l===u?i.jsx(Rc,{size:16}):i.jsx(ir,{size:16})]});return i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 md:p-8",children:i.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-4xl max-h-full md:max-h-[85vh] shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20 shrink-0",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-white font-header flex items-center gap-3",children:[i.jsx("span",{className:"bg-white text-black rounded-full w-8 h-8 flex items-center justify-center text-lg",children:"?"}),"Spotykach Format & Storage"]}),i.jsx("p",{className:"text-gray-400 text-sm mt-1 max-w-lg font-body",children:"WAV Builder ensures your files are exported in the correct 48kHz 32-bit Float format with the required folder structure."})]}),i.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:i.jsx(Wt,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"p-6 space-y-2",children:[i.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[i.jsx(m,{id:"structure",title:"SD Card Structure",icon:kp}),l==="structure"&&i.jsxs("div",{className:"p-6 bg-black/20 text-gray-300 space-y-6 font-body",children:[i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-lg flex gap-3",children:[i.jsx(vn,{className:"text-yellow-500 shrink-0"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{className:"text-yellow-500 block mb-1",children:"Important Safety Tips"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 opacity-90",children:[i.jsx("li",{children:"Lower volumes after loading new files!"}),i.jsxs("li",{children:["Insert card ",i.jsx("strong",{children:"before"})," powering up."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Do not hot-swap"})," the card while powered on."]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold mb-2",children:"The SK Folder"}),i.jsxs("p",{className:"mb-4",children:["Spotykach uses a specific folder structure accessed by both decks. Everything resides inside the root folder named ",i.jsx("code",{className:"bg-gray-800 px-1.5 py-0.5 rounded text-white font-mono",children:"SK"}),"."]}),i.jsxs("p",{children:["Files must be in ",i.jsx("strong",{children:"32-bit float 48kHz Stereo WAV"})," format."]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold mb-2",children:"Tapes & Navigation"}),i.jsx("p",{className:"text-sm mb-2",children:'Files are grouped into 6 "Tapes", corresponding to colors:'}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500"})," ",i.jsx("strong",{children:"B"}),"lue  Folder ",i.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"B"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"})," ",i.jsx("strong",{children:"G"}),"reen  Folder ",i.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"G"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-pink-500"})," ",i.jsx("strong",{children:"P"}),"ink  Folder ",i.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"P"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"})," ",i.jsx("strong",{children:"R"}),"ed  Folder ",i.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"R"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-cyan-400"})," ",i.jsx("strong",{children:"T"}),"urquoise  Folder ",i.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"T"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-400"})," ",i.jsx("strong",{children:"Y"}),"ellow  Folder ",i.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"Y"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold mb-2",children:"File Naming"}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded text-sm font-mono",children:["SK/",i.jsx("br",{})," B/",i.jsx("br",{}),"    1.WAV",i.jsx("br",{}),"    ...",i.jsx("br",{}),"    6.WAV",i.jsx("br",{})," G/",i.jsx("br",{}),"    1.WAV",i.jsx("br",{})," ...",i.jsx("br",{})]}),i.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[" Folder and File names must be ",i.jsx("strong",{children:"UPPERCASE"}),"."]})]})]})]})]}),i.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[i.jsx(m,{id:"formatting",title:"Formatting Guide (FAT32)",icon:Uc}),l==="formatting"&&i.jsxs("div",{className:"p-6 bg-black/20 text-gray-300 space-y-6 font-body",children:[i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-lg",children:[i.jsx("strong",{className:"text-blue-400 block mb-1",children:"Recommendation"}),i.jsxs("p",{className:"text-sm",children:["32GB microSD cards are ideal (holding ~21 hours of audio). ",i.jsx("br",{}),"Cards larger than 32GB require special tools to format as ",i.jsx("strong",{children:"FAT32"}),"."]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-white font-bold flex items-center gap-2 mb-2",children:[i.jsx(Jh,{size:18})," Windows"]}),i.jsx("p",{className:"text-sm mb-2",children:"Native Windows tools limit FAT32 formatting to 32GB."}),i.jsxs("div",{className:"bg-gray-800 p-3 rounded text-sm",children:[i.jsx("strong",{children:"Solution:"})," Use ",i.jsx("a",{href:"http://ridgecrop.co.uk/index.htm?guiformat.htm",target:"_blank",className:"text-synthux-blue underline hover:text-white",children:"GUIFormat"})," (Ridgecrop Consultants).",i.jsx("br",{}),"It is a simple tool that formats drives larger than 32GB to FAT32 in seconds."]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-white font-bold flex items-center gap-2 mb-2",children:[i.jsx(Hg,{size:18})," macOS"]}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Open ",i.jsx("strong",{children:"Disk Utility"}),"."]}),i.jsxs("li",{children:["View  ",i.jsx("strong",{children:"Show All Devices"}),"."]}),i.jsx("li",{children:"Select the physical drive."}),i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Erase"}),"."]}),i.jsxs("li",{children:["Format: ",i.jsx("strong",{children:"MS-DOS (FAT)"}),"."]}),i.jsxs("li",{children:["Scheme: ",i.jsx("strong",{children:"Master Boot Record"})," (Crucial!)."]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-white font-bold flex items-center gap-2 mb-2",children:[i.jsx(Tp,{size:18})," Linux"]}),i.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"GNOME Disks"}),': Choose "Format Partition"  "Compatible with all systems (FAT)".']}),i.jsxs("li",{children:[i.jsx("strong",{children:"GParted"}),": Format to ",i.jsx("code",{children:"fat32"}),"."]})]})]})]})]})]}),i.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[i.jsx(m,{id:"cards",title:"Compatible Cards",icon:Wh}),l==="cards"&&i.jsxs("div",{className:"p-6 bg-black/20 text-gray-300 font-body",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-green-400 font-bold flex items-center gap-2 mb-4",children:[i.jsx(Wh,{size:18})," Working"]}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs uppercase bg-gray-800 text-gray-400",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 rounded-l",children:"Brand"}),i.jsx("th",{className:"px-3 py-2 rounded-r",children:"Size (GB)"})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-800",children:[i.jsxs("tr",{className:"bg-white/5",children:[i.jsx("td",{className:"px-3 py-2",children:"SanDisk Ultra"}),i.jsx("td",{className:"px-3 py-2",children:"32*, 64, 128*, 256"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-3 py-2",children:"SanDisk Extreme"}),i.jsx("td",{className:"px-3 py-2",children:"32*, 64, 128*"})]}),i.jsxs("tr",{className:"bg-white/5",children:[i.jsx("td",{className:"px-3 py-2",children:"SanDisk Edge"}),i.jsx("td",{className:"px-3 py-2",children:"8*"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-3 py-2",children:"Kingston SDC10"}),i.jsx("td",{className:"px-3 py-2",children:"32*"})]}),i.jsxs("tr",{className:"bg-white/5",children:[i.jsx("td",{className:"px-3 py-2",children:"Toshiba M203"}),i.jsx("td",{className:"px-3 py-2",children:"16*"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-3 py-2",children:"Samsung EVO Plus"}),i.jsx("td",{className:"px-3 py-2",children:"128**"})]})]})]}),i.jsxs("div",{className:"text-[10px] text-gray-500 mt-2",children:["* Verified by users. ",i.jsx("br",{}),"** Had initial errors but seems to work."]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-red-400 font-bold flex items-center gap-2 mb-4",children:[i.jsx(_p,{size:18})," Failing / Avoid"]}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs uppercase bg-gray-800 text-gray-400",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 rounded-l",children:"Brand"}),i.jsx("th",{className:"px-3 py-2 rounded-r",children:"Size (GB)"})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-800",children:[i.jsxs("tr",{className:"bg-white/5",children:[i.jsx("td",{className:"px-3 py-2",children:"PNY Elite"}),i.jsx("td",{className:"px-3 py-2",children:"32"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-3 py-2",children:"Netac Pro"}),i.jsx("td",{className:"px-3 py-2",children:"16"})]}),i.jsxs("tr",{className:"bg-white/5",children:[i.jsx("td",{className:"px-3 py-2",children:"Generic / Off-brand"}),i.jsx("td",{className:"px-3 py-2",children:"Any"})]})]})]})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-gray-800 text-center",children:i.jsxs("a",{href:"https://www.notion.so/Spotykach-Recommended-microSD-Cards-2e96331933b880ab94e7e88996f8fd44?pvs=21",target:"_blank",rel:"noreferrer",className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors inline-flex items-center gap-2 text-sm",children:["View Full List on Notion ",i.jsx(ir,{size:14})]})})]})]}),i.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[i.jsx(m,{id:"mobile",title:"Mobile & Tablet Export",icon:Jh}),l==="mobile"&&i.jsxs("div",{className:"p-6 bg-black/20 text-gray-300 space-y-6 font-body",children:[i.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-4 rounded-lg flex gap-3",children:[i.jsx(vn,{className:"text-amber-500 shrink-0"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{className:"text-amber-500 block mb-1",children:"Android & iOS Limitations"}),i.jsx("p",{className:"mb-2",children:'Mobile operating systems strictly restrict apps from writing directly to SD cards or system folders. The "Direct Write" feature is mainly for Desktop browsers (Chrome/Edge).'})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold mb-2",children:"How to Export on Mobile"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-sm",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Option A: Download ZIP"}),i.jsx("p",{className:"ml-5 text-gray-400 mt-1",children:'Use "Download SD Structure (ZIP)". Save it to your "Files", then unzip it and move the contents to your SD card manually.'})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Option B: Manual File Export"}),i.jsxs("p",{className:"ml-5 text-gray-400 mt-1",children:["Use the ",i.jsx("strong",{children:'"Manual (Mobile)"'})," tab in the Export menu."]}),i.jsxs("ul",{className:"list-disc list-inside ml-5 mt-1 space-y-1 text-gray-400",children:[i.jsx("li",{children:"Select a Tape (Color)."}),i.jsxs("li",{children:["Download each file individually (e.g., ",i.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"1.WAV"}),")."]}),i.jsxs("li",{children:["Move these files to the corresponding folder (e.g., ",i.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"SK/B"}),") on your card."]})]})]})]})]})]})]})]})})]})})},gx=({files:x,tapes:l,onClose:o,onExportSD:c,onExportFiles:m,onExportProject:u})=>{const[h,f]=be.useState("sd"),[p,d]=be.useState(!0),[S,_]=be.useState(!1),E="showDirectoryPicker"in window,[b,j]=be.useState("Blue"),[v,k]=be.useState(!0),[N,z]=be.useState(new Set(Object.keys(x))),[D,B]=be.useState(!1),H=G=>`var(--color-synthux-${G.toLowerCase()})`,W=(G,U)=>{const X=x[G];if(!X)return;const ne=X.versions.find(A=>A.id===X.currentVersionId);ne?.blob&&ii(ne.blob,`${U}.WAV`)},Y=async()=>{const G=l[b];for(const U of G.slots)U.fileId&&(W(U.fileId,U.id),await new Promise(X=>setTimeout(X,500)))};return i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-2xl max-h-[90vh] shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20 shrink-0",children:[i.jsxs("h2",{className:"text-2xl font-bold text-white font-header flex items-center gap-3",children:[i.jsx(Ln,{className:"text-synthux-action"}),"Export"]}),i.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:i.jsx(Wt,{size:24})})]}),i.jsxs("div",{className:"flex border-b border-gray-800 overflow-x-auto shrink-0",children:[i.jsxs("button",{onClick:()=>f("sd"),className:`flex-1 min-w-[100px] p-4 flex items-center justify-center gap-2 transition-colors ${h==="sd"?"bg-synthux-action/10 text-synthux-action border-b-2 border-synthux-action":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[i.jsx(kp,{size:18}),i.jsx("span",{className:"font-bold text-sm whitespace-nowrap",children:"SD Card"})]}),i.jsxs("button",{onClick:()=>f("manual"),className:`flex-1 min-w-[100px] p-4 flex items-center justify-center gap-2 transition-colors ${h==="manual"?"bg-synthux-action/10 text-synthux-action border-b-2 border-synthux-action":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[i.jsx(Qg,{size:18}),i.jsx("span",{className:"font-bold text-sm whitespace-nowrap",children:"Manual (Mobile)"})]}),i.jsxs("button",{onClick:()=>f("files"),className:`flex-1 min-w-[100px] p-4 flex items-center justify-center gap-2 transition-colors ${h==="files"?"bg-synthux-action/10 text-synthux-action border-b-2 border-synthux-action":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[i.jsx(or,{size:18}),i.jsx("span",{className:"font-bold text-sm whitespace-nowrap",children:"Files Only"})]}),i.jsxs("button",{onClick:()=>f("project"),className:`flex-1 min-w-[100px] p-4 flex items-center justify-center gap-2 transition-colors ${h==="project"?"bg-synthux-action/10 text-synthux-action border-b-2 border-synthux-action":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[i.jsx(Mc,{size:18}),i.jsx("span",{className:"font-bold text-sm whitespace-nowrap",children:"Backup"})]})]}),i.jsxs("div",{className:"p-8 min-h-[300px] flex flex-col overflow-y-auto",children:[h==="sd"&&i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-200 fade-in",children:[i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-lg flex gap-3",children:[i.jsx(Rs,{className:"text-blue-400 shrink-0 mt-1",size:20}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsx("strong",{className:"text-blue-400 block mb-1",children:"Strict Spotykach Structure"}),"Files will be renamed to ",i.jsx("code",{className:"bg-black/30 px-1 rounded",children:"1.WAV"}),", ",i.jsx("code",{className:"bg-black/30 px-1 rounded",children:"2.WAV"}),"... based on their slot position."]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-800 bg-black/20 hover:bg-black/30 cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:p,onChange:G=>d(G.target.checked),className:"w-5 h-5 rounded border-gray-600 text-synthux-action focus:ring-synthux-action bg-gray-700"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-white",children:"Include Project Bundle"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Saves source files and original names in a backup folder (Recommended)"})]})]}),E&&i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-800 bg-black/20 hover:bg-black/30 cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:S,onChange:G=>_(G.target.checked),className:"w-5 h-5 rounded border-gray-600 text-synthux-action focus:ring-synthux-action bg-gray-700"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-white",children:"Write Directly to SD Card (Desktop)"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Select the SD drive to export without creating a ZIP"})]})]})]}),i.jsx("div",{className:"mt-auto pt-4",children:i.jsxs("button",{onClick:()=>c({includeProject:p,directWrite:S}),className:"w-full py-3 bg-synthux-yellow hover:bg-yellow-400 text-black font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:[S?i.jsx(Bc,{size:20}):i.jsx(Ln,{size:20}),S?"Select SD Card & Export":"Download SD Structure (ZIP)"]})})]}),h==="manual"&&i.jsxs("div",{className:"flex flex-col h-full animate-in slide-in-from-right-4 duration-200 fade-in",children:[i.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-4 rounded-lg flex gap-3 mb-6",children:[i.jsx(Rs,{className:"text-amber-400 shrink-0 mt-1",size:20}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsx("strong",{className:"text-amber-400 block mb-1",children:"For Mobile (iOS / Android)"}),"Download individual files named correctly (e.g., ",i.jsx("code",{className:"bg-black/30 px-1 rounded",children:"1.WAV"}),"). You must verify they end up in the correct folder (SK/[Color]) on your SD card."]})]}),i.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:Ct.map(G=>i.jsxs("button",{onClick:()=>j(G),className:`
                                            flex items-center gap-2 px-3 py-2 rounded-full border transition-all whitespace-nowrap
                                            ${b===G?"bg-white/10 border-white text-white":"bg-black/20 border-gray-800 text-gray-400 hover:border-gray-600"}
                                        `,children:[i.jsx(ai,{color:H(G),className:"w-4 h-4"}),i.jsx("span",{className:"text-xs font-bold uppercase",children:G})]},G))}),i.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-800 rounded-lg bg-black/20 p-2 space-y-2",children:l[b].slots.filter(G=>G.fileId).length===0?i.jsx("div",{className:"text-center text-gray-500 py-8 italic",children:"No files assigned to this tape"}):l[b].slots.map(G=>{if(!G.fileId)return null;const U=x[G.fileId];return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded border border-gray-800 hover:bg-gray-800/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-black/40 flex items-center justify-center text-synthux-yellow font-mono text-sm border border-gray-700",children:G.id}),i.jsxs("div",{className:"overflow-hidden",children:[i.jsxs("div",{className:"text-sm font-bold text-gray-200",children:[G.id,".WAV"]}),i.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:U?.name})]})]}),i.jsx("button",{onClick:()=>W(G.fileId,G.id),className:"p-2 bg-synthux-action hover:bg-emerald-400 text-black rounded-full transition-colors",title:"Download",children:i.jsx(Ln,{size:16})})]},G.id)})}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800",children:[i.jsxs("button",{onClick:Y,disabled:l[b].slots.filter(G=>G.fileId).length===0,className:"w-full py-3 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:[i.jsx(Ln,{size:20}),"Download All ",b," Files (",l[b].slots.filter(G=>G.fileId).length,")"]}),i.jsx("div",{className:"text-center mt-2 text-[10px] text-gray-500",children:"Your browser may ask permission to download multiple files."})]})]}),h==="files"&&i.jsxs("div",{className:"flex flex-col h-full animate-in slide-in-from-right-4 duration-200 fade-in",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto mb-4 border border-gray-800 rounded-lg bg-black/20 p-2",children:[i.jsxs("div",{className:"flex gap-4 mb-4 p-2 bg-gray-800/50 rounded-lg",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"structure",checked:v,onChange:()=>k(!0),className:"text-synthux-yellow focus:ring-synthux-yellow bg-gray-700 border-gray-600"}),i.jsx("span",{className:"text-gray-300 text-sm",children:"SK Folders (B/G/P...)"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"structure",checked:!v,onChange:()=>k(!1),className:"text-synthux-yellow focus:ring-synthux-yellow bg-gray-700 border-gray-600"}),i.jsx("span",{className:"text-gray-300 text-sm",children:"Single Folder (Flat)"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Assigned Files"}),Object.entries(x).filter(([G,U])=>!U.isParked).length===0?i.jsx("div",{className:"text-gray-600 text-xs px-2 italic",children:"No assigned files"}):Object.entries(x).filter(([G,U])=>!U.isParked).map(([G,U])=>i.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-white/5 rounded cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:N.has(G),onChange:X=>{const ne=new Set(N);X.target.checked?ne.add(G):ne.delete(G),z(ne)},className:"rounded border-gray-600 text-synthux-yellow focus:ring-synthux-yellow bg-gray-700"}),i.jsxs("div",{className:"overflow-hidden",children:[i.jsx("div",{className:"text-sm text-gray-200 truncate",children:U.name}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:U.originalName})]})]},G))]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 px-2 border-t border-gray-800 pt-2",children:"Unassigned Pool"}),Object.entries(x).filter(([G,U])=>U.isParked).length===0?i.jsx("div",{className:"text-gray-600 text-xs px-2 italic",children:"Pool is empty"}):Object.entries(x).filter(([G,U])=>U.isParked).map(([G,U])=>i.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-white/5 rounded cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:N.has(G),onChange:X=>{const ne=new Set(N);X.target.checked?ne.add(G):ne.delete(G),z(ne)},className:"rounded border-gray-600 text-synthux-yellow focus:ring-synthux-yellow bg-gray-700"}),i.jsxs("div",{className:"overflow-hidden",children:[i.jsx("div",{className:"text-sm text-gray-200 truncate",children:U.name}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:U.originalName})]})]},G))]})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-800",children:[i.jsxs("div",{className:"text-xs text-gray-400",children:[N.size," files selected"]}),i.jsxs("button",{onClick:()=>m({keepStructure:v,fileIds:Array.from(N)}),disabled:N.size===0,className:"px-6 py-3 bg-synthux-yellow hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed text-black font-bold rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(Ln,{size:20}),"Download ZIP"]})]})]}),h==="project"&&i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-200 fade-in",children:[i.jsx("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:i.jsx("p",{className:"text-sm text-gray-300",children:"Full backup of the current project state, including all file versions and history. Use this to save your work and continue later."})}),i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-800 bg-black/20 hover:bg-black/30 cursor-pointer transition-colors opacity-50 cursor-not-allowed",children:[i.jsx("input",{type:"checkbox",checked:D,disabled:!0,onChange:G=>B(G.target.checked),className:"w-5 h-5 rounded border-gray-600 text-synthux-yellow focus:ring-synthux-yellow bg-gray-700"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-white",children:"Exclude History / Cleanup"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Remove undo history and unused files to save space (Coming Soon)"})]})]}),i.jsx("div",{className:"mt-auto pt-4",children:i.jsxs("button",{onClick:()=>u({excludeCleanup:D}),className:"w-full py-3 bg-synthux-yellow hover:bg-yellow-400 text-black font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:[i.jsx(Mc,{size:20}),"Save Project (ZIP)"]})})]})]})]})})},yx=({isOpen:x,onClose:l,logs:o,isComplete:c,error:m,successMessage:u})=>{const h=be.useRef(null);return be.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[o]),x?i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[110] p-4",children:i.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-lg shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20",children:[i.jsxs("h2",{className:"text-xl font-bold text-white font-header flex items-center gap-3",children:[c?m?i.jsx(_p,{className:"text-red-500"}):i.jsx(Og,{className:"text-synthux-action"}):i.jsx(Ep,{className:"text-synthux-action animate-spin"}),c?m?"Export Failed":"Export Complete":"Exporting..."]}),c&&i.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:i.jsx(Wt,{size:24})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[c&&!m&&i.jsx("div",{className:"bg-synthux-action/10 border border-synthux-action/20 p-4 rounded-lg text-synthux-action text-center font-bold",children:u||"Operation completed successfully."}),m&&i.jsx("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg text-red-400 text-center font-bold",children:m}),i.jsxs("div",{className:"bg-black/50 border border-gray-800 rounded-lg p-4 h-64 overflow-y-auto font-mono text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-2 border-b border-gray-800 pb-2",children:[i.jsx(Tp,{size:12}),i.jsx("span",{children:"Process Log"})]}),i.jsxs("div",{className:"space-y-1",children:[o.map((f,p)=>i.jsxs("div",{className:"text-gray-300 break-all",children:[i.jsx("span",{className:"text-gray-600 mr-2",children:">"}),f]},p)),i.jsx("div",{ref:h})]})]})]}),c&&i.jsx("div",{className:"p-6 border-t border-gray-800 bg-black/20 flex justify-end",children:i.jsx("button",{onClick:l,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors font-bold",children:"Close"})})]})}):null},xx=({analysis:x,onClose:l,onRestoreProject:o,onImportStructure:c,onImportFiles:m})=>i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:i.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-lg shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20",children:[i.jsxs("h2",{className:"text-2xl font-bold text-white font-header flex items-center gap-3",children:[i.jsx(Bc,{className:"text-synthux-turquoise"}),"Import Content"]}),i.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:i.jsx(Wt,{size:24})})]}),i.jsxs("div",{className:"p-8 flex flex-col gap-6",children:[x.type==="PROJECT_BACKUP"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-lg flex gap-3",children:[i.jsx(Mc,{className:"text-yellow-500 shrink-0 mt-1",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-yellow-500",children:"Project Backup Detected"}),i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"This ZIP contains a full Spotykach project backup."}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 font-mono",children:x.summary})]})]}),i.jsx("div",{className:"grid gap-3",children:i.jsxs("button",{onClick:()=>x.projectState&&o(x.projectState),className:"w-full py-4 px-4 bg-synthux-red hover:bg-red-600 text-white font-bold rounded-lg transition-colors flex items-center justify-between group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vn,{size:20}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:"Restore Full Project"}),i.jsx("div",{className:"text-xs font-normal opacity-80",children:"Replaces current project entirely"})]})]}),i.jsx(kc,{className:"opacity-50 group-hover:translate-x-1 transition-transform"})]})})]}),x.type==="SD_STRUCTURE"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-synthux-blue/10 border border-synthux-blue/20 p-4 rounded-lg flex gap-3",children:[i.jsx(Bc,{className:"text-synthux-blue shrink-0 mt-1",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-synthux-blue",children:"SD Card Structure"}),i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Found Spotykach folder structure (SK/B/1.WAV, etc)."}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 font-mono",children:x.summary})]})]}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs("button",{onClick:()=>x.structureMap&&c(x.structureMap),className:"w-full py-4 px-4 bg-synthux-blue hover:bg-blue-600 text-white font-bold rounded-lg transition-colors flex items-center justify-between group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ni,{size:20}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:"Map to Tape Slots"}),i.jsx("div",{className:"text-xs font-normal opacity-80",children:"Assigns files to matching slots"})]})]}),i.jsx(kc,{className:"opacity-50 group-hover:translate-x-1 transition-transform"})]}),i.jsx("button",{onClick:()=>{const u=[];x.structureMap&&Object.values(x.structureMap).forEach(h=>{Object.values(h).forEach(f=>u.push(f))}),m(u)},className:"w-full py-3 px-4 bg-gray-700 hover:bg-gray-600 text-gray-200 font-bold rounded-lg transition-colors flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(or,{size:20}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:"Import to Pool Only"}),i.jsx("div",{className:"text-xs font-normal opacity-80",children:"Add files without assigning slots"})]})]})})]})]}),x.type==="LOOSE_FILES"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-synthux-green/10 border border-synthux-green/20 p-4 rounded-lg flex gap-3",children:[i.jsx(fy,{className:"text-synthux-green shrink-0 mt-1",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-synthux-green",children:"Audio Files"}),i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Ready to import audio files into the pool."}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 font-mono",children:x.summary})]})]}),i.jsx("div",{className:"grid gap-3",children:i.jsxs("button",{onClick:()=>x.files&&m(x.files),className:"w-full py-4 px-4 bg-synthux-green hover:bg-green-600 text-black font-bold rounded-lg transition-colors flex items-center justify-between group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ni,{size:20}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:"Import to Pool"}),i.jsxs("div",{className:"text-xs font-normal opacity-80",children:["Add ",x.files?.length," files"]})]})]}),i.jsx(kc,{className:"opacity-50 group-hover:translate-x-1 transition-transform"})]})})]}),x.type==="UNKNOWN"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg flex gap-3",children:[i.jsx(vn,{className:"text-red-500 shrink-0 mt-1",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-red-500",children:"Unknown Content"}),i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Could not recognize a Spotykach project, SD structure, or standard audio files."})]})]}),i.jsx("button",{onClick:l,className:"w-full py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-lg transition-colors",children:"Close"})]})]})]})}),Ac=[{id:"synthux-horror",name:"Synthux Horror Sample Pack 2025",description:"A community collection of eerie soundscapes, drones, and textures created with, or with the help of the Synthux Audrey II synths.",license:`CC-BY 4.0
The author keeps full ownership of the recordings.
Synthux Academy and others can share, remix, or use these sounds  including commercially  as long as they give credit.
Crediting can be done by linking to author or mentioning the name.
Nobody else can claim this work as their own.`,links:[{label:"View Full Credits & Source",url:"https://github.com/jonwaterschoot/spotykach_WAV_builder/tree/main/public/samples/horror/p1"}],coverImage:"/samples/horror/p1/Audrey-II-Horror-Sample-Pack-2026-Synthux-Academy.png",samples:[{name:"C-Larinet Der Wal",path:"/samples/horror/p1/KG/Clarinet_Rixdorf.wav",category:"KHAGE"},{name:"Acid Box Echo Fix 1",path:"/samples/horror/p1/MO/AcidBox_Echo1.wav",category:"Machine Oil"},{name:"Acid Box Echo Fix 2",path:"/samples/horror/p1/MO/AcidBox_Echo2.wav",category:"Machine Oil"},{name:"Echo Fix 1",path:"/samples/horror/p1/MO/Echo1.wav",category:"Machine Oil"},{name:"Echo Fix 2",path:"/samples/horror/p1/MO/Echo2.wav",category:"Machine Oil"},{name:"Echo Fix 3",path:"/samples/horror/p1/MO/Echo3.wav",category:"Machine Oil"},{name:"Echo Fix 4",path:"/samples/horror/p1/MO/Echo4.wav",category:"Machine Oil"},{name:"Neuromorph CF 1",path:"/samples/horror/p1/NM/CF_1.wav",category:"Neuromorph"},{name:"Neuromorph CF 2",path:"/samples/horror/p1/NM/CF_2.wav",category:"Neuromorph"},{name:"Neuromorph CF 3",path:"/samples/horror/p1/NM/CF_3.wav",category:"Neuromorph"},{name:"Neuromorph CF 4",path:"/samples/horror/p1/NM/CF_4.wav",category:"Neuromorph"},{name:"Neuromorph CF 5",path:"/samples/horror/p1/NM/CF_5.wav",category:"Neuromorph"},{name:"Neuromorph CF 6",path:"/samples/horror/p1/NM/CF_6.wav",category:"Neuromorph"},{name:"Neuromorph CF 7",path:"/samples/horror/p1/NM/CF_7.wav",category:"Neuromorph"},{name:"Neuromorph CF 8",path:"/samples/horror/p1/NM/CF_8.wav",category:"Neuromorph"},{name:"Neuromorph CF 9",path:"/samples/horror/p1/NM/CF_9.wav",category:"Neuromorph"},{name:"Neuromorph CF 10",path:"/samples/horror/p1/NM/CF_10.wav",category:"Neuromorph"},{name:"Neuromorph CF 11",path:"/samples/horror/p1/NM/CF_11.wav",category:"Neuromorph"},{name:"Neuromorph CF 12",path:"/samples/horror/p1/NM/CF_12.wav",category:"Neuromorph"},{name:"Neuromorph CF 13",path:"/samples/horror/p1/NM/CF_13.wav",category:"Neuromorph"},{name:"Audrey II Horrorscape Pt 1",path:"/samples/horror/p1/TPO/Horrorscape_Pt1.wav",category:"The Pedalboard Orchestra"},{name:"Audrey II Horrorscape Pt 2",path:"/samples/horror/p1/TPO/Horrorscape_Pt2.wav",category:"The Pedalboard Orchestra"},{name:"Audrey II Horrorscape Pt 3",path:"/samples/horror/p1/TPO/Horrorscape_Pt3.wav",category:"The Pedalboard Orchestra"},{name:"Arhythmic",path:"/samples/horror/p1/NKT/Arhythmic.wav",category:"enkaytee"},{name:"Cosmic Winds",path:"/samples/horror/p1/NKT/CosmicWinds.wav",category:"enkaytee"},{name:"Midnight Chimes",path:"/samples/horror/p1/NKT/MidnightChimes.wav",category:"enkaytee"},{name:"Silent Bells",path:"/samples/horror/p1/NKT/SilentBells.wav",category:"enkaytee"},{name:"Model Cycles Audrey Touch Pt 1",path:"/samples/horror/p1/JW/ModelCycles_Pt1.wav",category:"jonwtr"},{name:"Model Cycles Audrey Touch Pt 2",path:"/samples/horror/p1/JW/ModelCycles_Pt2.wav",category:"jonwtr"}]},{id:"jonwtr-explorations",name:"Jonwtr Explorations",description:"A collection of noisy textures, field recordings, and voice sounds explored during the development of Spotykach.",license:`DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
Version 2, December 2004

Copyright (C) 2026 @jonwtr

Everyone is permitted to copy and distribute verbatim or modified copies of this license document, and changing it is allowed as long as the name is changed.`,links:[{label:"Read Documentation",url:"https://github.com/jonwaterschoot/spotykach_WAV_builder/blob/main/public/samples/jonwtr/README.md"},{label:"Instagram (@jonwtr)",url:"https://instagram.com/jonwtr"},{label:"YouTube (@jonwtr)",url:"https://youtube.com/@jonwtr"}],coverImage:"/samples/jonwtr/og-image.png",samples:[{name:"Tractatus Logico Robovoice",path:"/samples/jonwtr/Tractatus_logico_robovoice.wav",category:"Voice"},{name:"Voice Glitch Raw",path:"/samples/jonwtr/voice_prrrrttttsktsk_rawCut.wav",category:"Voice"},{name:"Noise Trickle Distorted 1",path:"/samples/jonwtr/noise_trickle_distorted1.wav",category:"Textures"},{name:"Noise Trickle Distorted 2",path:"/samples/jonwtr/noise_trickle_distorted2.wav",category:"Textures"},{name:"Noise Drone",path:"/samples/jonwtr/noisedrone.wav",category:"Textures"},{name:"Noisy Bass Pad",path:"/samples/jonwtr/noisybasspadC2G1.wav",category:"Textures"},{name:"Drainpipe UZ",path:"/samples/jonwtr/drainpipeUZ.wav",category:"Field Recordings"},{name:"Trickling Stones Dense",path:"/samples/jonwtr/tricklingstones_dense.wav",category:"Field Recordings"},{name:"Trickling Stones Sparse",path:"/samples/jonwtr/tricklingstones_lessdense.wav",category:"Field Recordings"},{name:"Mini Kalimba Dry",path:"/samples/jonwtr/minikalimbadry-120bpm-C_E_G.wav",category:"Instruments"},{name:"Mini Kalimba Distorted",path:"/samples/jonwtr/minikalimbadry-120bpm-C_E_G_distorted.wav",category:"Instruments"}]}],vx=({isOpen:x,onClose:l,onImport:o})=>{const[c,m]=be.useState(Ac[0]?.id||""),[u,h]=be.useState(null),[f,p]=be.useState(null),[d,S]=be.useState(new Set),_=be.useRef(null);if(!x)return null;const E=Ac.find(v=>v.id===c),b=v=>{if(u===v.path)_.current?.pause(),h(null);else if(_.current){_.current.pause();const k="/spotykach_WAV_builder/".replace(/\/$/,"");_.current.src=`${k}${v.path}`,_.current.play().catch(N=>console.error("Preview failed",N)),h(v.path)}},j=async v=>{p(v.path);try{const k="/spotykach_WAV_builder/".replace(/\/$/,"");await o(`${k}${v.path}`,v.name,E?.name,E?.license),S(N=>new Set(N).add(v.path))}catch(k){console.error("Import failed",k)}finally{p(null)}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:i.jsxs("div",{className:"bg-synthux-panel border border-gray-700 rounded-lg shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800 bg-synthux-panel",children:[i.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-white",children:[i.jsx(Np,{className:"text-synthux-orange"})," Sample Pack Browser"]}),i.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",children:i.jsx(Wt,{size:20})})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"w-64 bg-synthux-sidebg border-r border-gray-800 p-4 flex flex-col gap-2 overflow-y-auto",children:[i.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Available Packs"}),Ac.map(v=>i.jsx("button",{onClick:()=>m(v.id),className:`text-left px-3 py-2 rounded text-sm font-medium transition-colors ${c===v.id?"bg-synthux-orange/20 text-synthux-orange border border-synthux-orange/50":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:v.name},v.id))]}),i.jsx("div",{className:"flex-1 bg-synthux-main p-6 overflow-y-auto",children:E?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:E.name}),i.jsx("p",{className:"text-gray-400 text-sm max-w-xl mb-4 leading-relaxed font-body",children:E.description}),E.license&&i.jsxs("div",{className:"bg-black/20 p-3 rounded-lg border border-gray-800 text-xs text-gray-400 font-mono whitespace-pre-wrap mb-4 max-w-xl",children:[i.jsx("strong",{className:"block text-gray-500 mb-1 uppercase tracking-wider",children:"License"}),E.license]}),E.links&&E.links.length>0&&i.jsx("div",{className:"flex gap-2 mb-4 flex-wrap text-sm",children:E.links.map((v,k)=>i.jsx("a",{href:v.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-synthux-blue rounded border border-gray-700 transition-colors",children:v.label},k))})]}),i.jsx("div",{className:"space-y-6",children:Object.entries(E.samples.reduce((v,k)=>{const N=k.category||"Uncategorized";return v[N]||(v[N]=[]),v[N].push(k),v},{})).map(([v,k])=>i.jsxs("div",{children:[i.jsx("h3",{className:"sticky top-0 z-10 bg-synthux-main text-xs font-bold text-synthux-orange uppercase py-2 px-4 mb-1 border-b border-gray-800",children:v}),i.jsx("div",{className:"space-y-1",children:k.map((N,z)=>{const D=u===N.path,B=f===N.path,H=d.has(N.path);return i.jsxs("div",{className:"grid grid-cols-[40px_1fr_100px] gap-4 items-center px-4 py-3 hover:bg-gray-800/50 rounded border border-transparent hover:border-gray-800 transition-colors group",children:[i.jsx("button",{onClick:()=>b(N),className:`w-8 h-8 flex items-center justify-center rounded-full transition-all ${D?"text-synthux-orange bg-synthux-orange/10":"text-gray-500 hover:text-white bg-gray-800 hover:bg-gray-700"}`,children:D?i.jsx(cr,{size:12,fill:"currentColor"}):i.jsx(Vi,{size:12,fill:"currentColor"})}),i.jsx("div",{className:"font-mono text-sm text-gray-300 group-hover:text-white truncate",children:N.name}),i.jsx("div",{className:"text-right",children:i.jsx("button",{onClick:()=>j(N),disabled:B||H,className:`inline-flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold transition-colors disabled:cursor-not-allowed ${H?"bg-synthux-yellow/20 text-synthux-yellow border border-synthux-yellow/50":"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white"}`,children:B?i.jsxs(i.Fragment,{children:[i.jsx(Ep,{size:12,className:"animate-spin"})," Adding..."]}):H?i.jsxs(i.Fragment,{children:[i.jsx(ni,{size:14})," Added"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ln,{size:14})," Add"]})})})]},z)})})]},v))})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select a pack to browse samples"})})]}),i.jsx("audio",{ref:_,onEnded:()=>h(null)})]})})},bx=({message:x,type:l="info",onClose:o,duration:c=3e3})=>{be.useEffect(()=>{const h=setTimeout(o,c);return()=>clearTimeout(h)},[c,o]);const m={success:"bg-synthux-main border-synthux-green text-green-400",error:"bg-synthux-main border-red-500 text-red-400",info:"bg-synthux-main border-synthux-blue text-synthux-blue",neutral:"bg-synthux-panel border-gray-600 text-gray-300"},u={success:i.jsx(ni,{size:18}),error:i.jsx(vn,{size:18}),info:i.jsx(Rs,{size:18}),neutral:i.jsx(Rs,{size:18})};return i.jsxs("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-4 py-3 rounded-lg border shadow-2xl animate-in slide-in-from-bottom-5 fade-in duration-300 ${m[l]}`,children:[u[l],i.jsx("span",{className:"font-medium text-sm text-gray-200",children:x}),i.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/10 p-1 rounded transition-colors",children:i.jsx(Wt,{size:14})})]})},wx=({duplicates:x,files:l,onKeep:o,onMakeUnique:c,onClose:m})=>{if(x.size===0)return m(),null;const u=h=>{switch(h){case"Red":return"var(--color-synthux-red)";case"Blue":return"var(--color-synthux-blue)";case"Green":return"var(--color-synthux-green)";case"Pink":return"var(--color-synthux-pink)";case"Yellow":return"var(--color-synthux-yellow)";case"Turquoise":return"var(--color-synthux-turquoise)";default:return"var(--color-synthux-blue)"}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:i.jsxs("div",{className:"w-full max-w-2xl bg-[#1a1a1a] border border-gray-700 rounded-2xl shadow-2xl flex flex-col max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-gray-700 flex items-center justify-between bg-[#222]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-orange-500/20 text-orange-400",children:i.jsx(vn,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Resolve Duplicates"}),i.jsx("p",{className:"text-sm text-gray-400",children:"The same file is assigned to multiple slots."})]})]}),i.jsx("button",{onClick:m,className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:i.jsx(Wt,{size:20})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:Array.from(x.entries()).map(([h,f])=>{const p=l[h];return p?i.jsxs("div",{className:"bg-black/30 border border-gray-700 rounded-xl p-4 flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-bold text-white text-lg truncate",title:p.name,children:p.name}),i.jsx("div",{className:"text-xs text-gray-500 font-mono truncate",children:p.originalName}),i.jsxs("div",{className:"text-xs text-orange-400 mt-1 flex items-center gap-1",children:[i.jsx(vn,{size:12}),"Used in ",f.length," slots"]})]}),i.jsxs("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider",children:"Keep only:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(d=>{const S=u(d.color);return i.jsxs("button",{onClick:()=>o(h,d),className:"flex items-center gap-2 pl-1 pr-3 py-1 bg-gray-800 border border-gray-600 rounded-full hover:border-white hover:bg-gray-700 transition-all group",title:`Keep only slot ${d.color} ${d.slotId}`,children:[i.jsx("div",{className:"w-5 h-5",children:i.jsx(ai,{color:S,className:"w-full h-full"})}),i.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-white",children:d.slotId})]},`${d.color}-${d.slotId}`)})})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider",children:"Or:"}),i.jsxs("button",{onClick:()=>c(h),className:"flex items-center justify-center gap-2 px-3 py-2 bg-synthux-blue/20 text-synthux-blue border border-synthux-blue/50 rounded-lg hover:bg-synthux-blue hover:text-white transition-all text-xs font-bold uppercase",children:[i.jsx(jp,{size:14}),"Make Each Unique"]})]})]})]},h):null})}),i.jsx("div",{className:"p-4 border-t border-gray-700 bg-[#222] flex justify-end",children:i.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-bold text-gray-300 hover:text-white",children:"Close"})})]})})},Sx=({count:x,onOverwrite:l,onFillEmpty:o,onCancel:c})=>i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"w-full max-w-md bg-[#1a1a1a] border border-orange-500/30 rounded-2xl shadow-2xl overflow-hidden flex flex-col animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 bg-gradient-to-b from-orange-500/10 to-transparent border-b border-white/5",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-orange-500/20 rounded-full",children:i.jsx(vn,{className:"text-orange-500",size:24})}),i.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Assignment Conflict"})]}),i.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["The slots you are dropping into are already occupied. ",i.jsxs("span",{className:"text-white font-bold",children:[x," file",x!==1?"s":""]})," would be overwritten."]})]}),i.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[i.jsxs("button",{onClick:l,className:"group flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-orange-500/10 hover:border-orange-500/30 transition-all text-left",children:[i.jsxs("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-orange-500/20 transition-colors",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white",children:i.jsx("span",{children:""})}),i.jsx("div",{className:"w-0.5 h-8 bg-white/20 my-1 self-center"}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white",children:i.jsx("span",{children:"L"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-bold text-sm mb-0.5",children:"Overwrite Existing"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Replace current files (they will be parked)."})]})]}),i.jsxs("button",{onClick:o,className:"group flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-emerald-500/10 hover:border-emerald-500/30 transition-all text-left",children:[i.jsx("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-emerald-500/20 transition-colors",children:i.jsx(Yg,{className:"text-gray-400 group-hover:text-emerald-500",size:20})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-bold text-sm mb-0.5",children:"Push to Free Slots"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Skip occupied slots and find next available spaces."})]})]}),i.jsxs("button",{onClick:c,className:"mt-2 w-full py-3 px-4 rounded-xl text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-white hover:bg-white/5 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Wt,{size:14})," Cancel"]})]})]})});class _x extends be.Component{state={hasError:!1,error:null};static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,o){console.error("Uncaught error:",l,o)}render(){return this.state.hasError?i.jsxs("div",{className:"p-8 bg-red-900/20 text-red-200 border border-red-800 rounded-lg m-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Something went wrong."}),i.jsx("p",{className:"mb-4",children:"The application encountered an error. Please report this to the developer."}),i.jsx("pre",{className:"bg-black/50 p-4 rounded text-xs overflow-auto max-h-48 text-red-300 font-mono",children:this.state.error?.toString()}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-800 hover:bg-red-700 rounded text-white font-bold",children:"Reload Application"})]}):this.props.children}}const Hc=(x,l)=>l.some(o=>x instanceof o);let hp,pp;function jx(){return hp||(hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return pp||(pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vc=new WeakMap,Dc=new WeakMap,dr=new WeakMap;function kx(x){const l=new Promise((o,c)=>{const m=()=>{x.removeEventListener("success",u),x.removeEventListener("error",h)},u=()=>{o(Ra(x.result)),m()},h=()=>{c(x.error),m()};x.addEventListener("success",u),x.addEventListener("error",h)});return dr.set(l,x),l}function Ex(x){if(Vc.has(x))return;const l=new Promise((o,c)=>{const m=()=>{x.removeEventListener("complete",u),x.removeEventListener("error",h),x.removeEventListener("abort",h)},u=()=>{o(),m()},h=()=>{c(x.error||new DOMException("AbortError","AbortError")),m()};x.addEventListener("complete",u),x.addEventListener("error",h),x.addEventListener("abort",h)});Vc.set(x,l)}let qc={get(x,l,o){if(x instanceof IDBTransaction){if(l==="done")return Vc.get(x);if(l==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return Ra(x[l])},set(x,l,o){return x[l]=o,!0},has(x,l){return x instanceof IDBTransaction&&(l==="done"||l==="store")?!0:l in x}};function Zp(x){qc=x(qc)}function Cx(x){return Nx().includes(x)?function(...l){return x.apply(Yc(this),l),Ra(this.request)}:function(...l){return Ra(x.apply(Yc(this),l))}}function zx(x){return typeof x=="function"?Cx(x):(x instanceof IDBTransaction&&Ex(x),Hc(x,jx())?new Proxy(x,qc):x)}function Ra(x){if(x instanceof IDBRequest)return kx(x);if(Dc.has(x))return Dc.get(x);const l=zx(x);return l!==x&&(Dc.set(x,l),dr.set(l,x)),l}const Yc=x=>dr.get(x);function Tx(x,l,{blocked:o,upgrade:c,blocking:m,terminated:u}={}){const h=indexedDB.open(x,l),f=Ra(h);return c&&h.addEventListener("upgradeneeded",p=>{c(Ra(h.result),p.oldVersion,p.newVersion,Ra(h.transaction),p)}),o&&h.addEventListener("blocked",p=>o(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),m&&p.addEventListener("versionchange",d=>m(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}function Ax(x,{blocked:l}={}){const o=indexedDB.deleteDatabase(x);return l&&o.addEventListener("blocked",c=>l(c.oldVersion,c)),Ra(o).then(()=>{})}const Dx=["get","getKey","getAll","getAllKeys","count"],Ox=["put","add","delete","clear"],Oc=new Map;function mp(x,l){if(!(x instanceof IDBDatabase&&!(l in x)&&typeof l=="string"))return;if(Oc.get(l))return Oc.get(l);const o=l.replace(/FromIndex$/,""),c=l!==o,m=Ox.includes(o);if(!(o in(c?IDBIndex:IDBObjectStore).prototype)||!(m||Dx.includes(o)))return;const u=async function(h,...f){const p=this.transaction(h,m?"readwrite":"readonly");let d=p.store;return c&&(d=d.index(f.shift())),(await Promise.all([d[o](...f),m&&p.done]))[0]};return Oc.set(l,u),u}Zp(x=>({...x,get:(l,o,c)=>mp(l,o)||x.get(l,o,c),has:(l,o)=>!!mp(l,o)||x.has(l,o)}));const Mx=["continue","continuePrimaryKey","advance"],gp={},Zc=new WeakMap,Ip=new WeakMap,Rx={get(x,l){if(!Mx.includes(l))return x[l];let o=gp[l];return o||(o=gp[l]=function(...c){Zc.set(this,Ip.get(this)[l](...c))}),o}};async function*Bx(...x){let l=this;if(l instanceof IDBCursor||(l=await l.openCursor(...x)),!l)return;l=l;const o=new Proxy(l,Rx);for(Ip.set(o,l),dr.set(o,Yc(l));l;)yield o,l=await(Zc.get(o)||l.continue()),Zc.delete(o)}function yp(x,l){return l===Symbol.asyncIterator&&Hc(x,[IDBIndex,IDBObjectStore,IDBCursor])||l==="iterate"&&Hc(x,[IDBIndex,IDBObjectStore])}Zp(x=>({...x,get(l,o,c){return yp(l,o)?Bx:x.get(l,o,c)},has(l,o){return yp(l,o)||x.has(l,o)}}));const Gp="spotykach-wav-builder",rr="app-state",Xp=async()=>Tx(Gp,1,{upgrade(x){x.objectStoreNames.contains(rr)||x.createObjectStore(rr)}}),Ux=async()=>{try{await Ax(Gp),window.location.reload()}catch(x){console.error("Failed to clear DB",x),alert("Failed to clear data.")}},Lx=async x=>{try{await(await Xp()).put(rr,x,"current")}catch(l){console.error("Failed to save state to DB",l)}},Hx=async()=>{try{return await(await Xp()).get(rr,"current")||null}catch(x){return console.error("Failed to load state from DB",x),null}},xp=x=>x.replace(/[^a-zA-Z0-9.\-_]/g,"_");function Vx(){const[x,l]=be.useState(op()),[o,c]=be.useState("Blue"),[m,u]=be.useState("single"),[h,f]=be.useState(null),[p,d]=be.useState(!1),[S,_]=be.useState(!1),[E,b]=be.useState(!1),[j,v]=be.useState(!1),[k,N]=be.useState(!1),[z,D]=be.useState(!1),[B,H]=be.useState([]),[W,Y]=be.useState(!1),[G,U]=be.useState(null),[X,ne]=be.useState(null),[A,O]=be.useState(!1),[g,I]=be.useState(""),[q,L]=be.useState(null),[K,Q]=be.useState(null),[ue,C]=be.useState(null),[M,de]=be.useState(new Set),[se,le]=be.useState(null),[Oe,Le]=be.useState(null),ee=be.useRef(null),Ne=be.useRef(null),[Ze,Ke]=be.useState(null),st=()=>{L({title:"Reset Application?",message:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{children:["This will ",i.jsx("strong",{children:"delete all projects, files, and settings"}),"."]}),i.jsx("p",{className:"text-sm text-gray-400",children:"The application will reload with a clean state."})]}),confirmLabel:"Reset Everything",isDestructive:!0,onConfirm:async()=>{try{await Ux(),localStorage.removeItem("spotykach_state"),l(op()),ne({msg:"Application Reset",type:"success"}),window.location.reload()}catch(me){console.error(me),ne({msg:"Reset Failed",type:"error"})}}})};be.useEffect(()=>{Hx().then(me=>{if(me)l(me);else{const ge=localStorage.getItem("spotykach_state");if(ge)try{const pe=JSON.parse(ge);pe.files&&pe.tapes&&l(pe)}catch(pe){console.error(pe)}}})},[]),be.useEffect(()=>{const me=setTimeout(()=>{Lx(x),localStorage.setItem("spotykach_state",JSON.stringify(x))},1e3);return()=>clearTimeout(me)},[x]);const Je=new Map,w=new Set;Object.entries(x.tapes).forEach(([me,ge])=>{ge.slots.forEach(pe=>{if(pe.fileId){const fe=Je.get(pe.fileId)||[];fe.push({slotId:pe.id,color:me}),Je.set(pe.fileId,fe)}})});for(const[me,ge]of Je.entries())ge.length<=1?Je.delete(me):w.add(me);const ce=(me,ge)=>{l(pe=>{const fe={...pe.tapes};return Object.keys(fe).forEach(Se=>{fe[Se]={...fe[Se],slots:fe[Se].slots.map(ke=>ke.fileId===me?Se===ge.color&&ke.id===ge.slotId?ke:{...ke,fileId:null}:ke)}}),{...pe,tapes:fe}})},oe=me=>{l(ge=>{const pe=ge.files[me];if(!pe)return ge;const fe={...ge.files},Se={...ge.tapes},ke=Je.get(me);if(!ke)return ge;for(let De=1;De<ke.length;De++){const Ce=ke[De],Re=Ee(),ze=pe.versions.map(He=>({...He})),Ue={...pe,id:Re,name:`${pe.name}_${De+1}`,originalName:pe.originalName,versions:ze,currentVersionId:ze[0].id,isParked:!1,origin:pe.origin,license:pe.license};fe[Re]=Ue,Se[Ce.color]={...Se[Ce.color],slots:Se[Ce.color].slots.map(He=>He.id===Ce.slotId?{...He,fileId:Re}:He)}}return{...ge,files:fe,tapes:Se}})},V=()=>{ee.current?.click()},R=async(me,ge)=>{v(!0),H([`Starting ${me}...`]),Y(!1),U(null);const pe=fe=>{H(Se=>[...Se,fe])};try{await ge(pe),Y(!0),pe("Process finished successfully.")}catch(fe){console.error(fe),U(fe.message||"Unknown error occurred"),Y(!0),pe(`Error: ${fe.message}`)}},$=x.tapes[o],ve=h?$.slots.find(me=>me.id===h):null,ye=ve?.fileId,J=ye?x.files[ye]:null,Te=J!==null,Ee=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Ae=async(me,ge,pe=o)=>{if(ge.length===0)return;const fe=ge[0];if(!fe.type.includes("audio")&&!fe.name.toLowerCase().endsWith(".wav")){alert("Please upload an audio file.");return}O(!0),I("Processing audio...");try{const{buffer:Se,blob:ke}=await cp.loadAndProcessAudio(fe),De=Ee(),Ce=Ee(),Re={id:Ce,timestamp:Date.now(),description:"Original Upload",blob:ke,duration:Se.duration},ze=xp(fe.name);ze!==fe.name&&ne({msg:`Renamed "${fe.name}" to "${ze}"`,type:"info"});const Ue={id:De,name:ze.toUpperCase().replace(/\.[^/.]+$/,""),originalName:fe.name,versions:[Re],currentVersionId:Ce,isParked:!1};l(He=>({...He,files:{...He.files,[De]:Ue},tapes:{...He.tapes,[pe]:{...He.tapes[pe],slots:He.tapes[pe].slots.map(Ge=>Ge.id===me?{...Ge,fileId:De}:Ge)}}}))}catch(Se){console.error(Se),alert("Error processing audio.")}finally{O(!1),I("")}},qe=(me,ge,pe,fe=!1,Se=o,ke,De)=>{l(Ce=>{const Re={...Ce.files},ze={...Ce.tapes};pe==="browser"&&(Re[ge]={...Re[ge],isParked:!1});const Ge=ze[Se].slots.find(Xe=>Xe.id===me)?.fileId;if(pe==="slot"&&Ge&&ke!==void 0&&De&&!fe&&ze[De].slots.findIndex(te=>te.id===ke)!==-1){let te=ze[Se];te===Ce.tapes[Se]&&(te={...te,slots:[...te.slots]},ze[Se]=te);let we=ze[De];return we===Ce.tapes[De]&&(we={...we,slots:[...we.slots]},ze[De]=we),te.slots=te.slots.map(Me=>Me.id===me?{...Me,fileId:ge}:Me),we.slots=we.slots.map(Me=>Me.id===ke?{...Me,fileId:Ge}:Me),{files:Re,tapes:ze}}return Ge&&(Re[Ge]={...Re[Ge],isParked:!0}),ze[Se]={...ze[Se],slots:ze[Se].slots.map(Xe=>Xe.id===me?{...Xe,fileId:ge}:Xe)},!fe&&pe==="slot"&&Object.keys(ze).forEach(Xe=>{const ut=Xe,te=ze[ut];te.slots.some(Me=>{const Be=ut===Se&&Me.id===me;return Me.fileId===ge&&!Be})&&(ze[ut]={...te,slots:te.slots.map(Me=>{const Be=ut===Se&&Me.id===me;return Me.fileId===ge&&!Be?{...Me,fileId:null}:Me})})}),{files:Re,tapes:ze}})},ct=me=>{Pe(me)},Pe=me=>{const ge=x.files[me];ge&&L({title:"Unassign File",message:`Remove "${ge.name}" from all assigned slots? It will remain in the unassigned pool.`,onConfirm:()=>{const pe={...x.tapes};let fe=!1;Object.keys(pe).forEach(Se=>{const ke=pe[Se];ke.slots.some(De=>De.fileId===me)&&(pe[Se]={...ke,slots:ke.slots.map(De=>De.fileId===me?{...De,fileId:null}:De)},fe=!0)}),fe&&(l(Se=>({...Se,files:{...Se.files,[me]:{...Se.files[me],isParked:!0}},tapes:pe})),ne({msg:"File unassigned from all slots",type:"success"})),L(null)}})},Vt=me=>{const ge=me.filter(pe=>!x.files[pe]?.isParked);ge.length!==0&&L({title:"Unassign Multiple Files",message:`Remove ${ge.length} files from all assigned slots? They will remain in the unassigned pool.`,onConfirm:()=>{l(pe=>{const fe={...pe.tapes},Se={...pe.files};let ke=0;return ge.forEach(De=>{let Ce=!1;Object.keys(fe).forEach(Re=>{const ze=fe[Re];ze.slots.some(Ue=>Ue.fileId===De)&&(fe[Re]={...ze,slots:ze.slots.map(Ue=>Ue.fileId===De?{...Ue,fileId:null}:Ue)},Ce=!0)}),Ce&&(Se[De]={...Se[De],isParked:!0},ke++)}),ne({msg:`Unassigned ${ke} files`,type:"success"}),{...pe,tapes:fe,files:Se}}),L(null)}})},$t=me=>{const ge=x.files[me];if(!ge)return;let pe=!1;Object.values(x.tapes).forEach(Se=>{Se.slots.some(ke=>ke.fileId===me)&&(pe=!0)});const fe=pe?"This will remove it from all assigned slots and the project.":"This will permanently remove it from the project.";L({title:`Permanently delete "${ge.name}"?`,message:fe,isDestructive:!0,confirmLabel:"Delete Forever",onConfirm:()=>{const Se={...x.tapes};let ke=!1;Object.keys(Se).forEach(Ce=>{const Re=Se[Ce];Re.slots.some(ze=>ze.fileId===me)&&(Se[Ce]={...Re,slots:Re.slots.map(ze=>ze.fileId===me?{...ze,fileId:null}:ze)},ke=!0)});const De={...x.files};delete De[me],l(Ce=>({...Ce,files:De,tapes:ke?Se:Ce.tapes})),ye===me&&f(null),L(null),ne({msg:"File permanently deleted",type:"success"})}})},jt=me=>{const pe=x.tapes[o].slots.find(fe=>fe.id===me);pe&&pe.fileId?f(me):(Ke(me),Ne.current?.click())},cn=(me,ge,pe,fe)=>{l(Se=>{const ke={...Se.files},De={...Se.tapes},Re=De[me].slots.find(Ue=>Ue.fileId===null);if(!Re)return alert(`Tape ${me} is full!`),Se;pe==="browser"&&(ke[ge]={...ke[ge],isParked:!1}),!fe&&pe==="slot"&&Object.keys(De).forEach(Ue=>{const He=Ue;De[He]={...De[He],slots:De[He].slots.map(Ge=>Ge.fileId===ge?{...Ge,fileId:null}:Ge)}});const ze=De[me].slots.findIndex(Ue=>Ue.id===Re.id);return ze>=0&&(De[me]={...De[me],slots:De[me].slots.map((Ue,He)=>He===ze?{...Ue,fileId:ge}:Ue)}),{files:ke,tapes:De}})},ht=(me,ge,pe)=>{l(fe=>{const Se={...fe.files},ke={...fe.tapes};let De=null,Ce=null;const Re=["Blue","Green","Pink","Red","Turquoise","Yellow"];for(const ze of Re){const He=ke[ze].slots.find(Ge=>Ge.fileId===null);if(He){De=He.id,Ce=ze;break}}return De===null||!Ce?(alert("All tapes are full!"),fe):(ge==="browser"&&(Se[me]={...Se[me],isParked:!1}),!pe&&ge==="slot"&&Object.keys(ke).forEach(ze=>{const Ue=ze;ke[Ue]={...ke[Ue],slots:ke[Ue].slots.map(He=>He.fileId===me?{...He,fileId:null}:He)}}),ke[Ce]={...ke[Ce],slots:ke[Ce].slots.map(ze=>ze.id===De?{...ze,fileId:me}:ze)},{files:Se,tapes:ke})})},St=(me,ge,pe,fe,Se)=>{if(pe==="check"){const ke=x.tapes;let De=0,Ce=null,Re=-1;if(fe){const He=ke[fe].slots.findIndex(Ge=>Ge.id===me);He!==-1&&(Ce=fe,Re=He)}else for(const He of Ct){const Ge=ke[He].slots.findIndex(Xe=>Xe.id===me);if(Ge!==-1){Ce=He,Re=Ge;break}}if(!Ce||Re===-1)return{conflicts:0};let ze=Ct.indexOf(Ce),Ue=Re;for(const He of ge){let Ge=!1;for(;ze<Ct.length;){const Xe=ke[Ct[ze]];if(Ue<Xe.slots.length){const ut=Xe.slots[Ue];ut.fileId&&ut.fileId!==He&&De++,Ge=!0,Ue++;break}ze++,Ue=0}if(!Ge)break}return{conflicts:De}}l(ke=>{const De={...ke.files},Ce={...ke.tapes};let Re=null,ze=-1;if(fe){const te=Ce[fe].slots.findIndex(we=>we.id===me);te!==-1&&(Re=fe,ze=te)}else for(const te of Ct){const we=Ce[te].slots.findIndex(Me=>Me.id===me);if(we!==-1){Re=te,ze=we;break}}if(!Re||ze===-1)return ke;let Ue=Ct.indexOf(Re),He=ze;const Ge=[];let Xe=0;const ut=new Set;for(const te of ge){let we=!1;for(;Ue<Ct.length;){const Me=Ct[Ue];let Be=Ce[Me];for(Be===ke.tapes[Me]&&(Be={...Be,slots:[...Be.slots]},Ce[Me]=Be);He<Be.slots.length;){const We=Be.slots[He],Ie=We.fileId!==null&&We.fileId!==te;if(pe==="fill"&&Ie){He++;continue}We.fileId&&We.fileId!==te&&(De[We.fileId]={...De[We.fileId],isParked:!0}),Be.slots[He]={...We,fileId:te},De[te]={...De[te],isParked:!1},ut.add(`${Me}-${We.id}`),we=!0,Xe++,He++;break}if(we)break;Ue++,He=0}we||Ge.push(te)}return Se&&Se.length>0&&(Se.forEach(te=>{if(!ut.has(te)){const[we,Me]=te.split("-"),Be=we,We=parseInt(Me);let Ie=Ce[Be];Ie===ke.tapes[Be]&&(Ie={...Ie,slots:[...Ie.slots]},Ce[Be]=Ie),Ce[Be].slots=Ce[Be].slots.map(pt=>pt.id===We?{...pt,fileId:null}:pt)}}),de(new Set)),Ge.length>0?L({title:"Bulk Assignment Complete",message:`Assigned ${Xe} files. ${Ge.length} files could not create space.`,confirmLabel:"OK",showCancel:!1,onConfirm:()=>L(null)}):ne({msg:`Assigned ${Xe} files (${pe})`,type:"success"}),{...ke,files:De,tapes:Ce}})},Zt=(me,ge,pe,fe)=>{const ke=St(me,ge,"check",pe).conflicts;ke>0?C({targetSlotId:me,fileIds:ge,conflicts:ke,targetColor:pe,sourceSlotKeys:fe}):St(me,ge,"overwrite",pe,fe)},gt=()=>{ue&&(St(ue.targetSlotId,ue.fileIds,"overwrite",ue.targetColor,ue.sourceSlotKeys),C(null))},zt=()=>{ue&&(St(ue.targetSlotId,ue.fileIds,"fill",ue.targetColor,ue.sourceSlotKeys),C(null))},Mn=me=>{const ge={...x.files},pe={...x.tapes};let fe=0,Se=0,ke=0;const De=Re=>{for(;fe<Ct.length;){const ze=Ct[fe];let Ue=pe[ze];for(Ue===x.tapes[ze]&&(Ue={...Ue,slots:[...Ue.slots]},pe[ze]=Ue);Se<Ue.slots.length;){const He=Ue.slots[Se];if(He.fileId===null)return ge[Re]={...ge[Re],isParked:!1},Ue.slots[Se]={...He,fileId:Re},Se++,!0;Se++}fe++,Se=0}return!1},Ce=[];me.forEach(Re=>{De(Re)?ke++:Ce.push(Re)}),l(Re=>({...Re,files:ge,tapes:pe})),Ce.length>0?L({title:"Fill Slots Complete",message:`Filled all free slots. ${Ce.length} file(s) could not be assigned.`,confirmLabel:"OK",showCancel:!1,onConfirm:()=>L(null)}):ne({msg:`Assigned ${ke} files to slots`,type:"success"})},bn=me=>{l(ge=>{const pe={...ge.tapes};let fe=null,Se;for(const Ce of Ct){const Re=pe[Ce].slots.find(ze=>ze.id===me);if(Re){fe=Ce,Se=Re;break}}if(!fe||!Se)return ge;const ke=Se.fileId;pe[fe]={...pe[fe],slots:pe[fe].slots.map(Ce=>Ce.id===me?{...Ce,fileId:null}:Ce)};let De=ge.files;if(ke){let Ce=!1;Object.keys(pe).forEach(Re=>{pe[Re].slots.some(ze=>ze.fileId===ke)&&(Ce=!0)}),!Ce&&De[ke]&&(De={...ge.files,[ke]:{...ge.files[ke],isParked:!0}})}return{...ge,files:De,tapes:pe}})},un=(me,ge,pe)=>{pe.stopPropagation();const fe=`${ge}-${me}`,Se=new Set(M);if(pe.shiftKey&&se){const ke=[];Ct.forEach(Re=>{for(let ze=0;ze<6;ze++)ke.push(`${Re}-${ze}`)});const De=ke.indexOf(se),Ce=ke.indexOf(fe);if(De!==-1&&Ce!==-1){const Re=Math.min(De,Ce),ze=Math.max(De,Ce);!pe.ctrlKey&&!pe.metaKey&&Se.clear();for(let Ue=Re;Ue<=ze;Ue++)Se.add(ke[Ue])}}else pe.ctrlKey||pe.metaKey?Se.has(fe)?Se.delete(fe):(Se.add(fe),le(fe),Le(fe)):(Se.clear(),Se.add(fe),le(fe),Le(fe));de(Se)},wn=(me,ge)=>{const pe=`${ge}-${me}`,fe=new Set(M);fe.has(pe)?fe.delete(pe):(fe.add(pe),fe.add(pe),le(pe),Le(pe)),de(fe)};be.useEffect(()=>{const me=ge=>{const pe=document.activeElement;if(pe?.tagName==="INPUT"||pe?.tagName==="TEXTAREA"||pe!==document.body&&pe?.getAttribute("tabindex")!==null||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ge.key))return;ge.preventDefault();const fe=[];Ct.forEach(Ce=>{for(let Re=0;Re<6;Re++)fe.push(`${Ce}-${Re}`)});let Se=0;if(se){const Ce=fe.indexOf(se);Ce!==-1&&(ge.key==="ArrowUp"?Se=Math.max(0,Ce-6):ge.key==="ArrowDown"?Se=Math.min(fe.length-1,Ce+6):ge.key==="ArrowLeft"?Se=Math.max(0,Ce-1):ge.key==="ArrowRight"&&(Se=Math.min(fe.length-1,Ce+1)))}else Se=0;const ke=fe[Se],De=new Set(M);if(ge.shiftKey){Oe||Le(se||ke);const Ce=Oe||se||ke,Re=fe.indexOf(Ce),ze=Se,Ue=Math.min(Re,ze),He=Math.max(Re,ze);!ge.ctrlKey&&!ge.metaKey&&De.clear();for(let Ge=Ue;Ge<=He;Ge++)De.add(fe[Ge]);le(ke)}else De.clear(),De.add(ke),le(ke),Le(ke);de(De)};return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[M,se,Oe]);const Jt=(me,ge)=>{c(ge);const fe=x.tapes[ge].slots.find(Se=>Se.id===me);fe&&fe.fileId?f(me):(Ke(me),Ne.current?.click())},It=(me,ge,pe)=>{const fe=`${pe}-${ge}`,ke=x.tapes[pe].slots.find(Ce=>Ce.id===ge);if(!ke||!ke.fileId){me.preventDefault();return}if(M.has(fe)){const Ce=[],Re=[];M.forEach(ze=>{const[Ue,He]=ze.split("-"),Ge=parseInt(He),Xe=x.tapes[Ue]?.slots.find(ut=>ut.id===Ge);Xe&&Xe.fileId&&(Ce.push(Xe.fileId),Re.push(ze))}),Ce.length>0&&(me.dataTransfer.setData("application/x-spotykach-bulk-ids",JSON.stringify(Ce)),me.dataTransfer.setData("application/x-spotykach-bulk-source-slots",JSON.stringify(Re)))}me.dataTransfer.setData("application/x-spotykach-file-id",ke.fileId),me.dataTransfer.setData("application/x-spotykach-source","slot"),me.dataTransfer.setData("application/x-spotykach-slot-id",ke.id.toString()),me.dataTransfer.setData("application/x-spotykach-slot-color",pe),me.dataTransfer.effectAllowed="copyMove";const De=M.has(fe)?(()=>{const Ce=[],Re=[];return M.forEach(ze=>{const[Ue,He]=ze.split("-"),Ge=parseInt(He),Xe=x.tapes[Ue]?.slots.find(ut=>ut.id===Ge);Xe&&Xe.fileId&&(Ce.push(Xe.fileId),Re.push(ze))}),Ce.length>0?{ids:Ce,keys:Re}:null})():null;me.dataTransfer.setData("text/plain",JSON.stringify({id:ke.fileId,source:"slot",slotId:ke.id,slotColor:pe,bulkIds:De?.ids,bulkSourceKeys:De?.keys}))},Gn=async me=>{const ge=me.target.files;if(!ge||ge.length===0)return;const pe=Array.from(ge);ne({msg:"Analyzing content...",type:"neutral"});try{const fe=await Yp(pe);Q(fe)}catch(fe){console.error("Import analysis failed",fe),ne({msg:"Failed to analyze import",type:"error"})}ee.current&&(ee.current.value="")},Sn=async(me,ge,pe,fe)=>{O(!0),I(`Downloading ${ge}...`);try{const Se=await fetch(me);if(!Se.ok)throw new Error("Network response was not ok");const ke=await Se.blob(),{buffer:De,blob:Ce}=await cp.loadAndProcessAudio(ke),Re=Ee(),ze=Ee(),Ue={id:ze,timestamp:Date.now(),description:"Imported Sample",blob:Ce,duration:De.duration},He=xp(ge);He!==ge&&ne({msg:`Renamed "${ge}" to "${He}"`,type:"info"});const Ge={id:Re,name:He.toUpperCase().replace(/\.[^/.]+$/,""),originalName:ge,versions:[Ue],currentVersionId:ze,isParked:!0,origin:pe,license:fe};l(Xe=>({...Xe,files:{...Xe.files,[Re]:Ge}})),ne({msg:`Imported ${ge}`,type:"success"})}catch(Se){console.error(Se),ne({msg:"Error importing sample",type:"error"})}finally{O(!1),I("")}};return i.jsxs("div",{className:"flex h-screen bg-synthux-main text-white font-sans overflow-hidden",children:[i.jsx(Dy,{currentTape:o,isAllView:m==="all",onSelect:me=>{c(me),u("single")},onToggleAllView:()=>u("all"),onDropOnTape:cn,onDropOnViewAll:ht,onReset:st}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[i.jsxs("header",{className:"h-16 border-b border-gray-800 flex items-center justify-between px-6 bg-synthux-panel",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:My,alt:"Spotykach Logo",className:"h-10 w-auto object-contain"}),i.jsx("span",{className:"text-[2rem] font-bold tracking-tight bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent hidden md:block font-header leading-none pt-2",children:"Spotykach .WAV builder"})]}),i.jsx("input",{type:"file",multiple:!0,webkitdirectory:"",ref:ee,onChange:Gn,className:"hidden"}),i.jsx("input",{type:"file",ref:Ne,onChange:me=>{me.target.files&&Ze!==null&&Ae(Ze,me.target.files,o),Ke(null),Ne.current&&(Ne.current.value="")},className:"hidden"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>_(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors border border-transparent hover:border-gray-600",title:"User Manual & Help",children:i.jsx(Bg,{size:20})}),i.jsx("button",{onClick:()=>d(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors border border-transparent hover:border-gray-600",title:"About",children:i.jsx(Rs,{size:20})}),i.jsx("div",{className:"h-6 w-px bg-gray-700 my-auto"}),i.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-colors text-sm font-bold border border-gray-700",title:"Import SK folder or project folder",children:[i.jsx(ky,{size:16})," ",i.jsx("span",{className:"hidden sm:inline",children:"Import"})]}),i.jsx("div",{className:"h-6 w-px bg-gray-700 my-auto"}),i.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-300 hover:to-orange-400 text-black rounded-lg transition-all text-sm font-bold shadow-lg shadow-orange-500/20",title:"Export / Save",children:[i.jsx(Ln,{size:16})," ",i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsx(Py,{files:Object.values(x.files),tapes:x.tapes,onParkRequest:ct,onOpenSampleBrowser:()=>N(!0),duplicates:w,onOpenDuplicateModal:()=>D(!0),onUnassignFile:Pe,onBulkUnassign:Vt,onDeleteFile:$t,onFillFreeSlots:Mn}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 flex flex-col items-center relative",children:[i.jsx("div",{className:"absolute right-0 bottom-0 pointer-events-none z-0 overflow-hidden w-full h-full",style:{zIndex:0},children:i.jsx("div",{className:"absolute right-0 bottom-0 animate-slow-spin opacity-15",style:{width:"120%",aspectRatio:"1/1",transform:"translate(50%, 50%)",maskImage:`url(${tp})`,maskSize:"contain",maskPosition:"center",maskRepeat:"no-repeat",WebkitMaskImage:`url(${tp})`,WebkitMaskSize:"contain",WebkitMaskPosition:"center",WebkitMaskRepeat:"no-repeat",backgroundColor:m==="all"?"#ffffff":`var(--color-synthux-${o==="Red"?"red":o==="Blue"?"blue":o==="Green"?"green":o==="Pink"?"pink":o==="Yellow"?"yellow":o==="Turquoise"?"turquoise":"blue"})`,opacity:m==="all"?.05:void 0}})}),i.jsx("div",{className:"w-full max-w-5xl py-8 relative z-10",children:m==="single"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6 w-full",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(ai,{color:`var(--color-synthux-${o.toLowerCase()})`,size:40})}),i.jsx("div",{className:"flex-1",children:i.jsxs("h2",{style:{color:`var(--color-synthux-${o.toLowerCase()})`},className:"text-4xl font-bold font-header tracking-tight uppercase drop-shadow-md shrink-0 flex items-center gap-3",children:["Tape ",o,i.jsx("button",{onClick:()=>qp(o,$,x.files),className:"p-1.5 rounded-full bg-gray-800 hover:bg-white/10 text-gray-400 hover:text-white transition-colors border border-gray-700 hover:border-gray-500",title:`Download ${o} Tape (Zip)`,children:i.jsx(Ln,{size:16})})]})}),w.size>0&&i.jsxs("div",{className:"flex items-center gap-4 bg-[#1a1a1a]/80 border border-orange-500/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-1 bg-orange-500/10 rounded-full",children:i.jsx(vn,{className:"text-orange-900",size:14})}),i.jsxs("span",{className:"text-xs font-medium text-gray-400",children:[w.size," file",w.size!==1?"s":""," assigned to multiple slots."]})]}),i.jsx("button",{onClick:()=>D(!0),className:"text-[10px] font-bold uppercase text-orange-600 hover:text-orange-400 hover:bg-orange-500/10 px-2 py-1 rounded transition-all",children:"Resolve"})]})]}),i.jsx(Uy,{slots:$.slots,files:x.files,tapeColor:o,activeSlotId:h,onSlotClick:jt,onSlotDrop:(me,ge)=>Ae(me,ge,o),onSlotDropInternal:(me,ge,pe,fe,Se,ke)=>{qe(me,ge,pe,fe,o,Se,ke)},onRemoveSlot:bn,duplicates:w,onDeleteFile:$t,onBulkAssign:Zt,selectedSlots:M,onSlotSelectionClick:(me,ge,pe)=>un(ge,me,pe),onToggleSlotSelection:(me,ge)=>wn(ge,me),onSlotDragStart:It})]}):i.jsxs("div",{className:"bg-black/40 rounded-3xl p-4 border border-white/5 backdrop-blur-md",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6 px-4",children:[i.jsx("h2",{className:"text-4xl font-bold font-header tracking-tight uppercase text-white drop-shadow-md",children:"All Tapes"}),w.size>0&&i.jsxs("div",{className:"flex items-center gap-4 bg-[#1a1a1a]/80 border border-orange-500/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-1 bg-orange-500/10 rounded-full",children:i.jsx(vn,{className:"text-orange-900",size:14})}),i.jsxs("span",{className:"text-xs font-medium text-gray-400",children:[w.size," Conflict",w.size!==1?"s":""]})]}),i.jsx("button",{onClick:()=>D(!0),className:"text-[10px] font-bold uppercase text-orange-600 hover:text-orange-400 hover:bg-orange-500/10 px-2 py-1 rounded transition-all",children:"Resolve"})]})]}),i.jsx(Hy,{tapes:x.tapes,files:x.files,onRemoveSlot:me=>bn(me),onSlotDrop:Ae,onSlotDropInternal:qe,onSlotClick:Jt,onTapeHeaderClick:me=>{c(me),u("single")},duplicates:Je,onDeleteFile:$t,onBulkAssign:Zt,selectedSlots:M,onSlotSelectionClick:un,onToggleSlotSelection:(me,ge)=>wn(me,ge),onSlotDragStart:It})]})})]})]}),Te&&J&&i.jsx(_x,{children:(()=>{const ge=J.versions.find(pe=>pe.id===J.currentVersionId)?.blob;return!ge||!(ge instanceof Blob)?i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg text-center max-w-sm border border-red-900",children:[i.jsx("h3",{className:"text-red-500 font-bold mb-2",children:"Audio Data Missing"}),i.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:['The audio file for "',J.name,'" could not be loaded. This usually happens if the data cache was cleared or corrupted.']}),i.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"Close"})]})}):i.jsx(Jy,{slot:{...ve,name:J.name,blob:ge},versions:J.versions,activeVersionId:J.currentVersionId,tapeColor:o,isDuplicate:w.has(J.id),onClose:()=>f(null),onSaveUnique:(pe,fe,Se)=>{if(!ye||!h)return;const ke=Ee(),De=Ee(),Ce={id:De,timestamp:Date.now(),description:"Unique Version from "+J.name,blob:pe,duration:fe,processing:Se},Re={id:ke,name:J.name+" (Unique)",originalName:J.originalName,versions:[Ce],currentVersionId:De,isParked:!1};l(ze=>{const Ue={...ze.files,[ke]:Re},He={...ze.tapes},Ge=He[o];return Ge&&(He[o]={...Ge,slots:Ge.slots.map(Xe=>Xe.id===h?{...Xe,fileId:ke}:Xe)}),{...ze,files:Ue,tapes:He}}),f(null)},onSave:(pe,fe,Se,ke,De)=>{if(!ye||!ke)return;const Ce=ye,Re=Ee(),ze={id:Re,timestamp:Date.now(),description:Se||"Edited",blob:pe,duration:fe,processing:De};l(Ue=>({...Ue,files:{...Ue.files,[Ce]:{...Ue.files[Ce],versions:[ze,...Ue.files[Ce].versions],currentVersionId:Re}}}))},onSaveAsCopy:(pe,fe)=>{const Se=Ee(),ke=Ee(),De={id:ke,timestamp:Date.now(),description:"Copy from "+J.name,blob:pe,duration:fe},Ce={id:Se,name:J.name+"_COPY",originalName:J.originalName,versions:[De],currentVersionId:ke,isParked:!0},Re=Ee(),ze={id:Re,timestamp:Date.now(),description:"Saved to Pool",blob:pe,duration:fe};l(Ue=>({...Ue,files:{...Ue.files,[Se]:Ce,[ye]:{...Ue.files[ye],versions:[ze,...Ue.files[ye].versions],currentVersionId:Re}}}))},onDeleteVersion:pe=>{ye&&l(fe=>{const Se=fe.files[ye];if(!Se||Se.versions.length<=1)return fe;const ke=Se.versions.filter(Ce=>Ce.id!==pe);let De=Se.currentVersionId;return Se.currentVersionId===pe&&(De=ke[0].id),{...fe,files:{...fe.files,[ye]:{...Se,versions:ke,currentVersionId:De}}}})},onAssignVersion:pe=>{ye&&(l(fe=>({...fe,files:{...fe.files,[ye]:{...fe.files[ye],currentVersionId:pe}}})),ne({msg:"Version Assigned to Slot ",type:"success"}))},onMoveVersionToPool:pe=>{if(!ye)return;const fe=x.files[ye],Se=fe.versions.find(ze=>ze.id===pe);if(!Se)return;const ke=Ee(),De=Ee(),Ce={...Se,id:De,timestamp:Date.now(),description:`Extracted from ${fe.name}`},Re={id:ke,name:`${fe.name}_v${new Date(Se.timestamp).getTime().toString().slice(-4)}`,originalName:fe.originalName,versions:[Ce],currentVersionId:De,isParked:!0};if(fe.versions.length<=1){ne({msg:"Cannot move the only version. Use 'Save Copy' instead.",type:"error"});return}l(ze=>{const Ue=ze.files[ye],He=Ue.versions.filter(Xe=>Xe.id!==pe);let Ge=Ue.currentVersionId;return Ue.currentVersionId===pe&&(Ge=He[0].id),{...ze,files:{...ze.files,[ke]:Re,[ye]:{...Ue,versions:He,currentVersionId:Ge}}}}),ne({msg:"Version moved to Unassigned Pool",type:"success"})}})})()}),A&&i.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),i.jsx("div",{className:"text-white font-medium",children:g})]})}),ue&&i.jsx(Sx,{count:ue.conflicts,onOverwrite:gt,onFillEmpty:zt,onCancel:()=>C(null)}),z&&i.jsx(wx,{duplicates:Je,files:x.files,onClose:()=>D(!1),onKeep:ce,onMakeUnique:oe}),p&&i.jsx(px,{onClose:()=>d(!1),onReset:st}),S&&i.jsx(mx,{onClose:()=>_(!1)}),E&&i.jsx(gx,{files:x.files,tapes:x.tapes,onClose:()=>b(!1),onExportSD:async me=>{b(!1),await R("SD Card Export",async ge=>{await Hp(x,me,ge)})},onExportFiles:async me=>{b(!1),await R("File Export",async ge=>{await Vp(x,me,ge)})},onExportProject:async me=>{b(!1),await R("Project Backup",async ge=>{await sr(x,!1,ge)})}}),i.jsx(yx,{isOpen:j,onClose:()=>v(!1),logs:B,isComplete:W,error:G}),K&&i.jsx(xx,{analysis:K,onClose:()=>Q(null),onRestoreProject:me=>{l(me),Q(null),ne({msg:"Project Restored Successfully",type:"success"})},onImportStructure:async me=>{ne({msg:"Importing Structure...",type:"neutral"}),Ms(async()=>{const{processSDStructure:ge}=await Promise.resolve().then(()=>fp);return{processSDStructure:ge}},void 0).then(({processSDStructure:ge})=>{l(pe=>{const fe=ge(me,pe.files,pe.tapes);return{...pe,files:fe.files,tapes:fe.tapes}}),Q(null),ne({msg:"SD Structure Imported",type:"success"})})},onImportFiles:me=>{Ms(async()=>{const{processAudioFiles:ge}=await Promise.resolve().then(()=>fp);return{processAudioFiles:ge}},void 0).then(({processAudioFiles:ge})=>{const pe=ge(me),fe=Object.keys(pe).length;fe>0&&(l(Se=>({...Se,files:{...Se.files,...pe}})),ne({msg:`Imported ${fe} files to Pool`,type:"success"})),Q(null)})}}),i.jsx(vx,{isOpen:k,onClose:()=>N(!1),onImport:Sn}),q&&i.jsx(ar,{isOpen:!0,onClose:()=>L(null),onConfirm:q.onConfirm,title:q.title,message:q.message,isDestructive:q.isDestructive,confirmLabel:q.confirmLabel,showCancel:q.showCancel}),X&&i.jsx(bx,{message:X.msg,type:X.type,onClose:()=>ne(null)})]})]})}var Ds={exports:{}};var qx=Ds.exports,vp;function Yx(){return vp||(vp=1,(function(x,l){(function(o,c){c(l)})(qx,function(o){var c="dnd-poly-",m=["none","copy","copyLink","copyMove","link","linkMove","move","all"],u=["none","copy","move","link"];function h(){var O=!1;try{var g=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",null,g)}catch{}return O}var f=h();function p(O){return O&&O.tagName}function d(O,g,I){document.addEventListener(O,g,!!f&&{passive:I})}function S(O,g){document.removeEventListener(O,g)}function _(O,g,I,q){q===void 0&&(q=!1);var L=f?{passive:!0,capture:q}:q;return O.addEventListener(g,I,L),{off:function(){O.removeEventListener(g,I,L)}}}function E(O){return O.length===0?0:O.reduce(function(g,I){return I+g},0)/O.length}function b(O,g){for(var I=0;I<O.changedTouches.length;I++)if(O.changedTouches[I].identifier===g)return!0;return!1}function j(O,g,I){for(var q=[],L=[],K=0;K<g.touches.length;K++){var Q=g.touches[K];q.push(Q[O+"X"]),L.push(Q[O+"Y"])}I.x=E(q),I.y=E(L)}var v=["","-webkit-"];function k(O,Q,I,q,L){var K=Q.x,Q=Q.y;q&&(K+=q.x,Q+=q.y),(L=L===void 0||L)&&(K-=parseInt(O.offsetWidth,10)/2,Q-=parseInt(O.offsetHeight,10)/2);for(var ue="translate3d("+K+"px,"+Q+"px, 0)",C=0;C<v.length;C++){var M=v[C]+"transform";O.style[M]=ue+" "+I[C]}}var N=(Object.defineProperty(z.prototype,"dropEffect",{get:function(){return this.t},set:function(O){this.i.mode!==0&&-1<m.indexOf(O)&&(this.t=O)},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(O){this.i.mode===2&&-1<m.indexOf(O)&&(this.i.effectAllowed=O)},enumerable:!1,configurable:!0}),z.prototype.setData=function(O,g){if(this.i.mode===2){if(-1<O.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[O]=g,this.i.types.indexOf(O)===-1&&this.i.types.push(O)}},z.prototype.getData=function(O){if(this.i.mode===1||this.i.mode===2)return this.i.data[O]||""},z.prototype.clearData=function(O){this.i.mode===2&&(O&&this.i.data[O]?(delete this.i.data[O],-1<(O=this.i.types.indexOf(O))&&this.i.types.splice(O,1)):(this.i.data={},this.i.types=[]))},z.prototype.setDragImage=function(O,g,I){this.i.mode===2&&this.h(O,g,I)},z);function z(O,g){this.i=O,this.h=g,this.t=u[0]}function D(O,g){return O?O===m[0]?u[0]:O.indexOf(m[1])===0||O===m[7]?u[1]:O.indexOf(m[4])===0?u[3]:O===m[6]?u[2]:u[1]:g.nodeType===3&&g.tagName==="A"?u[3]:u[1]}function B(O,g,I,q,L,K,Q){return Q===void 0&&(Q=null),L=(function(ue,C,M,ee,se,le,Oe){Q===void 0&&(Oe=null);var Le=I.changedTouches[0],ee=new Event(O,{bubbles:!0,cancelable:ee});return ee.dataTransfer=le,ee.relatedTarget=Oe,ee.screenX=Le.screenX,ee.screenY=Le.screenY,ee.clientX=Le.clientX,ee.clientY=Le.clientY,ee.pageX=Le.pageX,ee.pageY=Le.pageY,ue=ue.getBoundingClientRect(),ee.offsetX=ee.clientX-ue.left,ee.offsetY=ee.clientY-ue.top,ee})(g,0,0,K=K===void 0||K,document.defaultView,L,Q),L=!g.dispatchEvent(L),q.mode=0,L}function H(O,g){if(!O||O===m[7])return g;if(g===u[1]){if(O.indexOf(u[1])===0)return u[1]}else if(g===u[3]){if(O.indexOf(u[3])===0||-1<O.indexOf("Link"))return u[3]}else if(g===u[2]&&(O.indexOf(u[2])===0||-1<O.indexOf("Move")))return u[2];return u[0]}var W=(Y.prototype.o=function(){var O=this;this.u=1,this.l=u[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var g=this.m;if(this.I=new N(this.v,function(K,Q,ue){g=K,typeof Q!="number"&&typeof ue!="number"||(O.j={x:Q||0,y:ue||0})}),this.v.mode=2,this.I.dropEffect=u[0],B("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;j("page",this.k,this.g);var I,q,L=this.S.dragImageSetup(g);return this.A=(I=L,v.map(function(K){return K=I.style[K+"transform"],K&&K!=="none"?K.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),L.style.position="absolute",L.style.left="0px",L.style.top="0px",L.style.zIndex="999999",L.classList.add("dnd-poly-drag-image"),L.classList.add("dnd-poly-icon"),this.O=L,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(q=getComputedStyle(g),this.j={x:0-parseInt(q.marginLeft,10),y:0-parseInt(q.marginTop,10)}):(L=g.getBoundingClientRect(),q=getComputedStyle(g),this.j={x:L.left-this.M.clientX-parseInt(q.marginLeft,10)+L.width/2,y:L.top-this.M.clientY-parseInt(q.marginTop,10)+L.height/2})),k(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){O.F||(O.F=!0,O.N(),O.F=!1)},this.S.iterationInterval),!0},Y.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),S("touchmove",this.P),S("touchend",this.T),S("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},Y.prototype._=function(O){var g=this;if(b(O,this.M.identifier)!==!1){if(this.k=O,this.u===0){var I=void 0;if(this.S.dragStartConditionOverride)try{I=this.S.dragStartConditionOverride(O)}catch{I=!1}else I=O.touches.length===1;return I?void(this.o()===!0&&(this.H.preventDefault(),O.preventDefault())):void this.C()}if(O.preventDefault(),j("client",O,this.p),j("page",O,this.g),this.S.dragImageTranslateOverride)try{var q=!1;if(this.S.dragImageTranslateOverride(O,{x:this.p.x,y:this.p.y},this.V,function(L,K){g.O&&(q=!0,g.p.x+=L,g.p.y+=K,g.g.x+=L,g.g.y+=K,k(g.O,g.g,g.A,g.j,g.S.dragImageCenterOnTouch))}),q)return}catch{}k(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},Y.prototype.X=function(O){if(b(O,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(O.preventDefault(),this.u=O.type==="touchcancel"?3:2):this.C()}},Y.prototype.N=function(){var O=this,g=this.l;this.v.mode=3,this.I.dropEffect=u[0];var I,q,L,K,Q,ue=B("drag",this.m,this.k,this.v,this.I);if(ue&&(this.l=u[0]),ue||this.u===2||this.u===3)return this.Y(this.u)?(K=this.m,I=this.O,q=this.A,M=function(){O.q()},void((Q=getComputedStyle(K)).visibility!=="hidden"&&Q.display!=="none"?(I.classList.add("dnd-poly-snapback"),L=getComputedStyle(I),ue=parseFloat(L.transitionDuration),isNaN(ue)||ue===0?M():((K={x:(C=K.getBoundingClientRect()).left,y:C.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,K.y+=document.body.scrollTop||document.documentElement.scrollTop,K.x-=parseInt(Q.marginLeft,10),K.y-=parseInt(Q.marginTop,10),C=parseFloat(L.transitionDelay),C=Math.round(1e3*(ue+C)),k(I,K,q,void 0,!1),setTimeout(M,C))):M())):void this.q();var C=this.S.elementFromPoint(this.p.x,this.p.y),M=this.B;C!==this.V&&C!==this.B&&(this.V=C,this.B!==null&&(this.v.mode=3,this.I.dropEffect=u[0],B("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=D(this.v.effectAllowed,this.m),B("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=H(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),M!==this.B&&p(M)&&(this.v.mode=3,this.I.dropEffect=u[0],B("dragleave",M,this.k,this.v,this.I,!1,this.B)),p(this.B)&&(this.v.mode=3,this.I.dropEffect=D(this.v.effectAllowed,this.m),B("dragover",this.B,this.k,this.v,this.I)===!1?this.l=u[0]:this.l=H(this.I.effectAllowed,this.I.dropEffect)),g!==this.l&&this.O.classList.remove(c+g),g=c+this.l,this.O.classList.add(g)},Y.prototype.Y=function(O){return O=this.l===u[0]||this.B===null||O===3,O?p(this.B)&&(this.v.mode=3,this.I.dropEffect=u[0],B("dragleave",this.B,this.k,this.v,this.I,!1)):p(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,B("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=u[0]),O},Y.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,B("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},Y);function Y(O,g,I,q){this.H=O,this.S=g,this.m=I,this.L=q,this.u=0,this.V=null,this.B=null,this.k=O,this.M=O.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),d("touchmove",this.P,!1),d("touchend",this.T,!1),d("touchcancel",this.T,!1)}var G,U={iterationInterval:150,tryFindDraggableTarget:function(O){for(var g=0,I=O.composedPath();g<I.length;g++){var q=I[g];do if(q.draggable!==!1&&(q.draggable===!0||q.getAttribute&&q.getAttribute("draggable")==="true"))return q;while((q=q.parentNode)&&q!==document.body)}},dragImageSetup:function(O){var g=O.cloneNode(!0);return(function I(q,L){if(q.nodeType===1){for(var K,Q,ue=getComputedStyle(q),C=0;C<ue.length;C++){var M=ue[C];L.style.setProperty(M,ue.getPropertyValue(M),ue.getPropertyPriority(M))}L.style.pointerEvents="none",L.removeAttribute("id"),L.removeAttribute("class"),L.removeAttribute("draggable"),L.nodeName==="CANVAS"&&(K=L,Q=(Q=q).getContext("2d").getImageData(0,0,Q.width,Q.height),K.getContext("2d").putImageData(Q,0,0))}if(q.hasChildNodes())for(C=0;C<q.childNodes.length;C++)I(q.childNodes[C],L.childNodes[C]);(function de(se){if(se instanceof HTMLElement&&(se.style.pointerEvents="none"),se.children&&se.children.length)for(var le=0;le<se.children.length;le++)de(se.children[le]);if(se.shadowRoot&&se.shadowRoot.children.length)for(le=0;le<se.shadowRoot.children.length;le++)de(se.shadowRoot.children[le])})(L)})(O,g),g},elementFromPoint:function(O,g){var I=document.elementFromPoint(O,g);if(I){for(;I.shadowRoot;){var q=I.shadowRoot.elementFromPoint(O,g);if(q===null||q===I)break;I=q}return I}}};function X(O){if(!G){var g=U.tryFindDraggableTarget(O);if(g)try{G=new W(O,U,g,A)}catch(I){throw A(U,O,3),I}}}function ne(O){function g(C){L.off(),K.off(),Q.off(),ue.off(),I&&I.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(q)}var I=O.target;I&&I.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var q=window.setTimeout(function(){L.off(),K.off(),Q.off(),ue.off(),X(O)},U.holdToDrag),L=_(I,"touchend",g),K=_(I,"touchcancel",g),Q=_(I,"touchmove",g),ue=_(window,"scroll",g,!0)}function A(O,g,I){if(I===0&&O.defaultActionOverride)try{O.defaultActionOverride(g),g.defaultPrevented}catch{}G=null}o.polyfill=function(O){if(O&&Object.keys(O).forEach(function(I){U[I]=O[I]}),!U.forceApply&&(g=(g=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||g&&"ontouchstart"in document.documentElement)}),g.userAgentSupportingNativeDnD&&g.draggable&&g.dragEvents))return!1;var g;return U.holdToDrag?d("touchstart",ne,!1):d("touchstart",X,!1),!0},o.supportsPassiveEventListener=h,Object.defineProperty(o,"G",{value:!0})})})(Ds,Ds.exports)),Ds.exports}var Zx=Yx(),Os={exports:{}},Ix=Os.exports,bp;function Gx(){return bp||(bp=1,(function(x,l){(function(o,c){c(l)})(Ix,(function(o){function c(U){return U===document.body||U===document.documentElement}function m(U,X){var ne;if(c(U))ne=X===0?U.clientLeft:U.clientTop;else{var A=U.getBoundingClientRect();ne=X===0?A.left:A.top}return ne}function u(U,X){var ne;return c(U)?ne=X===0?window.innerWidth:window.innerHeight:ne=X===0?U.clientWidth:U.clientHeight,ne}function h(U,X,ne){var A=X===0?"scrollLeft":"scrollTop",O=c(U);if(arguments.length===2)return O?document.body[A]||document.documentElement[A]:U[A];O?(document.documentElement[A]+=ne,document.body[A]+=ne):U[A]+=ne}function f(U){var X=getComputedStyle(U);return U.scrollHeight>U.clientHeight&&(X.overflowY==="scroll"||X.overflowY==="auto")||U.scrollWidth>U.clientWidth&&(X.overflowX==="scroll"||X.overflowX==="auto")}function p(U){do{if(!U)return;if(f(U))return U;if(U===document.documentElement)return null}while(U=U.parentNode);return null}function d(U,X,ne){return U<ne?-1:X-U<ne?1:0}function S(U,X,ne,A){return U===-1?Math.abs(X-A):U===1?Math.abs(ne-X-A):0}function _(U,X,ne){var A=U===0?ne.scrollX:ne.scrollY;if(X===1){var O=U===0?ne.scrollWidth-ne.width:ne.scrollHeight-ne.height;return A>=O}else if(X===-1)return A<=0;return!0}var E={threshold:75,velocityFn:function(U,X){var ne=U/X,A=ne*ne*ne;return A*X}},b={horizontal:0,vertical:0},j={x:0,y:0},v,k,N,z,D;function B(U,X,ne,A){k=X,D=A,N!==ne&&(N=ne,z=p(N));var O=Y(k,z,E.threshold,b,j);O?H():v&&(window.cancelAnimationFrame(v),v=null)}function H(){v||(v=window.requestAnimationFrame(W))}function W(){var U=0,X=0,ne=c(z);b.horizontal!==0&&(U=Math.round(E.velocityFn(j.x,E.threshold)*b.horizontal),h(z,0,U)),b.vertical!==0&&(X=Math.round(E.velocityFn(j.y,E.threshold)*b.vertical),h(z,1,X)),ne?D(U,X):D(0,0),v=null,Y(k,z,E.threshold,b,j)&&H()}function Y(U,X,ne,A,O){if(!U||!X)return!1;var g={x:m(X,0),y:m(X,1),width:u(X,0),height:u(X,1),scrollX:h(X,0),scrollY:h(X,1),scrollWidth:X.scrollWidth,scrollHeight:X.scrollHeight},I={x:U.x-g.x,y:U.y-g.y};return A.horizontal=d(I.x,g.width,ne),A.vertical=d(I.y,g.height,ne),A.horizontal&&_(0,A.horizontal,g)?A.horizontal=0:A.horizontal&&(O.x=S(A.horizontal,I.x,g.width,ne)),A.vertical&&_(1,A.vertical,g)?A.vertical=0:A.vertical&&(O.y=S(A.vertical,I.y,g.height,ne)),!!(A.horizontal||A.vertical)}var G=B;o.scrollBehaviourDragImageTranslateOverride=G,Object.defineProperty(o,"__esModule",{value:!0})}))})(Os,Os.exports)),Os.exports}var Xx=Gx();Zx.polyfill({dragImageTranslateOverride:Xx.scrollBehaviourDragImageTranslateOverride,holdToDrag:300});window.addEventListener("touchmove",function(){},{passive:!1});dg.createRoot(document.getElementById("root")).render(i.jsx(be.StrictMode,{children:i.jsx(Ry,{children:i.jsx(Vx,{})})}));
