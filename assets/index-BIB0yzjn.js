(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))o(g);new MutationObserver(g=>{for(const c of g)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(g){const c={};return g.integrity&&(c.integrity=g.integrity),g.referrerPolicy&&(c.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?c.credentials="include":g.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(g){if(g.ep)return;g.ep=!0;const c=s(g);fetch(g.href,c)}})();var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function up(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var hu={exports:{}},zl={};var Ch;function Z0(){if(Ch)return zl;Ch=1;var _=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function s(o,g,c){var m=null;if(c!==void 0&&(m=""+c),g.key!==void 0&&(m=""+g.key),"key"in g){c={};for(var p in g)p!=="key"&&(c[p]=g[p])}else c=g;return g=c.ref,{$$typeof:_,type:o,key:m,ref:g!==void 0?g:null,props:c}}return zl.Fragment=l,zl.jsx=s,zl.jsxs=s,zl}var zh;function X0(){return zh||(zh=1,hu.exports=Z0()),hu.exports}var u=X0(),pu={exports:{}},Qe={};var kh;function G0(){if(kh)return Qe;kh=1;var _=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=k&&z[k]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function E(z,R,de){this.props=z,this.context=R,this.refs=j,this.updater=de||S}E.prototype.isReactComponent={},E.prototype.setState=function(z,R){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,R,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=E.prototype;function O(z,R,de){this.props=z,this.context=R,this.refs=j,this.updater=de||S}var U=O.prototype=new T;U.constructor=O,v(U,E.prototype),U.isPureReactComponent=!0;var V=Array.isArray;function I(){}var Y={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function q(z,R,de){var le=de.ref;return{$$typeof:_,type:z,key:R,ref:le!==void 0?le:null,props:de}}function F(z,R){return q(z.type,R,z.props)}function se(z){return typeof z=="object"&&z!==null&&z.$$typeof===_}function A(z){var R={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return R[de]})}var D=/\/+/g;function h(z,R){return typeof z=="object"&&z!==null&&z.key!=null?A(""+z.key):R.toString(36)}function X(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(I,I):(z.status="pending",z.then(function(R){z.status==="pending"&&(z.status="fulfilled",z.value=R)},function(R){z.status==="pending"&&(z.status="rejected",z.reason=R)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,R,de,le,ce){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var He=!1;if(z===null)He=!0;else switch(Re){case"bigint":case"string":case"number":He=!0;break;case"object":switch(z.$$typeof){case _:case l:He=!0;break;case w:return He=z._init,B(He(z._payload),R,de,le,ce)}}if(He)return ce=ce(z),He=le===""?"."+h(z,0):le,V(ce)?(de="",He!=null&&(de=He.replace(D,"$&/")+"/"),B(ce,R,de,"",function(qe){return qe})):ce!=null&&(se(ce)&&(ce=F(ce,de+(ce.key==null||z&&z.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+He)),R.push(ce)),1;He=0;var J=le===""?".":le+":";if(V(z))for(var _e=0;_e<z.length;_e++)le=z[_e],Re=J+h(le,_e),He+=B(le,R,de,Re,ce);else if(_e=b(z),typeof _e=="function")for(z=_e.call(z),_e=0;!(le=z.next()).done;)le=le.value,Re=J+h(le,_e++),He+=B(le,R,de,Re,ce);else if(Re==="object"){if(typeof z.then=="function")return B(X(z),R,de,le,ce);throw R=String(z),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return He}function L(z,R,de){if(z==null)return z;var le=[],ce=0;return B(z,le,"","",function(Re){return R.call(de,Re,ce++)}),le}function re(z){if(z._status===-1){var R=z._result;R=R(),R.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=R)}if(z._status===1)return z._result.default;throw z._result}var Q=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ve={map:L,forEach:function(z,R,de){L(z,function(){R.apply(this,arguments)},de)},count:function(z){var R=0;return L(z,function(){R++}),R},toArray:function(z){return L(z,function(R){return R})||[]},only:function(z){if(!se(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Qe.Activity=C,Qe.Children=ve,Qe.Component=E,Qe.Fragment=s,Qe.Profiler=g,Qe.PureComponent=O,Qe.StrictMode=o,Qe.Suspense=d,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Y.H.useMemoCache(z)}},Qe.cache=function(z){return function(){return z.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(z,R,de){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=v({},z.props),ce=z.key;if(R!=null)for(Re in R.key!==void 0&&(ce=""+R.key),R)!te.call(R,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&R.ref===void 0||(le[Re]=R[Re]);var Re=arguments.length-2;if(Re===1)le.children=de;else if(1<Re){for(var He=Array(Re),J=0;J<Re;J++)He[J]=arguments[J+2];le.children=He}return q(z.type,ce,le)},Qe.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},Qe.createElement=function(z,R,de){var le,ce={},Re=null;if(R!=null)for(le in R.key!==void 0&&(Re=""+R.key),R)te.call(R,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=R[le]);var He=arguments.length-2;if(He===1)ce.children=de;else if(1<He){for(var J=Array(He),_e=0;_e<He;_e++)J[_e]=arguments[_e+2];ce.children=J}if(z&&z.defaultProps)for(le in He=z.defaultProps,He)ce[le]===void 0&&(ce[le]=He[le]);return q(z,Re,ce)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(z){return{$$typeof:p,render:z}},Qe.isValidElement=se,Qe.lazy=function(z){return{$$typeof:w,_payload:{_status:-1,_result:z},_init:re}},Qe.memo=function(z,R){return{$$typeof:f,type:z,compare:R===void 0?null:R}},Qe.startTransition=function(z){var R=Y.T,de={};Y.T=de;try{var le=z(),ce=Y.S;ce!==null&&ce(de,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(I,Q)}catch(Re){Q(Re)}finally{R!==null&&de.types!==null&&(R.types=de.types),Y.T=R}},Qe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Qe.use=function(z){return Y.H.use(z)},Qe.useActionState=function(z,R,de){return Y.H.useActionState(z,R,de)},Qe.useCallback=function(z,R){return Y.H.useCallback(z,R)},Qe.useContext=function(z){return Y.H.useContext(z)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(z,R){return Y.H.useDeferredValue(z,R)},Qe.useEffect=function(z,R){return Y.H.useEffect(z,R)},Qe.useEffectEvent=function(z){return Y.H.useEffectEvent(z)},Qe.useId=function(){return Y.H.useId()},Qe.useImperativeHandle=function(z,R,de){return Y.H.useImperativeHandle(z,R,de)},Qe.useInsertionEffect=function(z,R){return Y.H.useInsertionEffect(z,R)},Qe.useLayoutEffect=function(z,R){return Y.H.useLayoutEffect(z,R)},Qe.useMemo=function(z,R){return Y.H.useMemo(z,R)},Qe.useOptimistic=function(z,R){return Y.H.useOptimistic(z,R)},Qe.useReducer=function(z,R,de){return Y.H.useReducer(z,R,de)},Qe.useRef=function(z){return Y.H.useRef(z)},Qe.useState=function(z){return Y.H.useState(z)},Qe.useSyncExternalStore=function(z,R,de){return Y.H.useSyncExternalStore(z,R,de)},Qe.useTransition=function(){return Y.H.useTransition()},Qe.version="19.2.4",Qe}var Th;function Du(){return Th||(Th=1,pu.exports=G0()),pu.exports}var Ee=Du();const Nh=up(Ee);var mu={exports:{}},kl={},gu={exports:{}},yu={};var Ah;function I0(){return Ah||(Ah=1,(function(_){function l(B,L){var re=B.length;B.push(L);e:for(;0<re;){var Q=re-1>>>1,ve=B[Q];if(0<g(ve,L))B[Q]=L,B[re]=ve,re=Q;else break e}}function s(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var L=B[0],re=B.pop();if(re!==L){B[0]=re;e:for(var Q=0,ve=B.length,z=ve>>>1;Q<z;){var R=2*(Q+1)-1,de=B[R],le=R+1,ce=B[le];if(0>g(de,re))le<ve&&0>g(ce,de)?(B[Q]=ce,B[le]=re,Q=le):(B[Q]=de,B[R]=re,Q=R);else if(le<ve&&0>g(ce,re))B[Q]=ce,B[le]=re,Q=le;else break e}}return L}function g(B,L){var re=B.sortIndex-L.sortIndex;return re!==0?re:B.id-L.id}if(_.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;_.unstable_now=function(){return c.now()}}else{var m=Date,p=m.now();_.unstable_now=function(){return m.now()-p}}var d=[],f=[],w=1,C=null,k=3,b=!1,S=!1,v=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function U(B){for(var L=s(f);L!==null;){if(L.callback===null)o(f);else if(L.startTime<=B)o(f),L.sortIndex=L.expirationTime,l(d,L);else break;L=s(f)}}function V(B){if(v=!1,U(B),!S)if(s(d)!==null)S=!0,I||(I=!0,A());else{var L=s(f);L!==null&&X(V,L.startTime-B)}}var I=!1,Y=-1,te=5,q=-1;function F(){return j?!0:!(_.unstable_now()-q<te)}function se(){if(j=!1,I){var B=_.unstable_now();q=B;var L=!0;try{e:{S=!1,v&&(v=!1,T(Y),Y=-1),b=!0;var re=k;try{t:{for(U(B),C=s(d);C!==null&&!(C.expirationTime>B&&F());){var Q=C.callback;if(typeof Q=="function"){C.callback=null,k=C.priorityLevel;var ve=Q(C.expirationTime<=B);if(B=_.unstable_now(),typeof ve=="function"){C.callback=ve,U(B),L=!0;break t}C===s(d)&&o(d),U(B)}else o(d);C=s(d)}if(C!==null)L=!0;else{var z=s(f);z!==null&&X(V,z.startTime-B),L=!1}}break e}finally{C=null,k=re,b=!1}L=void 0}}finally{L?A():I=!1}}}var A;if(typeof O=="function")A=function(){O(se)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,h=D.port2;D.port1.onmessage=se,A=function(){h.postMessage(null)}}else A=function(){E(se,0)};function X(B,L){Y=E(function(){B(_.unstable_now())},L)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(B){B.callback=null},_.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<B?Math.floor(1e3/B):5},_.unstable_getCurrentPriorityLevel=function(){return k},_.unstable_next=function(B){switch(k){case 1:case 2:case 3:var L=3;break;default:L=k}var re=k;k=L;try{return B()}finally{k=re}},_.unstable_requestPaint=function(){j=!0},_.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=k;k=B;try{return L()}finally{k=re}},_.unstable_scheduleCallback=function(B,L,re){var Q=_.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Q+re:Q):re=Q,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=re+ve,B={id:w++,callback:L,priorityLevel:B,startTime:re,expirationTime:ve,sortIndex:-1},re>Q?(B.sortIndex=re,l(f,B),s(d)===null&&B===s(f)&&(v?(T(Y),Y=-1):v=!0,X(V,re-Q))):(B.sortIndex=ve,l(d,B),S||b||(S=!0,I||(I=!0,A()))),B},_.unstable_shouldYield=F,_.unstable_wrapCallback=function(B){var L=k;return function(){var re=k;k=L;try{return B.apply(this,arguments)}finally{k=re}}}})(yu)),yu}var Dh;function F0(){return Dh||(Dh=1,gu.exports=I0()),gu.exports}var vu={exports:{}},en={};var Oh;function K0(){if(Oh)return en;Oh=1;var _=Du();function l(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)f+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(l(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},g=Symbol.for("react.portal");function c(d,f,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:C==null?null:""+C,children:d,containerInfo:f,implementation:w}}var m=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,en.createPortal=function(d,f){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(l(299));return c(d,f,null,w)},en.flushSync=function(d){var f=m.T,w=o.p;try{if(m.T=null,o.p=2,d)return d()}finally{m.T=f,o.p=w,o.d.f()}},en.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(d,f))},en.prefetchDNS=function(d){typeof d=="string"&&o.d.D(d)},en.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var w=f.as,C=p(w,f.crossOrigin),k=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;w==="style"?o.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:b}):w==="script"&&o.d.X(d,{crossOrigin:C,integrity:k,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},en.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var w=p(f.as,f.crossOrigin);o.d.M(d,{crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(d)},en.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var w=f.as,C=p(w,f.crossOrigin);o.d.L(d,w,{crossOrigin:C,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},en.preloadModule=function(d,f){if(typeof d=="string")if(f){var w=p(f.as,f.crossOrigin);o.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(d)},en.requestFormReset=function(d){o.d.r(d)},en.unstable_batchedUpdates=function(d,f){return d(f)},en.useFormState=function(d,f,w){return m.H.useFormState(d,f,w)},en.useFormStatus=function(){return m.H.useHostTransitionStatus()},en.version="19.2.4",en}var Mh;function Q0(){if(Mh)return vu.exports;Mh=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(l){console.error(l)}}return _(),vu.exports=K0(),vu.exports}var Rh;function W0(){if(Rh)return kl;Rh=1;var _=F0(),l=Du(),s=Q0();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(o(188))}function f(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return d(i),e;if(r===a)return d(i),t;r=r.sibling}throw Error(o(188))}if(n.return!==a.return)n=i,a=r;else{for(var y=!1,N=i.child;N;){if(N===n){y=!0,n=i,a=r;break}if(N===a){y=!0,a=i,n=r;break}N=N.sibling}if(!y){for(N=r.child;N;){if(N===n){y=!0,n=r,a=i;break}if(N===a){y=!0,a=r,n=i;break}N=N.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,k=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case V:return"Suspense";case I:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case O:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case U:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:h(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return h(e(t))}catch{}}return null}var X=Array.isArray,B=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Q=[],ve=-1;function z(e){return{current:e}}function R(e){0>ve||(e.current=Q[ve],Q[ve]=null,ve--)}function de(e,t){ve++,Q[ve]=e.current,e.current=t}var le=z(null),ce=z(null),Re=z(null),He=z(null);function J(e,t){switch(de(Re,t),de(ce,e),de(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(le),de(le,e)}function _e(){R(le),R(ce),R(Re)}function qe(e){e.memoizedState!==null&&de(He,e);var t=le.current,n=Wf(t,e.type);t!==n&&(de(ce,e),de(le,n))}function Ge(e){ce.current===e&&(R(le),R(ce)),He.current===e&&(R(He),_l._currentValue=re)}var tt,Je;function x(e){if(tt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tt=t&&t[1]||"",Je=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+e+Je}var P=!1;function ee(e,t){if(!e||P)return"";P=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ue){var ie=ue}Reflect.construct(e,[],we)}else{try{we.call()}catch(ue){ie=ue}e.call(we.prototype)}}else{try{throw Error()}catch(ue){ie=ue}(we=e())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ue){if(ue&&ie&&typeof ue.stack=="string")return[ue.stack,ie.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),y=r[0],N=r[1];if(y&&N){var Z=y.split(`
`),ae=N.split(`
`);for(i=a=0;a<Z.length&&!Z[a].includes("DetermineComponentFrameRoot");)a++;for(;i<ae.length&&!ae[i].includes("DetermineComponentFrameRoot");)i++;if(a===Z.length||i===ae.length)for(a=Z.length-1,i=ae.length-1;1<=a&&0<=i&&Z[a]!==ae[i];)i--;for(;1<=a&&0<=i;a--,i--)if(Z[a]!==ae[i]){if(a!==1||i!==1)do if(a--,i--,0>i||Z[a]!==ae[i]){var ge=`
`+Z[a].replace(" at new "," at ");return e.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",e.displayName)),ge}while(1<=a&&0<=i);break}}}finally{P=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?x(n):""}function H(e,t){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return e.child!==t&&t!==null?x("Suspense Fallback"):x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return x("Activity");default:return""}}function M(e){try{var t="",n=null;do t+=H(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var K=Object.prototype.hasOwnProperty,ye=_.unstable_scheduleCallback,je=_.unstable_cancelCallback,$=_.unstable_shouldYield,Te=_.unstable_requestPaint,Ne=_.unstable_now,Ae=_.unstable_getCurrentPriorityLevel,Ve=_.unstable_ImmediatePriority,ut=_.unstable_UserBlockingPriority,Ke=_.unstable_NormalPriority,Yt=_.unstable_LowPriority,an=_.unstable_IdlePriority,Et=_.log,dn=_.unstable_setDisableYieldValue,ct=null,jt=null;function Ft(e){if(typeof Et=="function"&&dn(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ct,e)}catch{}}var pt=Math.clz32?Math.clz32:On,Nt=Math.log,Dn=Math.LN2;function On(e){return e>>>=0,e===0?32:31-(Nt(e)/Dn|0)|0}var fe=256,xe=262144,he=4194304;function pe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function me(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var N=a&134217727;return N!==0?(a=N&~r,a!==0?i=pe(a):(y&=N,y!==0?i=pe(y):n||(n=N&~e,n!==0&&(i=pe(n))))):(N=a&~r,N!==0?i=pe(N):y!==0?i=pe(y):n||(n=a&~e,n!==0&&(i=pe(n)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function Se(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var e=he;return he<<=1,(he&62914560)===0&&(he=4194304),e}function Me(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ze(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n,a,i,r){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var N=e.entanglements,Z=e.expirationTimes,ae=e.hiddenUpdates;for(n=y&~n;0<n;){var ge=31-pt(n),we=1<<ge;N[ge]=0,Z[ge]=-1;var ie=ae[ge];if(ie!==null)for(ae[ge]=null,ge=0;ge<ie.length;ge++){var ue=ie[ge];ue!==null&&(ue.lane&=-536870913)}n&=~we}a!==0&&Be(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(y&~t))}function Be(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-pt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function We(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-pt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function st(e,t){var n=t&-t;return n=(n&42)!==0?1:Bt(n),(n&(e.suspendedLanes|t))!==0?0:n}function Bt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ct(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:bh(e.type))}function yt(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Pt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Pt,Kt="__reactProps$"+Pt,oe="__reactContainer$"+Pt,ke="__reactEvents$"+Pt,Ye="__reactListeners$"+Pt,Le="__reactHandles$"+Pt,et="__reactResources$"+Pt,Ie="__reactMarker$"+Pt;function St(e){delete e[Ut],delete e[Kt],delete e[ke],delete e[Ye],delete e[Le]}function fn(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oe]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ah(e);e!==null;){if(n=e[Ut])return n;e=ah(e)}return t}e=n,n=e.parentNode}return null}function wn(e){if(e=e[Ut]||e[oe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Zn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Un(e){var t=e[et];return t||(t=e[et]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Gt(e){e[Ie]=!0}var Bu=new Set,Uu={};function Ma(e,t){ti(e,t),ti(e+"Capture",t)}function ti(e,t){for(Uu[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var Mp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},Hu={};function Rp(e){return K.call(Hu,e)?!0:K.call(Lu,e)?!1:Mp.test(e)?Hu[e]=!0:(Lu[e]=!0,!1)}function Rl(e,t,n){if(Rp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Bl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Xn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bp(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(y){n=""+y,r.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){if(!e._valueTracker){var t=qu(e)?"checked":"value";e._valueTracker=Bp(e,t,""+e[t])}}function Vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=qu(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Up=/[\n"\\]/g;function _n(e){return e.replace(Up,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function rs(e,t,n,a,i,r,y,N){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?ss(e,y,Sn(t)):n!=null?ss(e,y,Sn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Sn(N):e.removeAttribute("name")}function Yu(e,t,n,a,i,r,y,N){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){ls(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,N||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=N?e.checked:!!a,e.defaultChecked=!!a,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),ls(e)}function ss(e,t,n){t==="number"&&Ul(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ni(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zu(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Xu(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(o(92));if(X(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),ls(e)}function ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Lp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Iu(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Gu(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&Gu(e,r,t[r])}function os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return qp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var us=null;function cs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ii=null,li=null;function Fu(e){var t=wn(e);if(t&&(e=t.stateNode)){var n=e[Kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(rs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Kt]||null;if(!i)throw Error(o(90));rs(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Vu(a)}break e;case"textarea":Zu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}}}var ds=!1;function Ku(e,t,n){if(ds)return e(t,n);ds=!0;try{var a=e(t);return a}finally{if(ds=!1,(ii!==null||li!==null)&&(jr(),ii&&(t=ii,e=li,li=ii=null,Fu(t),e)))for(t=0;t<e.length;t++)Fu(e[t])}}function qi(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Kt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(In)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{fs=!1}var ua=null,hs=null,Hl=null;function Qu(){if(Hl)return Hl;var e,t=hs,n=t.length,a,i="value"in ua?ua.value:ua.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var y=n-e;for(a=1;a<=y&&t[n-a]===i[r-a];a++);return Hl=i.slice(e,1<a?1-a:void 0)}function ql(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function Wu(){return!1}function ln(e){function t(n,a,i,r,y){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=y,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(n=e[N],this[N]=n?n(r):r[N]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Vl:Wu,this.isPropagationStopped=Wu,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=ln(Ra),Yi=C({},Ra,{view:0,detail:0}),Vp=ln(Yi),ps,ms,Zi,Zl=C({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?(ps=e.screenX-Zi.screenX,ms=e.screenY-Zi.screenY):ms=ps=0,Zi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),$u=ln(Zl),Yp=C({},Zl,{dataTransfer:0}),Zp=ln(Yp),Xp=C({},Yi,{relatedTarget:0}),gs=ln(Xp),Gp=C({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Ip=ln(Gp),Fp=C({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=ln(Fp),Qp=C({},Ra,{data:0}),Ju=ln(Qp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jp[e])?!!t[e]:!1}function ys(){return Pp}var em=C({},Yi,{key:function(e){if(e.key){var t=Wp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$p[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tm=ln(em),nm=C({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=ln(nm),am=C({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),im=ln(am),lm=C({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),rm=ln(lm),sm=C({},Zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),om=ln(sm),um=C({},Ra,{newState:0,oldState:0}),cm=ln(um),dm=[9,13,27,32],vs=In&&"CompositionEvent"in window,Xi=null;In&&"documentMode"in document&&(Xi=document.documentMode);var fm=In&&"TextEvent"in window&&!Xi,ec=In&&(!vs||Xi&&8<Xi&&11>=Xi),tc=" ",nc=!1;function ac(e,t){switch(e){case"keyup":return dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ri=!1;function hm(e,t){switch(e){case"compositionend":return ic(t);case"keypress":return t.which!==32?null:(nc=!0,tc);case"textInput":return e=t.data,e===tc&&nc?null:e;default:return null}}function pm(e,t){if(ri)return e==="compositionend"||!vs&&ac(e,t)?(e=Qu(),Hl=hs=ua=null,ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ec&&t.locale!=="ko"?null:t.data;default:return null}}var mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mm[e.type]:t==="textarea"}function rc(e,t,n,a){ii?li?li.push(a):li=[a]:ii=a,t=Dr(t,"onChange"),0<t.length&&(n=new Yl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Gi=null,Ii=null;function gm(e){Zf(e,0)}function Xl(e){var t=Zn(e);if(Vu(t))return e}function sc(e,t){if(e==="change")return t}var oc=!1;if(In){var bs;if(In){var xs="oninput"in document;if(!xs){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),xs=typeof uc.oninput=="function"}bs=xs}else bs=!1;oc=bs&&(!document.documentMode||9<document.documentMode)}function cc(){Gi&&(Gi.detachEvent("onpropertychange",dc),Ii=Gi=null)}function dc(e){if(e.propertyName==="value"&&Xl(Ii)){var t=[];rc(t,Ii,e,cs(e)),Ku(gm,t)}}function ym(e,t,n){e==="focusin"?(cc(),Gi=t,Ii=n,Gi.attachEvent("onpropertychange",dc)):e==="focusout"&&cc()}function vm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xl(Ii)}function bm(e,t){if(e==="click")return Xl(t)}function xm(e,t){if(e==="input"||e==="change")return Xl(t)}function wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:wm;function Fi(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!K.call(t,i)||!hn(e[i],t[i]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var n=fc(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fc(n)}}function pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ul(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ul(e.document)}return t}function ws(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sm=In&&"documentMode"in document&&11>=document.documentMode,si=null,Ss=null,Ki=null,_s=!1;function gc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_s||si==null||si!==Ul(a)||(a=si,"selectionStart"in a&&ws(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ki&&Fi(Ki,a)||(Ki=a,a=Dr(Ss,"onSelect"),0<a.length&&(t=new Yl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=si)))}function Ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var oi={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},Es={},yc={};In&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function Ua(e){if(Es[e])return Es[e];if(!oi[e])return e;var t=oi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yc)return Es[e]=t[n];return e}var vc=Ua("animationend"),bc=Ua("animationiteration"),xc=Ua("animationstart"),_m=Ua("transitionrun"),Em=Ua("transitionstart"),jm=Ua("transitioncancel"),wc=Ua("transitionend"),Sc=new Map,js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");js.push("scrollEnd");function Mn(e,t){Sc.set(e,t),Ma(t,[e])}var Gl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},En=[],ui=0,Cs=0;function Il(){for(var e=ui,t=Cs=ui=0;t<e;){var n=En[t];En[t++]=null;var a=En[t];En[t++]=null;var i=En[t];En[t++]=null;var r=En[t];if(En[t++]=null,a!==null&&i!==null){var y=a.pending;y===null?i.next=i:(i.next=y.next,y.next=i),a.pending=i}r!==0&&_c(n,i,r)}}function Fl(e,t,n,a){En[ui++]=e,En[ui++]=t,En[ui++]=n,En[ui++]=a,Cs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function zs(e,t,n,a){return Fl(e,t,n,a),Kl(e)}function La(e,t){return Fl(e,null,null,t),Kl(e)}function _c(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-pt(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Kl(e){if(50<gl)throw gl=0,Uo=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ci={};function Cm(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,n,a){return new Cm(e,t,n,a)}function ks(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fn(e,t){var n=e.alternate;return n===null?(n=pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ec(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ql(e,t,n,a,i,r){var y=0;if(a=e,typeof e=="function")ks(e)&&(y=1);else if(typeof e=="string")y=A0(e,n,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case q:return e=pn(31,n,t,i),e.elementType=q,e.lanes=r,e;case v:return Ha(n.children,i,r,t);case j:y=8,i|=24;break;case E:return e=pn(12,n,t,i|2),e.elementType=E,e.lanes=r,e;case V:return e=pn(13,n,t,i),e.elementType=V,e.lanes=r,e;case I:return e=pn(19,n,t,i),e.elementType=I,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:y=10;break e;case T:y=9;break e;case U:y=11;break e;case Y:y=14;break e;case te:y=16,a=null;break e}y=29,n=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=pn(y,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function Ha(e,t,n,a){return e=pn(7,e,a,t),e.lanes=n,e}function Ts(e,t,n){return e=pn(6,e,null,t),e.lanes=n,e}function jc(e){var t=pn(18,null,null,0);return t.stateNode=e,t}function Ns(e,t,n){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Cc=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=Cc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:M(t)},Cc.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var di=[],fi=0,Wl=null,Qi=0,Cn=[],zn=0,ca=null,Ln=1,Hn="";function Kn(e,t){di[fi++]=Qi,di[fi++]=Wl,Wl=e,Qi=t}function zc(e,t,n){Cn[zn++]=Ln,Cn[zn++]=Hn,Cn[zn++]=ca,ca=e;var a=Ln;e=Hn;var i=32-pt(a)-1;a&=~(1<<i),n+=1;var r=32-pt(t)+i;if(30<r){var y=i-i%5;r=(a&(1<<y)-1).toString(32),a>>=y,i-=y,Ln=1<<32-pt(t)+i|n<<i|a,Hn=r+e}else Ln=1<<r|n<<i|a,Hn=e}function As(e){e.return!==null&&(Kn(e,1),zc(e,1,0))}function Ds(e){for(;e===Wl;)Wl=di[--fi],di[fi]=null,Qi=di[--fi],di[fi]=null;for(;e===ca;)ca=Cn[--zn],Cn[zn]=null,Hn=Cn[--zn],Cn[zn]=null,Ln=Cn[--zn],Cn[zn]=null}function kc(e,t){Cn[zn++]=Ln,Cn[zn++]=Hn,Cn[zn++]=ca,Ln=t.id,Hn=t.overflow,ca=e}var Qt=null,zt=null,ot=!1,da=null,kn=!1,Os=Error(o(519));function fa(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wi(jn(t,e)),Os}function Tc(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ut]=e,t[Kt]=a,n){case"dialog":at("cancel",t),at("close",t);break;case"iframe":case"object":case"embed":at("load",t);break;case"video":case"audio":for(n=0;n<vl.length;n++)at(vl[n],t);break;case"source":at("error",t);break;case"img":case"image":case"link":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"input":at("invalid",t),Yu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":at("invalid",t);break;case"textarea":at("invalid",t),Xu(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Ff(t.textContent,n)?(a.popover!=null&&(at("beforetoggle",t),at("toggle",t)),a.onScroll!=null&&at("scroll",t),a.onScrollEnd!=null&&at("scrollend",t),a.onClick!=null&&(t.onclick=Gn),t=!0):t=!1,t||fa(e,!0)}function Nc(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Qt=Qt.return}}function hi(e){if(e!==Qt)return!1;if(!ot)return Nc(e),ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Jo(e.type,e.memoizedProps)),n=!n),n&&zt&&fa(e),Nc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));zt=nh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));zt=nh(e)}else t===27?(t=zt,Ca(e.type)?(e=au,au=null,zt=e):zt=t):zt=Qt?Nn(e.stateNode.nextSibling):null;return!0}function qa(){zt=Qt=null,ot=!1}function Ms(){var e=da;return e!==null&&(un===null?un=e:un.push.apply(un,e),da=null),e}function Wi(e){da===null?da=[e]:da.push(e)}var Rs=z(null),Va=null,Qn=null;function ha(e,t,n){de(Rs,t._currentValue),t._currentValue=n}function Wn(e){e._currentValue=Rs.current,R(Rs)}function Bs(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Us(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var y=i.child;r=r.firstContext;e:for(;r!==null;){var N=r;r=i;for(var Z=0;Z<t.length;Z++)if(N.context===t[Z]){r.lanes|=n,N=r.alternate,N!==null&&(N.lanes|=n),Bs(r.return,n,e),a||(y=null);break e}r=N.next}}else if(i.tag===18){if(y=i.return,y===null)throw Error(o(341));y.lanes|=n,r=y.alternate,r!==null&&(r.lanes|=n),Bs(y,n,e),y=null}else y=i.child;if(y!==null)y.return=i;else for(y=i;y!==null;){if(y===e){y=null;break}if(i=y.sibling,i!==null){i.return=y.return,y=i;break}y=y.return}i=y}}function pi(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var y=i.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var N=i.type;hn(i.pendingProps.value,y.value)||(e!==null?e.push(N):e=[N])}}else if(i===He.current){if(y=i.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}i=i.return}e!==null&&Us(t,e,n,a),t.flags|=262144}function $l(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){Va=e,Qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Wt(e){return Ac(Va,e)}function Jl(e,t){return Va===null&&Ya(e),Ac(e,t)}function Ac(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qn===null){if(e===null)throw Error(o(308));Qn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qn=Qn.next=t;return n}var zm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},km=_.unstable_scheduleCallback,Tm=_.unstable_NormalPriority,Lt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ls(){return{controller:new zm,data:new Map,refCount:0}}function $i(e){e.refCount--,e.refCount===0&&km(Tm,function(){e.controller.abort()})}var Ji=null,Hs=0,mi=0,gi=null;function Nm(e,t){if(Ji===null){var n=Ji=[];Hs=0,mi=Zo(),gi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Hs++,t.then(Dc,Dc),t}function Dc(){if(--Hs===0&&Ji!==null){gi!==null&&(gi.status="fulfilled");var e=Ji;Ji=null,mi=0,gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Am(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Oc=B.S;B.S=function(e,t){yf=Ne(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Nm(e,t),Oc!==null&&Oc(e,t)};var Za=z(null);function qs(){var e=Za.current;return e!==null?e:_t.pooledCache}function Pl(e,t){t===null?de(Za,Za.current):de(Za,t.pool)}function Mc(){var e=qs();return e===null?null:{parent:Lt._currentValue,pool:e}}var yi=Error(o(460)),Vs=Error(o(474)),er=Error(o(542)),tr={then:function(){}};function Rc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bc(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Gn,Gn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lc(e),e;default:if(typeof t.status=="string")t.then(Gn,Gn);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lc(e),e}throw Ga=t,yi}}function Xa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ga=n,yi):n}}var Ga=null;function Uc(){if(Ga===null)throw Error(o(459));var e=Ga;return Ga=null,e}function Lc(e){if(e===yi||e===er)throw Error(o(483))}var vi=null,Pi=0;function nr(e){var t=Pi;return Pi+=1,vi===null&&(vi=[]),Bc(vi,e,t)}function el(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ar(e,t){throw t.$$typeof===k?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hc(e){function t(W,G){if(e){var ne=W.deletions;ne===null?(W.deletions=[G],W.flags|=16):ne.push(G)}}function n(W,G){if(!e)return null;for(;G!==null;)t(W,G),G=G.sibling;return null}function a(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function i(W,G){return W=Fn(W,G),W.index=0,W.sibling=null,W}function r(W,G,ne){return W.index=ne,e?(ne=W.alternate,ne!==null?(ne=ne.index,ne<G?(W.flags|=67108866,G):ne):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function y(W){return e&&W.alternate===null&&(W.flags|=67108866),W}function N(W,G,ne,be){return G===null||G.tag!==6?(G=Ts(ne,W.mode,be),G.return=W,G):(G=i(G,ne),G.return=W,G)}function Z(W,G,ne,be){var Xe=ne.type;return Xe===v?ge(W,G,ne.props.children,be,ne.key):G!==null&&(G.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===te&&Xa(Xe)===G.type)?(G=i(G,ne.props),el(G,ne),G.return=W,G):(G=Ql(ne.type,ne.key,ne.props,null,W.mode,be),el(G,ne),G.return=W,G)}function ae(W,G,ne,be){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=Ns(ne,W.mode,be),G.return=W,G):(G=i(G,ne.children||[]),G.return=W,G)}function ge(W,G,ne,be,Xe){return G===null||G.tag!==7?(G=Ha(ne,W.mode,be,Xe),G.return=W,G):(G=i(G,ne),G.return=W,G)}function we(W,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ts(""+G,W.mode,ne),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return ne=Ql(G.type,G.key,G.props,null,W.mode,ne),el(ne,G),ne.return=W,ne;case S:return G=Ns(G,W.mode,ne),G.return=W,G;case te:return G=Xa(G),we(W,G,ne)}if(X(G)||A(G))return G=Ha(G,W.mode,ne,null),G.return=W,G;if(typeof G.then=="function")return we(W,nr(G),ne);if(G.$$typeof===O)return we(W,Jl(W,G),ne);ar(W,G)}return null}function ie(W,G,ne,be){var Xe=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Xe!==null?null:N(W,G,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return ne.key===Xe?Z(W,G,ne,be):null;case S:return ne.key===Xe?ae(W,G,ne,be):null;case te:return ne=Xa(ne),ie(W,G,ne,be)}if(X(ne)||A(ne))return Xe!==null?null:ge(W,G,ne,be,null);if(typeof ne.then=="function")return ie(W,G,nr(ne),be);if(ne.$$typeof===O)return ie(W,G,Jl(W,ne),be);ar(W,ne)}return null}function ue(W,G,ne,be,Xe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return W=W.get(ne)||null,N(G,W,""+be,Xe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return W=W.get(be.key===null?ne:be.key)||null,Z(G,W,be,Xe);case S:return W=W.get(be.key===null?ne:be.key)||null,ae(G,W,be,Xe);case te:return be=Xa(be),ue(W,G,ne,be,Xe)}if(X(be)||A(be))return W=W.get(ne)||null,ge(G,W,be,Xe,null);if(typeof be.then=="function")return ue(W,G,ne,nr(be),Xe);if(be.$$typeof===O)return ue(W,G,ne,Jl(G,be),Xe);ar(G,be)}return null}function Ue(W,G,ne,be){for(var Xe=null,dt=null,Ze=G,Pe=G=0,lt=null;Ze!==null&&Pe<ne.length;Pe++){Ze.index>Pe?(lt=Ze,Ze=null):lt=Ze.sibling;var ft=ie(W,Ze,ne[Pe],be);if(ft===null){Ze===null&&(Ze=lt);break}e&&Ze&&ft.alternate===null&&t(W,Ze),G=r(ft,G,Pe),dt===null?Xe=ft:dt.sibling=ft,dt=ft,Ze=lt}if(Pe===ne.length)return n(W,Ze),ot&&Kn(W,Pe),Xe;if(Ze===null){for(;Pe<ne.length;Pe++)Ze=we(W,ne[Pe],be),Ze!==null&&(G=r(Ze,G,Pe),dt===null?Xe=Ze:dt.sibling=Ze,dt=Ze);return ot&&Kn(W,Pe),Xe}for(Ze=a(Ze);Pe<ne.length;Pe++)lt=ue(Ze,W,Pe,ne[Pe],be),lt!==null&&(e&&lt.alternate!==null&&Ze.delete(lt.key===null?Pe:lt.key),G=r(lt,G,Pe),dt===null?Xe=lt:dt.sibling=lt,dt=lt);return e&&Ze.forEach(function(Aa){return t(W,Aa)}),ot&&Kn(W,Pe),Xe}function Fe(W,G,ne,be){if(ne==null)throw Error(o(151));for(var Xe=null,dt=null,Ze=G,Pe=G=0,lt=null,ft=ne.next();Ze!==null&&!ft.done;Pe++,ft=ne.next()){Ze.index>Pe?(lt=Ze,Ze=null):lt=Ze.sibling;var Aa=ie(W,Ze,ft.value,be);if(Aa===null){Ze===null&&(Ze=lt);break}e&&Ze&&Aa.alternate===null&&t(W,Ze),G=r(Aa,G,Pe),dt===null?Xe=Aa:dt.sibling=Aa,dt=Aa,Ze=lt}if(ft.done)return n(W,Ze),ot&&Kn(W,Pe),Xe;if(Ze===null){for(;!ft.done;Pe++,ft=ne.next())ft=we(W,ft.value,be),ft!==null&&(G=r(ft,G,Pe),dt===null?Xe=ft:dt.sibling=ft,dt=ft);return ot&&Kn(W,Pe),Xe}for(Ze=a(Ze);!ft.done;Pe++,ft=ne.next())ft=ue(Ze,W,Pe,ft.value,be),ft!==null&&(e&&ft.alternate!==null&&Ze.delete(ft.key===null?Pe:ft.key),G=r(ft,G,Pe),dt===null?Xe=ft:dt.sibling=ft,dt=ft);return e&&Ze.forEach(function(Y0){return t(W,Y0)}),ot&&Kn(W,Pe),Xe}function xt(W,G,ne,be){if(typeof ne=="object"&&ne!==null&&ne.type===v&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:e:{for(var Xe=ne.key;G!==null;){if(G.key===Xe){if(Xe=ne.type,Xe===v){if(G.tag===7){n(W,G.sibling),be=i(G,ne.props.children),be.return=W,W=be;break e}}else if(G.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===te&&Xa(Xe)===G.type){n(W,G.sibling),be=i(G,ne.props),el(be,ne),be.return=W,W=be;break e}n(W,G);break}else t(W,G);G=G.sibling}ne.type===v?(be=Ha(ne.props.children,W.mode,be,ne.key),be.return=W,W=be):(be=Ql(ne.type,ne.key,ne.props,null,W.mode,be),el(be,ne),be.return=W,W=be)}return y(W);case S:e:{for(Xe=ne.key;G!==null;){if(G.key===Xe)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){n(W,G.sibling),be=i(G,ne.children||[]),be.return=W,W=be;break e}else{n(W,G);break}else t(W,G);G=G.sibling}be=Ns(ne,W.mode,be),be.return=W,W=be}return y(W);case te:return ne=Xa(ne),xt(W,G,ne,be)}if(X(ne))return Ue(W,G,ne,be);if(A(ne)){if(Xe=A(ne),typeof Xe!="function")throw Error(o(150));return ne=Xe.call(ne),Fe(W,G,ne,be)}if(typeof ne.then=="function")return xt(W,G,nr(ne),be);if(ne.$$typeof===O)return xt(W,G,Jl(W,ne),be);ar(W,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,G!==null&&G.tag===6?(n(W,G.sibling),be=i(G,ne),be.return=W,W=be):(n(W,G),be=Ts(ne,W.mode,be),be.return=W,W=be),y(W)):n(W,G)}return function(W,G,ne,be){try{Pi=0;var Xe=xt(W,G,ne,be);return vi=null,Xe}catch(Ze){if(Ze===yi||Ze===er)throw Ze;var dt=pn(29,Ze,null,W.mode);return dt.lanes=be,dt.return=W,dt}}}var Ia=Hc(!0),qc=Hc(!1),pa=!1;function Ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ga(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ht&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Kl(e),_c(e,null,n),t}return Fl(e,a,t,n),Kl(e)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,We(e,n)}}function Xs(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=y:r=r.next=y,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Gs=!1;function nl(){if(Gs){var e=gi;if(e!==null)throw e}}function al(e,t,n,a){Gs=!1;var i=e.updateQueue;pa=!1;var r=i.firstBaseUpdate,y=i.lastBaseUpdate,N=i.shared.pending;if(N!==null){i.shared.pending=null;var Z=N,ae=Z.next;Z.next=null,y===null?r=ae:y.next=ae,y=Z;var ge=e.alternate;ge!==null&&(ge=ge.updateQueue,N=ge.lastBaseUpdate,N!==y&&(N===null?ge.firstBaseUpdate=ae:N.next=ae,ge.lastBaseUpdate=Z))}if(r!==null){var we=i.baseState;y=0,ge=ae=Z=null,N=r;do{var ie=N.lane&-536870913,ue=ie!==N.lane;if(ue?(it&ie)===ie:(a&ie)===ie){ie!==0&&ie===mi&&(Gs=!0),ge!==null&&(ge=ge.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ue=e,Fe=N;ie=t;var xt=n;switch(Fe.tag){case 1:if(Ue=Fe.payload,typeof Ue=="function"){we=Ue.call(xt,we,ie);break e}we=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Fe.payload,ie=typeof Ue=="function"?Ue.call(xt,we,ie):Ue,ie==null)break e;we=C({},we,ie);break e;case 2:pa=!0}}ie=N.callback,ie!==null&&(e.flags|=64,ue&&(e.flags|=8192),ue=i.callbacks,ue===null?i.callbacks=[ie]:ue.push(ie))}else ue={lane:ie,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ge===null?(ae=ge=ue,Z=we):ge=ge.next=ue,y|=ie;if(N=N.next,N===null){if(N=i.shared.pending,N===null)break;ue=N,N=ue.next,ue.next=null,i.lastBaseUpdate=ue,i.shared.pending=null}}while(!0);ge===null&&(Z=we),i.baseState=Z,i.firstBaseUpdate=ae,i.lastBaseUpdate=ge,r===null&&(i.shared.lanes=0),wa|=y,e.lanes=y,e.memoizedState=we}}function Vc(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Yc(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Vc(n[e],t)}var bi=z(null),ir=z(0);function Zc(e,t){e=la,de(ir,e),de(bi,t),la=e|t.baseLanes}function Is(){de(ir,la),de(bi,bi.current)}function Fs(){la=ir.current,R(bi),R(ir)}var mn=z(null),Tn=null;function ya(e){var t=e.alternate;de(Ot,Ot.current&1),de(mn,e),Tn===null&&(t===null||bi.current!==null||t.memoizedState!==null)&&(Tn=e)}function Ks(e){de(Ot,Ot.current),de(mn,e),Tn===null&&(Tn=e)}function Xc(e){e.tag===22?(de(Ot,Ot.current),de(mn,e),Tn===null&&(Tn=e)):va()}function va(){de(Ot,Ot.current),de(mn,mn.current)}function gn(e){R(mn),Tn===e&&(Tn=null),R(Ot)}var Ot=z(0);function lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||tu(n)||nu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $n=0,$e=null,vt=null,Ht=null,rr=!1,xi=!1,Fa=!1,sr=0,il=0,wi=null,Dm=0;function At(){throw Error(o(321))}function Qs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hn(e[n],t[n]))return!1;return!0}function Ws(e,t,n,a,i,r){return $n=r,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?zd:fo,Fa=!1,r=n(a,i),Fa=!1,xi&&(r=Ic(t,n,a,i)),Gc(e),r}function Gc(e){B.H=sl;var t=vt!==null&&vt.next!==null;if($n=0,Ht=vt=$e=null,rr=!1,il=0,wi=null,t)throw Error(o(300));e===null||qt||(e=e.dependencies,e!==null&&$l(e)&&(qt=!0))}function Ic(e,t,n,a){$e=e;var i=0;do{if(xi&&(wi=null),il=0,xi=!1,25<=i)throw Error(o(301));if(i+=1,Ht=vt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}B.H=kd,r=t(n,a)}while(xi);return r}function Om(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?ll(t):t,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&($e.flags|=1024),t}function $s(){var e=sr!==0;return sr=0,e}function Js(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ps(e){if(rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rr=!1}$n=0,Ht=vt=$e=null,xi=!1,il=sr=0,wi=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?$e.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Mt(){if(vt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Ht===null?$e.memoizedState:Ht.next;if(t!==null)Ht=t,vt=e;else{if(e===null)throw $e.alternate===null?Error(o(467)):Error(o(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ht===null?$e.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var t=il;return il+=1,wi===null&&(wi=[]),e=Bc(wi,e,t),t=$e,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?zd:fo),e}function ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===O)return Wt(e)}throw Error(o(438,String(e)))}function eo(e){var t=null,n=$e.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=$e.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=or(),$e.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=F;return t.index++,n}function Jn(e,t){return typeof t=="function"?t(e):t}function cr(e){var t=Mt();return to(t,vt,e)}function to(e,t,n){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var y=i.next;i.next=r.next,r.next=y}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var N=y=null,Z=null,ae=t,ge=!1;do{var we=ae.lane&-536870913;if(we!==ae.lane?(it&we)===we:($n&we)===we){var ie=ae.revertLane;if(ie===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),we===mi&&(ge=!0);else if(($n&ie)===ie){ae=ae.next,ie===mi&&(ge=!0);continue}else we={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Z===null?(N=Z=we,y=r):Z=Z.next=we,$e.lanes|=ie,wa|=ie;we=ae.action,Fa&&n(r,we),r=ae.hasEagerState?ae.eagerState:n(r,we)}else ie={lane:we,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Z===null?(N=Z=ie,y=r):Z=Z.next=ie,$e.lanes|=we,wa|=we;ae=ae.next}while(ae!==null&&ae!==t);if(Z===null?y=r:Z.next=N,!hn(r,e.memoizedState)&&(qt=!0,ge&&(n=gi,n!==null)))throw n;e.memoizedState=r,e.baseState=y,e.baseQueue=Z,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function no(e){var t=Mt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var y=i=i.next;do r=e(r,y.action),y=y.next;while(y!==i);hn(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Fc(e,t,n){var a=$e,i=Mt(),r=ot;if(r){if(n===void 0)throw Error(o(407));n=n()}else n=t();var y=!hn((vt||i).memoizedState,n);if(y&&(i.memoizedState=n,qt=!0),i=i.queue,lo(Wc.bind(null,a,i,e),[e]),i.getSnapshot!==t||y||Ht!==null&&Ht.memoizedState.tag&1){if(a.flags|=2048,Si(9,{destroy:void 0},Qc.bind(null,a,i,n,t),null),_t===null)throw Error(o(349));r||($n&127)!==0||Kc(a,t,n)}return n}function Kc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t=or(),$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qc(e,t,n,a){t.value=n,t.getSnapshot=a,$c(t)&&Jc(e)}function Wc(e,t,n){return n(function(){$c(t)&&Jc(e)})}function $c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hn(e,n)}catch{return!0}}function Jc(e){var t=La(e,2);t!==null&&cn(t,e,2)}function ao(e){var t=tn();if(typeof e=="function"){var n=e;if(e=n(),Fa){Ft(!0);try{n()}finally{Ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:e},t}function Pc(e,t,n,a){return e.baseState=n,to(e,vt,typeof a=="function"?a:Jn)}function Mm(e,t,n,a,i){if(hr(e))throw Error(o(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){r.listeners.push(y)}};B.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,ed(t,r)):(r.next=n.next,t.pending=n.next=r)}}function ed(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=B.T,y={};B.T=y;try{var N=n(i,a),Z=B.S;Z!==null&&Z(y,N),td(e,t,N)}catch(ae){io(e,t,ae)}finally{r!==null&&y.types!==null&&(r.types=y.types),B.T=r}}else try{r=n(i,a),td(e,t,r)}catch(ae){io(e,t,ae)}}function td(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){nd(e,t,a)},function(a){return io(e,t,a)}):nd(e,t,n)}function nd(e,t,n){t.status="fulfilled",t.value=n,ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ed(e,n)))}function io(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,ad(t),t=t.next;while(t!==a)}e.action=null}function ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function id(e,t){return t}function ld(e,t){if(ot){var n=_t.formState;if(n!==null){e:{var a=$e;if(ot){if(zt){t:{for(var i=zt,r=kn;i.nodeType!==8;){if(!r){i=null;break t}if(i=Nn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){zt=Nn(i.nextSibling),a=i.data==="F!";break e}}fa(a)}a=!1}a&&(t=n[0])}}return n=tn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},n.queue=a,n=Ed.bind(null,$e,a),a.dispatch=n,a=ao(!1),r=co.bind(null,$e,!1,a.queue),a=tn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Mm.bind(null,$e,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function rd(e){var t=Mt();return sd(t,vt,e)}function sd(e,t,n){if(t=to(e,t,id)[0],e=cr(Jn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ll(t)}catch(y){throw y===yi?er:y}else a=t;t=Mt();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&($e.flags|=2048,Si(9,{destroy:void 0},Rm.bind(null,i,n),null)),[a,r,e]}function Rm(e,t){e.action=t}function od(e){var t=Mt(),n=vt;if(n!==null)return sd(t,n,e);Mt(),t=t.memoizedState,n=Mt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Si(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=$e.updateQueue,t===null&&(t=or(),$e.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function ud(){return Mt().memoizedState}function dr(e,t,n,a){var i=tn();$e.flags|=e,i.memoizedState=Si(1|t,{destroy:void 0},n,a===void 0?null:a)}function fr(e,t,n,a){var i=Mt();a=a===void 0?null:a;var r=i.memoizedState.inst;vt!==null&&a!==null&&Qs(a,vt.memoizedState.deps)?i.memoizedState=Si(t,r,n,a):($e.flags|=e,i.memoizedState=Si(1|t,r,n,a))}function cd(e,t){dr(8390656,8,e,t)}function lo(e,t){fr(2048,8,e,t)}function Bm(e){$e.flags|=4;var t=$e.updateQueue;if(t===null)t=or(),$e.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function dd(e){var t=Mt().memoizedState;return Bm({ref:t,nextImpl:e}),function(){if((ht&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function fd(e,t){return fr(4,2,e,t)}function hd(e,t){return fr(4,4,e,t)}function pd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function md(e,t,n){n=n!=null?n.concat([e]):null,fr(4,4,pd.bind(null,t,e),n)}function ro(){}function gd(e,t){var n=Mt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Qs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function yd(e,t){var n=Mt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Qs(t,a[1]))return a[0];if(a=e(),Fa){Ft(!0);try{e()}finally{Ft(!1)}}return n.memoizedState=[a,t],a}function so(e,t,n){return n===void 0||($n&1073741824)!==0&&(it&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=bf(),$e.lanes|=e,wa|=e,n)}function vd(e,t,n,a){return hn(n,t)?n:bi.current!==null?(e=so(e,n,a),hn(e,t)||(qt=!0),e):($n&42)===0||($n&1073741824)!==0&&(it&261930)===0?(qt=!0,e.memoizedState=n):(e=bf(),$e.lanes|=e,wa|=e,t)}function bd(e,t,n,a,i){var r=L.p;L.p=r!==0&&8>r?r:8;var y=B.T,N={};B.T=N,co(e,!1,t,n);try{var Z=i(),ae=B.S;if(ae!==null&&ae(N,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ge=Am(Z,a);rl(e,t,ge,bn(e))}else rl(e,t,a,bn(e))}catch(we){rl(e,t,{then:function(){},status:"rejected",reason:we},bn())}finally{L.p=r,y!==null&&N.types!==null&&(y.types=N.types),B.T=y}}function Um(){}function oo(e,t,n,a){if(e.tag!==5)throw Error(o(476));var i=xd(e).queue;bd(e,i,t,re,n===null?Um:function(){return wd(e),n(a)})}function xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:re},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wd(e){var t=xd(e);t.next===null&&(t=e.alternate.memoizedState),rl(e,t.next.queue,{},bn())}function uo(){return Wt(_l)}function Sd(){return Mt().memoizedState}function _d(){return Mt().memoizedState}function Lm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=ma(n);var a=ga(t,e,n);a!==null&&(cn(a,t,n),tl(a,t,n)),t={cache:Ls()},e.payload=t;return}t=t.return}}function Hm(e,t,n){var a=bn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hr(e)?jd(t,n):(n=zs(e,t,n,a),n!==null&&(cn(n,e,a),Cd(n,t,a)))}function Ed(e,t,n){var a=bn();rl(e,t,n,a)}function rl(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hr(e))jd(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var y=t.lastRenderedState,N=r(y,n);if(i.hasEagerState=!0,i.eagerState=N,hn(N,y))return Fl(e,t,i,0),_t===null&&Il(),!1}catch{}if(n=zs(e,t,i,a),n!==null)return cn(n,e,a),Cd(n,t,a),!0}return!1}function co(e,t,n,a){if(a={lane:2,revertLane:Zo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hr(e)){if(t)throw Error(o(479))}else t=zs(e,n,a,2),t!==null&&cn(t,e,2)}function hr(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function jd(e,t){xi=rr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,We(e,n)}}var sl={readContext:Wt,use:ur,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};sl.useEffectEvent=At;var zd={readContext:Wt,use:ur,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:cd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,dr(4194308,4,pd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dr(4194308,4,e,t)},useInsertionEffect:function(e,t){dr(4,2,e,t)},useMemo:function(e,t){var n=tn();t=t===void 0?null:t;var a=e();if(Fa){Ft(!0);try{e()}finally{Ft(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=tn();if(n!==void 0){var i=n(t);if(Fa){Ft(!0);try{n(t)}finally{Ft(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Hm.bind(null,$e,e),[a.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:function(e){e=ao(e);var t=e.queue,n=Ed.bind(null,$e,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ro,useDeferredValue:function(e,t){var n=tn();return so(n,e,t)},useTransition:function(){var e=ao(!1);return e=bd.bind(null,$e,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=$e,i=tn();if(ot){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),_t===null)throw Error(o(349));(it&127)!==0||Kc(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,cd(Wc.bind(null,a,r,e),[e]),a.flags|=2048,Si(9,{destroy:void 0},Qc.bind(null,a,r,n,t),null),n},useId:function(){var e=tn(),t=_t.identifierPrefix;if(ot){var n=Hn,a=Ln;n=(a&~(1<<32-pt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=sr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Dm++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uo,useFormState:ld,useActionState:ld,useOptimistic:function(e){var t=tn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=co.bind(null,$e,!0,n),n.dispatch=t,[e,t]},useMemoCache:eo,useCacheRefresh:function(){return tn().memoizedState=Lm.bind(null,$e)},useEffectEvent:function(e){var t=tn(),n={impl:e};return t.memoizedState=n,function(){if((ht&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},fo={readContext:Wt,use:ur,useCallback:gd,useContext:Wt,useEffect:lo,useImperativeHandle:md,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:yd,useReducer:cr,useRef:ud,useState:function(){return cr(Jn)},useDebugValue:ro,useDeferredValue:function(e,t){var n=Mt();return vd(n,vt.memoizedState,e,t)},useTransition:function(){var e=cr(Jn)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:ll(e),t]},useSyncExternalStore:Fc,useId:Sd,useHostTransitionStatus:uo,useFormState:rd,useActionState:rd,useOptimistic:function(e,t){var n=Mt();return Pc(n,vt,e,t)},useMemoCache:eo,useCacheRefresh:_d};fo.useEffectEvent=dd;var kd={readContext:Wt,use:ur,useCallback:gd,useContext:Wt,useEffect:lo,useImperativeHandle:md,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:yd,useReducer:no,useRef:ud,useState:function(){return no(Jn)},useDebugValue:ro,useDeferredValue:function(e,t){var n=Mt();return vt===null?so(n,e,t):vd(n,vt.memoizedState,e,t)},useTransition:function(){var e=no(Jn)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:ll(e),t]},useSyncExternalStore:Fc,useId:Sd,useHostTransitionStatus:uo,useFormState:od,useActionState:od,useOptimistic:function(e,t){var n=Mt();return vt!==null?Pc(n,vt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:eo,useCacheRefresh:_d};kd.useEffectEvent=dd;function ho(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=bn(),i=ma(a);i.payload=t,n!=null&&(i.callback=n),t=ga(e,i,a),t!==null&&(cn(t,e,a),tl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=bn(),i=ma(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ga(e,i,a),t!==null&&(cn(t,e,a),tl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),a=ma(n);a.tag=2,t!=null&&(a.callback=t),t=ga(e,a,n),t!==null&&(cn(t,e,n),tl(t,e,n))}};function Td(e,t,n,a,i,r,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,y):t.prototype&&t.prototype.isPureReactComponent?!Fi(n,a)||!Fi(i,r):!0}function Nd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function Ka(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Ad(e){Gl(e)}function Dd(e){console.error(e)}function Od(e){Gl(e)}function pr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Md(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function mo(e,t,n){return n=ma(n),n.tag=3,n.payload={element:null},n.callback=function(){pr(e,t)},n}function Rd(e){return e=ma(e),e.tag=3,e}function Bd(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){Md(t,n,a)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Md(t,n,a),typeof i!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})})}function qm(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&pi(t,n,i,!0),n=mn.current,n!==null){switch(n.tag){case 31:case 13:return Tn===null?Cr():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===tr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),qo(e,a,i)),!1;case 22:return n.flags|=65536,a===tr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),qo(e,a,i)),!1}throw Error(o(435,n.tag))}return qo(e,a,i),Cr(),!1}if(ot)return t=mn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Os&&(e=Error(o(422),{cause:a}),Wi(jn(e,n)))):(a!==Os&&(t=Error(o(423),{cause:a}),Wi(jn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=jn(a,n),i=mo(e.stateNode,a,i),Xs(e,i),Dt!==4&&(Dt=2)),!1;var r=Error(o(520),{cause:a});if(r=jn(r,n),ml===null?ml=[r]:ml.push(r),Dt!==4&&(Dt=2),t===null)return!0;a=jn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=mo(n.stateNode,a,e),Xs(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Sa===null||!Sa.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Rd(i),Bd(i,e,n,a),Xs(n,i),!1}n=n.return}while(n!==null);return!1}var go=Error(o(461)),qt=!1;function $t(e,t,n,a){t.child=e===null?qc(t,null,n,a):Ia(t,e.child,n,a)}function Ud(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var y={};for(var N in a)N!=="ref"&&(y[N]=a[N])}else y=a;return Ya(t),a=Ws(e,t,n,y,r,i),N=$s(),e!==null&&!qt?(Js(e,t,i),Pn(e,t,i)):(ot&&N&&As(t),t.flags|=1,$t(e,t,a,i),t.child)}function Ld(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!ks(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,Hd(e,t,r,a,i)):(e=Ql(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Eo(e,i)){var y=r.memoizedProps;if(n=n.compare,n=n!==null?n:Fi,n(y,a)&&e.ref===t.ref)return Pn(e,t,i)}return t.flags|=1,e=Fn(r,a),e.ref=t.ref,e.return=t,t.child=e}function Hd(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(Fi(r,a)&&e.ref===t.ref)if(qt=!1,t.pendingProps=a=r,Eo(e,i))(e.flags&131072)!==0&&(qt=!0);else return t.lanes=e.lanes,Pn(e,t,i)}return yo(e,t,n,a,i)}function qd(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return Vd(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pl(t,r!==null?r.cachePool:null),r!==null?Zc(t,r):Is(),Xc(t);else return a=t.lanes=536870912,Vd(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(Pl(t,r.cachePool),Zc(t,r),va(),t.memoizedState=null):(e!==null&&Pl(t,null),Is(),va());return $t(e,t,i,n),t.child}function ol(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vd(e,t,n,a,i){var r=qs();return r=r===null?null:{parent:Lt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Pl(t,null),Is(),Xc(t),e!==null&&pi(e,t,a,!0),t.childLanes=i,null}function mr(e,t){return t=yr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Yd(e,t,n){return Ia(t,e.child,null,n),e=mr(t,t.pendingProps),e.flags|=2,gn(t),t.memoizedState=null,e}function Vm(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ot){if(a.mode==="hidden")return e=mr(t,a),t.lanes=536870912,ol(null,e);if(Ks(t),(e=zt)?(e=th(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ca!==null?{id:Ln,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},n=jc(e),n.return=t,t.child=n,Qt=t,zt=null)):e=null,e===null)throw fa(t);return t.lanes=536870912,null}return mr(t,a)}var r=e.memoizedState;if(r!==null){var y=r.dehydrated;if(Ks(t),i)if(t.flags&256)t.flags&=-257,t=Yd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(qt||pi(e,t,n,!1),i=(n&e.childLanes)!==0,qt||i){if(a=_t,a!==null&&(y=st(a,n),y!==0&&y!==r.retryLane))throw r.retryLane=y,La(e,y),cn(a,e,y),go;Cr(),t=Yd(e,t,n)}else e=r.treeContext,zt=Nn(y.nextSibling),Qt=t,ot=!0,da=null,kn=!1,e!==null&&kc(t,e),t=mr(t,a),t.flags|=4096;return t}return e=Fn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function gr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function yo(e,t,n,a,i){return Ya(t),n=Ws(e,t,n,a,void 0,i),a=$s(),e!==null&&!qt?(Js(e,t,i),Pn(e,t,i)):(ot&&a&&As(t),t.flags|=1,$t(e,t,n,i),t.child)}function Zd(e,t,n,a,i,r){return Ya(t),t.updateQueue=null,n=Ic(t,a,n,i),Gc(e),a=$s(),e!==null&&!qt?(Js(e,t,r),Pn(e,t,r)):(ot&&a&&As(t),t.flags|=1,$t(e,t,n,r),t.child)}function Xd(e,t,n,a,i){if(Ya(t),t.stateNode===null){var r=ci,y=n.contextType;typeof y=="object"&&y!==null&&(r=Wt(y)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=po,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Ys(t),y=n.contextType,r.context=typeof y=="object"&&y!==null?Wt(y):ci,r.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(ho(t,n,y,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(y=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),y!==r.state&&po.enqueueReplaceState(r,r.state,null),al(t,a,r,i),nl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var N=t.memoizedProps,Z=Ka(n,N);r.props=Z;var ae=r.context,ge=n.contextType;y=ci,typeof ge=="object"&&ge!==null&&(y=Wt(ge));var we=n.getDerivedStateFromProps;ge=typeof we=="function"||typeof r.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,ge||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(N||ae!==y)&&Nd(t,r,a,y),pa=!1;var ie=t.memoizedState;r.state=ie,al(t,a,r,i),nl(),ae=t.memoizedState,N||ie!==ae||pa?(typeof we=="function"&&(ho(t,n,we,a),ae=t.memoizedState),(Z=pa||Td(t,n,Z,a,ie,ae,y))?(ge||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=ae),r.props=a,r.state=ae,r.context=y,a=Z):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Zs(e,t),y=t.memoizedProps,ge=Ka(n,y),r.props=ge,we=t.pendingProps,ie=r.context,ae=n.contextType,Z=ci,typeof ae=="object"&&ae!==null&&(Z=Wt(ae)),N=n.getDerivedStateFromProps,(ae=typeof N=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(y!==we||ie!==Z)&&Nd(t,r,a,Z),pa=!1,ie=t.memoizedState,r.state=ie,al(t,a,r,i),nl();var ue=t.memoizedState;y!==we||ie!==ue||pa||e!==null&&e.dependencies!==null&&$l(e.dependencies)?(typeof N=="function"&&(ho(t,n,N,a),ue=t.memoizedState),(ge=pa||Td(t,n,ge,a,ie,ue,Z)||e!==null&&e.dependencies!==null&&$l(e.dependencies))?(ae||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,ue,Z),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,ue,Z)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||y===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ue),r.props=a,r.state=ue,r.context=Z,a=ge):(typeof r.componentDidUpdate!="function"||y===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,gr(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ia(t,e.child,null,i),t.child=Ia(t,null,n,i)):$t(e,t,n,i),t.memoizedState=r.state,e=t.child):e=Pn(e,t,i),e}function Gd(e,t,n,a){return qa(),t.flags|=256,$t(e,t,n,a),t.child}var vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bo(e){return{baseLanes:e,cachePool:Mc()}}function xo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=vn),e}function Id(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,y;if((y=r)||(y=e!==null&&e.memoizedState===null?!1:(Ot.current&2)!==0),y&&(i=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(i?ya(t):va(),(e=zt)?(e=th(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ca!==null?{id:Ln,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},n=jc(e),n.return=t,t.child=n,Qt=t,zt=null)):e=null,e===null)throw fa(t);return nu(e)?t.lanes=32:t.lanes=536870912,null}var N=a.children;return a=a.fallback,i?(va(),i=t.mode,N=yr({mode:"hidden",children:N},i),a=Ha(a,i,n,null),N.return=t,a.return=t,N.sibling=a,t.child=N,a=t.child,a.memoizedState=bo(n),a.childLanes=xo(e,y,n),t.memoizedState=vo,ol(null,a)):(ya(t),wo(t,N))}var Z=e.memoizedState;if(Z!==null&&(N=Z.dehydrated,N!==null)){if(r)t.flags&256?(ya(t),t.flags&=-257,t=So(e,t,n)):t.memoizedState!==null?(va(),t.child=e.child,t.flags|=128,t=null):(va(),N=a.fallback,i=t.mode,a=yr({mode:"visible",children:a.children},i),N=Ha(N,i,n,null),N.flags|=2,a.return=t,N.return=t,a.sibling=N,t.child=a,Ia(t,e.child,null,n),a=t.child,a.memoizedState=bo(n),a.childLanes=xo(e,y,n),t.memoizedState=vo,t=ol(null,a));else if(ya(t),nu(N)){if(y=N.nextSibling&&N.nextSibling.dataset,y)var ae=y.dgst;y=ae,a=Error(o(419)),a.stack="",a.digest=y,Wi({value:a,source:null,stack:null}),t=So(e,t,n)}else if(qt||pi(e,t,n,!1),y=(n&e.childLanes)!==0,qt||y){if(y=_t,y!==null&&(a=st(y,n),a!==0&&a!==Z.retryLane))throw Z.retryLane=a,La(e,a),cn(y,e,a),go;tu(N)||Cr(),t=So(e,t,n)}else tu(N)?(t.flags|=192,t.child=e.child,t=null):(e=Z.treeContext,zt=Nn(N.nextSibling),Qt=t,ot=!0,da=null,kn=!1,e!==null&&kc(t,e),t=wo(t,a.children),t.flags|=4096);return t}return i?(va(),N=a.fallback,i=t.mode,Z=e.child,ae=Z.sibling,a=Fn(Z,{mode:"hidden",children:a.children}),a.subtreeFlags=Z.subtreeFlags&65011712,ae!==null?N=Fn(ae,N):(N=Ha(N,i,n,null),N.flags|=2),N.return=t,a.return=t,a.sibling=N,t.child=a,ol(null,a),a=t.child,N=e.child.memoizedState,N===null?N=bo(n):(i=N.cachePool,i!==null?(Z=Lt._currentValue,i=i.parent!==Z?{parent:Z,pool:Z}:i):i=Mc(),N={baseLanes:N.baseLanes|n,cachePool:i}),a.memoizedState=N,a.childLanes=xo(e,y,n),t.memoizedState=vo,ol(e.child,a)):(ya(t),n=e.child,e=n.sibling,n=Fn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function wo(e,t){return t=yr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yr(e,t){return e=pn(22,e,null,t),e.lanes=0,e}function So(e,t,n){return Ia(t,e.child,null,n),e=wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Bs(e.return,t,n)}function _o(e,t,n,a,i,r){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=a,y.tail=n,y.tailMode=i,y.treeForkCount=r)}function Kd(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var y=Ot.current,N=(y&2)!==0;if(N?(y=y&1|2,t.flags|=128):y&=1,de(Ot,y),$t(e,t,a,n),a=ot?Qi:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fd(e,n,t);else if(e.tag===19)Fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&lr(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_o(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lr(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_o(t,!0,n,null,r,a);break;case"together":_o(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(pi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Eo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$l(e)))}function Ym(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),ha(t,Lt,e.memoizedState.cache),qa();break;case 27:case 5:qe(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:ha(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ks(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ya(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Id(e,t,n):(ya(t),e=Pn(e,t,n),e!==null?e.sibling:null);ya(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(pi(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Kd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(Ot,Ot.current),a)break;return null;case 22:return t.lanes=0,qd(e,t,n,t.pendingProps);case 24:ha(t,Lt,e.memoizedState.cache)}return Pn(e,t,n)}function Qd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)qt=!0;else{if(!Eo(e,n)&&(t.flags&128)===0)return qt=!1,Ym(e,t,n);qt=(e.flags&131072)!==0}else qt=!1,ot&&(t.flags&1048576)!==0&&zc(t,Qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Xa(t.elementType),t.type=e,typeof e=="function")ks(e)?(a=Ka(e,a),t.tag=1,t=Xd(null,t,e,a,n)):(t.tag=0,t=yo(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===U){t.tag=11,t=Ud(null,t,e,a,n);break e}else if(i===Y){t.tag=14,t=Ld(null,t,e,a,n);break e}}throw t=h(e)||e,Error(o(306,t,""))}}return t;case 0:return yo(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ka(a,t.pendingProps),Xd(e,t,a,i,n);case 3:e:{if(J(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,Zs(e,t),al(t,a,null,n);var y=t.memoizedState;if(a=y.cache,ha(t,Lt,a),a!==r.cache&&Us(t,[Lt],n,!0),nl(),a=y.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Gd(e,t,a,n);break e}else if(a!==i){i=jn(Error(o(424)),t),Wi(i),t=Gd(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,zt=Nn(e.firstChild),Qt=t,ot=!0,da=null,kn=!0,n=qc(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),a===i){t=Pn(e,t,n);break e}$t(e,t,a,n)}t=t.child}return t;case 26:return gr(e,t),e===null?(n=sh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ot||(n=t.type,e=t.pendingProps,a=Or(Re.current).createElement(n),a[Ut]=t,a[Kt]=e,Jt(a,n,e),Gt(a),t.stateNode=a):t.memoizedState=sh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qe(t),e===null&&ot&&(a=t.stateNode=ih(t.type,t.pendingProps,Re.current),Qt=t,kn=!0,i=zt,Ca(t.type)?(au=i,zt=Nn(a.firstChild)):zt=i),$t(e,t,t.pendingProps.children,n),gr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((i=a=zt)&&(a=v0(a,t.type,t.pendingProps,kn),a!==null?(t.stateNode=a,Qt=t,zt=Nn(a.firstChild),kn=!1,i=!0):i=!1),i||fa(t)),qe(t),i=t.type,r=t.pendingProps,y=e!==null?e.memoizedProps:null,a=r.children,Jo(i,r)?a=null:y!==null&&Jo(i,y)&&(t.flags|=32),t.memoizedState!==null&&(i=Ws(e,t,Om,null,null,n),_l._currentValue=i),gr(e,t),$t(e,t,a,n),t.child;case 6:return e===null&&ot&&((e=n=zt)&&(n=b0(n,t.pendingProps,kn),n!==null?(t.stateNode=n,Qt=t,zt=null,e=!0):e=!1),e||fa(t)),null;case 13:return Id(e,t,n);case 4:return J(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ia(t,null,a,n):$t(e,t,a,n),t.child;case 11:return Ud(e,t,t.type,t.pendingProps,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ha(t,t.type,a.value),$t(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ya(t),i=Wt(i),a=a(i),t.flags|=1,$t(e,t,a,n),t.child;case 14:return Ld(e,t,t.type,t.pendingProps,n);case 15:return Hd(e,t,t.type,t.pendingProps,n);case 19:return Kd(e,t,n);case 31:return Vm(e,t,n);case 22:return qd(e,t,n,t.pendingProps);case 24:return Ya(t),a=Wt(Lt),e===null?(i=qs(),i===null&&(i=_t,r=Ls(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Ys(t),ha(t,Lt,i)):((e.lanes&n)!==0&&(Zs(e,t),al(t,null,null,n),nl()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ha(t,Lt,a)):(a=r.cache,ha(t,Lt,a),a!==i.cache&&Us(t,[Lt],n,!0))),$t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ea(e){e.flags|=4}function jo(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(_f())e.flags|=8192;else throw Ga=tr,Vs}else e.flags&=-16777217}function Wd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fh(t))if(_f())e.flags|=8192;else throw Ga=tr,Vs}function vr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?De():536870912,e.lanes|=t,Ci|=t)}function ul(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Zm(e,t,n){var a=t.pendingProps;switch(Ds(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return kt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Wn(Lt),_e(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hi(t)?ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ms())),kt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(ea(t),r!==null?(kt(t),Wd(t,r)):(kt(t),jo(t,i,null,a,n))):r?r!==e.memoizedState?(ea(t),kt(t),Wd(t,r)):(kt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ea(t),kt(t),jo(t,i,e,a,n)),null;case 27:if(Ge(t),n=Re.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return kt(t),null}e=le.current,hi(t)?Tc(t):(e=ih(i,a,n),t.stateNode=e,ea(t))}return kt(t),null;case 5:if(Ge(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return kt(t),null}if(r=le.current,hi(t))Tc(t);else{var y=Or(Re.current);switch(r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?y.createElement("select",{is:a.is}):y.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?y.createElement(i,{is:a.is}):y.createElement(i)}}r[Ut]=t,r[Kt]=a;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=r;e:switch(Jt(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ea(t)}}return kt(t),jo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=Re.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Qt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Ut]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Ff(e.nodeValue,n)),e||fa(t,!0)}else e=Or(e).createTextNode(a),e[Ut]=t,t.stateNode=e}return kt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=hi(t),n!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ut]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),e=!1}else n=Ms(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(gn(t),t):(gn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return kt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=hi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(o(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));i[Ut]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),i=!1}else i=Ms(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(gn(t),t):(gn(t),null)}return gn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),vr(t,t.updateQueue),kt(t),null);case 4:return _e(),e===null&&Fo(t.stateNode.containerInfo),kt(t),null;case 10:return Wn(t.type),kt(t),null;case 19:if(R(Ot),a=t.memoizedState,a===null)return kt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)ul(a,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=lr(e),r!==null){for(t.flags|=128,ul(a,!1),e=r.updateQueue,t.updateQueue=e,vr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ec(n,e),n=n.sibling;return de(Ot,Ot.current&1|2),ot&&Kn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ne()>_r&&(t.flags|=128,i=!0,ul(a,!1),t.lanes=4194304)}else{if(!i)if(e=lr(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,vr(t,e),ul(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!ot)return kt(t),null}else 2*Ne()-a.renderingStartTime>_r&&n!==536870912&&(t.flags|=128,i=!0,ul(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ne(),e.sibling=null,n=Ot.current,de(Ot,i?n&1|2:n&1),ot&&Kn(t,a.treeForkCount),e):(kt(t),null);case 22:case 23:return gn(t),Fs(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),n=t.updateQueue,n!==null&&vr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&R(Za),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Wn(Lt),kt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Xm(e,t){switch(Ds(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(Lt),_e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ge(t),null;case 31:if(t.memoizedState!==null){if(gn(t),t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(gn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Ot),null;case 4:return _e(),null;case 10:return Wn(t.type),null;case 22:case 23:return gn(t),Fs(),e!==null&&R(Za),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Wn(Lt),null;case 25:return null;default:return null}}function $d(e,t){switch(Ds(t),t.tag){case 3:Wn(Lt),_e();break;case 26:case 27:case 5:Ge(t);break;case 4:_e();break;case 31:t.memoizedState!==null&&gn(t);break;case 13:gn(t);break;case 19:R(Ot);break;case 10:Wn(t.type);break;case 22:case 23:gn(t),Fs(),e!==null&&R(Za);break;case 24:Wn(Lt)}}function cl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,y=n.inst;a=r(),y.destroy=a}n=n.next}while(n!==i)}}catch(N){gt(t,t.return,N)}}function ba(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var y=a.inst,N=y.destroy;if(N!==void 0){y.destroy=void 0,i=t;var Z=n,ae=N;try{ae()}catch(ge){gt(i,Z,ge)}}}a=a.next}while(a!==r)}}catch(ge){gt(t,t.return,ge)}}function Jd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Yc(t,n)}catch(a){gt(e,e.return,a)}}}function Pd(e,t,n){n.props=Ka(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){gt(e,t,a)}}function dl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){gt(e,t,i)}}function qn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){gt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){gt(e,t,i)}else n.current=null}function ef(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){gt(e,e.return,i)}}function Co(e,t,n){try{var a=e.stateNode;f0(a,e.type,n,t),a[Kt]=t}catch(i){gt(e,e.return,i)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ca(e.type)||e.tag===4}function zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ko(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gn));else if(a!==4&&(a===27&&Ca(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ko(e,t,n),e=e.sibling;e!==null;)ko(e,t,n),e=e.sibling}function br(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Ca(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(br(e,t,n),e=e.sibling;e!==null;)br(e,t,n),e=e.sibling}function nf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Jt(t,a,n),t[Ut]=e,t[Kt]=n}catch(r){gt(e,e.return,r)}}var ta=!1,Vt=!1,To=!1,af=typeof WeakSet=="function"?WeakSet:Set,It=null;function Gm(e,t){if(e=e.containerInfo,Wo=qr,e=mc(e),ws(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var y=0,N=-1,Z=-1,ae=0,ge=0,we=e,ie=null;t:for(;;){for(var ue;we!==n||i!==0&&we.nodeType!==3||(N=y+i),we!==r||a!==0&&we.nodeType!==3||(Z=y+a),we.nodeType===3&&(y+=we.nodeValue.length),(ue=we.firstChild)!==null;)ie=we,we=ue;for(;;){if(we===e)break t;if(ie===n&&++ae===i&&(N=y),ie===r&&++ge===a&&(Z=y),(ue=we.nextSibling)!==null)break;we=ie,ie=we.parentNode}we=ue}n=N===-1||Z===-1?null:{start:N,end:Z}}else n=null}n=n||{start:0,end:0}}else n=null;for($o={focusedElem:e,selectionRange:n},qr=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){switch(t=It,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var Ue=Ka(n.type,i);e=a.getSnapshotBeforeUpdate(Ue,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){gt(n,n.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)eu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}}function lf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:aa(e,n),a&4&&cl(5,n);break;case 1:if(aa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){gt(n,n.return,y)}else{var i=Ka(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){gt(n,n.return,y)}}a&64&&Jd(n),a&512&&dl(n,n.return);break;case 3:if(aa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Yc(e,t)}catch(y){gt(n,n.return,y)}}break;case 27:t===null&&a&4&&nf(n);case 26:case 5:aa(e,n),t===null&&a&4&&ef(n),a&512&&dl(n,n.return);break;case 12:aa(e,n);break;case 31:aa(e,n),a&4&&of(e,n);break;case 13:aa(e,n),a&4&&uf(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=e0.bind(null,n),x0(e,n))));break;case 22:if(a=n.memoizedState!==null||ta,!a){t=t!==null&&t.memoizedState!==null||Vt,i=ta;var r=Vt;ta=a,(Vt=t)&&!r?ia(e,n,(n.subtreeFlags&8772)!==0):aa(e,n),ta=i,Vt=r}break;case 30:break;default:aa(e,n)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&St(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,rn=!1;function na(e,t,n){for(n=n.child;n!==null;)sf(e,t,n),n=n.sibling}function sf(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ct,n)}catch{}switch(n.tag){case 26:Vt||qn(n,t),na(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vt||qn(n,t);var a=Tt,i=rn;Ca(n.type)&&(Tt=n.stateNode,rn=!1),na(e,t,n),xl(n.stateNode),Tt=a,rn=i;break;case 5:Vt||qn(n,t);case 6:if(a=Tt,i=rn,Tt=null,na(e,t,n),Tt=a,rn=i,Tt!==null)if(rn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(n.stateNode)}catch(r){gt(n,t,r)}else try{Tt.removeChild(n.stateNode)}catch(r){gt(n,t,r)}break;case 18:Tt!==null&&(rn?(e=Tt,Pf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Mi(e)):Pf(Tt,n.stateNode));break;case 4:a=Tt,i=rn,Tt=n.stateNode.containerInfo,rn=!0,na(e,t,n),Tt=a,rn=i;break;case 0:case 11:case 14:case 15:ba(2,n,t),Vt||ba(4,n,t),na(e,t,n);break;case 1:Vt||(qn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Pd(n,t,a)),na(e,t,n);break;case 21:na(e,t,n);break;case 22:Vt=(a=Vt)||n.memoizedState!==null,na(e,t,n),Vt=a;break;default:na(e,t,n)}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Mi(e)}catch(n){gt(t,t.return,n)}}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mi(e)}catch(n){gt(t,t.return,n)}}function Im(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(o(435,e.tag))}}function xr(e,t){var n=Im(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=t0.bind(null,e,a);a.then(i,i)}})}function sn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,y=t,N=y;e:for(;N!==null;){switch(N.tag){case 27:if(Ca(N.type)){Tt=N.stateNode,rn=!1;break e}break;case 5:Tt=N.stateNode,rn=!1;break e;case 3:case 4:Tt=N.stateNode.containerInfo,rn=!0;break e}N=N.return}if(Tt===null)throw Error(o(160));sf(r,y,i),Tt=null,rn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}var Rn=null;function cf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(t,e),on(e),a&4&&(ba(3,e,e.return),cl(3,e),ba(5,e,e.return));break;case 1:sn(t,e),on(e),a&512&&(Vt||n===null||qn(n,n.return)),a&64&&ta&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Rn;if(sn(t,e),on(e),a&512&&(Vt||n===null||qn(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Ie]||r[Ut]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),Jt(r,a,n),r[Ut]=e,Gt(r),a=r;break e;case"link":var y=ch("link","href",i).get(a+(n.href||""));if(y){for(var N=0;N<y.length;N++)if(r=y[N],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(N,1);break t}}r=i.createElement(a),Jt(r,a,n),i.head.appendChild(r);break;case"meta":if(y=ch("meta","content",i).get(a+(n.content||""))){for(N=0;N<y.length;N++)if(r=y[N],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(N,1);break t}}r=i.createElement(a),Jt(r,a,n),i.head.appendChild(r);break;default:throw Error(o(468,a))}r[Ut]=e,Gt(r),a=r}e.stateNode=a}else dh(i,e.type,e.stateNode);else e.stateNode=uh(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?dh(i,e.type,e.stateNode):uh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Co(e,e.memoizedProps,n.memoizedProps)}break;case 27:sn(t,e),on(e),a&512&&(Vt||n===null||qn(n,n.return)),n!==null&&a&4&&Co(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sn(t,e),on(e),a&512&&(Vt||n===null||qn(n,n.return)),e.flags&32){i=e.stateNode;try{ai(i,"")}catch(Ue){gt(e,e.return,Ue)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Co(e,i,n!==null?n.memoizedProps:i)),a&1024&&(To=!0);break;case 6:if(sn(t,e),on(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Ue){gt(e,e.return,Ue)}}break;case 3:if(Br=null,i=Rn,Rn=Mr(t.containerInfo),sn(t,e),Rn=i,on(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(Ue){gt(e,e.return,Ue)}To&&(To=!1,df(e));break;case 4:a=Rn,Rn=Mr(e.stateNode.containerInfo),sn(t,e),on(e),Rn=a;break;case 12:sn(t,e),on(e);break;case 31:sn(t,e),on(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xr(e,a)));break;case 13:sn(t,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Sr=Ne()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xr(e,a)));break;case 22:i=e.memoizedState!==null;var Z=n!==null&&n.memoizedState!==null,ae=ta,ge=Vt;if(ta=ae||i,Vt=ge||Z,sn(t,e),Vt=ge,ta=ae,on(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||Z||ta||Vt||Qa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){Z=n=t;try{if(r=Z.stateNode,i)y=r.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{N=Z.stateNode;var we=Z.memoizedProps.style,ie=we!=null&&we.hasOwnProperty("display")?we.display:null;N.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ue){gt(Z,Z.return,Ue)}}}else if(t.tag===6){if(n===null){Z=t;try{Z.stateNode.nodeValue=i?"":Z.memoizedProps}catch(Ue){gt(Z,Z.return,Ue)}}}else if(t.tag===18){if(n===null){Z=t;try{var ue=Z.stateNode;i?eh(ue,!0):eh(Z.stateNode,!1)}catch(Ue){gt(Z,Z.return,Ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,xr(e,n))));break;case 19:sn(t,e),on(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xr(e,a)));break;case 30:break;case 21:break;default:sn(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(tf(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode,r=zo(e);br(e,r,i);break;case 5:var y=n.stateNode;n.flags&32&&(ai(y,""),n.flags&=-33);var N=zo(e);br(e,N,y);break;case 3:case 4:var Z=n.stateNode.containerInfo,ae=zo(e);ko(e,ae,Z);break;default:throw Error(o(161))}}catch(ge){gt(e,e.return,ge)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function aa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ba(4,t,t.return),Qa(t);break;case 1:qn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Pd(t,t.return,n),Qa(t);break;case 27:xl(t.stateNode);case 26:case 5:qn(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function ia(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,y=r.flags;switch(r.tag){case 0:case 11:case 15:ia(i,r,n),cl(4,r);break;case 1:if(ia(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(ae){gt(a,a.return,ae)}if(a=r,i=a.updateQueue,i!==null){var N=a.stateNode;try{var Z=i.shared.hiddenCallbacks;if(Z!==null)for(i.shared.hiddenCallbacks=null,i=0;i<Z.length;i++)Vc(Z[i],N)}catch(ae){gt(a,a.return,ae)}}n&&y&64&&Jd(r),dl(r,r.return);break;case 27:nf(r);case 26:case 5:ia(i,r,n),n&&a===null&&y&4&&ef(r),dl(r,r.return);break;case 12:ia(i,r,n);break;case 31:ia(i,r,n),n&&y&4&&of(i,r);break;case 13:ia(i,r,n),n&&y&4&&uf(i,r);break;case 22:r.memoizedState===null&&ia(i,r,n),dl(r,r.return);break;case 30:break;default:ia(i,r,n)}t=t.sibling}}function No(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$i(n))}function Ao(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e))}function Bn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,n,a),t=t.sibling}function ff(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bn(e,t,n,a),i&2048&&cl(9,t);break;case 1:Bn(e,t,n,a);break;case 3:Bn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e)));break;case 12:if(i&2048){Bn(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,y=r.id,N=r.onPostCommit;typeof N=="function"&&N(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Z){gt(t,t.return,Z)}}else Bn(e,t,n,a);break;case 31:Bn(e,t,n,a);break;case 13:Bn(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,y=t.alternate,t.memoizedState!==null?r._visibility&2?Bn(e,t,n,a):fl(e,t):r._visibility&2?Bn(e,t,n,a):(r._visibility|=2,_i(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&No(y,t);break;case 24:Bn(e,t,n,a),i&2048&&Ao(t.alternate,t);break;default:Bn(e,t,n,a)}}function _i(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,y=t,N=n,Z=a,ae=y.flags;switch(y.tag){case 0:case 11:case 15:_i(r,y,N,Z,i),cl(8,y);break;case 23:break;case 22:var ge=y.stateNode;y.memoizedState!==null?ge._visibility&2?_i(r,y,N,Z,i):fl(r,y):(ge._visibility|=2,_i(r,y,N,Z,i)),i&&ae&2048&&No(y.alternate,y);break;case 24:_i(r,y,N,Z,i),i&&ae&2048&&Ao(y.alternate,y);break;default:_i(r,y,N,Z,i)}t=t.sibling}}function fl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:fl(n,a),i&2048&&No(a.alternate,a);break;case 24:fl(n,a),i&2048&&Ao(a.alternate,a);break;default:fl(n,a)}t=t.sibling}}var hl=8192;function Ei(e,t,n){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)hf(e,t,n),e=e.sibling}function hf(e,t,n){switch(e.tag){case 26:Ei(e,t,n),e.flags&hl&&e.memoizedState!==null&&D0(n,Rn,e.memoizedState,e.memoizedProps);break;case 5:Ei(e,t,n);break;case 3:case 4:var a=Rn;Rn=Mr(e.stateNode.containerInfo),Ei(e,t,n),Rn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=hl,hl=16777216,Ei(e,t,n),hl=a):Ei(e,t,n));break;default:Ei(e,t,n)}}function pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];It=a,gf(a,e)}pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&ba(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wr(e)):pl(e);break;default:pl(e)}}function wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];It=a,gf(a,e)}pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ba(8,t,t.return),wr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,wr(t));break;default:wr(t)}e=e.sibling}}function gf(e,t){for(;It!==null;){var n=It;switch(n.tag){case 0:case 11:case 15:ba(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$i(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,It=a;else e:for(n=e;It!==null;){a=It;var i=a.sibling,r=a.return;if(rf(a),a===n){It=null;break e}if(i!==null){i.return=r,It=i;break e}It=r}}}var Fm={getCacheForType:function(e){var t=Wt(Lt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Wt(Lt).controller.signal}},Km=typeof WeakMap=="function"?WeakMap:Map,ht=0,_t=null,nt=null,it=0,mt=0,yn=null,xa=!1,ji=!1,Do=!1,la=0,Dt=0,wa=0,Wa=0,Oo=0,vn=0,Ci=0,ml=null,un=null,Mo=!1,Sr=0,yf=0,_r=1/0,Er=null,Sa=null,Zt=0,_a=null,zi=null,ra=0,Ro=0,Bo=null,vf=null,gl=0,Uo=null;function bn(){return(ht&2)!==0&&it!==0?it&-it:B.T!==null?Zo():Ct()}function bf(){if(vn===0)if((it&536870912)===0||ot){var e=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),vn=e}else vn=536870912;return e=mn.current,e!==null&&(e.flags|=32),vn}function cn(e,t,n){(e===_t&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(ki(e,0),Ea(e,it,vn,!1)),ze(e,n),((ht&2)===0||e!==_t)&&(e===_t&&((ht&2)===0&&(Wa|=n),Dt===4&&Ea(e,it,vn,!1)),Vn(e))}function xf(e,t,n){if((ht&6)!==0)throw Error(o(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Se(e,t),i=a?$m(e,t):Ho(e,t,!0),r=a;do{if(i===0){ji&&!a&&Ea(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Qm(n)){i=Ho(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var N=e;i=ml;var Z=N.current.memoizedState.isDehydrated;if(Z&&(ki(N,y).flags|=256),y=Ho(N,y,!1),y!==2){if(Do&&!Z){N.errorRecoveryDisabledLanes|=r,Wa|=r,i=4;break e}r=un,un=i,r!==null&&(un===null?un=r:un.push.apply(un,r))}i=y}if(r=!1,i!==2)continue}}if(i===1){ki(e,0),Ea(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Ea(a,t,vn,!xa);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(i=Sr+300-Ne(),10<i)){if(Ea(a,t,vn,!xa),me(a,0,!0)!==0)break e;ra=t,a.timeoutHandle=$f(wf.bind(null,a,n,un,Er,Mo,t,vn,Wa,Ci,xa,r,"Throttled",-0,0),i);break e}wf(a,n,un,Er,Mo,t,vn,Wa,Ci,xa,r,null,-0,0)}}break}while(!0);Vn(e)}function wf(e,t,n,a,i,r,y,N,Z,ae,ge,we,ie,ue){if(e.timeoutHandle=-1,we=t.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},hf(t,r,we);var Ue=(r&62914560)===r?Sr-Ne():(r&4194048)===r?yf-Ne():0;if(Ue=O0(we,Ue),Ue!==null){ra=r,e.cancelPendingCommit=Ue(Tf.bind(null,e,t,r,n,a,i,y,N,Z,ge,we,null,ie,ue)),Ea(e,r,y,!ae);return}}Tf(e,t,r,n,a,i,y,N,Z)}function Qm(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!hn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ea(e,t,n,a){t&=~Oo,t&=~Wa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-pt(i),y=1<<r;a[r]=-1,i&=~y}n!==0&&Be(e,n,t)}function jr(){return(ht&6)===0?(yl(0),!1):!0}function Lo(){if(nt!==null){if(mt===0)var e=nt.return;else e=nt,Qn=Va=null,Ps(e),vi=null,Pi=0,e=nt;for(;e!==null;)$d(e.alternate,e),e=e.return;nt=null}}function ki(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,m0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ra=0,Lo(),_t=e,nt=n=Fn(e.current,null),it=t,mt=0,yn=null,xa=!1,ji=Se(e,t),Do=!1,Ci=vn=Oo=Wa=wa=Dt=0,un=ml=null,Mo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-pt(a),r=1<<i;t|=e[i],a&=~r}return la=t,Il(),n}function Sf(e,t){$e=null,B.H=sl,t===yi||t===er?(t=Uc(),mt=3):t===Vs?(t=Uc(),mt=4):mt=t===go?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,yn=t,nt===null&&(Dt=1,pr(e,jn(t,e.current)))}function _f(){var e=mn.current;return e===null?!0:(it&4194048)===it?Tn===null:(it&62914560)===it||(it&536870912)!==0?e===Tn:!1}function Ef(){var e=B.H;return B.H=sl,e===null?sl:e}function jf(){var e=B.A;return B.A=Fm,e}function Cr(){Dt=4,xa||(it&4194048)!==it&&mn.current!==null||(ji=!0),(wa&134217727)===0&&(Wa&134217727)===0||_t===null||Ea(_t,it,vn,!1)}function Ho(e,t,n){var a=ht;ht|=2;var i=Ef(),r=jf();(_t!==e||it!==t)&&(Er=null,ki(e,t)),t=!1;var y=Dt;e:do try{if(mt!==0&&nt!==null){var N=nt,Z=yn;switch(mt){case 8:Lo(),y=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var ae=mt;if(mt=0,yn=null,Ti(e,N,Z,ae),n&&ji){y=0;break e}break;default:ae=mt,mt=0,yn=null,Ti(e,N,Z,ae)}}Wm(),y=Dt;break}catch(ge){Sf(e,ge)}while(!0);return t&&e.shellSuspendCounter++,Qn=Va=null,ht=a,B.H=i,B.A=r,nt===null&&(_t=null,it=0,Il()),y}function Wm(){for(;nt!==null;)Cf(nt)}function $m(e,t){var n=ht;ht|=2;var a=Ef(),i=jf();_t!==e||it!==t?(Er=null,_r=Ne()+500,ki(e,t)):ji=Se(e,t);e:do try{if(mt!==0&&nt!==null){t=nt;var r=yn;t:switch(mt){case 1:mt=0,yn=null,Ti(e,t,r,1);break;case 2:case 9:if(Rc(r)){mt=0,yn=null,zf(t);break}t=function(){mt!==2&&mt!==9||_t!==e||(mt=7),Vn(e)},r.then(t,t);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Rc(r)?(mt=0,yn=null,zf(t)):(mt=0,yn=null,Ti(e,t,r,7));break;case 5:var y=null;switch(nt.tag){case 26:y=nt.memoizedState;case 5:case 27:var N=nt;if(y?fh(y):N.stateNode.complete){mt=0,yn=null;var Z=N.sibling;if(Z!==null)nt=Z;else{var ae=N.return;ae!==null?(nt=ae,zr(ae)):nt=null}break t}}mt=0,yn=null,Ti(e,t,r,5);break;case 6:mt=0,yn=null,Ti(e,t,r,6);break;case 8:Lo(),Dt=6;break e;default:throw Error(o(462))}}Jm();break}catch(ge){Sf(e,ge)}while(!0);return Qn=Va=null,B.H=a,B.A=i,ht=n,nt!==null?0:(_t=null,it=0,Il(),Dt)}function Jm(){for(;nt!==null&&!$();)Cf(nt)}function Cf(e){var t=Qd(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?zr(e):nt=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zd(n,t,t.pendingProps,t.type,void 0,it);break;case 11:t=Zd(n,t,t.pendingProps,t.type.render,t.ref,it);break;case 5:Ps(t);default:$d(n,t),t=nt=Ec(t,la),t=Qd(n,t,la)}e.memoizedProps=e.pendingProps,t===null?zr(e):nt=t}function Ti(e,t,n,a){Qn=Va=null,Ps(t),vi=null,Pi=0;var i=t.return;try{if(qm(e,i,t,n,it)){Dt=1,pr(e,jn(n,e.current)),nt=null;return}}catch(r){if(i!==null)throw nt=i,r;Dt=1,pr(e,jn(n,e.current)),nt=null;return}t.flags&32768?(ot||a===1?e=!0:ji||(it&536870912)!==0?e=!1:(xa=e=!0,(a===2||a===9||a===3||a===6)&&(a=mn.current,a!==null&&a.tag===13&&(a.flags|=16384))),kf(t,e)):zr(t)}function zr(e){var t=e;do{if((t.flags&32768)!==0){kf(t,xa);return}e=t.return;var n=Zm(t.alternate,t,la);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Dt===0&&(Dt=5)}function kf(e,t){do{var n=Xm(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Dt=6,nt=null}function Tf(e,t,n,a,i,r,y,N,Z){e.cancelPendingCommit=null;do kr();while(Zt!==0);if((ht&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,r|=Cs,Oe(e,n,r,y,N,Z),e===_t&&(nt=_t=null,it=0),zi=t,_a=e,ra=n,Ro=r,Bo=i,vf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,n0(Ke,function(){return Mf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null,i=L.p,L.p=2,y=ht,ht|=4;try{Gm(e,t,n)}finally{ht=y,L.p=i,B.T=a}}Zt=1,Nf(),Af(),Df()}}function Nf(){if(Zt===1){Zt=0;var e=_a,t=zi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var a=L.p;L.p=2;var i=ht;ht|=4;try{cf(t,e);var r=$o,y=mc(e.containerInfo),N=r.focusedElem,Z=r.selectionRange;if(y!==N&&N&&N.ownerDocument&&pc(N.ownerDocument.documentElement,N)){if(Z!==null&&ws(N)){var ae=Z.start,ge=Z.end;if(ge===void 0&&(ge=ae),"selectionStart"in N)N.selectionStart=ae,N.selectionEnd=Math.min(ge,N.value.length);else{var we=N.ownerDocument||document,ie=we&&we.defaultView||window;if(ie.getSelection){var ue=ie.getSelection(),Ue=N.textContent.length,Fe=Math.min(Z.start,Ue),xt=Z.end===void 0?Fe:Math.min(Z.end,Ue);!ue.extend&&Fe>xt&&(y=xt,xt=Fe,Fe=y);var W=hc(N,Fe),G=hc(N,xt);if(W&&G&&(ue.rangeCount!==1||ue.anchorNode!==W.node||ue.anchorOffset!==W.offset||ue.focusNode!==G.node||ue.focusOffset!==G.offset)){var ne=we.createRange();ne.setStart(W.node,W.offset),ue.removeAllRanges(),Fe>xt?(ue.addRange(ne),ue.extend(G.node,G.offset)):(ne.setEnd(G.node,G.offset),ue.addRange(ne))}}}}for(we=[],ue=N;ue=ue.parentNode;)ue.nodeType===1&&we.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<we.length;N++){var be=we[N];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}qr=!!Wo,$o=Wo=null}finally{ht=i,L.p=a,B.T=n}}e.current=t,Zt=2}}function Af(){if(Zt===2){Zt=0;var e=_a,t=zi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var a=L.p;L.p=2;var i=ht;ht|=4;try{lf(e,t.alternate,t)}finally{ht=i,L.p=a,B.T=n}}Zt=3}}function Df(){if(Zt===4||Zt===3){Zt=0,Te();var e=_a,t=zi,n=ra,a=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Zt=5:(Zt=0,zi=_a=null,Of(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Sa=null),wt(n),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ct,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=B.T,i=L.p,L.p=2,B.T=null;try{for(var r=e.onRecoverableError,y=0;y<a.length;y++){var N=a[y];r(N.value,{componentStack:N.stack})}}finally{B.T=t,L.p=i}}(ra&3)!==0&&kr(),Vn(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Uo?gl++:(gl=0,Uo=e):gl=0,yl(0)}}function Of(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$i(t)))}function kr(){return Nf(),Af(),Df(),Mf()}function Mf(){if(Zt!==5)return!1;var e=_a,t=Ro;Ro=0;var n=wt(ra),a=B.T,i=L.p;try{L.p=32>n?32:n,B.T=null,n=Bo,Bo=null;var r=_a,y=ra;if(Zt=0,zi=_a=null,ra=0,(ht&6)!==0)throw Error(o(331));var N=ht;if(ht|=4,mf(r.current),ff(r,r.current,y,n),ht=N,yl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ct,r)}catch{}return!0}finally{L.p=i,B.T=a,Of(e,t)}}function Rf(e,t,n){t=jn(n,t),t=mo(e.stateNode,t,2),e=ga(e,t,2),e!==null&&(ze(e,2),Vn(e))}function gt(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Sa===null||!Sa.has(a))){e=jn(n,e),n=Rd(2),a=ga(t,n,2),a!==null&&(Bd(n,a,t,e),ze(a,2),Vn(a));break}}t=t.return}}function qo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Km;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Do=!0,i.add(n),e=Pm.bind(null,e,t,n),t.then(e,e))}function Pm(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_t===e&&(it&n)===n&&(Dt===4||Dt===3&&(it&62914560)===it&&300>Ne()-Sr?(ht&2)===0&&ki(e,0):Oo|=n,Ci===it&&(Ci=0)),Vn(e)}function Bf(e,t){t===0&&(t=De()),e=La(e,t),e!==null&&(ze(e,t),Vn(e))}function e0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bf(e,n)}function t0(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Bf(e,n)}function n0(e,t){return ye(e,t)}var Tr=null,Ni=null,Vo=!1,Nr=!1,Yo=!1,ja=0;function Vn(e){e!==Ni&&e.next===null&&(Ni===null?Tr=Ni=e:Ni=Ni.next=e),Nr=!0,Vo||(Vo=!0,i0())}function yl(e,t){if(!Yo&&Nr){Yo=!0;do for(var n=!1,a=Tr;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var y=a.suspendedLanes,N=a.pingedLanes;r=(1<<31-pt(42|e)+1)-1,r&=i&~(y&~N),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,qf(a,r))}else r=it,r=me(a,a===_t?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Se(a,r)||(n=!0,qf(a,r));a=a.next}while(n);Yo=!1}}function a0(){Uf()}function Uf(){Nr=Vo=!1;var e=0;ja!==0&&p0()&&(e=ja);for(var t=Ne(),n=null,a=Tr;a!==null;){var i=a.next,r=Lf(a,t);r===0?(a.next=null,n===null?Tr=i:n.next=i,i===null&&(Ni=n)):(n=a,(e!==0||(r&3)!==0)&&(Nr=!0)),a=i}Zt!==0&&Zt!==5||yl(e),ja!==0&&(ja=0)}function Lf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var y=31-pt(r),N=1<<y,Z=i[y];Z===-1?((N&n)===0||(N&a)!==0)&&(i[y]=Ce(N,t)):Z<=t&&(e.expiredLanes|=N),r&=~N}if(t=_t,n=it,n=me(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&je(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Se(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&je(a),wt(n)){case 2:case 8:n=ut;break;case 32:n=Ke;break;case 268435456:n=an;break;default:n=Ke}return a=Hf.bind(null,e),n=ye(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&je(a),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(kr()&&e.callbackNode!==n)return null;var a=it;return a=me(e,e===_t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(xf(e,a,t),Lf(e,Ne()),e.callbackNode!=null&&e.callbackNode===n?Hf.bind(null,e):null)}function qf(e,t){if(kr())return null;xf(e,t,!0)}function i0(){g0(function(){(ht&6)!==0?ye(Ve,a0):Uf()})}function Zo(){if(ja===0){var e=mi;e===0&&(e=fe,fe<<=1,(fe&261888)===0&&(fe=256)),ja=e}return ja}function Vf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function Yf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function l0(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=Vf((i[Kt]||null).action),y=a.submitter;y&&(t=(t=y[Kt]||null)?Vf(t.formAction):y.getAttribute("formAction"),t!==null&&(r=t,y=null));var N=new Yl("action","action",null,a,i);e.push({event:N,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ja!==0){var Z=y?Yf(i,y):new FormData(i);oo(n,{pending:!0,data:Z,method:i.method,action:r},null,Z)}}else typeof r=="function"&&(N.preventDefault(),Z=y?Yf(i,y):new FormData(i),oo(n,{pending:!0,data:Z,method:i.method,action:r},r,Z))},currentTarget:i}]})}}for(var Xo=0;Xo<js.length;Xo++){var Go=js[Xo],r0=Go.toLowerCase(),s0=Go[0].toUpperCase()+Go.slice(1);Mn(r0,"on"+s0)}Mn(vc,"onAnimationEnd"),Mn(bc,"onAnimationIteration"),Mn(xc,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(_m,"onTransitionRun"),Mn(Em,"onTransitionStart"),Mn(jm,"onTransitionCancel"),Mn(wc,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var y=a.length-1;0<=y;y--){var N=a[y],Z=N.instance,ae=N.currentTarget;if(N=N.listener,Z!==r&&i.isPropagationStopped())break e;r=N,i.currentTarget=ae;try{r(i)}catch(ge){Gl(ge)}i.currentTarget=null,r=Z}else for(y=0;y<a.length;y++){if(N=a[y],Z=N.instance,ae=N.currentTarget,N=N.listener,Z!==r&&i.isPropagationStopped())break e;r=N,i.currentTarget=ae;try{r(i)}catch(ge){Gl(ge)}i.currentTarget=null,r=Z}}}}function at(e,t){var n=t[ke];n===void 0&&(n=t[ke]=new Set);var a=e+"__bubble";n.has(a)||(Xf(t,e,2,!1),n.add(a))}function Io(e,t,n){var a=0;t&&(a|=4),Xf(n,e,a,t)}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Ar]){e[Ar]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(o0.has(n)||Io(n,!1,e),Io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ar]||(t[Ar]=!0,Io("selectionchange",!1,t))}}function Xf(e,t,n,a){switch(bh(t)){case 2:var i=B0;break;case 8:i=U0;break;default:i=ou}n=i.bind(null,t,n,e),i=void 0,!fs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ko(e,t,n,a,i){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var N=a.stateNode.containerInfo;if(N===i)break;if(y===4)for(y=a.return;y!==null;){var Z=y.tag;if((Z===3||Z===4)&&y.stateNode.containerInfo===i)return;y=y.return}for(;N!==null;){if(y=fn(N),y===null)return;if(Z=y.tag,Z===5||Z===6||Z===26||Z===27){a=r=y;continue e}N=N.parentNode}}a=a.return}Ku(function(){var ae=r,ge=cs(n),we=[];e:{var ie=Sc.get(e);if(ie!==void 0){var ue=Yl,Ue=e;switch(e){case"keypress":if(ql(n)===0)break e;case"keydown":case"keyup":ue=tm;break;case"focusin":Ue="focus",ue=gs;break;case"focusout":Ue="blur",ue=gs;break;case"beforeblur":case"afterblur":ue=gs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=im;break;case vc:case bc:case xc:ue=Ip;break;case wc:ue=rm;break;case"scroll":case"scrollend":ue=Vp;break;case"wheel":ue=om;break;case"copy":case"cut":case"paste":ue=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Pu;break;case"toggle":case"beforetoggle":ue=cm}var Fe=(t&4)!==0,xt=!Fe&&(e==="scroll"||e==="scrollend"),W=Fe?ie!==null?ie+"Capture":null:ie;Fe=[];for(var G=ae,ne;G!==null;){var be=G;if(ne=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ne===null||W===null||(be=qi(G,W),be!=null&&Fe.push(bl(G,be,ne))),xt)break;G=G.return}0<Fe.length&&(ie=new ue(ie,Ue,null,n,ge),we.push({event:ie,listeners:Fe}))}}if((t&7)===0){e:{if(ie=e==="mouseover"||e==="pointerover",ue=e==="mouseout"||e==="pointerout",ie&&n!==us&&(Ue=n.relatedTarget||n.fromElement)&&(fn(Ue)||Ue[oe]))break e;if((ue||ie)&&(ie=ge.window===ge?ge:(ie=ge.ownerDocument)?ie.defaultView||ie.parentWindow:window,ue?(Ue=n.relatedTarget||n.toElement,ue=ae,Ue=Ue?fn(Ue):null,Ue!==null&&(xt=c(Ue),Fe=Ue.tag,Ue!==xt||Fe!==5&&Fe!==27&&Fe!==6)&&(Ue=null)):(ue=null,Ue=ae),ue!==Ue)){if(Fe=$u,be="onMouseLeave",W="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=Pu,be="onPointerLeave",W="onPointerEnter",G="pointer"),xt=ue==null?ie:Zn(ue),ne=Ue==null?ie:Zn(Ue),ie=new Fe(be,G+"leave",ue,n,ge),ie.target=xt,ie.relatedTarget=ne,be=null,fn(ge)===ae&&(Fe=new Fe(W,G+"enter",Ue,n,ge),Fe.target=ne,Fe.relatedTarget=xt,be=Fe),xt=be,ue&&Ue)t:{for(Fe=u0,W=ue,G=Ue,ne=0,be=W;be;be=Fe(be))ne++;be=0;for(var Xe=G;Xe;Xe=Fe(Xe))be++;for(;0<ne-be;)W=Fe(W),ne--;for(;0<be-ne;)G=Fe(G),be--;for(;ne--;){if(W===G||G!==null&&W===G.alternate){Fe=W;break t}W=Fe(W),G=Fe(G)}Fe=null}else Fe=null;ue!==null&&Gf(we,ie,ue,Fe,!1),Ue!==null&&xt!==null&&Gf(we,xt,Ue,Fe,!0)}}e:{if(ie=ae?Zn(ae):window,ue=ie.nodeName&&ie.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ie.type==="file")var dt=sc;else if(lc(ie))if(oc)dt=xm;else{dt=vm;var Ze=ym}else ue=ie.nodeName,!ue||ue.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ae&&os(ae.elementType)&&(dt=sc):dt=bm;if(dt&&(dt=dt(e,ae))){rc(we,dt,n,ge);break e}Ze&&Ze(e,ie,ae),e==="focusout"&&ae&&ie.type==="number"&&ae.memoizedProps.value!=null&&ss(ie,"number",ie.value)}switch(Ze=ae?Zn(ae):window,e){case"focusin":(lc(Ze)||Ze.contentEditable==="true")&&(si=Ze,Ss=ae,Ki=null);break;case"focusout":Ki=Ss=si=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,gc(we,n,ge);break;case"selectionchange":if(Sm)break;case"keydown":case"keyup":gc(we,n,ge)}var Pe;if(vs)e:{switch(e){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else ri?ac(e,n)&&(lt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(lt="onCompositionStart");lt&&(ec&&n.locale!=="ko"&&(ri||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&ri&&(Pe=Qu()):(ua=ge,hs="value"in ua?ua.value:ua.textContent,ri=!0)),Ze=Dr(ae,lt),0<Ze.length&&(lt=new Ju(lt,e,null,n,ge),we.push({event:lt,listeners:Ze}),Pe?lt.data=Pe:(Pe=ic(n),Pe!==null&&(lt.data=Pe)))),(Pe=fm?hm(e,n):pm(e,n))&&(lt=Dr(ae,"onBeforeInput"),0<lt.length&&(Ze=new Ju("onBeforeInput","beforeinput",null,n,ge),we.push({event:Ze,listeners:lt}),Ze.data=Pe)),l0(we,e,ae,n,ge)}Zf(we,t)})}function bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=qi(e,n),i!=null&&a.unshift(bl(e,i,r)),i=qi(e,t),i!=null&&a.push(bl(e,i,r))),e.tag===3)return a;e=e.return}return[]}function u0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gf(e,t,n,a,i){for(var r=t._reactName,y=[];n!==null&&n!==a;){var N=n,Z=N.alternate,ae=N.stateNode;if(N=N.tag,Z!==null&&Z===a)break;N!==5&&N!==26&&N!==27||ae===null||(Z=ae,i?(ae=qi(n,r),ae!=null&&y.unshift(bl(n,ae,Z))):i||(ae=qi(n,r),ae!=null&&y.push(bl(n,ae,Z)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var c0=/\r\n?/g,d0=/\u0000|\uFFFD/g;function If(e){return(typeof e=="string"?e:""+e).replace(c0,`
`).replace(d0,"")}function Ff(e,t){return t=If(t),If(e)===t}function bt(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ai(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ai(e,""+a);break;case"className":Bl(e,"class",a);break;case"tabIndex":Bl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Bl(e,n,a);break;case"style":Iu(e,a,r);break;case"data":if(t!=="object"){Bl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ll(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&bt(e,t,"name",i.name,i,null),bt(e,t,"formEncType",i.formEncType,i,null),bt(e,t,"formMethod",i.formMethod,i,null),bt(e,t,"formTarget",i.formTarget,i,null)):(bt(e,t,"encType",i.encType,i,null),bt(e,t,"method",i.method,i,null),bt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ll(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Gn);break;case"onScroll":a!=null&&at("scroll",e);break;case"onScrollEnd":a!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ll(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":at("beforetoggle",e),at("toggle",e),Rl(e,"popover",a);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Rl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Hp.get(n)||n,Rl(e,n,a))}}function Qo(e,t,n,a,i,r){switch(n){case"style":Iu(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ai(e,a):(typeof a=="number"||typeof a=="bigint")&&ai(e,""+a);break;case"onScroll":a!=null&&at("scroll",e);break;case"onScrollEnd":a!=null&&at("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uu.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[Kt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Rl(e,n,a)}}}function Jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var y=n[r];if(y!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:bt(e,t,r,y,n,null)}}i&&bt(e,t,"srcSet",n.srcSet,n,null),a&&bt(e,t,"src",n.src,n,null);return;case"input":at("invalid",e);var N=r=y=i=null,Z=null,ae=null;for(a in n)if(n.hasOwnProperty(a)){var ge=n[a];if(ge!=null)switch(a){case"name":i=ge;break;case"type":y=ge;break;case"checked":Z=ge;break;case"defaultChecked":ae=ge;break;case"value":r=ge;break;case"defaultValue":N=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(o(137,t));break;default:bt(e,t,a,ge,n,null)}}Yu(e,r,N,Z,ae,y,i,!1);return;case"select":at("invalid",e),a=y=r=null;for(i in n)if(n.hasOwnProperty(i)&&(N=n[i],N!=null))switch(i){case"value":r=N;break;case"defaultValue":y=N;break;case"multiple":a=N;default:bt(e,t,i,N,n,null)}t=r,n=y,e.multiple=!!a,t!=null?ni(e,!!a,t,!1):n!=null&&ni(e,!!a,n,!0);return;case"textarea":at("invalid",e),r=i=a=null;for(y in n)if(n.hasOwnProperty(y)&&(N=n[y],N!=null))switch(y){case"value":a=N;break;case"defaultValue":i=N;break;case"children":r=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:bt(e,t,y,N,n,null)}Xu(e,a,i,r);return;case"option":for(Z in n)n.hasOwnProperty(Z)&&(a=n[Z],a!=null)&&(Z==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":bt(e,t,Z,a,n,null));return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(a=0;a<vl.length;a++)at(vl[a],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in n)if(n.hasOwnProperty(ae)&&(a=n[ae],a!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:bt(e,t,ae,a,n,null)}return;default:if(os(t)){for(ge in n)n.hasOwnProperty(ge)&&(a=n[ge],a!==void 0&&Qo(e,t,ge,a,n,void 0));return}}for(N in n)n.hasOwnProperty(N)&&(a=n[N],a!=null&&bt(e,t,N,a,n,null))}function f0(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,y=null,N=null,Z=null,ae=null,ge=null;for(ue in n){var we=n[ue];if(n.hasOwnProperty(ue)&&we!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Z=we;default:a.hasOwnProperty(ue)||bt(e,t,ue,null,a,we)}}for(var ie in a){var ue=a[ie];if(we=n[ie],a.hasOwnProperty(ie)&&(ue!=null||we!=null))switch(ie){case"type":r=ue;break;case"name":i=ue;break;case"checked":ae=ue;break;case"defaultChecked":ge=ue;break;case"value":y=ue;break;case"defaultValue":N=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(o(137,t));break;default:ue!==we&&bt(e,t,ie,ue,a,we)}}rs(e,y,N,Z,ae,ge,r,i);return;case"select":ue=y=N=ie=null;for(r in n)if(Z=n[r],n.hasOwnProperty(r)&&Z!=null)switch(r){case"value":break;case"multiple":ue=Z;default:a.hasOwnProperty(r)||bt(e,t,r,null,a,Z)}for(i in a)if(r=a[i],Z=n[i],a.hasOwnProperty(i)&&(r!=null||Z!=null))switch(i){case"value":ie=r;break;case"defaultValue":N=r;break;case"multiple":y=r;default:r!==Z&&bt(e,t,i,r,a,Z)}t=N,n=y,a=ue,ie!=null?ni(e,!!n,ie,!1):!!a!=!!n&&(t!=null?ni(e,!!n,t,!0):ni(e,!!n,n?[]:"",!1));return;case"textarea":ue=ie=null;for(N in n)if(i=n[N],n.hasOwnProperty(N)&&i!=null&&!a.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:bt(e,t,N,null,a,i)}for(y in a)if(i=a[y],r=n[y],a.hasOwnProperty(y)&&(i!=null||r!=null))switch(y){case"value":ie=i;break;case"defaultValue":ue=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(o(91));break;default:i!==r&&bt(e,t,y,i,a,r)}Zu(e,ie,ue);return;case"option":for(var Ue in n)ie=n[Ue],n.hasOwnProperty(Ue)&&ie!=null&&!a.hasOwnProperty(Ue)&&(Ue==="selected"?e.selected=!1:bt(e,t,Ue,null,a,ie));for(Z in a)ie=a[Z],ue=n[Z],a.hasOwnProperty(Z)&&ie!==ue&&(ie!=null||ue!=null)&&(Z==="selected"?e.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":bt(e,t,Z,ie,a,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in n)ie=n[Fe],n.hasOwnProperty(Fe)&&ie!=null&&!a.hasOwnProperty(Fe)&&bt(e,t,Fe,null,a,ie);for(ae in a)if(ie=a[ae],ue=n[ae],a.hasOwnProperty(ae)&&ie!==ue&&(ie!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(o(137,t));break;default:bt(e,t,ae,ie,a,ue)}return;default:if(os(t)){for(var xt in n)ie=n[xt],n.hasOwnProperty(xt)&&ie!==void 0&&!a.hasOwnProperty(xt)&&Qo(e,t,xt,void 0,a,ie);for(ge in a)ie=a[ge],ue=n[ge],!a.hasOwnProperty(ge)||ie===ue||ie===void 0&&ue===void 0||Qo(e,t,ge,ie,a,ue);return}}for(var W in n)ie=n[W],n.hasOwnProperty(W)&&ie!=null&&!a.hasOwnProperty(W)&&bt(e,t,W,null,a,ie);for(we in a)ie=a[we],ue=n[we],!a.hasOwnProperty(we)||ie===ue||ie==null&&ue==null||bt(e,t,we,ie,a,ue)}function Kf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,y=i.initiatorType,N=i.duration;if(r&&N&&Kf(y)){for(y=0,N=i.responseEnd,a+=1;a<n.length;a++){var Z=n[a],ae=Z.startTime;if(ae>N)break;var ge=Z.transferSize,we=Z.initiatorType;ge&&Kf(we)&&(Z=Z.responseEnd,y+=ge*(Z<N?1:(N-ae)/(Z-ae)))}if(--a,t+=8*(r+y)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wo=null,$o=null;function Or(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=null;function p0(){var e=window.event;return e&&e.type==="popstate"?e===Po?!1:(Po=e,!0):(Po=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,m0=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(e){return Jf.resolve(null).then(e).catch(y0)}:$f;function y0(e){setTimeout(function(){throw e})}function Ca(e){return e==="head"}function Pf(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Mi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")xl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xl(n);for(var r=n.firstChild;r;){var y=r.nextSibling,N=r.nodeName;r[Ie]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=y}}else n==="body"&&xl(e.ownerDocument.body);n=i}while(n);Mi(t)}function eh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function eu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":eu(n),St(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function v0(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ie])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function b0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function th(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nn(e.nextSibling),e===null))return null;return e}function tu(e){return e.data==="$?"||e.data==="$~"}function nu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function x0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var au=null;function nh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ah(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ih(e,t,n){switch(t=Or(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function xl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);St(e)}var An=new Map,lh=new Set;function Mr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sa=L.d;L.d={f:w0,r:S0,D:_0,C:E0,L:j0,m:C0,X:k0,S:z0,M:T0};function w0(){var e=sa.f(),t=jr();return e||t}function S0(e){var t=wn(e);t!==null&&t.tag===5&&t.type==="form"?wd(t):sa.r(e)}var Ai=typeof document>"u"?null:document;function rh(e,t,n){var a=Ai;if(a&&typeof t=="string"&&t){var i=_n(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),lh.has(i)||(lh.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Jt(t,"link",e),Gt(t),a.head.appendChild(t)))}}function _0(e){sa.D(e),rh("dns-prefetch",e,null)}function E0(e,t){sa.C(e,t),rh("preconnect",e,t)}function j0(e,t,n){sa.L(e,t,n);var a=Ai;if(a&&e&&t){var i='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+_n(n.imageSizes)+'"]')):i+='[href="'+_n(e)+'"]';var r=i;switch(t){case"style":r=Di(e);break;case"script":r=Oi(e)}An.has(r)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(wl(r))||t==="script"&&a.querySelector(Sl(r))||(t=a.createElement("link"),Jt(t,"link",e),Gt(t),a.head.appendChild(t)))}}function C0(e,t){sa.m(e,t);var n=Ai;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+_n(a)+'"][href="'+_n(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Oi(e)}if(!An.has(r)&&(e=C({rel:"modulepreload",href:e},t),An.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sl(r)))return}a=n.createElement("link"),Jt(a,"link",e),Gt(a),n.head.appendChild(a)}}}function z0(e,t,n){sa.S(e,t,n);var a=Ai;if(a&&e){var i=Un(a).hoistableStyles,r=Di(e);t=t||"default";var y=i.get(r);if(!y){var N={loading:0,preload:null};if(y=a.querySelector(wl(r)))N.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(r))&&iu(e,n);var Z=y=a.createElement("link");Gt(Z),Jt(Z,"link",e),Z._p=new Promise(function(ae,ge){Z.onload=ae,Z.onerror=ge}),Z.addEventListener("load",function(){N.loading|=1}),Z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Rr(y,t,a)}y={type:"stylesheet",instance:y,count:1,state:N},i.set(r,y)}}}function k0(e,t){sa.X(e,t);var n=Ai;if(n&&e){var a=Un(n).hoistableScripts,i=Oi(e),r=a.get(i);r||(r=n.querySelector(Sl(i)),r||(e=C({src:e,async:!0},t),(t=An.get(i))&&lu(e,t),r=n.createElement("script"),Gt(r),Jt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function T0(e,t){sa.M(e,t);var n=Ai;if(n&&e){var a=Un(n).hoistableScripts,i=Oi(e),r=a.get(i);r||(r=n.querySelector(Sl(i)),r||(e=C({src:e,async:!0,type:"module"},t),(t=An.get(i))&&lu(e,t),r=n.createElement("script"),Gt(r),Jt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function sh(e,t,n,a){var i=(i=Re.current)?Mr(i):null;if(!i)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Di(n.href),n=Un(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Di(n.href);var r=Un(i).hoistableStyles,y=r.get(e);if(y||(i=i.ownerDocument||i,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,y),(r=i.querySelector(wl(e)))&&!r._p&&(y.instance=r,y.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),r||N0(i,e,n,y.state))),t&&a===null)throw Error(o(528,""));return y}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Oi(n),n=Un(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Di(e){return'href="'+_n(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function oh(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function N0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Jt(t,"link",n),Gt(t),e.head.appendChild(t))}function Oi(e){return'[src="'+_n(e)+'"]'}function Sl(e){return"script[async]"+e}function uh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(a)return t.instance=a,Gt(a),a;var i=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Gt(a),Jt(a,"style",i),Rr(a,n.precedence,e),t.instance=a;case"stylesheet":i=Di(n.href);var r=e.querySelector(wl(i));if(r)return t.state.loading|=4,t.instance=r,Gt(r),r;a=oh(n),(i=An.get(i))&&iu(a,i),r=(e.ownerDocument||e).createElement("link"),Gt(r);var y=r;return y._p=new Promise(function(N,Z){y.onload=N,y.onerror=Z}),Jt(r,"link",a),t.state.loading|=4,Rr(r,n.precedence,e),t.instance=r;case"script":return r=Oi(n.src),(i=e.querySelector(Sl(r)))?(t.instance=i,Gt(i),i):(a=n,(i=An.get(r))&&(a=C({},n),lu(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Gt(i),Jt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Rr(a,n.precedence,e));return t.instance}function Rr(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,y=0;y<a.length;y++){var N=a[y];if(N.dataset.precedence===t)r=N;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Br=null;function ch(e,t,n){if(Br===null){var a=new Map,i=Br=new Map;i.set(n,a)}else i=Br,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Ie]||r[Ut]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var y=r.getAttribute(t)||"";y=e+y;var N=a.get(y);N?N.push(r):a.set(y,[r])}}return a}function dh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function A0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function D0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Di(a.href),r=t.querySelector(wl(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ur.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Gt(r);return}r=t.ownerDocument||t,a=oh(a),(i=An.get(i))&&iu(a,i),r=r.createElement("link"),Gt(r);var y=r;y._p=new Promise(function(N,Z){y.onload=N,y.onerror=Z}),Jt(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ur.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ru=0;function O0(e,t){return e.stylesheets&&e.count===0&&Hr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&ru===0&&(ru=62500*h0());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>ru?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Ur(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lr=null;function Hr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lr=new Map,t.forEach(M0,e),Lr=null,Ur.call(e))}function M0(e,t){if(!(t.state.loading&4)){var n=Lr.get(e);if(n)var a=n.get(null);else{n=new Map,Lr.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var y=i[r];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),a=y)}a&&n.set(null,a)}i=t.instance,y=i.getAttribute("data-precedence"),r=n.get(y)||a,r===a&&n.set(null,i),n.set(y,i),this.count++,a=Ur.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var _l={$$typeof:O,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function R0(e,t,n,a,i,r,y,N,Z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function hh(e,t,n,a,i,r,y,N,Z,ae,ge,we){return e=new R0(e,t,n,y,Z,ae,ge,we,N),t=1,r===!0&&(t|=24),r=pn(3,null,null,t),e.current=r,r.stateNode=e,t=Ls(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Ys(r),e}function ph(e){return e?(e=ci,e):ci}function mh(e,t,n,a,i,r){i=ph(i),a.context===null?a.context=i:a.pendingContext=i,a=ma(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=ga(e,a,t),n!==null&&(cn(n,e,t),tl(n,e,t))}function gh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function su(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(e.tag===13||e.tag===31){var t=La(e,67108864);t!==null&&cn(t,e,67108864),su(e,67108864)}}function vh(e){if(e.tag===13||e.tag===31){var t=bn();t=Bt(t);var n=La(e,t);n!==null&&cn(n,e,t),su(e,t)}}var qr=!0;function B0(e,t,n,a){var i=B.T;B.T=null;var r=L.p;try{L.p=2,ou(e,t,n,a)}finally{L.p=r,B.T=i}}function U0(e,t,n,a){var i=B.T;B.T=null;var r=L.p;try{L.p=8,ou(e,t,n,a)}finally{L.p=r,B.T=i}}function ou(e,t,n,a){if(qr){var i=uu(a);if(i===null)Ko(e,t,a,Vr,n),xh(e,a);else if(H0(i,e,t,n,a))a.stopPropagation();else if(xh(e,a),t&4&&-1<L0.indexOf(e)){for(;i!==null;){var r=wn(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var y=pe(r.pendingLanes);if(y!==0){var N=r;for(N.pendingLanes|=2,N.entangledLanes|=2;y;){var Z=1<<31-pt(y);N.entanglements[1]|=Z,y&=~Z}Vn(r),(ht&6)===0&&(_r=Ne()+500,yl(0))}}break;case 31:case 13:N=La(r,2),N!==null&&cn(N,r,2),jr(),su(r,2)}if(r=uu(a),r===null&&Ko(e,t,a,Vr,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else Ko(e,t,a,null,n)}}function uu(e){return e=cs(e),cu(e)}var Vr=null;function cu(e){if(Vr=null,e=fn(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vr=e,null}function bh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Ve:return 2;case ut:return 8;case Ke:case Yt:return 32;case an:return 268435456;default:return 32}default:return 32}}var du=!1,za=null,ka=null,Ta=null,El=new Map,jl=new Map,Na=[],L0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xh(e,t){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function Cl(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=wn(t),t!==null&&yh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function H0(e,t,n,a,i){switch(t){case"focusin":return za=Cl(za,e,t,n,a,i),!0;case"dragenter":return ka=Cl(ka,e,t,n,a,i),!0;case"mouseover":return Ta=Cl(Ta,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return El.set(r,Cl(El.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,jl.set(r,Cl(jl.get(r)||null,e,t,n,a,i)),!0}return!1}function wh(e){var t=fn(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,yt(e.priority,function(){vh(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,yt(e.priority,function(){vh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);us=a,n.target.dispatchEvent(a),us=null}else return t=wn(n),t!==null&&yh(t),e.blockedOn=n,!1;t.shift()}return!0}function Sh(e,t,n){Yr(e)&&n.delete(t)}function q0(){du=!1,za!==null&&Yr(za)&&(za=null),ka!==null&&Yr(ka)&&(ka=null),Ta!==null&&Yr(Ta)&&(Ta=null),El.forEach(Sh),jl.forEach(Sh)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,du||(du=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,q0)))}var Xr=null;function _h(e){Xr!==e&&(Xr=e,_.unstable_scheduleCallback(_.unstable_NormalPriority,function(){Xr===e&&(Xr=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(cu(a||n)===null)continue;break}var r=wn(n);r!==null&&(e.splice(t,3),t-=3,oo(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Mi(e){function t(Z){return Zr(Z,e)}za!==null&&Zr(za,e),ka!==null&&Zr(ka,e),Ta!==null&&Zr(Ta,e),El.forEach(t),jl.forEach(t);for(var n=0;n<Na.length;n++){var a=Na[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Na.length&&(n=Na[0],n.blockedOn===null);)wh(n),n.blockedOn===null&&Na.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],y=i[Kt]||null;if(typeof r=="function")y||_h(n);else if(y){var N=null;if(r&&r.hasAttribute("formAction")){if(i=r,y=r[Kt]||null)N=y.formAction;else if(cu(i)!==null)continue}else N=y.action;typeof N=="function"?n[a+1]=N:(n.splice(a,3),a-=3),_h(n)}}}function Eh(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(y){return i=y})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function fu(e){this._internalRoot=e}Gr.prototype.render=fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,a=bn();mh(n,a,e,t,null,null)},Gr.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),jr(),t[oe]=null}};function Gr(e){this._internalRoot=e}Gr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Na.length&&t!==0&&t<Na[n].priority;n++);Na.splice(n,0,e),n===0&&wh(e)}};var jh=l.version;if(jh!=="19.2.4")throw Error(o(527,jh,"19.2.4"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=f(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var V0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ir.isDisabled&&Ir.supportsFiber)try{ct=Ir.inject(V0),jt=Ir}catch{}}return kl.createRoot=function(e,t){if(!g(e))throw Error(o(299));var n=!1,a="",i=Ad,r=Dd,y=Od;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=hh(e,1,!1,null,null,n,a,null,i,r,y,Eh),e[oe]=t.current,Fo(e),new fu(t)},kl.hydrateRoot=function(e,t,n){if(!g(e))throw Error(o(299));var a=!1,i="",r=Ad,y=Dd,N=Od,Z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.formState!==void 0&&(Z=n.formState)),t=hh(e,1,!0,t,n??null,a,i,Z,r,y,N,Eh),t.context=ph(null),n=t.current,a=bn(),a=Bt(a),i=ma(a),i.callback=null,ga(n,i,a),n=a,t.current.lanes=n,ze(t,n),Vn(t),e[oe]=t.current,Fo(e),new Gr(t)},kl.version="19.2.4",kl}var Bh;function $0(){if(Bh)return mu.exports;Bh=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(l){console.error(l)}}return _(),mu.exports=W0(),mu.exports}var J0=$0();const Xt=["Blue","Green","Pink","Red","Turquoise","Yellow"];const cp=(..._)=>_.filter((l,s,o)=>!!l&&l.trim()!==""&&o.indexOf(l)===s).join(" ").trim();const P0=_=>_.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const eg=_=>_.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,s,o)=>o?o.toUpperCase():s.toLowerCase());const Uh=_=>{const l=eg(_);return l.charAt(0).toUpperCase()+l.slice(1)};var tg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ng=_=>{for(const l in _)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const ag=Ee.forwardRef(({color:_="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:g="",children:c,iconNode:m,...p},d)=>Ee.createElement("svg",{ref:d,...tg,width:l,height:l,stroke:_,strokeWidth:o?Number(s)*24/Number(l):s,className:cp("lucide",g),...!c&&!ng(p)&&{"aria-hidden":"true"},...p},[...m.map(([f,w])=>Ee.createElement(f,w)),...Array.isArray(c)?c:[c]]));const rt=(_,l)=>{const s=Ee.forwardRef(({className:o,...g},c)=>Ee.createElement(ag,{ref:c,iconNode:l,className:cp(`lucide-${P0(Uh(_))}`,`lucide-${_}`,o),...g}));return s.displayName=Uh(_),s};const ig=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],lg=rt("arrow-left-right",ig);const rg=[["path",{d:"M17 12H3",key:"8awo09"}],["path",{d:"m11 18 6-6-6-6",key:"8c2y43"}],["path",{d:"M21 5v14",key:"nzette"}]],sg=rt("arrow-right-to-line",rg);const og=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ug=rt("bot",og);const cg=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],dg=rt("chart-no-axes-column",cg);const fg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dl=rt("check",fg);const hg=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lh=rt("chevron-down",hg);const pg=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hh=rt("chevron-right",pg);const mg=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dp=rt("copy",mg);const gg=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],yg=rt("corner-down-right",gg);const vg=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],bu=rt("cpu",vg);const bg=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bi=rt("download",bg);const xg=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qh=rt("external-link",xg);const wg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sg=rt("eye",wg);const _g=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Eg=rt("file-braces",_g);const jg=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],fp=rt("file-headphone",jg);const Cg=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],hp=rt("folder-open",Cg);const zg=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],kg=rt("grip-vertical",zg);const Tg=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Vh=rt("hard-drive",Tg);const Ng=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pp=rt("info",Ng);const Ag=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Dg=rt("layout-grid",Ag);const Og=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Mg=rt("layout-list",Og);const Rg=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Bg=rt("list",Rg);const Ug=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Lg=rt("loader",Ug);const Hg=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Yh=rt("pause",Hg);const qg=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ui=rt("play",qg);const Vg=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],mp=rt("repeat",Vg);const Yg=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Zh=rt("rotate-ccw",Yg);const Zg=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xh=rt("save",Zg);const Xg=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Gg=rt("scissors",Xg);const Ig=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],es=rt("square",Ig);const Fg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Li=rt("trash-2",Fg);const Kg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oa=rt("triangle-alert",Kg);const Qg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wg=rt("upload",Qg);const $g=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xn=rt("x",$g);const Jg=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Pg=rt("zoom-in",Jg);const ey=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ty=rt("zoom-out",ey),Hi=({color:_="currentColor",size:l,className:s,style:o})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 66.73 64.39",width:l,height:l,className:s,style:o,fill:_,children:u.jsx("path",{d:"M63.39,27.9l-27.82,6.26,31.15-19.42-3.65-7.62-30.47,10.63,16-10.67-.28-.42s-.05-.05-.05-.08l-.4-.6s0,.08-.02.11c-.05.09-.18.13-.27.07-.09-.05-.13-.18-.07-.27.05-.09.16-.11.25-.07l-3.88-5.82L0,29.27l3.76,7.55,3.9-1.36c.04-.07.12-.12.2-.1.01,0,.01.01.02.02l21.94-7.66-20.02,12.48,3.18,7.76,17.56-3.95-6.59,3.26,2.35,8.04,9.07-.99-5.06,2.38.16.34s.09-.01.13,0c.16.07.23.26.16.42-.01.03-.04.04-.06.06l1.27,2.71c.09.08.14.18.14.3l1.2,2.55s.09,0,.12.02c.13.08.18.24.1.38,0,.01-.02.01-.03.02l.42.9,3.77-1.77s-.05,0-.07,0c-.11-.06-.15-.21-.08-.32s.21-.15.31-.08c.1.06.13.18.09.29l.77-.36c-.07,0-.13,0-.19-.03-.16-.1-.22-.3-.12-.46.09-.16.3-.22.46-.12.16.09.22.3.12.46-.02.03-.05.03-.07.05l1.15-.54c-.02-.06-.02-.13.01-.19.06-.11.2-.14.31-.08.04.02.05.06.07.09l2.09-.98s0,0,0,0c.06-.11.18-.14.3-.13l19.18-9.02-2.27-8.07-10.53,1.15,16.96-8.39-2.82-7.96Z"})}),ny=({currentTape:_,isAllView:l,onSelect:s,onToggleAllView:o,onDropOnTape:g,onDropOnViewAll:c})=>{const m=d=>{d.dataTransfer.types.includes("application/x-spotykach-file-id")&&(d.preventDefault(),d.dataTransfer.dropEffect=d.ctrlKey||d.altKey?"copy":"move")},p=(d,f)=>{d.preventDefault();const w=d.dataTransfer.getData("application/x-spotykach-file-id"),C=d.dataTransfer.getData("application/x-spotykach-source"),k=d.ctrlKey||d.altKey;w&&g(f,w,C,k)};return u.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-synthux-tapebg h-full border-r border-gray-800 w-24 items-center",children:[Xt.map(d=>{const f=!l&&_===d,w=`var(--color-synthux-${ay(d)})`;return u.jsxs("button",{onClick:()=>s(d),onDragOver:m,onDrop:C=>p(C,d),className:`
                            w-12 h-12 relative group transition-all duration-300 rounded-full flex items-center justify-center
                            ${f?"z-10":"opacity-70 hover:opacity-100 hover:scale-105"}
                        `,title:`Tape ${d}`,children:[f&&u.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center pointer-events-none",style:{filter:"blur(6px)",opacity:.8,animation:"pulse-glow-anim 3s ease-in-out infinite","--pulse-color":w},children:u.jsx(Hi,{color:w,className:"w-full h-full",style:{transform:"scale(1.25)"}})}),u.jsx("div",{className:"w-full h-full relative z-20 flex items-center justify-center transition-all duration-300",children:u.jsx(Hi,{color:w,className:"w-full h-full",style:{transform:f?"scale(1.1)":"scale(1)"}})})]},d)}),u.jsx("div",{className:"w-full border-t border-gray-800 my-2 pt-2 flex justify-center",children:u.jsxs("button",{onClick:o,onDragOver:m,onDrop:d=>{d.preventDefault();const f=d.dataTransfer.getData("application/x-spotykach-file-id"),w=d.dataTransfer.getData("application/x-spotykach-source"),C=d.ctrlKey||d.altKey;f&&c(f,w,C)},className:`
                        w-12 h-12 relative group transition-all duration-300 rounded-xl flex items-center justify-center
                         ${l?"bg-white text-black z-10":"text-gray-500 hover:text-white hover:bg-white/10"}
                    `,title:"View All Tapes",children:[u.jsx(Dg,{size:24}),u.jsx("span",{className:"absolute left-full ml-4 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:"View All"})]})}),u.jsx("div",{className:"mt-auto text-[10px] text-synthux-yellow font-mono text-center uppercase tracking-widest pt-4 border-t border-gray-800 w-full",children:"Select Tape"})]})},ay=_=>{switch(_){case"Red":return"red";case"Blue":return"blue";case"Green":return"green";case"Pink":return"pink";case"Yellow":return"yellow";case"Turquoise":return"turquoise"}return"blue"},iy="/spotykach_WAV_builder/assets/Spotykach_Logo-iL2WXhuM.webp",Gh="/spotykach_WAV_builder/assets/spotykachtapeicon-Csu3Rwjb.svg",ly="modulepreload",ry=function(_){return"/spotykach_WAV_builder/"+_},Ih={},ts=function(l,s,o){let g=Promise.resolve();if(s&&s.length>0){let f=function(w){return Promise.all(w.map(C=>Promise.resolve(C).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};var m=f;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),d=p?.nonce||p?.getAttribute("nonce");g=f(s.map(w=>{if(w=ry(w),w in Ih)return;Ih[w]=!0;const C=w.endsWith(".css"),k=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${k}`))return;const b=document.createElement("link");if(b.rel=C?"stylesheet":ly,C||(b.as="script"),b.crossOrigin="",b.href=w,d&&b.setAttribute("nonce",d),document.head.appendChild(b),C)return new Promise((S,v)=>{b.addEventListener("load",S),b.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${w}`)))})}))}function c(p){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=p,window.dispatchEvent(d),!d.defaultPrevented)throw p}return g.then(p=>{for(const d of p||[])d.status==="rejected"&&c(d.reason);return l().catch(c)})},gp=({blob:_,buffer:l,width:s=100,height:o=40,color:g="#4ade80",className:c="",progress:m=0,onSeek:p})=>{const[d,f]=Ee.useState([]),w=Nh.useRef(null),C=Nh.useRef(!1);Ee.useEffect(()=>{let E=!0;return(async()=>{if(d.length>0&&!_&&!l)return;let O=l;if(!O&&_)try{const te=new(window.AudioContext||window.webkitAudioContext),q=await _.arrayBuffer();O=await te.decodeAudioData(q)}catch(te){console.error("Failed to decode for mini waveform",te);return}if(!O||!E)return;const U=O.getChannelData(0),V=[],I=s,Y=Math.floor(U.length/I);for(let te=0;te<I;te++){let q=0;const F=te*Y,se=F+Y,A=Math.max(1,Math.floor((se-F)/10));for(let D=F;D<se;D+=A){const h=Math.abs(U[D]);h>q&&(q=h)}V.push(q)}E&&f(V)})(),()=>{E=!1}},[_,l,s]);const k=Ee.useMemo(()=>{if(d.length===0)return"";const E=o/2;let T=`M 0 ${E} `;d.forEach((O,U)=>{const V=U/d.length*s,I=E-O*E*.9;T+=`L ${V} ${I} `}),T+=`L ${s} ${E} `;for(let O=d.length-1;O>=0;O--){const U=d[O],V=O/d.length*s,I=E+U*E*.9;T+=`L ${V} ${I} `}return T+="Z",T},[d,s,o]),b=E=>{!p||!w.current||(E.stopPropagation(),C.current=!0,E.target.setPointerCapture(E.pointerId),j(E))},S=E=>{C.current&&j(E)},v=E=>{C.current&&(C.current=!1,E.target.releasePointerCapture(E.pointerId))},j=E=>{if(!w.current||!p)return;const T=w.current.getBoundingClientRect(),O=E.clientX-T.left,U=Math.max(0,Math.min(1,O/T.width));p(U)};return u.jsx("div",{ref:w,className:`flex items-center justify-center opacity-80 relative ${c} ${p?"cursor-ew-resize":""}`,style:{width:s,height:o},onPointerDown:b,onPointerMove:S,onPointerUp:v,onClick:E=>E.stopPropagation(),children:d.length>0?u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${s} ${o}`,preserveAspectRatio:"none",className:"pointer-events-none",children:u.jsx("path",{d:k,fill:g})}),m>0&&u.jsx("div",{className:"absolute top-0 bottom-0 w-[2px] bg-white shadow-[0_0_4px_rgba(0,0,0,0.5)] pointer-events-none transition-all duration-75",style:{left:`${m*100}%`}})]}):u.jsx("div",{className:"w-full h-[1px] bg-gray-700 animate-pulse"})})},yp=Ee.createContext(null),ns=()=>{const _=Ee.useContext(yp);if(!_)throw new Error("useAudioPlayer must be used within AudioPlayerProvider");return _},sy=({children:_})=>{const[l,s]=Ee.useState(!1),[o,g]=Ee.useState(null),[c,m]=Ee.useState(0),[p,d]=Ee.useState(0),f=Ee.useRef(null),w=Ee.useRef(null);Ee.useEffect(()=>(f.current=new Audio,f.current.onended=()=>{s(!1),g(null),d(0)},f.current.ontimeupdate=()=>{f.current&&d(f.current.currentTime)},f.current.onloadedmetadata=()=>{f.current&&m(f.current.duration)},f.current.onerror=S=>{console.error("Audio Playback Error",S),s(!1),g(null)},()=>{w.current&&URL.revokeObjectURL(w.current)}),[]);const C=()=>{f.current&&(f.current.pause(),f.current.currentTime=0),s(!1),g(null),d(0)},k=S=>{f.current&&(f.current.currentTime=S,d(S))},b=(S,v)=>{if(o===S.id&&l){C();return}C();const j=v||S.currentVersionId,E=S.versions.find(O=>O.id===j);if(!E||!E.blob){console.warn("AudioPlayer: No valid blob found for file",S.name);return}w.current&&URL.revokeObjectURL(w.current);const T=URL.createObjectURL(E.blob);w.current=T,f.current&&(f.current.src=T,f.current.play().then(()=>{s(!0),g(S.id)}).catch(O=>{console.error("Play failed",O),alert("Playback failed. See console.")}))};return u.jsx(yp.Provider,{value:{isPlaying:l,activeFileId:o,play:b,stop:C,seek:k,duration:c,currentTime:p},children:_})},oy=({slot:_,fileRecord:l,tapeColor:s,isActive:o,onClick:g,onDrop:c,onDropInternal:m,onRemove:p,onDelete:d,isDuplicate:f,onBulkAssign:w,isSelected:C,onSlotSelectionClick:k,onToggleSlotSelection:b,onSlotDragStart:S})=>{const{play:v,stop:j,isPlaying:E,activeFileId:T,currentTime:O,duration:U,seek:V}=ns(),I=E&&T===l?.id,[Y,te]=Ee.useState(!1),q=B=>{if(S){S(B);return}l?(B.dataTransfer.setData("application/x-spotykach-file-id",l.id),B.dataTransfer.setData("application/x-spotykach-source","slot"),B.dataTransfer.setData("application/x-spotykach-slot-id",_.id.toString()),B.dataTransfer.effectAllowed="copyMove"):B.preventDefault()},F=B=>{B.preventDefault(),B.stopPropagation(),B.dataTransfer.types.includes("application/x-spotykach-file-id")?(B.dataTransfer.dropEffect=B.ctrlKey||B.altKey?"copy":"move",te(!0)):(B.dataTransfer.dropEffect="copy",te(!!B.dataTransfer.types.length))},se=B=>{B.preventDefault(),te(!1)},A=B=>{B.preventDefault(),B.stopPropagation(),te(!1);const L=B.dataTransfer.getData("application/x-spotykach-file-id"),re=B.dataTransfer.getData("application/x-spotykach-bulk-ids");if(re&&w)try{const Q=JSON.parse(re);if(Array.isArray(Q)&&Q.length>0){w(_.id,Q,s);return}}catch(Q){console.error("Failed to parse bulk drop",Q)}if(L){const Q=B.dataTransfer.getData("application/x-spotykach-source"),ve=B.ctrlKey||B.altKey,z=B.dataTransfer.getData("application/x-spotykach-slot-id"),R=z?parseInt(z,10):void 0,de=B.dataTransfer.getData("application/x-spotykach-slot-color");m(L,Q,ve,R,de||void 0);return}B.dataTransfer.files&&B.dataTransfer.files.length>0&&c(B.dataTransfer.files)},D=l?.versions.find(B=>B.id===l.currentVersionId),h=D?.description?.toLowerCase().includes("loop"),X=`var(--color-synthux-${s.toLowerCase()})`;return u.jsxs("div",{onClick:B=>{k?k(B):g()},draggable:!!l,onDragStart:q,onDragOver:F,onDragLeave:se,onDrop:A,className:`
                relative aspect-square rounded-xl border-2 cursor-pointer transition-all duration-200
                flex flex-col group
                ${Y?"bg-white/10 scale-105 z-20":o?"bg-[#1a1a1a] shadow-xl scale-[1.02]":"border-gray-700 bg-[#151515] hover:border-gray-500"}
                ${l?"shadow-lg":""}
                ${f?"!border-orange-500/50 shadow-[0_0_10px_rgba(249,115,22,0.1)]":""}
                ${C?"ring-2 ring-synthux-yellow":""}
            `,style:{borderColor:o||Y?X:C?"var(--color-synthux-yellow)":void 0},children:[u.jsx("div",{className:`absolute -top-3 -left-3 w-6 h-6 z-50 rounded-full border-2 flex items-center justify-center cursor-pointer transition-colors shadow-md ${C?"bg-synthux-yellow border-white text-black":"bg-gray-800 border-gray-500 text-transparent hover:border-white"}`,onClick:B=>{B.stopPropagation(),b()},children:u.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})}),f&&u.jsx("div",{className:"absolute -top-2 -right-2 text-orange-400/80 z-40 bg-black/80 rounded-full p-1 border border-orange-500/30 shadow-sm",title:"Duplicate File",children:u.jsx(oa,{size:14})}),u.jsx("div",{className:"absolute top-2 left-3 text-xs font-bold text-gray-600 z-10 pointer-events-none",children:_.id}),l&&D?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1 w-full bg-black/20 flex items-center justify-center relative overflow-hidden rounded-t-lg",children:[u.jsx(gp,{blob:D.blob,width:200,height:80,color:o?"#60a5fa":"#9ca3af",className:"w-full h-full p-4",progress:I&&U>0?O/U:0,onSeek:B=>{I&&U>0?V(B*U):l&&v(l)}}),u.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[l.versions.length>1&&u.jsxs("span",{className:"px-1.5 py-0.5 bg-synthux-blue/20 rounded text-[9px] text-synthux-blue border border-synthux-blue/50 font-mono",children:["v",l.versions.length]}),h&&u.jsxs("span",{className:"px-1.5 py-0.5 bg-green-900/40 rounded text-[9px] text-green-400 border border-green-700/50 font-bold uppercase tracking-wider flex items-center gap-1",children:[u.jsx(mp,{size:8})," Loop"]})]})]}),u.jsx("div",{className:"px-3 py-2 border-t border-gray-800 bg-[#1e1e1e] flex items-center justify-between gap-2",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm font-bold truncate text-white mb-0.5",title:l.name,children:l.name}),u.jsxs("div",{className:"flex items-center text-[10px] text-gray-400 font-mono uppercase tracking-wider gap-2",children:[u.jsxs("span",{children:[D.duration.toFixed(2),"s"]}),D.description&&D.description!=="Original Upload"&&D.description!=="Edited"&&!h&&u.jsx("span",{className:"text-synthux-gold truncate max-w-[80px]",children:D.description})]})]})}),u.jsxs("div",{className:"flex items-center justify-between gap-1 px-2 py-2 bg-[#111] border-t border-gray-800 rounded-b-lg",children:[u.jsxs("button",{onClick:B=>{B.stopPropagation(),I?j():l&&v(l)},className:`flex-1 flex items-center justify-center gap-2 py-1.5 rounded transition-all active:scale-95 ${I?"bg-synthux-blue text-white shadow-lg shadow-synthux-blue/20":"bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white"} `,title:I?"Stop":"Preview",children:[I?u.jsx(es,{size:12,fill:"currentColor"}):u.jsx(Ui,{size:12,fill:"currentColor"}),u.jsx("span",{className:"text-[10px] font-bold uppercase",children:I?"STOP":"PLAY"})]}),u.jsx("button",{onClick:B=>{B.stopPropagation(),ts(()=>Promise.resolve().then(()=>Ru),void 0).then(L=>L.exportSingleFile(l))},className:"p-1.5 rounded bg-gray-900 text-gray-500 hover:bg-gray-800 hover:text-white transition-colors",title:"Download WAV",children:u.jsx(Bi,{size:14})}),u.jsx("button",{onClick:B=>{B.stopPropagation(),p()},className:"p-2 hover:bg-synthux-yellow/20 text-gray-500 hover:text-synthux-yellow rounded transition-colors",title:"Remove from Slot (Move to Unassigned)",children:u.jsx(xn,{size:14})}),u.jsx("button",{onClick:B=>{B.stopPropagation(),d?.()},className:"p-2 hover:bg-red-500/20 text-gray-500 hover:text-red-500 rounded transition-colors",title:"Permanently Delete File",children:u.jsx(Li,{size:14})})]})]}):u.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-600 gap-2 group-hover:scale-105 transition-transform",children:[u.jsx("style",{children:`
                        .group:hover .empty-plus-large {
                            color: #ffb900 !important;
                            opacity: 1 !important; 
                            text-shadow: 0 0 10px #ffb90060;
                        }
                    `}),u.jsx("div",{className:"text-4xl font-light empty-plus-large transition-all duration-300",style:{color:"#ffb900",opacity:.5},children:"+"}),u.jsx("div",{className:"text-xs font-medium empty-plus-large transition-all duration-300",style:{color:"#ffb900",opacity:.5},children:"Empty Slot"})]})]})},uy=({slots:_,files:l,tapeColor:s,activeSlotId:o,onSlotClick:g,onSlotDrop:c,onSlotDropInternal:m,onRemoveSlot:p,duplicates:d,onDeleteFile:f,onBulkAssign:w,selectedSlots:C,onSlotSelectionClick:k,onToggleSlotSelection:b,onSlotDragStart:S})=>u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 p-6 w-full max-w-4xl mx-auto",children:_.map(v=>{const j=v.fileId?l[v.fileId]:null,E=v.fileId?d.has(v.fileId):!1;return u.jsx(oy,{slot:v,fileRecord:j,tapeColor:s,isActive:o===v.id,isDuplicate:E,onClick:()=>g(v.id),onDrop:T=>c(v.id,T),onDropInternal:(T,O,U,V,I)=>m(v.id,T,O,U,V,I),onRemove:()=>p(v.id),onDelete:()=>v.fileId&&f(v.fileId),onBulkAssign:w,isSelected:C.has(`${s}-${v.id}`),onSlotSelectionClick:T=>k(s,v.id,T),onToggleSlotSelection:()=>b(s,v.id),onSlotDragStart:T=>S(T,v.id,s)},v.id)})}),cy=({slot:_,fileRecord:l,tapeColor:s,onRemove:o,onDelete:g,onDrop:c,onDropInternal:m,onClick:p,isDuplicate:d,onBulkAssign:f,isSelected:w,onSlotSelectionClick:C,onToggleSlotSelection:k,onSlotDragStart:b})=>{const{play:S,stop:v,isPlaying:j,activeFileId:E}=ns(),T=j&&E===l?.id,O=l?.versions.find(A=>A.id===l.currentVersionId),[U,V]=Ee.useState(!1),I=w?"ring-2 ring-white z-10":"",Y=A=>{if(b){b(A);return}l?(A.dataTransfer.setData("application/x-spotykach-file-id",l.id),A.dataTransfer.setData("application/x-spotykach-source","slot"),A.dataTransfer.setData("application/x-spotykach-slot-id",_.id.toString()),A.dataTransfer.effectAllowed="copyMove"):A.preventDefault()},te=A=>{A.preventDefault(),A.stopPropagation(),A.dataTransfer.types.includes("application/x-spotykach-file-id")?(A.dataTransfer.dropEffect=A.ctrlKey||A.altKey?"copy":"move",V(!0)):(A.dataTransfer.dropEffect="copy",V(!!A.dataTransfer.types.length))},q=A=>{A.preventDefault(),V(!1)},F=A=>{A.preventDefault(),A.stopPropagation(),V(!1);const D=A.dataTransfer.getData("application/x-spotykach-file-id"),h=A.dataTransfer.getData("application/x-spotykach-bulk-ids");if(h&&f)try{const X=JSON.parse(h);if(Array.isArray(X)&&X.length>0){f(_.id,X,s);return}}catch(X){console.error("Failed to parse bulk drop",X)}if(D){const X=A.dataTransfer.getData("application/x-spotykach-source"),B=A.ctrlKey||A.altKey,L=A.dataTransfer.getData("application/x-spotykach-slot-id"),re=L?parseInt(L,10):void 0,Q=A.dataTransfer.getData("application/x-spotykach-slot-color");m(D,X,B,re,Q||void 0);return}A.dataTransfer.files&&A.dataTransfer.files.length>0&&c(A.dataTransfer.files)},se=A=>{switch(A){case"Blue":return"#00aaff";case"Green":return"#00ff00";case"Pink":return"#ff00ff";case"Red":return"#f00f13";case"Turquoise":return"#00ffff";case"Yellow":return"#ffb900";default:return"#fff"}};return u.jsxs("div",{onClick:A=>{C?C(A):p()},draggable:!!l,onDragStart:Y,onDragOver:te,onDragLeave:q,onDrop:F,className:`
            relative w-full h-full min-h-[50px] rounded-lg border bg-[#151515] 
            flex flex-col group transition-all
            ${U?"border-synthux-blue bg-synthux-blue/10 scale-105 z-20 shadow-xl":"border-gray-800 hover:border-gray-500"}
            ${l?"cursor-grab active:cursor-grabbing":"opacity-80 hover:opacity-100 cursor-pointer"}
            ${l&&d?"!border-orange-500/50":""}
            ${I}
        `,children:[u.jsx("div",{className:`absolute -top-1 -left-1 w-4 h-4 z-20 rounded-full border flex items-center justify-center cursor-pointer transition-colors ${w?"bg-synthux-yellow border-white text-black":"bg-gray-800 border-gray-600 text-transparent hover:border-gray-400"}`,onClick:A=>{A.stopPropagation(),k()},children:u.jsx("div",{className:"w-1.5 h-1.5 bg-current rounded-full"})}),l&&O?u.jsxs(u.Fragment,{children:[d&&u.jsx("div",{className:"absolute -top-1.5 -right-1.5 z-30 text-orange-400/80 bg-black/50 rounded-full p-0.5 border border-orange-500/30 shadow-sm",children:u.jsx(oa,{size:8})}),u.jsx("div",{className:"absolute inset-0 z-0 opacity-50 overflow-hidden rounded-lg",children:u.jsx(gp,{blob:O.blob,width:100,height:60,color:T?"#ffffff":"#6b7280",className:"w-full h-full p-2"})}),u.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full p-2 bg-gradient-to-t from-black/80 to-transparent",children:[u.jsxs("div",{className:`flex justify-between items-start transition-opacity duration-200 ${T?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:[u.jsx("button",{onClick:A=>{A.stopPropagation(),T?v():S(l)},className:"p-1 rounded-full bg-black/60 hover:bg-white text-white hover:text-black transition-colors",title:T?"Stop":"Play",children:T?u.jsx(es,{size:10,fill:"currentColor"}):u.jsx(Ui,{size:10,fill:"currentColor"})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:A=>{A.stopPropagation(),o()},className:"p-1 rounded-full bg-black/60 hover:bg-synthux-yellow/20 text-gray-400 hover:text-synthux-yellow transition-colors",title:"Unassign",children:u.jsx(xn,{size:10})}),g&&u.jsx("button",{onClick:A=>{A.stopPropagation(),g()},className:"p-1 rounded-full bg-black/60 hover:bg-red-500 text-gray-400 hover:text-white transition-colors",title:"Delete Permanently",children:u.jsx(Li,{size:10})})]})]}),u.jsx("div",{className:"mt-auto pt-2",children:u.jsx("div",{className:"text-[9px] font-bold text-gray-300 truncate",title:l.name,children:l.name})})]})]}):u.jsx("div",{className:"flex items-center justify-center h-full group-hover:scale-110 transition-transform",children:u.jsxs("div",{className:"text-2xl font-light transition-colors duration-300",style:{color:"#ffb900",opacity:.5},children:[u.jsx("style",{children:`
                            .group:hover .empty-plus {
                                color: ${se(s)} !important;
                                opacity: 1 !important;
                                text-shadow: 0 0 8px ${se(s)}40;
                            }
                        `}),u.jsx("span",{className:"empty-plus transition-all duration-300",children:"+"})]})})]})},dy=({tapes:_,files:l,onRemoveSlot:s,onSlotDrop:o,onSlotDropInternal:g,onSlotClick:c,onTapeHeaderClick:m,duplicates:p,onDeleteFile:d,onBulkAssign:f,selectedSlots:w,onSlotSelectionClick:C,onToggleSlotSelection:k,onSlotDragStart:b})=>{const S=v=>{switch(v){case"Red":return"red";case"Blue":return"blue";case"Green":return"green";case"Pink":return"pink";case"Yellow":return"yellow";case"Turquoise":return"turquoise";default:return"blue"}};return u.jsx("div",{className:"w-full h-full p-4 md:p-6 relative z-10 flex flex-col overflow-hidden",children:u.jsx("div",{className:"flex-1 flex flex-col gap-2 min-h-0",children:Xt.map(v=>{const j=_[v],E=`var(--color-synthux-${S(v)})`;return u.jsxs("div",{className:"flex-1 min-h-[60px] flex flex-col md:flex-row gap-2 items-center p-2 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group/tape-row",children:[u.jsxs("button",{onClick:()=>m(v),className:"w-24 flex-shrink-0 flex items-center gap-3 md:flex-col md:items-center md:gap-2 cursor-pointer hover:bg-white/10 rounded-lg p-1 transition-colors group/header",title:`Open ${v} Tape View`,children:[u.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 group-hover/header:scale-110 transition-transform",children:u.jsx(Hi,{color:E,className:"w-full h-full"})}),u.jsx("span",{style:{color:E},className:"text-xs font-bold uppercase tracking-wider group-hover/header:brightness-125 transition-all",children:v})]}),u.jsx("div",{className:"flex-1 w-full h-full grid grid-cols-6 gap-2",children:j.slots.map(T=>{const O=T.fileId?l[T.fileId]:null,U=T.fileId?p.has(T.fileId):!1;return u.jsx("div",{className:"h-full",children:u.jsx(cy,{slot:T,fileRecord:O,tapeColor:v,isDuplicate:U,onRemove:()=>s(T.id),onDelete:()=>T.fileId&&d(T.fileId),onDrop:V=>o(T.id,V,v),onDropInternal:(V,I,Y,te,q)=>g(T.id,V,I,Y,v,te,q),onClick:()=>c(T.id,v),onBulkAssign:f,isSelected:w.has(`${v}-${T.id}`),onSlotSelectionClick:V=>C(T.id,v,V),onToggleSlotSelection:()=>k(T.id,v),onSlotDragStart:V=>b(V,T.id,v)})},T.id)})})]},v)})})})};function nn(_,l,s,o){return new(s||(s=Promise))((function(g,c){function m(f){try{d(o.next(f))}catch(w){c(w)}}function p(f){try{d(o.throw(f))}catch(w){c(w)}}function d(f){var w;f.done?g(f.value):(w=f.value,w instanceof s?w:new s((function(C){C(w)}))).then(m,p)}d((o=o.apply(_,l||[])).next())}))}let Ml=class{constructor(){this.listeners={}}on(l,s,o){if(this.listeners[l]||(this.listeners[l]=new Set),o?.once){const g=(...c)=>{this.un(l,g),s(...c)};return this.listeners[l].add(g),()=>this.un(l,g)}return this.listeners[l].add(s),()=>this.un(l,s)}un(l,s){var o;(o=this.listeners[l])===null||o===void 0||o.delete(s)}once(l,s){return this.on(l,s,{once:!0})}unAll(){this.listeners={}}emit(l,...s){this.listeners[l]&&this.listeners[l].forEach((o=>o(...s)))}};const Kr={decode:function(_,l){return nn(this,void 0,void 0,(function*(){const s=new AudioContext({sampleRate:l});try{return yield s.decodeAudioData(_)}finally{s.close()}}))},createBuffer:function(_,l){if(!_||_.length===0)throw new Error("channelData must be a non-empty array");if(l<=0)throw new Error("duration must be greater than 0");if(typeof _[0]=="number"&&(_=[_]),!_[0]||_[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(o){const g=o[0];if(g.some((c=>c>1||c<-1))){const c=g.length;let m=0;for(let p=0;p<c;p++){const d=Math.abs(g[p]);d>m&&(m=d)}for(const p of o)for(let d=0;d<c;d++)p[d]/=m}})(_);const s=_.map((o=>o instanceof Float32Array?o:Float32Array.from(o)));return{duration:l,length:s[0].length,sampleRate:s[0].length/l,numberOfChannels:s.length,getChannelData:o=>{const g=s[o];if(!g)throw new Error(`Channel ${o} not found`);return g},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function vp(_,l){const s=l.xmlns?document.createElementNS(l.xmlns,_):document.createElement(_);for(const[o,g]of Object.entries(l))if(o==="children"&&g)for(const[c,m]of Object.entries(g))m instanceof Node?s.appendChild(m):typeof m=="string"?s.appendChild(document.createTextNode(m)):s.appendChild(vp(c,m));else o==="style"?Object.assign(s.style,g):o==="textContent"?s.textContent=g:s.setAttribute(o,g.toString());return s}function Fh(_,l,s){const o=vp(_,l||{});return s?.appendChild(o),o}var fy=Object.freeze({__proto__:null,createElement:Fh,default:Fh});const hy={fetchBlob:function(_,l,s){return nn(this,void 0,void 0,(function*(){const o=yield fetch(_,s);if(o.status>=400)throw new Error(`Failed to fetch ${_}: ${o.status} (${o.statusText})`);return(function(g,c){nn(this,void 0,void 0,(function*(){if(!g.body||!g.headers)return;const m=g.body.getReader(),p=Number(g.headers.get("Content-Length"))||0;let d=0;const f=w=>{d+=w?.length||0;const C=Math.round(d/p*100);c(C)};try{for(;;){const w=yield m.read();if(w.done)break;f(w.value)}}catch(w){console.warn("Progress tracking error:",w)}}))})(o.clone(),l),o.blob()}))}};function Rt(_){let l=_;const s=new Set;return{get value(){return l},set(o){Object.is(l,o)||(l=o,s.forEach((g=>g(l))))},update(o){this.set(o(l))},subscribe:o=>(s.add(o),()=>s.delete(o))}}function Pa(_,l){const s=Rt(_());return l.forEach((o=>o.subscribe((()=>{const g=_();Object.is(s.value,g)||s.set(g)})))),{get value(){return s.value},subscribe:o=>s.subscribe(o)}}function Da(_,l){let s;const o=()=>{s&&(s(),s=void 0),s=_()},g=l.map((c=>c.subscribe(o)));return o(),()=>{s&&(s(),s=void 0),g.forEach((c=>c()))}}class py extends Ml{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(l){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],l.media?(this.media=l.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=Rt(!1),this._currentTime=Rt(0),this._duration=Rt(0),this._volume=Rt(this.media.volume),this._muted=Rt(this.media.muted),this._playbackRate=Rt(this.media.playbackRate||1),this._seeking=Rt(!1),this.setupReactiveMediaEvents(),l.mediaControls&&(this.media.controls=!0),l.autoplay&&(this.media.autoplay=!0),l.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{l.playbackRate!=null&&(this.media.playbackRate=l.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(l,s,o){return this.media.addEventListener(l,s,o),()=>this.media.removeEventListener(l,s,o)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const l=this.getSrc();l.startsWith("blob:")&&URL.revokeObjectURL(l)}canPlayType(l){return this.media.canPlayType(l)!==""}setSrc(l,s){const o=this.getSrc();if(l&&o===l)return;this.revokeSrc();const g=s instanceof Blob&&(this.canPlayType(s.type)||!l)?URL.createObjectURL(s):l;if(o&&this.media.removeAttribute("src"),g||l)try{this.media.src=g}catch{this.media.src=l}}destroy(){this.reactiveMediaEventCleanups.forEach((l=>l())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(l){this.reactiveMediaEventCleanups.forEach((s=>s())),this.reactiveMediaEventCleanups=[],this.media=l,this.setupReactiveMediaEvents()}play(){return nn(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(l){if(l instanceof DOMException&&l.name==="AbortError")return;throw l}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(l){this.media.currentTime=Math.max(0,Math.min(l,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(l){this.media.volume=l}getMuted(){return this.media.muted}setMuted(l){this.media.muted=l}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(l,s){s!=null&&(this.media.preservesPitch=s),this.media.playbackRate=l}getMediaElement(){return this.media}setSinkId(l){return this.media.setSinkId(l)}}function my({maxTop:_,maxBottom:l,halfHeight:s,vScale:o,barMinHeight:g=0,barAlign:c}){let m=Math.round(_*s*o),p=m+Math.round(l*s*o)||1;return p<g&&(p=g,c||(m=p/2)),{topHeight:m,totalHeight:p}}function gy({barAlign:_,halfHeight:l,topHeight:s,totalHeight:o,canvasHeight:g}){return _==="top"?0:_==="bottom"?g-o:l-s}function Kh(_,l,s){const o=l-_.left,g=s-_.top;return[o/_.width,g/_.height]}function bp(_){return!!(_.barWidth||_.barGap||_.barAlign)}function Qh(_,l){if(!bp(l))return _;const s=l.barWidth||.5,o=s+(l.barGap||s/2);return o===0?_:Math.floor(_/o)*o}function Wh({scrollLeft:_,totalWidth:l,numCanvases:s}){if(l===0)return[0];const o=_/l,g=Math.floor(o*s);return[g-1,g,g+1]}function xp(_){const l=_._cleanup;typeof l=="function"&&l()}function yy(_){const l=Rt({scrollLeft:_.scrollLeft,scrollWidth:_.scrollWidth,clientWidth:_.clientWidth}),s=Pa((()=>(function(c){const{scrollLeft:m,scrollWidth:p,clientWidth:d}=c;if(p===0)return{startX:0,endX:1};const f=m/p,w=(m+d)/p;return{startX:Math.max(0,Math.min(1,f)),endX:Math.max(0,Math.min(1,w))}})(l.value)),[l]),o=Pa((()=>(function(c){return{left:c.scrollLeft,right:c.scrollLeft+c.clientWidth}})(l.value)),[l]),g=()=>{l.set({scrollLeft:_.scrollLeft,scrollWidth:_.scrollWidth,clientWidth:_.clientWidth})};return _.addEventListener("scroll",g,{passive:!0}),{scrollData:l,percentages:s,bounds:o,cleanup:()=>{_.removeEventListener("scroll",g),xp(l)}}}class vy extends Ml{constructor(l,s){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=l;const o=this.parentFromOptionsContainer(l.container);this.parent=o;const[g,c]=this.initHtml();o.appendChild(g),this.container=g,this.scrollContainer=c.querySelector(".scroll"),this.wrapper=c.querySelector(".wrapper"),this.canvasWrapper=c.querySelector(".canvases"),this.progressWrapper=c.querySelector(".progress"),this.cursor=c.querySelector(".cursor"),s&&c.appendChild(s),this.initEvents()}parentFromOptionsContainer(l){let s;if(typeof l=="string"?s=document.querySelector(l):l instanceof HTMLElement&&(s=l),!s)throw new Error("Container not found");return s}initEvents(){this.wrapper.addEventListener("click",(s=>{const o=this.wrapper.getBoundingClientRect(),[g,c]=Kh(o,s.clientX,s.clientY);this.emit("click",g,c)})),this.wrapper.addEventListener("dblclick",(s=>{const o=this.wrapper.getBoundingClientRect(),[g,c]=Kh(o,s.clientX,s.clientY);this.emit("dblclick",g,c)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollStream=yy(this.scrollContainer);const l=Da((()=>{const{startX:s,endX:o}=this.scrollStream.percentages.value,{left:g,right:c}=this.scrollStream.bounds.value;this.emit("scroll",s,o,g,c)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(l),typeof ResizeObserver=="function"){const s=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{s().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const l=this.parent.clientWidth;l===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=l,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=(function(s,o={}){const{threshold:g=3,mouseButton:c=0,touchDelay:m=100}=o,p=Rt(null),d=new Map,f=matchMedia("(pointer: coarse)").matches;let w=()=>{};const C=k=>{if(k.button!==c||(d.set(k.pointerId,k),d.size>1))return;let b=k.clientX,S=k.clientY,v=!1;const j=Date.now(),E=s.getBoundingClientRect(),{left:T,top:O}=E,U=q=>{if(q.defaultPrevented||d.size>1||f&&Date.now()-j<m)return;const F=q.clientX,se=q.clientY,A=F-b,D=se-S;(v||Math.abs(A)>g||Math.abs(D)>g)&&(q.preventDefault(),q.stopPropagation(),v||(p.set({type:"start",x:b-T,y:S-O}),v=!0),p.set({type:"move",x:F-T,y:se-O,deltaX:A,deltaY:D}),b=F,S=se)},V=q=>{if(d.delete(q.pointerId),v){const F=q.clientX,se=q.clientY;p.set({type:"end",x:F-T,y:se-O})}w()},I=q=>{d.delete(q.pointerId),q.relatedTarget&&q.relatedTarget!==document.documentElement||V(q)},Y=q=>{v&&(q.stopPropagation(),q.preventDefault())},te=q=>{q.defaultPrevented||d.size>1||v&&q.preventDefault()};document.addEventListener("pointermove",U),document.addEventListener("pointerup",V),document.addEventListener("pointerout",I),document.addEventListener("pointercancel",I),document.addEventListener("touchmove",te,{passive:!1}),document.addEventListener("click",Y,{capture:!0}),w=()=>{document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",V),document.removeEventListener("pointerout",I),document.removeEventListener("pointercancel",I),document.removeEventListener("touchmove",te),setTimeout((()=>{document.removeEventListener("click",Y,{capture:!0})}),10)}};return s.addEventListener("pointerdown",C),{signal:p,cleanup:()=>{w(),s.removeEventListener("pointerdown",C),d.clear(),xp(p)}}})(this.wrapper);const l=Da((()=>{const s=this.dragStream.signal.value;if(!s)return;const o=this.wrapper.getBoundingClientRect().width,g=(c=s.x/o)<0?0:c>1?1:c;var c;s.type==="start"?(this.isDragging=!0,this.emit("dragstart",g)):s.type==="move"?this.emit("drag",g):s.type==="end"&&(this.isDragging=!1,this.emit("dragend",g))}),[this.dragStream.signal]);this.subscriptions.push(l)}initHtml(){const l=document.createElement("div"),s=l.attachShadow({mode:"open"}),o=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return s.innerHTML=`
      <style${o?` nonce="${o}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[l,s]}setOptions(l){if(this.options.container!==l.container){const s=this.parentFromOptionsContainer(l.container);s.appendChild(this.container),this.parent=s}l.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=l,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(l){this.scrollContainer.scrollLeft=l}setScrollPercentage(l){const{scrollWidth:s}=this.scrollContainer,o=s*l;this.setScroll(o)}destroy(){var l;this.subscriptions.forEach((s=>s())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(l=this.unsubscribeOnScroll)===null||l===void 0||l.forEach((s=>s())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(l=10){let s,o;const g=()=>{s&&(clearTimeout(s),s=void 0),o&&(o(),o=void 0)};return this.timeouts.push(g),()=>new Promise(((c,m)=>{g(),o=m,s=setTimeout((()=>{s=void 0,o=void 0,c()}),l)}))}getHeight(l,s){var o;const g=((o=this.audioData)===null||o===void 0?void 0:o.numberOfChannels)||1;return(function({optionsHeight:c,optionsSplitChannels:m,parentHeight:p,numberOfChannels:d,defaultHeight:f=128}){if(c==null)return f;const w=Number(c);if(!isNaN(w))return w;if(c==="auto"){const C=p||f;return m?.every((k=>!k.overlay))?C/d:C}return f})({optionsHeight:l,optionsSplitChannels:s,parentHeight:this.parent.clientHeight,numberOfChannels:g,defaultHeight:128})}convertColorValues(l,s){return(function(o,g,c){if(!Array.isArray(o))return o||"";if(o.length===0)return"#999";if(o.length<2)return o[0]||"";const m=document.createElement("canvas"),p=m.getContext("2d"),d=c??m.height*g,f=p.createLinearGradient(0,0,0,d||g),w=1/(o.length-1);return o.forEach(((C,k)=>{f.addColorStop(k*w,C)})),f})(l,this.getPixelRatio(),s?.canvas.height)}getPixelRatio(){return l=window.devicePixelRatio,Math.max(1,l||1);var l}renderBarWaveform(l,s,o,g){const{width:c,height:m}=o.canvas,{halfHeight:p,barWidth:d,barRadius:f,barIndexScale:w,barSpacing:C,barMinHeight:k}=(function({width:S,height:v,length:j,options:E,pixelRatio:T}){const O=v/2,U=E.barWidth?E.barWidth*T:1,V=E.barGap?E.barGap*T:E.barWidth?U/2:0,I=U+V||1;return{halfHeight:O,barWidth:U,barGap:V,barRadius:E.barRadius||0,barMinHeight:E.barMinHeight?E.barMinHeight*T:0,barIndexScale:j>0?S/I/j:0,barSpacing:I}})({width:c,height:m,length:(l[0]||[]).length,options:s,pixelRatio:this.getPixelRatio()}),b=(function({channelData:S,barIndexScale:v,barSpacing:j,barWidth:E,halfHeight:T,vScale:O,canvasHeight:U,barAlign:V,barMinHeight:I}){const Y=S[0]||[],te=S[1]||Y,q=Y.length,F=[];let se=0,A=0,D=0;for(let h=0;h<=q;h++){const X=Math.round(h*v);if(X>se){const{topHeight:re,totalHeight:Q}=my({maxTop:A,maxBottom:D,halfHeight:T,vScale:O,barMinHeight:I,barAlign:V}),ve=gy({barAlign:V,halfHeight:T,topHeight:re,totalHeight:Q,canvasHeight:U});F.push({x:se*j,y:ve,width:E,height:Q}),se=X,A=0,D=0}const B=Math.abs(Y[h]||0),L=Math.abs(te[h]||0);B>A&&(A=B),L>D&&(D=L)}return F})({channelData:l,barIndexScale:w,barSpacing:C,barWidth:d,halfHeight:p,vScale:g,canvasHeight:m,barAlign:s.barAlign,barMinHeight:k});o.beginPath();for(const S of b)f&&"roundRect"in o?o.roundRect(S.x,S.y,S.width,S.height,f):o.rect(S.x,S.y,S.width,S.height);o.fill(),o.closePath()}renderLineWaveform(l,s,o,g){const{width:c,height:m}=o.canvas,p=(function({channelData:d,width:f,height:w,vScale:C}){const k=w/2,b=d[0]||[];return[b,d[1]||b].map(((S,v)=>{const j=S.length,E=j?f/j:0,T=k,O=v===0?-1:1,U=[{x:0,y:T}];let V=0,I=0;for(let Y=0;Y<=j;Y++){const te=Math.round(Y*E);if(te>V){const F=T+(Math.round(I*k*C)||1)*O;U.push({x:V,y:F}),V=te,I=0}const q=Math.abs(S[Y]||0);q>I&&(I=q)}return U.push({x:V,y:T}),U}))})({channelData:l,width:c,height:m,vScale:g});o.beginPath();for(const d of p)if(d.length){o.moveTo(d[0].x,d[0].y);for(let f=1;f<d.length;f++){const w=d[f];o.lineTo(w.x,w.y)}}o.fill(),o.closePath()}renderWaveform(l,s,o){if(o.fillStyle=this.convertColorValues(s.waveColor,o),s.renderFunction)return void s.renderFunction(l,o);const g=(function({channelData:c,barHeight:m,normalize:p,maxPeak:d}){var f;const w=m||1;if(!p)return w;const C=c[0];if(!C||C.length===0)return w;let k=d??0;if(!d)for(let b=0;b<C.length;b++){const S=(f=C[b])!==null&&f!==void 0?f:0,v=Math.abs(S);v>k&&(k=v)}return k?w/k:w})({channelData:l,barHeight:s.barHeight,normalize:s.normalize,maxPeak:s.maxPeak});bp(s)?this.renderBarWaveform(l,s,o,g):this.renderLineWaveform(l,s,o,g)}renderSingleCanvas(l,s,o,g,c,m,p){const d=this.getPixelRatio(),f=document.createElement("canvas");f.width=Math.round(o*d),f.height=Math.round(g*d),f.style.width=`${o}px`,f.style.height=`${g}px`,f.style.left=`${Math.round(c)}px`,m.appendChild(f);const w=f.getContext("2d");if(s.renderFunction?(w.fillStyle=this.convertColorValues(s.waveColor,w),s.renderFunction(l,w)):this.renderWaveform(l,s,w),f.width>0&&f.height>0){const C=f.cloneNode(),k=C.getContext("2d");k.drawImage(f,0,0),k.globalCompositeOperation="source-in",k.fillStyle=this.convertColorValues(s.progressColor,k),k.fillRect(0,0,f.width,f.height),p.appendChild(C)}}renderMultiCanvas(l,s,o,g,c,m){const p=this.getPixelRatio(),{clientWidth:d}=this.scrollContainer,f=o/p,w=(function({clientWidth:S,totalWidth:v,options:j}){return Qh(Math.min(8e3,S,v),j)})({clientWidth:d,totalWidth:f,options:s});let C={};if(w===0)return;const k=S=>{if(S<0||S>=b||C[S])return;C[S]=!0;const v=S*w;let j=Math.min(f-v,w);if(j=Qh(j,s),j<=0)return;const E=(function({channelData:T,offset:O,clampedWidth:U,totalWidth:V}){return T.map((I=>{const Y=Math.floor(O/V*I.length),te=Math.floor((O+U)/V*I.length);return I.slice(Y,te)}))})({channelData:l,offset:v,clampedWidth:j,totalWidth:f});this.renderSingleCanvas(E,s,j,g,v,c,m)},b=Math.ceil(f/w);if(!this.isScrollable){for(let S=0;S<b;S++)k(S);return}if(Wh({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:f,numCanvases:b}).forEach((S=>k(S))),b>1){const S=this.on("scroll",(()=>{const{scrollLeft:v}=this.scrollContainer;Object.keys(C).length>10&&(c.innerHTML="",m.innerHTML="",C={}),Wh({scrollLeft:v,totalWidth:f,numCanvases:b}).forEach((j=>k(j)))}));this.unsubscribeOnScroll.push(S)}}renderChannel(l,s,o,g){var{overlay:c}=s,m=(function(w,C){var k={};for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&C.indexOf(b)<0&&(k[b]=w[b]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(b=Object.getOwnPropertySymbols(w);S<b.length;S++)C.indexOf(b[S])<0&&Object.prototype.propertyIsEnumerable.call(w,b[S])&&(k[b[S]]=w[b[S]])}return k})(s,["overlay"]);const p=document.createElement("div"),d=this.getHeight(m.height,m.splitChannels);p.style.height=`${d}px`,c&&g>0&&(p.style.marginTop=`-${d}px`),this.canvasWrapper.style.minHeight=`${d}px`,this.canvasWrapper.appendChild(p);const f=p.cloneNode();this.progressWrapper.appendChild(f),this.renderMultiCanvas(l,m,o,d,p,f)}render(l){return nn(this,void 0,void 0,(function*(){var s;this.timeouts.forEach((f=>f())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const o=this.getPixelRatio(),g=this.scrollContainer.clientWidth,{scrollWidth:c,isScrollable:m,useParentWidth:p,width:d}=(function({duration:f,minPxPerSec:w=0,parentWidth:C,fillParent:k,pixelRatio:b}){const S=Math.ceil(f*w),v=S>C,j=!!(k&&!v);return{scrollWidth:S,isScrollable:v,useParentWidth:j,width:(j?C:S)*b}})({duration:l.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:g,fillParent:this.options.fillParent,pixelRatio:o});if(this.isScrollable=m,this.wrapper.style.width=p?"100%":`${c}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=l,this.emit("render"),this.options.splitChannels)for(let f=0;f<l.numberOfChannels;f++){const w=Object.assign(Object.assign({},this.options),(s=this.options.splitChannels)===null||s===void 0?void 0:s[f]);this.renderChannel([l.getChannelData(f)],w,d,f)}else{const f=[l.getChannelData(0)];l.numberOfChannels>1&&f.push(l.getChannelData(1)),this.renderChannel(f,this.options,d,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((o=>o())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:l}=this.scrollContainer,{right:s}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&l!==this.scrollContainer.scrollWidth){const{right:o}=this.progressWrapper.getBoundingClientRect(),g=(function(c){const m=2*c;return(m<0?Math.floor(m):Math.ceil(m))/2})(o-s);this.scrollContainer.scrollLeft+=g}}zoom(l){this.options.minPxPerSec=l,this.reRender()}scrollIntoView(l,s=!1){const{scrollLeft:o,scrollWidth:g,clientWidth:c}=this.scrollContainer,m=l*g,p=o,d=o+c,f=c/2;if(this.isDragging)m+30>d?this.scrollContainer.scrollLeft+=30:m-30<p&&(this.scrollContainer.scrollLeft-=30);else{(m<p||m>d)&&(this.scrollContainer.scrollLeft=m-(this.options.autoCenter?f:0));const w=m-o-f;s&&this.options.autoCenter&&w>0&&(this.scrollContainer.scrollLeft+=w)}}renderProgress(l,s){if(isNaN(l))return;const o=100*l;this.canvasWrapper.style.clipPath=`polygon(${o}% 0%, 100% 0%, 100% 100%, ${o}% 100%)`,this.progressWrapper.style.width=`${o}%`,this.cursor.style.left=`${o}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${l*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(l,s)}exportImage(l,s,o){return nn(this,void 0,void 0,(function*(){const g=this.canvasWrapper.querySelectorAll("canvas");if(!g.length)throw new Error("No waveform data");if(o==="dataURL"){const c=Array.from(g).map((m=>m.toDataURL(l,s)));return Promise.resolve(c)}return Promise.all(Array.from(g).map((c=>new Promise(((m,p)=>{c.toBlob((d=>{d?m(d):p(new Error("Could not export image"))}),l,s)})))))}))}}class by extends Ml{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const l=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(l))};l()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class xu extends Ml{constructor(l=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=l,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return nn(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(l){if(this.currentSrc=l,this._duration=void 0,!l)return this.buffer=null,void this.emit("emptied");fetch(l).then((s=>{if(s.status>=400)throw new Error(`Failed to fetch ${l}: ${s.status} (${s.statusText})`);return s.arrayBuffer()})).then((s=>this.currentSrc!==l?null:this.audioContext.decodeAudioData(s))).then((s=>{this.currentSrc===l&&(this.buffer=s,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((s=>{console.error("WebAudioPlayer load error:",s)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let l=this.playedDuration*this._playbackRate;(l>=this.duration||l<0)&&(l=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,l),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var l;this.paused=!0,(l=this.bufferNode)===null||l===void 0||l.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return nn(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(l){const s=l-this.currentTime,o=this.bufferNode;o?.stop(this.audioContext.currentTime+s),o?.addEventListener("ended",(()=>{o===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(l){return nn(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(l)}))}get playbackRate(){return this._playbackRate}set playbackRate(l){this._playbackRate=l,this.bufferNode&&(this.bufferNode.playbackRate.value=l)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(l){const s=!this.paused;s&&this._pause(),this.playedDuration=l/this._playbackRate,s&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var l,s;return(l=this._duration)!==null&&l!==void 0?l:((s=this.buffer)===null||s===void 0?void 0:s.duration)||0}set duration(l){this._duration=l}get volume(){return this.gainNode.gain.value}set volume(l){this.gainNode.gain.value=l,this.emit("volumechange")}get muted(){return this._muted}set muted(l){this._muted!==l&&(this._muted=l,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(l){return/^(audio|video)\//.test(l)}getGainNode(){return this.gainNode}getChannelData(){const l=[];if(!this.buffer)return l;const s=this.buffer.numberOfChannels;for(let o=0;o<s;o++)l.push(this.buffer.getChannelData(o));return l}removeAttribute(l){switch(l){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const xy={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Ol extends py{static create(l){return new Ol(l)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(l){const s=l.media||(l.backend==="WebAudio"?new xu:void 0);super({media:s,mediaControls:l.mediaControls,autoplay:l.autoplay,playbackRate:l.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},xy,l);const{state:o,actions:g}=(function(p){var d,f,w,C,k,b;const S=(d=p?.currentTime)!==null&&d!==void 0?d:Rt(0),v=(f=p?.duration)!==null&&f!==void 0?f:Rt(0),j=(w=p?.isPlaying)!==null&&w!==void 0?w:Rt(!1),E=(C=p?.isSeeking)!==null&&C!==void 0?C:Rt(!1),T=(k=p?.volume)!==null&&k!==void 0?k:Rt(1),O=(b=p?.playbackRate)!==null&&b!==void 0?b:Rt(1),U=Rt(null),V=Rt(null),I=Rt(""),Y=Rt(0),te=Rt(0),q=Pa((()=>!j.value),[j]),F=Pa((()=>U.value!==null),[U]),se=Pa((()=>F.value&&v.value>0),[F,v]),A=Pa((()=>S.value),[S]),D=Pa((()=>v.value>0?S.value/v.value:0),[S,v]);return{state:{currentTime:S,duration:v,isPlaying:j,isPaused:q,isSeeking:E,volume:T,playbackRate:O,audioBuffer:U,peaks:V,url:I,zoom:Y,scrollPosition:te,canPlay:F,isReady:se,progress:A,progressPercent:D},actions:{setCurrentTime:h=>{const X=Math.max(0,Math.min(v.value||1/0,h));S.set(X)},setDuration:h=>{v.set(Math.max(0,h))},setPlaying:h=>{j.set(h)},setSeeking:h=>{E.set(h)},setVolume:h=>{const X=Math.max(0,Math.min(1,h));T.set(X)},setPlaybackRate:h=>{const X=Math.max(.1,Math.min(16,h));O.set(X)},setAudioBuffer:h=>{U.set(h),h&&v.set(h.duration)},setPeaks:h=>{V.set(h)},setUrl:h=>{I.set(h)},setZoom:h=>{Y.set(Math.max(0,h))},setScrollPosition:h=>{te.set(Math.max(0,h))}}}})({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=o,this.wavesurferActions=g,this.timer=new by;const c=s?void 0:this.getMediaElement();this.renderer=new vy(this.options,c),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const m=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:p,duration:d}=this.options;(m||p&&d)&&this.load(m,p,d).catch((f=>{this.emit("error",f instanceof Error?f:new Error(String(f)))}))}))}updateProgress(l=this.getCurrentTime()){return this.renderer.renderProgress(l/this.getDuration(),this.isPlaying()),l}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const l=this.updateProgress();this.emit("timeupdate",l),this.emit("audioprocess",l),this.stopAtPosition!=null&&this.isPlaying()&&l>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push((function(l,s){const o=[];o.push(Da((()=>{const m=l.isPlaying.value;s.emit(m?"play":"pause")}),[l.isPlaying])),o.push(Da((()=>{const m=l.currentTime.value;s.emit("timeupdate",m),l.isPlaying.value&&s.emit("audioprocess",m)}),[l.currentTime,l.isPlaying])),o.push(Da((()=>{l.isSeeking.value&&s.emit("seeking",l.currentTime.value)}),[l.isSeeking,l.currentTime]));let g=!1;o.push(Da((()=>{l.isReady.value&&!g&&(g=!0,s.emit("ready",l.duration.value))}),[l.isReady,l.duration]));let c=!1;return o.push(Da((()=>{const m=l.isPlaying.value,p=l.currentTime.value,d=l.duration.value,f=d>0&&p>=d;c&&!m&&f&&s.emit("finish"),c=m&&f}),[l.isPlaying,l.currentTime,l.duration])),o.push(Da((()=>{const m=l.zoom.value;m>0&&s.emit("zoom",m)}),[l.zoom])),()=>{o.forEach((m=>m()))}})(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const l=this.updateProgress();this.emit("timeupdate",l)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var l;this.emit("error",(l=this.getMediaElement().error)!==null&&l!==void 0?l:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((l,s)=>{this.options.interact&&(this.seekTo(l),this.emit("interaction",l*this.getDuration()),this.emit("click",l,s))})),this.renderer.on("dblclick",((l,s)=>{this.emit("dblclick",l,s)})),this.renderer.on("scroll",((l,s,o,g)=>{const c=this.getDuration();this.emit("scroll",l*c,s*c,o,g)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(l=>{this.emit("dragstart",l)})),this.renderer.on("dragend",(l=>{this.emit("dragend",l)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let l;const s=this.renderer.on("drag",(o=>{var g;if(!this.options.interact)return;this.renderer.renderProgress(o),clearTimeout(l);let c=0;const m=this.options.dragToSeek;this.isPlaying()?c=0:m===!0?c=200:m&&typeof m=="object"&&(c=(g=m.debounceTime)!==null&&g!==void 0?g:200),l=setTimeout((()=>{this.seekTo(o)}),c),this.emit("interaction",o*this.getDuration()),this.emit("drag",o)}));this.subscriptions.push((()=>{clearTimeout(l),s()}))}}initPlugins(){var l;!((l=this.options.plugins)===null||l===void 0)&&l.length&&this.options.plugins.forEach((s=>{this.registerPlugin(s)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((l=>l())),this.mediaSubscriptions=[]}setOptions(l){this.options=Object.assign({},this.options,l),l.duration&&!l.peaks&&(this.decodedData=Kr.createBuffer(this.exportPeaks(),l.duration)),l.peaks&&l.duration&&(this.decodedData=Kr.createBuffer(l.peaks,l.duration)),this.renderer.setOptions(this.options),l.audioRate&&this.setPlaybackRate(l.audioRate),l.mediaControls!=null&&(this.getMediaElement().controls=l.mediaControls)}registerPlugin(l){if(this.plugins.includes(l))return l;l._init(this),this.plugins.push(l);const s=l.once("destroy",(()=>{this.plugins=this.plugins.filter((o=>o!==l)),this.subscriptions=this.subscriptions.filter((o=>o!==s))}));return this.subscriptions.push(s),l}unregisterPlugin(l){this.plugins=this.plugins.filter((s=>s!==l)),l.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(l){return this.renderer.setScroll(l)}setScrollTime(l){const s=l/this.getDuration();this.renderer.setScrollPercentage(s)}getActivePlugins(){return this.plugins}loadAudio(l,s,o,g){return nn(this,void 0,void 0,(function*(){var c;if(this.emit("load",l),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(c=this.abortController)===null||c===void 0||c.abort(),this.abortController=null,!s&&!o){const p=this.options.fetchParams||{};window.AbortController&&!p.signal&&(this.abortController=new AbortController,p.signal=this.abortController.signal);const d=w=>this.emit("loading",w);s=yield hy.fetchBlob(l,d,p);const f=this.options.blobMimeType;f&&(s=new Blob([s],{type:f}))}this.setSrc(l,s);const m=yield new Promise((p=>{const d=g||this.getDuration();d?p(d):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>p(this.getDuration())),{once:!0}))}));if(!l&&!s){const p=this.getMediaElement();p instanceof xu&&(p.duration=m)}if(o)this.decodedData=Kr.createBuffer(o,m||0);else if(s){const p=yield s.arrayBuffer();this.decodedData=yield Kr.decode(p,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(l,s,o){return nn(this,void 0,void 0,(function*(){try{return yield this.loadAudio(l,void 0,s,o)}catch(g){throw this.emit("error",g),g}}))}loadBlob(l,s,o){return nn(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",l,s,o)}catch(g){throw this.emit("error",g),g}}))}zoom(l){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(l),this.emit("zoom",l)}getDecodedData(){return this.decodedData}exportPeaks({channels:l=2,maxLength:s=8e3,precision:o=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const g=Math.min(l,this.decodedData.numberOfChannels),c=[];for(let m=0;m<g;m++){const p=this.decodedData.getChannelData(m),d=[],f=p.length/s;for(let w=0;w<s;w++){const C=p.slice(Math.floor(w*f),Math.ceil((w+1)*f));let k=0;for(let b=0;b<C.length;b++){const S=C[b];Math.abs(S)>Math.abs(k)&&(k=S)}d.push(Math.round(k*o)/o)}c.push(d)}return c}getDuration(){let l=super.getDuration()||0;return l!==0&&l!==1/0||!this.decodedData||(l=this.decodedData.duration),l}toggleInteraction(l){this.options.interact=l}setTime(l){this.stopAtPosition=null,super.setTime(l),this.updateProgress(l),this.emit("timeupdate",l)}seekTo(l){const s=this.getDuration()*l;this.setTime(s)}play(l,s){const o=Object.create(null,{play:{get:()=>super.play}});return nn(this,void 0,void 0,(function*(){l!=null&&this.setTime(l);const g=yield o.play.call(this);return s!=null&&(this.media instanceof xu?this.media.stopAt(s):this.stopAtPosition=s),g}))}playPause(){return nn(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(l){this.setTime(this.getCurrentTime()+l)}empty(){this.load("",[[0]],.001)}setMediaElement(l){this.unsubscribePlayerEvents(),super.setMediaElement(l),this.initPlayerEvents()}exportImage(){return nn(this,arguments,void 0,(function*(l="image/png",s=1,o="dataURL"){return this.renderer.exportImage(l,s,o)}))}destroy(){var l;this.emit("destroy"),(l=this.abortController)===null||l===void 0||l.abort(),this.plugins.forEach((s=>s.destroy())),this.subscriptions.forEach((s=>s())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((s=>s())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Ol.BasePlugin=class extends Ml{constructor(_){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=_}onInit(){}_init(_){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=_,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((_=>_())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},Ol.dom=fy;class wp{constructor(){this.listeners={}}on(l,s,o){if(this.listeners[l]||(this.listeners[l]=new Set),o?.once){const g=(...c)=>{this.un(l,g),s(...c)};return this.listeners[l].add(g),()=>this.un(l,g)}return this.listeners[l].add(s),()=>this.un(l,s)}un(l,s){var o;(o=this.listeners[l])===null||o===void 0||o.delete(s)}once(l,s){return this.on(l,s,{once:!0})}unAll(){this.listeners={}}emit(l,...s){this.listeners[l]&&this.listeners[l].forEach((o=>o(...s)))}}class wy extends wp{constructor(l){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=l}onInit(){}_init(l){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=l,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((l=>l())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function Sp(_,l){const s=l.xmlns?document.createElementNS(l.xmlns,_):document.createElement(_);for(const[o,g]of Object.entries(l))if(o==="children"&&g)for(const[c,m]of Object.entries(g))m instanceof Node?s.appendChild(m):typeof m=="string"?s.appendChild(document.createTextNode(m)):s.appendChild(Sp(c,m));else o==="style"?Object.assign(s.style,g):o==="textContent"?s.textContent=g:s.setAttribute(o,g.toString());return s}function Tl(_,l,s){const o=Sp(_,l||{});return s?.appendChild(o),o}function _p(_){let l=_;const s=new Set;return{get value(){return l},set(o){Object.is(l,o)||(l=o,s.forEach((g=>g(l))))},update(o){this.set(o(l))},subscribe:o=>(s.add(o),()=>s.delete(o))}}function $r(_,l){let s;const o=()=>{s&&(s(),s=void 0),s=_()},g=l.map((c=>c.subscribe(o)));return o(),()=>{s&&(s(),s=void 0),g.forEach((c=>c()))}}function Ri(_,l){const s=_p(null),o=g=>{s.set(g)};return _.addEventListener(l,o),s._cleanup=()=>{_.removeEventListener(l,o)},s}function $a(_){const l=_._cleanup;typeof l=="function"&&l()}function Jr(_,l={}){const{threshold:s=3,mouseButton:o=0,touchDelay:g=100}=l,c=_p(null),m=new Map,p=matchMedia("(pointer: coarse)").matches;let d=()=>{};const f=w=>{if(w.button!==o||(m.set(w.pointerId,w),m.size>1))return;let C=w.clientX,k=w.clientY,b=!1;const S=Date.now(),v=_.getBoundingClientRect(),{left:j,top:E}=v,T=Y=>{if(Y.defaultPrevented||m.size>1||p&&Date.now()-S<g)return;const te=Y.clientX,q=Y.clientY,F=te-C,se=q-k;(b||Math.abs(F)>s||Math.abs(se)>s)&&(Y.preventDefault(),Y.stopPropagation(),b||(c.set({type:"start",x:C-j,y:k-E}),b=!0),c.set({type:"move",x:te-j,y:q-E,deltaX:F,deltaY:se}),C=te,k=q)},O=Y=>{if(m.delete(Y.pointerId),b){const te=Y.clientX,q=Y.clientY;c.set({type:"end",x:te-j,y:q-E})}d()},U=Y=>{m.delete(Y.pointerId),Y.relatedTarget&&Y.relatedTarget!==document.documentElement||O(Y)},V=Y=>{b&&(Y.stopPropagation(),Y.preventDefault())},I=Y=>{Y.defaultPrevented||m.size>1||b&&Y.preventDefault()};document.addEventListener("pointermove",T),document.addEventListener("pointerup",O),document.addEventListener("pointerout",U),document.addEventListener("pointercancel",U),document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("click",V,{capture:!0}),d=()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",O),document.removeEventListener("pointerout",U),document.removeEventListener("pointercancel",U),document.removeEventListener("touchmove",I),setTimeout((()=>{document.removeEventListener("click",V,{capture:!0})}),10)}};return _.addEventListener("pointerdown",f),{signal:c,cleanup:()=>{d(),_.removeEventListener("pointerdown",f),m.clear(),$a(c)}}}class $h extends wp{constructor(l,s,o=0){var g,c,m,p,d,f,w,C,k,b;super(),this.totalDuration=s,this.numberOfChannels=o,this.element=null,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.subscriptions=[],this.updatingSide=void 0,this.isRemoved=!1,this.subscriptions=[],this.id=l.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(l.start),this.end=this.clampPosition((g=l.end)!==null&&g!==void 0?g:l.start),this.drag=(c=l.drag)===null||c===void 0||c,this.resize=(m=l.resize)===null||m===void 0||m,this.resizeStart=(p=l.resizeStart)===null||p===void 0||p,this.resizeEnd=(d=l.resizeEnd)===null||d===void 0||d,this.color=(f=l.color)!==null&&f!==void 0?f:"rgba(0, 0, 0, 0.1)",this.minLength=(w=l.minLength)!==null&&w!==void 0?w:this.minLength,this.maxLength=(C=l.maxLength)!==null&&C!==void 0?C:this.maxLength,this.channelIdx=(k=l.channelIdx)!==null&&k!==void 0?k:-1,this.contentEditable=(b=l.contentEditable)!==null&&b!==void 0?b:this.contentEditable,this.element=this.initElement(),this.setContent(l.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(l){return Math.max(0,Math.min(this.totalDuration,l))}setPart(){var l;const s=this.start===this.end;(l=this.element)===null||l===void 0||l.setAttribute("part",`${s?"marker":"region"} ${this.id}`)}addResizeHandles(l){const s={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},o=Tl("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},s),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},l),g=Tl("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},s),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},l),c=Jr(o,{threshold:1}),m=Jr(g,{threshold:1}),p=$r((()=>{const f=c.signal.value;f&&(f.type==="move"&&f.deltaX!==void 0?this.onResize(f.deltaX,"start"):f.type==="end"&&this.onEndResizing("start"))}),[c.signal]),d=$r((()=>{const f=m.signal.value;f&&(f.type==="move"&&f.deltaX!==void 0?this.onResize(f.deltaX,"end"):f.type==="end"&&this.onEndResizing("end"))}),[m.signal]);this.subscriptions.push((()=>{p(),d(),c.cleanup(),m.cleanup()}))}removeResizeHandles(l){const s=l.querySelector('[part*="region-handle-left"]'),o=l.querySelector('[part*="region-handle-right"]');s&&l.removeChild(s),o&&l.removeChild(o)}initElement(){if(this.isRemoved)return null;const l=this.start===this.end;let s=0,o=100;this.channelIdx>=0&&this.numberOfChannels>0&&this.channelIdx<this.numberOfChannels&&(o=100/this.numberOfChannels,s=o*this.channelIdx);const g=Tl("div",{style:{position:"absolute",top:`${s}%`,height:`${o}%`,backgroundColor:l?"none":this.color,borderLeft:l?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!l&&this.resize&&this.addResizeHandles(g),g}renderPosition(){if(!this.element)return;const l=this.start/this.totalDuration,s=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*l+"%",this.element.style.right=100*s+"%"}toggleCursor(l){var s;this.drag&&(!((s=this.element)===null||s===void 0)&&s.style)&&(this.element.style.cursor=l?"grabbing":"grab")}initMouseEvents(){const{element:l}=this;if(!l)return;const s=Ri(l,"click"),o=Ri(l,"mouseenter"),g=Ri(l,"mouseleave"),c=Ri(l,"dblclick"),m=Ri(l,"pointerdown"),p=Ri(l,"pointerup"),d=s.subscribe((j=>j&&this.emit("click",j))),f=o.subscribe((j=>j&&this.emit("over",j))),w=g.subscribe((j=>j&&this.emit("leave",j))),C=c.subscribe((j=>j&&this.emit("dblclick",j))),k=m.subscribe((j=>j&&this.toggleCursor(!0))),b=p.subscribe((j=>j&&this.toggleCursor(!1)));this.subscriptions.push((()=>{d(),f(),w(),C(),k(),b(),$a(s),$a(o),$a(g),$a(c),$a(m),$a(p)}));const S=Jr(l),v=$r((()=>{const j=S.signal.value;j&&(j.type==="start"?this.toggleCursor(!0):j.type==="move"&&j.deltaX!==void 0?this.onMove(j.deltaX):j.type==="end"&&(this.toggleCursor(!1),this.drag&&this.emit("update-end")))}),[S.signal]);this.subscriptions.push((()=>{v(),S.cleanup()})),this.contentEditable&&this.content&&(this.contentClickListener=j=>this.onContentClick(j),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener))}_onUpdate(l,s,o){var g;if(!(!((g=this.element)===null||g===void 0)&&g.parentElement))return;const{width:c}=this.element.parentElement.getBoundingClientRect(),m=l/c*this.totalDuration;let p=s&&s!=="start"?this.start:this.start+m,d=s&&s!=="end"?this.end:this.end+m;const f=o!==void 0;f&&this.updatingSide&&this.updatingSide!==s&&(this.updatingSide==="start"?p=o:d=o),p=Math.max(0,p),d=Math.min(this.totalDuration,d);const w=d-p;this.updatingSide=s;const C=w>=this.minLength&&w<=this.maxLength;p<=d&&(C||f)&&(this.start=p,this.end=d,this.renderPosition(),this.emit("update",s))}onMove(l){this.drag&&this._onUpdate(l)}onResize(l,s){this.resize&&(this.resizeStart||s!=="start")&&(this.resizeEnd||s!=="end")&&this._onUpdate(l,s)}onEndResizing(l){this.resize&&(this.emit("update-end",l),this.updatingSide=void 0)}onContentClick(l){l.stopPropagation(),l.target.focus(),this.emit("click",l)}onContentBlur(){this.emit("update-end")}_setTotalDuration(l){this.totalDuration=l,this.renderPosition()}play(l){this.emit("play",l&&this.end!==this.start?this.end:void 0)}getContent(l=!1){var s;return l?this.content||void 0:this.element instanceof HTMLElement?((s=this.content)===null||s===void 0?void 0:s.innerHTML)||void 0:""}setContent(l){var s;if(this.element)if(this.content&&this.contentEditable&&(this.contentClickListener&&this.content.removeEventListener("click",this.contentClickListener),this.contentBlurListener&&this.content.removeEventListener("blur",this.contentBlurListener)),(s=this.content)===null||s===void 0||s.remove(),l){if(typeof l=="string"){const o=this.start===this.end;this.content=Tl("div",{style:{padding:`0.2em ${o?.2:.4}em`,display:"inline-block"},textContent:l})}else this.content=l;this.contentEditable&&(this.content.contentEditable="true",this.contentClickListener=o=>this.onContentClick(o),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener)),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content),this.emit("content-changed")}else this.content=void 0}setOptions(l){var s,o;if(this.element){if(l.color&&(this.color=l.color,this.element.style.backgroundColor=this.color),l.drag!==void 0&&(this.drag=l.drag,this.element.style.cursor=this.drag?"grab":"default"),l.start!==void 0||l.end!==void 0){const g=this.start===this.end;this.start=this.clampPosition((s=l.start)!==null&&s!==void 0?s:this.start),this.end=this.clampPosition((o=l.end)!==null&&o!==void 0?o:g?this.start:this.end),this.renderPosition(),this.setPart()}if(l.content&&this.setContent(l.content),l.id&&(this.id=l.id,this.setPart()),l.resize!==void 0&&l.resize!==this.resize){const g=this.start===this.end;this.resize=l.resize,this.resize&&!g?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}l.resizeStart!==void 0&&(this.resizeStart=l.resizeStart),l.resizeEnd!==void 0&&(this.resizeEnd=l.resizeEnd)}}remove(){this.isRemoved=!0,this.emit("remove"),this.subscriptions.forEach((l=>l())),this.subscriptions=[],this.content&&this.contentEditable&&(this.contentClickListener&&(this.content.removeEventListener("click",this.contentClickListener),this.contentClickListener=void 0),this.contentBlurListener&&(this.content.removeEventListener("blur",this.contentBlurListener),this.contentBlurListener=void 0)),this.element&&(this.element.remove(),this.element=null),this.unAll()}}class Ou extends wy{constructor(l){super(l),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(l){return new Ou(l)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer),this.subscriptions.push(this.wavesurfer.on("ready",(s=>{this.regions.forEach((o=>o._setTotalDuration(s)))})));let l=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",(s=>{const o=this.regions.filter((g=>g.start<=s&&(g.end===g.start?g.start+.05:g.end)>=s));o.forEach((g=>{l.includes(g)||this.emit("region-in",g)})),l.forEach((g=>{o.includes(g)||this.emit("region-out",g)})),l=o})))}initRegionsContainer(){return Tl("div",{part:"regions-container",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"5",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(l){l.content&&setTimeout((()=>{const s=l.content,o=s.getBoundingClientRect(),g=this.regions.map((c=>{if(c===l||!c.content)return 0;const m=c.content.getBoundingClientRect();return o.left<m.left+m.width&&m.left<o.left+o.width?m.height:0})).reduce(((c,m)=>c+m),0);s.style.marginTop=`${g}px`}),10)}adjustScroll(l){var s,o;if(!l.element)return;const g=(o=(s=this.wavesurfer)===null||s===void 0?void 0:s.getWrapper())===null||o===void 0?void 0:o.parentElement;if(!g)return;const{clientWidth:c,scrollWidth:m}=g;if(m<=c)return;const p=g.getBoundingClientRect(),d=l.element.getBoundingClientRect(),f=d.left-p.left,w=d.right-p.left;f<0?g.scrollLeft+=f:w>c&&(g.scrollLeft+=w-c)}virtualAppend(l,s,o){const g=()=>{if(!this.wavesurfer)return;const c=this.wavesurfer.getWidth(),m=this.wavesurfer.getScroll(),p=s.clientWidth,d=this.wavesurfer.getDuration(),f=Math.round(l.start/d*p),w=f+(Math.round((l.end-l.start)/d*p)||1)>m&&f<m+c;w&&!o.parentElement?s.appendChild(o):!w&&o.parentElement&&o.remove()};setTimeout((()=>{if(!this.wavesurfer||!l.element)return;g();const c=this.wavesurfer.on("scroll",g),m=this.wavesurfer.on("zoom",g),p=this.wavesurfer.on("resize",g);this.subscriptions.push(c,m,p),l.once("remove",(()=>{c(),m(),p()}))}),0)}saveRegion(l){if(!l.element)return;this.virtualAppend(l,this.regionsContainer,l.element),this.avoidOverlapping(l),this.regions.push(l);const s=[l.on("update",(o=>{o||this.adjustScroll(l),this.emit("region-update",l,o)})),l.on("update-end",(o=>{this.avoidOverlapping(l),this.emit("region-updated",l,o)})),l.on("play",(o=>{var g;(g=this.wavesurfer)===null||g===void 0||g.play(l.start,o)})),l.on("click",(o=>{this.emit("region-clicked",l,o)})),l.on("dblclick",(o=>{this.emit("region-double-clicked",l,o)})),l.on("content-changed",(()=>{this.emit("region-content-changed",l)})),l.once("remove",(()=>{s.forEach((o=>o())),this.regions=this.regions.filter((o=>o!==l)),this.emit("region-removed",l)}))];this.subscriptions.push(...s),this.emit("region-created",l)}addRegion(l){var s,o;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const g=this.wavesurfer.getDuration(),c=(o=(s=this.wavesurfer)===null||s===void 0?void 0:s.getDecodedData())===null||o===void 0?void 0:o.numberOfChannels,m=new $h(l,g,c);return this.emit("region-initialized",m),g?this.saveRegion(m):this.subscriptions.push(this.wavesurfer.once("ready",(p=>{m._setTotalDuration(p),this.saveRegion(m)}))),m}enableDragSelection(l,s=3){var o;const g=(o=this.wavesurfer)===null||o===void 0?void 0:o.getWrapper();if(!(g&&g instanceof HTMLElement))return()=>{};let c=null,m=0,p=0;const d=Jr(g,{threshold:s}),f=$r((()=>{var w,C;const k=d.signal.value;if(k)if(k.type==="start"){if(m=k.x,!this.wavesurfer)return;const b=this.wavesurfer.getDuration(),S=(C=(w=this.wavesurfer)===null||w===void 0?void 0:w.getDecodedData())===null||C===void 0?void 0:C.numberOfChannels,{width:v}=this.wavesurfer.getWrapper().getBoundingClientRect();p=m/v*b;const j=k.x/v*b,E=(k.x+5)/v*b;c=new $h(Object.assign(Object.assign({},l),{start:j,end:E}),b,S),this.emit("region-initialized",c),c.element&&this.regionsContainer.appendChild(c.element)}else k.type==="move"&&k.deltaX!==void 0?c&&c._onUpdate(k.deltaX,k.x>m?"end":"start",p):k.type==="end"&&c&&(this.saveRegion(c),c.updatingSide=void 0,c=null)}),[d.signal]);return()=>{f(),d.cleanup()}}clearRegions(){this.regions.slice().forEach((l=>l.remove())),this.regions=[]}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}class Sy{async applyFades(l,s,o){const g=l.numberOfChannels,c=l.length,m=l.sampleRate,p=new AudioBuffer({length:c,numberOfChannels:g,sampleRate:m});for(let d=0;d<g;d++){const f=l.getChannelData(d),w=p.getChannelData(d);w.set(f);const C=Math.floor(s*m);for(let S=0;S<C&&S<c;S++)w[S]*=S/C;const k=Math.floor(o*m),b=c-k;for(let S=0;S<k&&b+S<c;S++){const v=b+S;v>=0&&(w[v]*=1-S/k)}}return p}async applyCrossfadeLoop(l,s){const o=l.sampleRate,g=Math.floor(s*o),c=l.length;if(g>=c/2)return l;const m=c-g,p=new AudioBuffer({length:m,numberOfChannels:l.numberOfChannels,sampleRate:o});for(let d=0;d<l.numberOfChannels;d++){const f=l.getChannelData(d),w=p.getChannelData(d);w.set(f.subarray(0,m));const C=f.subarray(m,c);for(let k=0;k<g;k++){const b=k/g,S=1-b;w[k]=w[k]*b+C[k]*S}}return p}async trim(l,s,o){const g=l.sampleRate,c=Math.floor(s*g),m=Math.ceil(o*g),p=m-c;if(p<=0)return l;const d=new AudioBuffer({length:p,numberOfChannels:l.numberOfChannels,sampleRate:g});for(let f=0;f<l.numberOfChannels;f++){const w=l.getChannelData(f).subarray(c,m);d.getChannelData(f).set(w)}return d}async normalize(l,s=-1){const o=new OfflineAudioContext(l.numberOfChannels,l.length,l.sampleRate),g=o.createBufferSource();g.buffer=l;let c=0;for(let f=0;f<l.numberOfChannels;f++){const w=l.getChannelData(f);for(let C=0;C<w.length;C++){const k=Math.abs(w[C]);k>c&&(c=k)}}const m=Math.pow(10,s/20);if(c===0)return l;const p=m/c,d=o.createGain();return d.gain.value=p,g.connect(d),d.connect(o.destination),g.start(),await o.startRendering()}}const Yn=new Sy;function Ja(_){const c=_.length*2*4,m=new ArrayBuffer(44+c),p=new DataView(m);Qr(p,0,"RIFF"),p.setUint32(4,36+c,!0),Qr(p,8,"WAVE"),Qr(p,12,"fmt "),p.setUint32(16,16,!0),p.setUint16(20,3,!0),p.setUint16(22,2,!0),p.setUint32(24,48e3,!0),p.setUint32(28,48e3*2*4,!0),p.setUint16(32,8,!0),p.setUint16(34,32,!0),Qr(p,36,"data"),p.setUint32(40,c,!0);const d=_.getChannelData(0),f=_.numberOfChannels>1?_.getChannelData(1):d;let w=44;for(let C=0;C<_.length;C++)p.setFloat32(w,d[C],!0),w+=4,p.setFloat32(w,f[C],!0),w+=4;return new Blob([m],{type:"audio/wav"})}function Qr(_,l,s){for(let o=0;o<s.length;o++)_.setUint8(l+o,s.charCodeAt(o))}const ei=({isOpen:_,onClose:l,onConfirm:s,title:o,message:g,confirmLabel:c="Confirm",isDestructive:m=!1,showCancel:p=!0})=>_?u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-6 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-md shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20",children:[u.jsxs("h3",{className:"text-xl font-bold text-white font-header flex items-center gap-2",children:[m&&u.jsx(oa,{size:20,className:"text-synthux-orange"}),o]}),u.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:u.jsx(xn,{size:20})})]}),u.jsx("div",{className:"p-6 font-body text-gray-300 leading-relaxed space-y-4",children:g}),u.jsxs("div",{className:"p-6 pt-4 border-t border-gray-800 bg-gray-900/50 flex justify-end gap-3 transition-colors",children:[p&&u.jsx("button",{onClick:l,className:"px-4 py-2 hover:bg-gray-800 rounded-lg text-gray-400 hover:text-white font-bold text-sm transition-colors border border-transparent hover:border-gray-700",children:"Cancel"}),u.jsx("button",{onClick:()=>{s()},className:`px-6 py-2 rounded-lg text-white font-bold text-sm transition-all shadow-lg hover:scale-105 active:scale-95 ${m?"bg-synthux-orange hover:bg-orange-600 shadow-orange-900/20":"bg-synthux-blue hover:bg-blue-600 shadow-blue-900/20"}`,children:c})]})]})}):null,_y=({width:_,height:l,fadeIn:s,fadeOut:o,duration:g,region:c,onFadeChange:m,onRegionChange:p})=>{if(g<=0)return null;const d=_/g,f=c.start*d,w=c.end*d,C=w-f,k=c.end-c.start,b=f+s*d,S=w-o*d,v=42,j=f+v*d,E=k>v,[T,O]=Ee.useState(null),[U,V]=Ee.useState(null),I=Ee.useRef(null),Y=(F,se)=>{se.preventDefault(),se.stopPropagation(),O(F),V({x:se.clientX,regionStart:c.start,regionEnd:c.end}),se.target.setPointerCapture(se.pointerId)},te=F=>{if(!T||!I.current||!U)return;F.preventDefault();const se=I.current.getBoundingClientRect();if(T==="move"){if(!p)return;const D=(F.clientX-U.x)/d;let h=U.regionStart+D,X=U.regionEnd+D;h<0&&(h=0,X=0+(U.regionEnd-U.regionStart)),X>g&&(X=g,h=g-(U.regionEnd-U.regionStart)),p(h,X)}else if(T==="resize-start"){if(!p)return;const D=(F.clientX-U.x)/d;let h=U.regionStart+D;h<0&&(h=0),h>=U.regionEnd-.1&&(h=U.regionEnd-.1),p(h,U.regionEnd)}else if(T==="resize-end"){if(!p)return;const D=(F.clientX-U.x)/d;let h=U.regionEnd+D;h>g&&(h=g),h<=U.regionStart+.1&&(h=U.regionStart+.1),p(U.regionStart,h)}else{if(!m)return;const D=(F.clientX-se.left)/se.width*g;if(T==="in"){let h=D-c.start;h<0&&(h=0),h>c.end-c.start&&(h=c.end-c.start),m("in",h)}else{let h=c.end-D;h<0&&(h=0),h>c.end-c.start&&(h=c.end-c.start),m("out",h)}}},q=F=>{O(null),V(null),F.target.releasePointerCapture(F.pointerId)};return u.jsxs("svg",{ref:I,className:"absolute top-0 left-0 fade-overlay fade-overlay-svg-container",style:{width:"100%",height:"100%",pointerEvents:"none",zIndex:999,position:"absolute",top:0,left:0},viewBox:`0 0 ${_} ${l}`,preserveAspectRatio:"none",onPointerMove:te,onPointerUp:q,onPointerLeave:q,children:[u.jsxs("defs",{children:[u.jsx("style",{children:`
                        .fade-overlay { mix-blend-mode: normal; }
                        .fade-handle { pointer-events: auto; cursor: col-resize; }
                        .fade-handle:hover line { stroke: white; }
                        .fade-handle:hover polygon { fill: white; }

                        /* Bottom Move Bar */
                        .move-bar { pointer-events: auto; cursor: grab; fill: rgba(0,0,0,0.4); stroke: rgba(255,255,255,0.2); transition: fill 0.2s; }
                        .move-bar:hover { fill: rgba(255,255,255,0.1); stroke: rgba(255,255,255,0.5); }
                        .move-bar:active { cursor: grabbing; fill: rgba(255,255,255,0.2); }
                        
                        .resize-handle { pointer-events: auto; cursor: col-resize; transition: opacity 0.2s; }
                        .resize-handle:hover rect { opacity: 1; }
                        .resize-handle:active rect { fill: #ffb900; }

                        /* Corner Fade Creator Handles */
                        .corner-handle { pointer-events: auto; cursor: col-resize; fill: rgba(255,255,255,0.5); transition: fill 0.2s; }
                        .corner-handle:hover { fill: rgba(255,255,255,1); }
                        
                        rect.handle-hit-area { fill: transparent; pointer-events: auto; cursor: col-resize; }
                        rect.handle-hit-area:hover + polygon { fill: white; }
                        
                        /* Danger Zone Pattern */
                        .danger-pattern { fill: url(#dangerStripe); opacity: 0.3; pointer-events: none; }
                    `}),u.jsx("pattern",{id:"dangerStripe",width:"10",height:"10",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"10",stroke:"#f00f13",strokeWidth:"2"})})]}),E&&u.jsx("rect",{x:j,y:0,width:w-j,height:l,fill:"rgba(240, 15, 19, 0.1)",className:"danger-zone"}),E&&u.jsx("rect",{x:j,y:0,width:w-j,height:l,fill:"url(#dangerStripe)",opacity:.2,style:{pointerEvents:"none"}}),u.jsxs("g",{className:"move-group",children:[u.jsx("rect",{x:f+10,y:l-24,width:Math.max(0,C-20),height:24,className:"move-bar",onPointerDown:F=>Y("move",F)}),u.jsxs("g",{className:"resize-handle",onPointerDown:F=>Y("resize-start",F),children:[u.jsx("rect",{x:f,y:l-24,width:10,height:24,fill:"#fff",opacity:.8,rx:"2"}),u.jsx("line",{x1:f+3,y1:l-20,x2:f+3,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5}),u.jsx("line",{x1:f+6,y1:l-20,x2:f+6,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5})]}),u.jsxs("g",{className:"resize-handle",onPointerDown:F=>Y("resize-end",F),children:[u.jsx("rect",{x:w-10,y:l-24,width:10,height:24,fill:"#fff",opacity:.8,rx:"2"}),u.jsx("line",{x1:w-7,y1:l-20,x2:w-7,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5}),u.jsx("line",{x1:w-4,y1:l-20,x2:w-4,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5})]}),u.jsxs("text",{x:f+C/2,y:l-8,textAnchor:"middle",fill:E?"#f00f13":"white",fontSize:"10",fontWeight:"bold",pointerEvents:"none",style:{textShadow:"0 1px 2px black"},children:[k.toFixed(2),"s ",E?"(!)":""]})]}),s>0&&u.jsxs(u.Fragment,{children:[u.jsx("path",{d:`M ${f},${l} C ${f+(b-f)/2},${l} ${b-(b-f)/2},0 ${b},0 L ${f},0 Z`,fill:"rgba(255, 185, 0, 0.3)"}),u.jsx("path",{d:`M ${f},${l} C ${f+(b-f)/2},${l} ${b-(b-f)/2},0 ${b},0`,fill:"none",stroke:"rgba(255, 255, 255, 0.9)",strokeWidth:"2"}),u.jsxs("g",{className:"fade-handle",onPointerDown:F=>Y("in",F),children:[u.jsx("line",{x1:b,y1:0,x2:b,y2:l,stroke:"rgba(255,255,255,0.5)",strokeWidth:"1",strokeDasharray:"4 4"}),u.jsx("polygon",{points:`${b},0 ${b-12},0 ${b},16`,fill:"rgba(255,255,255,0.8)"}),u.jsx("rect",{x:b-16,y:0,width:32,height:l,className:"handle-hit-area"})]})]}),u.jsxs("g",{className:"corner-handle",onPointerDown:F=>Y("in",F),children:[u.jsx("polygon",{points:`${f},0 ${f+24},0 ${f},24`}),u.jsx("rect",{x:f,y:0,width:24,height:24,fill:"transparent",style:{pointerEvents:"auto",cursor:"ew-resize"}})]}),o>0&&u.jsxs(u.Fragment,{children:[u.jsx("path",{d:`M ${S},0 C ${S+(w-S)/2},0 ${w-(w-S)/2},${l} ${w},${l} L ${w},0 Z`,fill:"rgba(255, 185, 0, 0.2)"}),u.jsx("path",{d:`M ${S},0 C ${S+(w-S)/2},0 ${w-(w-S)/2},${l} ${w},${l}`,fill:"none",stroke:"rgba(255, 255, 255, 0.8)",strokeWidth:"2"}),u.jsxs("g",{className:"fade-handle",onPointerDown:F=>Y("out",F),children:[u.jsx("line",{x1:S,y1:0,x2:S,y2:l,stroke:"rgba(255,255,255,0.5)",strokeWidth:"1",strokeDasharray:"4 4"}),u.jsx("polygon",{points:`${S},0 ${S+12},0 ${S},16`,fill:"rgba(255,255,255,0.8)"}),u.jsx("rect",{x:S-16,y:0,width:32,height:l,fill:"transparent"})]})]}),u.jsxs("g",{className:"corner-handle",onPointerDown:F=>Y("out",F),children:[u.jsx("polygon",{points:`${w},0 ${w-24},0 ${w},24`}),u.jsx("rect",{x:w-24,y:0,width:24,height:24,fill:"transparent",style:{pointerEvents:"auto",cursor:"ew-resize"}})]})]})},Ey=({slot:_,versions:l,activeVersionId:s,tapeColor:o,onClose:g,onSave:c,onSaveAsCopy:m,onDeleteVersion:p,onAssignVersion:d,onMoveVersionToPool:f,isDuplicate:w,onSaveUnique:C})=>{const k=Ee.useRef(null),b=Ee.useRef(null),S=Ee.useRef(null),v=Ee.useRef(null),[j,E]=Ee.useState(!1),[T,O]=Ee.useState(10),[U,V]=Ee.useState(0),[I,Y]=Ee.useState(0),[te,q]=Ee.useState(!1),[F,se]=Ee.useState(.2),[A,D]=Ee.useState(!1),[h,X]=Ee.useState(null),B=Ee.useRef(null),L=(oe,ke="success")=>{B.current&&clearTimeout(B.current),X({message:oe,type:ke}),B.current=setTimeout(()=>{X(null)},3e3)},[re,Q]=Ee.useState(!1),[ve,z]=Ee.useState(""),[R,de]=Ee.useState(!1),[le,ce]=Ee.useState(!1),[Re,He]=Ee.useState(null),[J]=Ee.useState(new Audio),[_e,qe]=Ee.useState(null),[Ge,tt]=Ee.useState(_.blob),[Je,x]=Ee.useState(s),[P,ee]=Ee.useState(null),{stop:H}=ns(),[M,K]=Ee.useState(0),[ye,je]=Ee.useState(.1),[$,Te]=Ee.useState({start:0,end:0}),Ne=Ee.useRef(null),[Ae,Ve]=Ee.useState(!1),[ut,Ke]=Ee.useState(!1),[Yt,an]=Ee.useState(!1),[Et,dn]=Ee.useState(new Set),[ct,jt]=Ee.useState(!1),[Ft,pt]=Ee.useState(!1),Nt=Ee.useRef(!1),Dn=Ee.useRef(null),On=()=>{!R&&Nt.current&&de(!0)};Ee.useEffect(()=>(Nt.current=!0,Dn.current&&clearTimeout(Dn.current),Dn.current=setTimeout(()=>{pe()},100),()=>{if(Nt.current=!1,Dn.current&&clearTimeout(Dn.current),S.current){try{S.current.destroy()}catch(oe){console.warn(oe)}S.current=null}}),[Ge]),Ee.useEffect(()=>{V(0),Y(0),de(!1);const oe=l.find(ke=>ke.id===Je);oe?.processing?(Ve(oe.processing.includes("normalized")),Ke(oe.processing.includes("trimmed"))):(Ve(!1),Ke(!1))},[Ge,Je,l]),Ee.useEffect(()=>{_.blob!==Ge&&tt(_.blob)},[_.blob]),Ee.useEffect(()=>{s!==Je&&x(s)},[s]),Ee.useEffect(()=>{S.current&&S.current.zoom(T)},[T]);const fe=Ee.useRef(!1),xe=Ee.useRef(null),he=Ee.useRef(null);Ee.useEffect(()=>{fe.current=te},[te]);const pe=async()=>{if(!(!k.current||!Ge||!Nt.current)){S.current&&(S.current.destroy(),S.current=null);try{const oe=URL.createObjectURL(Ge),ke=Ol.create({container:k.current,waveColor:"#ffb900",progressColor:"#FFDF9B",url:oe,height:256,minPxPerSec:T,interact:!0,dragToSeek:!0,autoScroll:!1});S.current=ke,xe.current=ke,ke.on("error",Ie=>{Nt.current&&(typeof Ie=="string"&&Ie.includes("not initialized")||console.error("WaveSurfer Error:",Ie))});try{const Ie=ke.registerPlugin(Ou.create());v.current=Ie,he.current=Ie,ke.on("ready",()=>{if(!Nt.current)return;const St=ke.getDuration();if(K(St),k.current){const Un=k.current.clientWidth/St;je(Un),O(Un),ke.zoom(Un)}let fn=0,wn=St;if(St>42){const Zn=St/2;fn=Zn-21,wn=Zn+21}Ie.addRegion({start:fn,end:wn,color:"rgba(255, 255, 255, 0.1)",drag:!1,resize:!0}),Te({start:fn,end:wn})}),Ie.on("region-update",St=>Te({start:St.start,end:St.end})),Ie.on("region-updated",St=>{Te({start:St.start,end:St.end}),Nt.current&&On()}),Ie.on("region-out",St=>{fe.current&&Nt.current&&ke.play(St.start,St.end)})}catch(Ie){console.warn(Ie)}ke.on("play",()=>Nt.current&&E(!0)),ke.on("pause",()=>{Nt.current&&E(!1)}),ke.on("finish",()=>{if(fe.current&&Nt.current){if(he.current){const Ie=he.current.getRegions();if(Ie.length>0){const St=Ie[0];ke.play(St.start,St.end);return}}ke.play()}else Nt.current&&E(!1)});const Ye=await Ge.arrayBuffer();if(!Nt.current)return;const Le=new AudioContext,et=await Le.decodeAudioData(Ye);ee(et),Le.close()}catch(oe){console.error(oe),Nt.current&&L("Init Failed: "+oe,"error")}}};Ee.useEffect(()=>(H(),()=>{Ne.current&&cancelAnimationFrame(Ne.current)}),[]);const me=()=>{if(!S.current)return;const ke=S.current.getCurrentTime()-$.start,Ye=$.end-$.start;let Le=1;if(ke<0||ke>Ye)Le=1;else if(U>0&&ke<U){const et=ke/U;Le=.5*(1-Math.cos(et*Math.PI))}else if(I>0&&ke>Ye-I){const Ie=(Ye-ke)/I;Le=.5*(1-Math.cos(Ie*Math.PI))}S.current.setVolume(Le),j&&(Ne.current=requestAnimationFrame(me))};Ee.useEffect(()=>(j?me():Ne.current&&cancelAnimationFrame(Ne.current),()=>{Ne.current&&cancelAnimationFrame(Ne.current)}),[j,U,I]),Ee.useEffect(()=>{const oe=ke=>{ke.code==="Space"&&(ke.preventDefault(),Be())};return window.addEventListener("keydown",oe),()=>window.removeEventListener("keydown",oe)},[j,te]);const Se=(oe,ke)=>{const Ye=Math.max(oe,ye);if(O(Ye),S.current&&b.current&&k.current){const Le=S.current.getCurrentTime(),et=b.current.clientWidth,Ie=Le*Ye-et/2;requestAnimationFrame(()=>{b.current&&(b.current.scrollLeft=Math.max(0,Ie))})}},Ce=()=>Se(Math.min(T*1.25,500)),De=()=>Se(Math.max(T*.8,ye)),Me=()=>{if(!b.current||!M)return;const ke=b.current.clientWidth/M;je(ke),O(ke),b.current&&(b.current.scrollLeft=0)},ze=()=>{if(!b.current||!M)return;const oe=b.current.clientWidth,ke=$.end-$.start;if(ke<=0)return;const Le=oe*.9/ke,et=Math.max(Le,ye);O(et),setTimeout(()=>{if(b.current){const wn=($.start+ke/2)*et+16-oe/2;b.current.scrollLeft=Math.max(0,wn)}},0)},Oe=oe=>{if(oe.ctrlKey){oe.preventDefault();const ke=-Math.sign(oe.deltaY),Ye=1.1;let Le=T;ke>0?Le=Math.min(T*Ye,500):Le=Math.max(T/Ye,ye),Se(Le)}},Be=async()=>{if(S.current)if(j)S.current.pause();else{const oe=v.current?.getRegions();if(oe&&oe.length>0){const ke=oe[0],Ye=S.current.getCurrentTime();Ye>=ke.end-.05?S.current.play(ke.start,ke.end):Ye>=ke.start&&Ye<ke.end?S.current.play(Ye,ke.end):S.current.play(ke.start,ke.end)}else S.current.play()}},We=async()=>{if(P){Q(!0);try{let oe=!1;(U>0||I>0)&&(oe=!0),($.start>.01||$.end<P.duration-.01)&&(oe=!0);let ke=0,Ye=P.duration;if(v.current){const Ie=v.current.getRegions();Ie&&Ie.length>0&&(ke=Ie[0].start,Ye=Ie[0].end)}let Le,et;if(oe){let Ie=await Yn.trim(P,ke,Ye);(U>0||I>0)&&(Ie=await Yn.applyFades(Ie,U,I)),et=Ie.duration,Le=Ja(Ie),c(Le,et,"Edited",oe,["trimmed"])}else{let Ie=await Yn.trim(P,ke,Ye);et=Ie.duration,Le=Ja(Ie);const St=l.find(fn=>fn.id===Je)?.processing;c(Le,et,"Edited",oe,St)}L(oe?"Version Saved!":"Assigned to Tape","success"),oe||g()}catch(oe){console.error(oe),L("Failed to save","error")}finally{Q(!1)}}},st=oe=>{Nt.current&&oe.id!==Je&&(R?(He(oe),ce(!0)):(tt(oe.blob),x(oe.id)))},Bt=(oe,ke)=>{if(ke.stopPropagation(),_e===oe.id)J.pause(),qe(null);else{const Ye=URL.createObjectURL(oe.blob);J.src=Ye,J.play().catch(Le=>console.error("Preview fail",Le)),qe(oe.id),J.onended=()=>qe(null)}},wt=Math.floor(M*T),Ct=Ee.useRef(!1),yt=oe=>{oe.button===0&&(Ct.current=!0,oe.target.setPointerCapture(oe.pointerId),Kt(oe))},Pt=oe=>{Ct.current&&Kt(oe)},Ut=oe=>{Ct.current&&(Ct.current=!1,oe.target.releasePointerCapture(oe.pointerId))},Kt=oe=>{if(!k.current||!S.current)return;const ke=k.current.getBoundingClientRect();let Le=(oe.clientX-ke.left)/ke.width;Le<0&&(Le=0),Le>1&&(Le=1),S.current.seekTo(Le)};return u.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur flex items-center justify-center z-50 p-6",children:[u.jsx("style",{children:`
                /* Allow clicks to pass through region body to seek */
                .wavesurfer-region {
                    pointer-events: none !important;
                }
                /* Restrict Region Handles to Bottom 50% for Trimming */
                .wavesurfer-region [data-region-handle] {
                   height: 50% !important;
                   top: 50% !important;
                   pointer-events: auto !important;
                }
                /* Ensure region visuals are above waveform but below handles */
                .wavesurfer-region {
                    z-index: 4 !important;
                }
                /* Toast Animation */
                @keyframes slideIn {
                    from { transform: translateY(-20px) translateX(-50%); opacity: 0; }
                    to { transform: translateY(0) translateX(-50%); opacity: 1; }
                }

                /* Hide WaveSurfer Internal Scrollbar */
                ::part(scroll) {
                    overflow-x: hidden !important;
                }
                
                /* Custom Scrollbar */
                .editor-scroll::-webkit-scrollbar {
                    height: 12px;
                    background: #111;
                    border-top: 1px solid #333;
                }
                .editor-scroll::-webkit-scrollbar-thumb, .history-scroll::-webkit-scrollbar-thumb {
                    background: #444;
                    border-radius: 6px;
                    border: 2px solid #111;
                }
                .editor-scroll::-webkit-scrollbar-thumb:hover, .history-scroll::-webkit-scrollbar-thumb:hover {
                    background: #666;
                }
                
                /* History Sidebar Scrollbar */
                .history-scroll::-webkit-scrollbar {
                    width: 6px;
                    background: #111;
                }
            `}),h&&u.jsx("div",{className:"absolute top-8 left-1/2 z-[70] animate-[slideIn_0.3s_ease-out]",style:{transform:"translateX(-50%)"},children:u.jsxs("div",{className:`px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 border ${h.type==="success"?"bg-green-900/90 border-green-500 text-green-100":"bg-red-900/90 border-red-500 text-red-100"}`,children:[h.type==="success"?u.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center text-black font-bold text-xs",children:""}):u.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center text-white font-bold text-xs",children:"!"}),u.jsx("span",{className:"font-medium text-sm",children:h.message})]})}),le&&u.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-700 p-6 rounded-xl shadow-2xl max-w-sm w-full text-center",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Changes"}),u.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"You have unsaved changes in the current view. Loading a different version will discard them."}),u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsx("button",{onClick:()=>ce(!1),className:"px-4 py-2 rounded-full bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium text-sm transition-colors",children:"Cancel"}),u.jsx("button",{onClick:()=>{Re&&(tt(Re.blob),x(Re.id),ce(!1),He(null))},className:"px-4 py-2 rounded-full bg-red-600 hover:bg-red-500 text-white font-bold text-sm transition-colors",children:"Discard & Load"})]})]})}),u.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-2xl w-full max-w-7xl h-[90vh] shadow-2xl flex overflow-hidden",children:[u.jsx(ei,{isOpen:Yt,onClose:()=>an(!1),onConfirm:()=>{const oe=l.find(ke=>ke.id===Je);if(oe&&tt(oe.blob),V(0),Y(0),de(!1),S.current&&v.current){const ke=S.current.getDuration();v.current.clearRegions();let Ye=ke,Le=0;if(ke>42){const et=ke/2;Le=et-21,Ye=et+21}v.current.addRegion({start:Le,end:Ye,color:"rgba(255, 255, 255, 0.1)",drag:!1,resize:!0}),Te({start:Le,end:Ye})}L("Reset to original","success"),an(!1)},title:"Reset Changes?",message:"Are you sure you want to discard all changes and revert to the last saved version? This cannot be undone.",confirmLabel:"Discard & Reset",isDestructive:!0}),u.jsx(ei,{isOpen:ct,onClose:()=>jt(!1),onConfirm:()=>{p&&(Et.forEach(oe=>p(oe)),dn(new Set),jt(!1),L(`Deleted ${Et.size} versions`,"success"))},title:`Delete ${Et.size} Version${Et.size>1?"s":""}?`,message:"This action cannot be undone. These versions will be permanently removed from the history.",confirmLabel:"Delete Forever",isDestructive:!0}),u.jsx(ei,{isOpen:Ft,onClose:()=>pt(!1),onConfirm:()=>{f&&(Et.forEach(oe=>f(oe)),dn(new Set),pt(!1),L(`Moved ${Et.size} versions to Pool`,"success"))},title:`Move ${Et.size} Version${Et.size>1?"s":""} to Pool?`,message:"These versions will be removed from this file's history and created as new unassigned files.",confirmLabel:"Move to Pool"}),u.jsxs("div",{className:"w-64 bg-[#111] border-r border-gray-800 flex flex-col shrink-0",children:[u.jsxs("div",{className:"p-4 border-b border-gray-800 bg-gray-900/50 flex flex-wrap gap-2 justify-between items-center",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"History"}),Et.size>0&&u.jsxs("div",{className:"flex gap-1",children:[f&&u.jsxs("button",{onClick:()=>pt(!0),className:"text-xs font-bold text-synthux-yellow hover:text-white flex items-center gap-1 bg-synthux-yellow/10 px-2 py-1 rounded hover:bg-synthux-yellow/30 transition-colors border border-synthux-yellow/20",children:[u.jsx(xn,{size:12})," Move"]}),p&&u.jsxs("button",{onClick:()=>jt(!0),className:"text-xs font-bold text-red-400 hover:text-red-300 flex items-center gap-1 bg-red-900/20 px-2 py-1 rounded hover:bg-red-900/40 transition-colors",children:[u.jsx(Li,{size:12})," Delete"]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 history-scroll",children:l.map(oe=>{const ke=oe.id===Je,Ye=Et.has(oe.id);return u.jsxs("div",{onClick:()=>{st(oe)},className:`group p-3 rounded-lg border cursor-pointer transition-all hover:bg-gray-800 relative select-none
                                        ${ke?"bg-gray-800 border-synthux-blue/50 ring-1 ring-synthux-blue/20":""}
                                        ${Ye?"bg-synthux-yellow/10 border-synthux-yellow/50":ke?"":"bg-transparent border-gray-800 opacity-60 hover:opacity-100"}
                                    `,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("div",{onClick:Le=>{Le.stopPropagation();const et=new Set(Et);et.has(oe.id)?et.delete(oe.id):et.add(oe.id),dn(et)},className:`w-3 h-3 rounded-sm border flex items-center justify-center shrink-0 transition-colors ${Ye?"bg-synthux-yellow border-synthux-yellow":"border-gray-600 hover:border-gray-400"}`,children:Ye&&u.jsx(Dl,{size:8,className:"text-black stroke-[4]"})}),u.jsx("div",{className:"text-xs text-gray-500",children:new Date(oe.timestamp).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"})})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:Le=>Bt(oe,Le),className:"p-1.5 rounded-full bg-gray-700 hover:bg-synthux-blue text-white transition-colors",title:_e===oe.id?"Stop Preview":"Preview Audio",children:_e===oe.id?u.jsx(Yh,{size:10,fill:"white"}):u.jsx(Ui,{size:10,fill:"white"})}),u.jsx("button",{onClick:Le=>{Le.stopPropagation(),ts(()=>Promise.resolve().then(()=>Ru),void 0).then(et=>et.exportSingleFile({..._,versions:[oe],currentVersionId:oe.id,name:`${_.name} (v${new Date(oe.timestamp).getTime()})`}))},className:"p-1.5 rounded-full bg-gray-700 hover:bg-gray-600 text-gray-400 hover:text-white transition-colors",title:"Download Version WAV",children:u.jsx(Bi,{size:10})}),f&&u.jsx("button",{onClick:Le=>{Le.stopPropagation(),f(oe.id)},className:"p-1.5 rounded-full bg-gray-700 hover:bg-synthux-yellow/20 text-gray-400 hover:text-synthux-yellow transition-colors",title:"Move to Pool",children:u.jsx(xn,{size:10})}),p&&u.jsx("button",{onClick:Le=>{Le.stopPropagation(),p(oe.id)},className:"p-1.5 rounded-full bg-gray-700 hover:bg-red-500 text-gray-400 hover:text-white transition-colors",title:"Delete Version",children:u.jsx(Li,{size:10})})]})]}),u.jsxs("div",{className:`text-sm font-medium truncate ${ke?"text-synthux-blue":"text-white"}`,children:[oe.description||"Edited Version",oe.processing&&oe.processing.length>0&&u.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:oe.processing.map(Le=>u.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700/50 rounded text-[10px] uppercase font-bold text-gray-300 border border-gray-600",children:Le},Le))})]}),u.jsx("div",{className:"text-[10px] text-gray-600 mt-1 flex justify-between items-center",children:u.jsxs("span",{children:[(oe.duration||0).toFixed(2),"s  ",(oe.blob.size/1024).toFixed(0),"KB"]})})]},oe.id)})})]}),u.jsxs("div",{className:"flex-1 flex flex-col relative bg-[#1a1a1a] min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 pb-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(Hi,{color:o?`var(--color-synthux-${o.toLowerCase()})`:"gold",size:40})}),u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center gap-3",children:u.jsx("h2",{className:"text-2xl font-black bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent tracking-tighter uppercase",children:_.name})}),u.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-widest uppercase flex items-center gap-2",children:[u.jsx("span",{children:"Waveform Editor"}),u.jsx("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),u.jsx("span",{className:R?"text-amber-500":"text-gray-600",children:R?"Unsaved Changes":"All Saved"})]})]})]}),u.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:""})]}),u.jsxs("div",{className:"p-6 pt-2 flex flex-col h-full overflow-hidden",children:[u.jsx("div",{className:"flex gap-6 mb-4 bg-[#111] p-4 rounded-xl border border-gray-800 flex-col text-left shrink-0 max-w-full",children:u.jsxs("div",{className:"flex items-center gap-6 w-full overflow-x-auto pb-2",children:[u.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-700 pr-6 shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Fade In"}),u.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:U,onChange:oe=>{V(Number(oe.target.value)),On()},onMouseEnter:()=>z("Adjust Fade In Duration"),onMouseLeave:()=>z(""),className:"w-24 h-2 bg-gradient-to-r from-green-900 to-synthux-green rounded-lg appearance-none cursor-pointer"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Fade Out"}),u.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:I,onChange:oe=>{Y(Number(oe.target.value)),On()},onMouseEnter:()=>z("Adjust Fade Out Duration"),onMouseLeave:()=>z(""),className:"w-24 h-2 bg-gradient-to-r from-synthux-orange to-red-900 rounded-lg appearance-none cursor-pointer"})]})]}),u.jsxs("button",{onClick:()=>D(!A),onMouseEnter:()=>z("Create Seamless Loop (Crossfade end/start)"),onMouseLeave:()=>z(""),disabled:re,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${A?"bg-synthux-blue text-white border-transparent":"bg-gray-800 hover:bg-gray-700 border-gray-700"}`,children:[u.jsx(Zh,{size:14})," Make Loop"]}),(()=>{const oe=$.end-$.start,ke=Math.abs(oe-M)<.05,Ye=re||ke||ut;return u.jsxs("button",{onClick:()=>{We()},onMouseEnter:()=>z(ut?"Already Applied":ke?"Full Selection (Nothing to Trim)":"Apply Trim & Fades (Keep Open)"),onMouseLeave:()=>z(""),disabled:Ye,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${Ye?"bg-gray-900 border-gray-800 text-gray-600 cursor-not-allowed opacity-50":"bg-gray-800 hover:bg-gray-700 border-gray-700 text-green-400 hover:text-green-300 hover:border-green-800"}`,children:[u.jsx(Dl,{size:14})," Apply Trim"]})})(),u.jsxs("button",{onClick:async()=>{if(P){Q(!0);try{const oe=await Yn.normalize(P,-1),ke=Ja(oe);c(ke,oe.duration,"Normalized",!0,["normalized"]),Ve(!0),L("Normalized Saved!","success")}catch(oe){console.error(oe),L("Normalization Failed","error")}finally{Q(!1)}}},onMouseEnter:()=>z(Ae?"Already Applied":"Normalize Audio to -1dB"),onMouseLeave:()=>z(""),title:Ae?"Already Applied":"",disabled:re||Ae,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${Ae?"bg-gray-900 border-gray-800 text-gray-600 cursor-not-allowed opacity-50":"bg-gray-800 hover:bg-gray-700 border-gray-700 text-yellow-400 hover:text-yellow-300 hover:border-yellow-800"}`,children:[u.jsx(dg,{size:14})," Normalize"]}),u.jsxs("button",{onClick:()=>an(!0),onMouseEnter:()=>z("Discard Changes & Reset"),onMouseLeave:()=>z(""),disabled:!R,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${R?"bg-red-900/20 hover:bg-red-900/40 border-red-900/30 text-red-400 hover:text-red-300":"bg-gray-900 border-gray-800 text-gray-700 cursor-not-allowed hidden"}`,children:[u.jsx(Zh,{size:14})," Reset"]})]})}),A&&u.jsxs("div",{className:"mt-4 border-t border-gray-800 pt-4 flex gap-4 items-center animate-[slideIn_0.2s_ease-out]",children:[u.jsx("div",{className:"flex flex-col gap-1 grow max-w-xs",children:(()=>{const oe=$.end-$.start,ke=Math.min(10,oe/2),Ye=Math.min(F,ke);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-gray-400 uppercase",children:[u.jsx("span",{children:"Loop Crossfade Duration"}),u.jsxs("span",{className:"text-synthux-blue",children:[Ye.toFixed(2),"s ",u.jsxs("span",{className:"text-gray-600",children:["/ ",ke.toFixed(2),"s"]})]})]}),u.jsx("input",{type:"range",min:"0.01",max:ke,step:"0.01",value:Ye,onChange:Le=>se(Number(Le.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]})})()}),u.jsx("button",{onClick:async()=>{if(P){Q(!0);try{let oe=0,ke=P.duration;if(v.current){const Ie=v.current.getRegions();Ie.length>0&&(oe=Ie[0].start,ke=Ie[0].end)}const Ye=await Yn.trim(P,oe,ke),Le=await Yn.applyCrossfadeLoop(Ye,F),et=Ja(Le);c(et,Le.duration,`Loop (${F.toFixed(2)}s)`,!0,["looped","trimmed"]),L("Loop Created!","success"),D(!1)}catch(oe){console.error(oe),L("Failed to make loopable","error")}finally{Q(!1)}}},className:"px-6 py-2 bg-synthux-blue hover:bg-blue-500 rounded text-sm font-bold text-white transition-colors h-full self-end",children:"Create Loop"})]}),u.jsx("div",{className:"absolute top-[88px] left-6 text-[10px] text-synthux-blue font-mono tracking-widest uppercase pointer-events-none transition-opacity duration-200",children:ve||"Ready"}),u.jsx("div",{className:"flex-1 bg-black/40 border-y border-gray-800 relative flex flex-col justify-center overflow-hidden min-h-[300px] min-w-0 max-w-full",children:u.jsx("div",{ref:b,className:"w-full h-full overflow-x-auto overflow-y-hidden px-4 editor-scroll",style:{userSelect:"none"},onWheel:Oe,children:u.jsxs("div",{className:"relative my-auto top-1/2 -translate-y-1/2",style:{width:wt,height:256,minWidth:"100%"},children:[u.jsx("div",{ref:k,className:"absolute inset-0 z-0 bg-black/20 cursor-text",onPointerDown:yt,onPointerMove:Pt,onPointerUp:Ut,onPointerLeave:Ut}),M>0&&u.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",style:{width:wt,height:256},children:u.jsx(_y,{width:wt,height:256,fadeIn:U,fadeOut:I,duration:M,region:$,onFadeChange:(oe,ke)=>{const Ye=Math.round(ke*100)/100;oe==="in"?V(Ye):Y(Ye),On()},onRegionChange:(oe,ke)=>{const Ye=v.current?.getRegions();Ye&&Ye.length>0&&Ye[0].setOptions({start:oe,end:ke}),Te({start:oe,end:ke})}})}),u.jsx("div",{className:"absolute inset-0 pointer-events-none border-t border-b border-dashed border-gray-700/30 top-1/2 -translate-y-1/2 h-0 z-0"})]})})}),u.jsxs("div",{className:"flex items-center justify-between px-6 py-2 bg-[#111] border-t border-gray-800 shrink-0 gap-4",children:[u.jsx("div",{className:"flex-1 flex justify-start",children:(()=>{const oe=$.end-$.start,ke=oe>42.01;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`text-xs font-bold uppercase tracking-widest flex items-center gap-2 ${ke?"text-red-500":"text-gray-500"}`,children:[ke&&u.jsx("span",{children:""}),u.jsxs("span",{children:["Trim: ",oe.toFixed(2),"s"]}),ke&&u.jsx("span",{className:"text-[10px] normal-case opacity-80",children:"(Max 42s)"})]}),u.jsx("button",{onClick:()=>{if(v.current){const Ye=v.current.getRegions();if(Ye.length>0){const Le=Ye[0],et=Le.start+oe/2,Ie=Math.max(0,et-21),St=Math.min(M,et+21);Le.setOptions({start:Ie,end:St}),Te({start:Ie,end:St}),On()}}},className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase transition-all border ${ke?"bg-red-900/30 hover:bg-red-900/50 border-red-500/50 text-red-200":"bg-gray-800 hover:bg-gray-700 border-gray-600 text-gray-400 hover:text-white"}`,children:"Set 42s"})]})})()}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"mr-2 text-gray-500 flex items-center gap-1 opacity-50",children:u.jsx(Sg,{size:14})}),u.jsxs("button",{onClick:Me,className:"px-2 py-1 hover:bg-gray-800 rounded text-[10px] font-bold uppercase text-gray-400 hover:text-white flex items-center gap-1 border border-transparent hover:border-gray-700 transition-all",title:"Fit All",children:[u.jsx(lg,{size:14})," Fit View"]}),u.jsxs("button",{onClick:ze,className:"px-2 py-1 hover:bg-gray-800 rounded text-[10px] font-bold uppercase text-gray-400 hover:text-white flex items-center gap-1 border border-transparent hover:border-gray-700 transition-all",title:"Fit Trim",children:[u.jsx(Gg,{size:14})," Fit Trim"]}),u.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),u.jsx("button",{onClick:De,disabled:T<=ye*1.001,className:`p-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white ${T<=ye*1.001?"opacity-30":""}`,children:u.jsx(ty,{size:16})}),u.jsx("input",{type:"range",min:ye||.1,max:"1000",step:"0.1",value:T,onChange:oe=>Se(Number(oe.target.value)),className:"w-24 h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),u.jsx("button",{onClick:Ce,className:"p-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white",children:u.jsx(Pg,{size:16})})]})]}),u.jsxs("div",{className:"flex justify-center gap-4 shrink-0 pb-4 pt-2 border-t border-gray-800 bg-[#1a1a1a] z-50",children:[u.jsx("button",{onClick:()=>{const oe=!te;if(q(oe),v.current){const ke=v.current.getRegions();ke.length>0&&ke[0].setOptions({loop:oe})}},className:`flex items-center justify-center w-12 h-12 rounded-full border border-gray-700 transition-all ${te?"bg-synthux-blue text-white border-transparent":"bg-gray-800 text-gray-400 hover:text-white"}`,title:te?"Looping Active":"Enable Looping",children:u.jsx(mp,{size:20})}),u.jsxs("button",{onClick:Be,className:"flex items-center gap-2 px-8 py-3 bg-gray-800 hover:bg-gray-700 rounded-full text-lg font-bold transition-all hover:scale-105 active:scale-95 shadow-lg shadow-black/50",children:[j?u.jsx(Yh,{fill:"white"}):u.jsx(Ui,{fill:"white"}),j?"PAUSE":"PLAY"]}),u.jsx("div",{title:!R&&Je===s?"File has not changed":"",children:u.jsxs("button",{onClick:()=>{!R&&Je!==s&&d?d(Je):We()},disabled:re||!R&&Je===s,className:`flex items-center gap-2 px-8 py-3 rounded-full text-lg font-bold transition-all shadow-lg ${re||!R&&Je===s?"bg-gray-800 text-gray-500 cursor-not-allowed shadow-none":"bg-synthux-blue hover:bg-blue-500 text-white hover:scale-105 active:scale-95 shadow-synthux-blue/20"}`,children:[u.jsx(Xh,{size:20})," ",re?"SAVING...":"ASSIGN TO TAPE"]})}),w&&C&&u.jsxs("button",{onClick:async()=>{if(P){Q(!0);try{let oe=0,ke=P.duration;if(v.current){const Ie=v.current.getRegions();Ie&&Ie.length>0&&(oe=Ie[0].start,ke=Ie[0].end)}const Ye=[];(oe>.01||ke<P.duration-.01)&&Ye.push("trimmed"),te&&Ye.push("looped");let Le=await Yn.trim(P,oe,ke);(U>0||I>0)&&(Le=await Yn.applyFades(Le,U,I));const et=Ja(Le);C(et,Le.duration,Ye),L("Saved as Unique File!","success")}catch(oe){console.error(oe),L("Failed to save unique file","error")}finally{Q(!1)}}},disabled:re,className:"flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-500 rounded-full text-sm font-bold transition-all hover:scale-105 active:scale-95 shadow-lg border border-orange-500 text-white",title:"Save as a new unique file and assign to this slot, leaving other duplicates unchanged.",children:[u.jsx(dp,{size:16})," SAVE UNIQUE"]}),u.jsxs("button",{onClick:async()=>{if(P){Q(!0);try{let oe=0,ke=P.duration;if(v.current){const et=v.current.getRegions();et&&et.length>0&&(oe=et[0].start,ke=et[0].end)}let Ye=await Yn.trim(P,oe,ke);(U>0||I>0)&&(Ye=await Yn.applyFades(Ye,U,I));const Le=Ja(Ye);m(Le,Ye.duration),L("Saved copy to Unused Pool!","success")}catch(oe){console.error(oe),L("Failed to save copy","error")}finally{Q(!1)}}},disabled:re,className:"flex items-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full text-sm font-bold transition-all hover:scale-105 active:scale-95 shadow-lg border border-gray-600 text-gray-300",title:"Save as a new Parked file (Unassigned)",children:[u.jsx(Xh,{size:16})," SAVE COPY TO POOL"]})]})]})]})]})]})},jy=({files:_,tapes:l,onParkRequest:s,onOpenSampleBrowser:o,duplicates:g,onOpenDuplicateModal:c,onUnassignFile:m,onBulkUnassign:p,onDeleteFile:d,onFillFreeSlots:f})=>{const[w,C]=Ee.useState(!0),[k,b]=Ee.useState(!0),[S,v]=Ee.useState(!1),[j,E]=Ee.useState(new Set),[T,O]=Ee.useState(null),[U,V]=Ee.useState(null),I=()=>{const J=_.filter(qe=>qe.isParked),_e=_.filter(qe=>!qe.isParked);return[...J,..._e]},Y=(J,_e)=>{_e.stopPropagation();const qe=I(),Ge=new Set(j);if(_e.shiftKey&&U){const tt=qe.findIndex(x=>x.id===U),Je=qe.findIndex(x=>x.id===J);if(tt!==-1&&Je!==-1){const x=Math.min(tt,Je),P=Math.max(tt,Je);!_e.ctrlKey&&!_e.metaKey&&Ge.clear();for(let ee=x;ee<=P;ee++)Ge.add(qe[ee].id);O(J)}}else _e.ctrlKey||_e.metaKey?Ge.has(J)?Ge.delete(J):(Ge.add(J),O(J),V(J)):(Ge.clear(),Ge.add(J),O(J),V(J));E(Ge)},te=J=>{const _e=new Set(j);_e.has(J)?_e.delete(J):(_e.add(J),O(J),V(J)),E(_e)},q=J=>{if(J.key!=="ArrowUp"&&J.key!=="ArrowDown")return;J.preventDefault();const _e=I();if(_e.length===0)return;let qe=0;if(T){const P=_e.findIndex(ee=>ee.id===T);P!==-1&&(J.key==="ArrowUp"?qe=Math.max(0,P-1):qe=Math.min(_e.length-1,P+1))}const tt=_e[qe].id,Je=new Set(j);if(J.shiftKey){U||V(T||tt);const P=U||T||tt,ee=_e.findIndex(ye=>ye.id===P),H=qe,M=Math.min(ee,H),K=Math.max(ee,H);!J.ctrlKey&&!J.metaKey&&Je.clear();for(let ye=M;ye<=K;ye++)Je.add(_e[ye].id);O(tt)}else Je.clear(),Je.add(tt),O(tt),V(tt);E(Je),document.getElementById(`file-item-${tt}`)?.scrollIntoView({block:"nearest"})},F=()=>{if(!p&&!m)return;const J=[];j.forEach(_e=>{const qe=_.find(Ge=>Ge.id===_e);qe&&!qe.isParked&&J.push(_e)}),J.length!==0&&(p?p(J):m&&J.forEach(_e=>m(_e)),E(new Set))},se=()=>{d&&confirm(`Are you sure you want to delete ${j.size} files? This cannot be undone.`)&&(j.forEach(J=>d(J)),E(new Set))},A=()=>E(new Set),D=()=>{const J=new Set(j);ve.forEach(_e=>J.add(_e.id)),E(J)},h=()=>{const J=new Set(j);z.forEach(_e=>J.add(_e.id)),E(J)},X=()=>{if(!f)return;const J=ve.filter(qe=>j.has(qe.id)).map(qe=>qe.id),_e=J.length>0?J:ve.map(qe=>qe.id);_e.length!==0&&(f(_e),A())},B=(J,_e)=>{if(j.has(_e)){const qe=Array.from(j);J.dataTransfer.setData("application/x-spotykach-bulk-ids",JSON.stringify(qe)),J.dataTransfer.setData("application/x-spotykach-source","browser"),J.dataTransfer.effectAllowed="copyMove",J.dataTransfer.setData("application/x-spotykach-file-id",_e)}else J.dataTransfer.setData("application/x-spotykach-file-id",_e),J.dataTransfer.setData("application/x-spotykach-source","browser"),J.dataTransfer.effectAllowed="copyMove"},L=J=>{J.preventDefault(),J.dataTransfer.types.includes("application/x-spotykach-file-id")&&(J.dataTransfer.dropEffect="move")},re=J=>{J.preventDefault();const _e=J.dataTransfer.getData("application/x-spotykach-file-id"),qe=J.dataTransfer.getData("application/x-spotykach-source");_e&&qe==="slot"&&s(_e)},Q=J=>{for(const[_e,qe]of Object.entries(l)){const Ge=qe.slots.find(tt=>tt.fileId===J);if(Ge)return`${_e} ${Ge.id}`}return null},ve=_.filter(J=>J.isParked),z=_.filter(J=>!J.isParked),R=J=>{if(!J)return"";switch(J.split(" ")[0]){case"Blue":return"bg-synthux-blue/20 text-synthux-blue border-synthux-blue/50";case"Green":return"bg-synthux-green/20 text-synthux-green border-synthux-green/50";case"Pink":return"bg-synthux-pink/20 text-synthux-pink border-synthux-pink/50";case"Red":return"bg-synthux-red/20 text-synthux-red border-synthux-red/50";case"Turquoise":return"bg-teal-400/20 text-teal-400 border-teal-400/50";case"Yellow":return"bg-synthux-yellow/20 text-synthux-yellow border-synthux-yellow/50";default:return"bg-gray-700 text-gray-300 border-gray-600"}},de=J=>{if(!J)return"border-gray-600";switch(J.split(" ")[0]){case"Blue":return"border-synthux-blue";case"Green":return"border-synthux-green";case"Pink":return"border-synthux-pink";case"Red":return"border-synthux-red";case"Turquoise":return"border-teal-400";case"Yellow":return"border-synthux-yellow";default:return"border-gray-600"}},{play:le,stop:ce,isPlaying:Re,activeFileId:He}=ns();return u.jsxs("div",{className:"w-72 bg-synthux-browsebg border-r border-gray-800 flex flex-col h-full transition-all outline-none focus:ring-1 focus:ring-synthux-blue/50",onDragOver:L,onDrop:re,tabIndex:0,onKeyDown:q,children:[u.jsxs("div",{className:"p-4 border-b border-gray-800 bg-synthux-panel flex items-center justify-between min-h-[60px]",children:[j.size>0?u.jsxs("div",{className:"flex items-center gap-2 w-full animate-in fade-in slide-in-from-top-1 duration-200",children:[u.jsxs("button",{onClick:A,className:"mr-auto text-xs font-bold text-gray-400 hover:text-white flex items-center gap-1",children:[u.jsx(xn,{size:14})," ",j.size," Selected"]}),m&&u.jsx("button",{onClick:F,className:"p-1.5 rounded-md bg-synthux-yellow/10 border border-synthux-yellow/30 text-synthux-yellow hover:bg-synthux-yellow/30 transition-colors",title:"Move Selected to Unassigned",children:u.jsx(xn,{size:14})}),d&&u.jsx("button",{onClick:se,className:"p-1.5 rounded-md bg-red-900/20 border border-red-900/30 text-red-500 hover:bg-red-900/40 transition-colors",title:"Delete Selected",children:u.jsx(Li,{size:14})})]}):u.jsxs("div",{children:[u.jsxs("h3",{className:"text-gray-400 uppercase text-xs font-bold flex items-center gap-2",children:[u.jsx(fp,{size:14})," File Registry"]}),u.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"All imported files."})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:o,className:"p-1.5 rounded hover:bg-gray-700 transition-colors text-gray-400 hover:text-synthux-orange",title:"Browse Sample Packs",children:u.jsx(hp,{size:16})}),u.jsx("button",{onClick:()=>v(!S),className:`p-1.5 rounded hover:bg-gray-700 transition-colors ${S?"text-synthux-blue bg-gray-800":"text-gray-400"}`,title:S?"Expand View":"Compact View",children:S?u.jsx(Mg,{size:16}):u.jsx(Bg,{size:16})})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1 w-full",children:[u.jsxs("button",{onClick:()=>b(!k),className:"flex items-center gap-1 text-left text-xs font-bold text-gray-400 uppercase hover:text-white flex-1",children:[k?u.jsx(Lh,{size:14}):u.jsx(Hh,{size:14}),"Unassigned (",ve.length,")"]}),u.jsx("button",{onClick:J=>{J.stopPropagation(),D()},className:"text-[10px] text-gray-500 hover:text-white underline decoration-transparent hover:decoration-white transition-all",title:"Select All Unassigned",children:"Select All"}),f&&ve.length>0&&u.jsx("button",{onClick:J=>{J.stopPropagation(),X()},className:"p-1 rounded bg-gray-800 hover:bg-synthux-blue/20 text-gray-400 hover:text-synthux-blue transition-colors ml-1",title:"Add all unassigned to free slots",children:u.jsx(sg,{size:12})})]}),k&&u.jsxs("div",{className:"pl-1",children:[ve.map(J=>u.jsx(Jh,{file:J,isMinified:S,isPlaying:Re,activeFileId:He,play:le,stop:ce,onDragStart:B,location:null,getLabelStyle:R,getBorderColor:de,isSelected:j.has(J.id),onToggleSelect:()=>te(J.id),onSelectionClick:_e=>Y(J.id,_e),onDelete:()=>{d&&d(J.id)}},J.id)),ve.length===0&&u.jsx("div",{className:"text-gray-600 text-xs italic px-2 py-4 border border-dashed border-gray-800 rounded",children:"No unassigned files"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1 w-full",children:[u.jsxs("button",{onClick:()=>C(!w),className:"flex items-center gap-1 text-left text-xs font-bold text-gray-400 uppercase hover:text-white flex-1",children:[w?u.jsx(Lh,{size:14}):u.jsx(Hh,{size:14}),"Assigned (",z.length,")"]}),u.jsx("button",{onClick:J=>{J.stopPropagation(),h()},className:"text-[10px] text-gray-500 hover:text-white underline decoration-transparent hover:decoration-white transition-all",title:"Select All Assigned",children:"Select All"})]}),w&&u.jsxs("div",{className:"pl-1",children:[z.map(J=>u.jsx(Jh,{file:J,isMinified:S,isPlaying:Re,activeFileId:He,play:le,stop:ce,onDragStart:B,location:Q(J.id),getLabelStyle:R,getBorderColor:de,isDuplicate:g.has(J.id),onOpenDuplicateModal:c,isSelected:j.has(J.id),onToggleSelect:()=>te(J.id),onSelectionClick:_e=>Y(J.id,_e),onUnassign:()=>{m&&m(J.id)},onDelete:()=>{d&&d(J.id)}},J.id)),z.length===0&&u.jsx("div",{className:"text-gray-600 text-xs italic px-2 py-4 border border-dashed border-gray-800 rounded",children:"No assigned files"})]})]})]}),u.jsx("div",{className:"p-4 border-t border-gray-800",children:u.jsx("button",{onClick:()=>{confirm("Factory Reset: This will delete all imported files and assignments. Are you sure?")&&ts(()=>Promise.resolve().then(()=>tv),void 0).then(J=>J.clearState())},className:"w-full py-2 text-xs font-bold text-red-900 bg-red-900/20 hover:bg-red-900/40 border border-red-900 rounded uppercase transition-colors",children:"Reset Application"})})]})},Jh=({file:_,location:l,isMinified:s,isPlaying:o,activeFileId:g,play:c,stop:m,onDragStart:p,getLabelStyle:d,getBorderColor:f,isDuplicate:w,onUnassign:C,onDelete:k,isSelected:b,onToggleSelect:S,onSelectionClick:v})=>{const j=o&&g===_.id,E=s&&l?f(l):l?"border-gray-700":"border-gray-600",T=l?"bg-gray-800/50":"bg-gray-800";return u.jsxs("div",{id:`file-item-${_.id}`,draggable:!0,onDragStart:O=>p(O,_.id),onClick:v,className:`
            relative rounded-md text-sm border cursor-grab active:cursor-grabbing group flex gap-2 select-none transition-colors mb-2
            ${T} ${E}
            ${s?"items-center p-1.5":"items-start p-2"}

            hover:border-gray-500 hover:bg-gray-700
            ${w?"!border-orange-500":""}
            ${b?"bg-synthux-yellow/10 border-synthux-yellow/50":""}
        `,children:[u.jsxs("div",{className:`flex shrink-0 ${s?"flex-row items-center gap-2":"flex-col items-center gap-1"}`,children:[u.jsx("div",{onClick:O=>{O.stopPropagation(),S()},className:`
                        w-4 h-4 rounded border flex items-center justify-center shrink-0 transition-colors cursor-pointer
                        ${b?"bg-synthux-yellow border-synthux-yellow":"bg-gray-800 border-gray-600 hover:border-gray-500"}
                    `,title:b?"Deselect":"Select",children:b&&u.jsx(Dl,{size:10,className:"text-black stroke-[3]"})}),u.jsx("button",{onClick:O=>{O.stopPropagation(),j?m():c(_)},className:`p-1.5 rounded-md transition-colors ${j?"bg-synthux-blue text-white":"bg-gray-700 text-gray-400 hover:text-white hover:bg-gray-600"}`,title:j?"Stop Preview":"Preview Audio",children:j?u.jsx(es,{size:12,fill:"currentColor"}):u.jsx(Ui,{size:12,fill:"currentColor"})}),u.jsx("button",{onClick:O=>{O.stopPropagation(),ts(()=>Promise.resolve().then(()=>Ru),void 0).then(U=>U.exportSingleFile(_))},className:"p-1.5 rounded-md transition-colors bg-gray-700 text-gray-400 hover:text-white hover:bg-gray-600",title:"Download WAV",children:u.jsx(Bi,{size:12})})]}),u.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[u.jsx("div",{className:"font-medium truncate text-gray-200",children:_.name}),!s&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-between text-[10px] text-gray-400 mt-0.5",children:u.jsx("span",{className:"truncate max-w-[100px]",children:_.originalName})}),u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:_.versions.find(O=>O.id===_.currentVersionId)?.description||"Original"}),u.jsxs("div",{className:"text-[10px] text-gray-600 mt-1",children:[_.versions.length," version",_.versions.length!==1?"s":""]})]})]}),u.jsxs("div",{className:`flex items-center gap-1 ${s?"ml-1":"ml-2"}`,children:[l&&C&&u.jsx("button",{onClick:O=>{O.stopPropagation(),C()},className:"p-1 rounded hover:bg-synthux-yellow/20 text-gray-500 hover:text-synthux-yellow transition-colors",title:"Unassign (Move to Unassigned)",children:u.jsx(xn,{size:12})}),k&&u.jsx("button",{onClick:O=>{O.stopPropagation(),k()},className:"p-1 rounded hover:bg-red-900/40 text-gray-500 hover:text-red-500 transition-colors",title:"Permanently Delete",children:u.jsx(Li,{size:12})})]}),l&&!s&&u.jsx("div",{className:`absolute bottom-1 right-1 text-[9px] px-1 py-0.5 rounded border leading-none font-mono ${d(l)}`,children:l}),!s&&u.jsx(kg,{size:16,className:"text-gray-600 mt-0.5 shrink-0 opacity-50 group-hover:opacity-100"})]})},Cy=_=>({id:_,fileId:null}),zy=_=>({color:_,slots:Array.from({length:6},(l,s)=>Cy(s+1))}),ky=()=>{const _=Xt.reduce((l,s)=>(l[s]=zy(s),l),{});return{files:{},tapes:_}};class Ty{audioContext;constructor(){this.audioContext=new(window.AudioContext||window.webkitAudioContext)}async loadAndProcessAudio(l){const s=await l.arrayBuffer(),o=await this.audioContext.decodeAudioData(s);let g=o;(o.sampleRate!==48e3||o.numberOfChannels!==2)&&(g=await this.resampleTo48kStereo(o));const c=Ja(g);return{buffer:g,blob:c}}async resampleTo48kStereo(l){const g=l.duration,c=Math.ceil(g*48e3),m=new OfflineAudioContext(2,c,48e3),p=m.createBufferSource();return p.buffer=l,p.connect(m.destination),p.start(0),await m.startRendering()}}const ju=new Ty;function Wr(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wu={exports:{}};var Ph;function Ny(){return Ph||(Ph=1,(function(_,l){(function(s){_.exports=s()})(function(){return(function s(o,g,c){function m(f,w){if(!g[f]){if(!o[f]){var C=typeof Wr=="function"&&Wr;if(!w&&C)return C(f,!0);if(p)return p(f,!0);var k=new Error("Cannot find module '"+f+"'");throw k.code="MODULE_NOT_FOUND",k}var b=g[f]={exports:{}};o[f][0].call(b.exports,function(S){var v=o[f][1][S];return m(v||S)},b,b.exports,s,o,g,c)}return g[f].exports}for(var p=typeof Wr=="function"&&Wr,d=0;d<c.length;d++)m(c[d]);return m})({1:[function(s,o,g){var c=s("./utils"),m=s("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(d){for(var f,w,C,k,b,S,v,j=[],E=0,T=d.length,O=T,U=c.getTypeOf(d)!=="string";E<d.length;)O=T-E,C=U?(f=d[E++],w=E<T?d[E++]:0,E<T?d[E++]:0):(f=d.charCodeAt(E++),w=E<T?d.charCodeAt(E++):0,E<T?d.charCodeAt(E++):0),k=f>>2,b=(3&f)<<4|w>>4,S=1<O?(15&w)<<2|C>>6:64,v=2<O?63&C:64,j.push(p.charAt(k)+p.charAt(b)+p.charAt(S)+p.charAt(v));return j.join("")},g.decode=function(d){var f,w,C,k,b,S,v=0,j=0,E="data:";if(d.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var T,O=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===p.charAt(64)&&O--,d.charAt(d.length-2)===p.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=m.uint8array?new Uint8Array(0|O):new Array(0|O);v<d.length;)f=p.indexOf(d.charAt(v++))<<2|(k=p.indexOf(d.charAt(v++)))>>4,w=(15&k)<<4|(b=p.indexOf(d.charAt(v++)))>>2,C=(3&b)<<6|(S=p.indexOf(d.charAt(v++))),T[j++]=f,b!==64&&(T[j++]=w),S!==64&&(T[j++]=C);return T}},{"./support":30,"./utils":32}],2:[function(s,o,g){var c=s("./external"),m=s("./stream/DataWorker"),p=s("./stream/Crc32Probe"),d=s("./stream/DataLengthProbe");function f(w,C,k,b,S){this.compressedSize=w,this.uncompressedSize=C,this.crc32=k,this.compression=b,this.compressedContent=S}f.prototype={getContentWorker:function(){var w=new m(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),C=this;return w.on("end",function(){if(this.streamInfo.data_length!==C.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new m(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(w,C,k){return w.pipe(new p).pipe(new d("uncompressedSize")).pipe(C.compressWorker(k)).pipe(new d("compressedSize")).withStreamInfo("compression",C)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,o,g){var c=s("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},g.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,o,g){var c=s("./utils"),m=(function(){for(var p,d=[],f=0;f<256;f++){p=f;for(var w=0;w<8;w++)p=1&p?3988292384^p>>>1:p>>>1;d[f]=p}return d})();o.exports=function(p,d){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?(function(f,w,C,k){var b=m,S=k+C;f^=-1;for(var v=k;v<S;v++)f=f>>>8^b[255&(f^w[v])];return-1^f})(0|d,p,p.length,0):(function(f,w,C,k){var b=m,S=k+C;f^=-1;for(var v=k;v<S;v++)f=f>>>8^b[255&(f^w.charCodeAt(v))];return-1^f})(0|d,p,p.length,0):0}},{"./utils":32}],5:[function(s,o,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(s,o,g){var c=null;c=typeof Promise<"u"?Promise:s("lie"),o.exports={Promise:c}},{lie:37}],7:[function(s,o,g){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=s("pako"),p=s("./utils"),d=s("./stream/GenericWorker"),f=c?"uint8array":"array";function w(C,k){d.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=k,this.meta={}}g.magic="\b\0",p.inherits(w,d),w.prototype.processChunk=function(C){this.meta=C.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(f,C.data),!1)},w.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(k){C.push({data:k,meta:C.meta})}},g.compressWorker=function(C){return new w("Deflate",C)},g.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,o,g){function c(b,S){var v,j="";for(v=0;v<S;v++)j+=String.fromCharCode(255&b),b>>>=8;return j}function m(b,S,v,j,E,T){var O,U,V=b.file,I=b.compression,Y=T!==f.utf8encode,te=p.transformTo("string",T(V.name)),q=p.transformTo("string",f.utf8encode(V.name)),F=V.comment,se=p.transformTo("string",T(F)),A=p.transformTo("string",f.utf8encode(F)),D=q.length!==V.name.length,h=A.length!==F.length,X="",B="",L="",re=V.dir,Q=V.date,ve={crc32:0,compressedSize:0,uncompressedSize:0};S&&!v||(ve.crc32=b.crc32,ve.compressedSize=b.compressedSize,ve.uncompressedSize=b.uncompressedSize);var z=0;S&&(z|=8),Y||!D&&!h||(z|=2048);var R=0,de=0;re&&(R|=16),E==="UNIX"?(de=798,R|=(function(ce,Re){var He=ce;return ce||(He=Re?16893:33204),(65535&He)<<16})(V.unixPermissions,re)):(de=20,R|=(function(ce){return 63&(ce||0)})(V.dosPermissions)),O=Q.getUTCHours(),O<<=6,O|=Q.getUTCMinutes(),O<<=5,O|=Q.getUTCSeconds()/2,U=Q.getUTCFullYear()-1980,U<<=4,U|=Q.getUTCMonth()+1,U<<=5,U|=Q.getUTCDate(),D&&(B=c(1,1)+c(w(te),4)+q,X+="up"+c(B.length,2)+B),h&&(L=c(1,1)+c(w(se),4)+A,X+="uc"+c(L.length,2)+L);var le="";return le+=`
\0`,le+=c(z,2),le+=I.magic,le+=c(O,2),le+=c(U,2),le+=c(ve.crc32,4),le+=c(ve.compressedSize,4),le+=c(ve.uncompressedSize,4),le+=c(te.length,2),le+=c(X.length,2),{fileRecord:C.LOCAL_FILE_HEADER+le+te+X,dirRecord:C.CENTRAL_FILE_HEADER+c(de,2)+le+c(se.length,2)+"\0\0\0\0"+c(R,4)+c(j,4)+te+X+se}}var p=s("../utils"),d=s("../stream/GenericWorker"),f=s("../utf8"),w=s("../crc32"),C=s("../signature");function k(b,S,v,j){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=v,this.encodeFileName=j,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(k,d),k.prototype.push=function(b){var S=b.meta.percent||0,v=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,d.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:v?(S+100*(v-j-1))/v:100}}))},k.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var S=this.streamFiles&&!b.file.dir;if(S){var v=m(b,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},k.prototype.closedSource=function(b){this.accumulate=!1;var S=this.streamFiles&&!b.file.dir,v=m(b,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),S)this.push({data:(function(j){return C.DATA_DESCRIPTOR+c(j.crc32,4)+c(j.compressedSize,4)+c(j.uncompressedSize,4)})(b),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},k.prototype.flush=function(){for(var b=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var v=this.bytesWritten-b,j=(function(E,T,O,U,V){var I=p.transformTo("string",V(U));return C.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(E,2)+c(E,2)+c(T,4)+c(O,4)+c(I.length,2)+I})(this.dirRecords.length,v,b,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},k.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},k.prototype.registerPrevious=function(b){this._sources.push(b);var S=this;return b.on("data",function(v){S.processChunk(v)}),b.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),b.on("error",function(v){S.error(v)}),this},k.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},k.prototype.error=function(b){var S=this._sources;if(!d.prototype.error.call(this,b))return!1;for(var v=0;v<S.length;v++)try{S[v].error(b)}catch{}return!0},k.prototype.lock=function(){d.prototype.lock.call(this);for(var b=this._sources,S=0;S<b.length;S++)b[S].lock()},o.exports=k},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,o,g){var c=s("../compressions"),m=s("./ZipFileWorker");g.generateWorker=function(p,d,f){var w=new m(d.streamFiles,f,d.platform,d.encodeFileName),C=0;try{p.forEach(function(k,b){C++;var S=(function(T,O){var U=T||O,V=c[U];if(!V)throw new Error(U+" is not a valid compression method !");return V})(b.options.compression,d.compression),v=b.options.compressionOptions||d.compressionOptions||{},j=b.dir,E=b.date;b._compressWorker(S,v).withStreamInfo("file",{name:k,dir:j,date:E,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(w)}),w.entriesCount=C}catch(k){w.error(k)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,o,g){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new c;for(var p in this)typeof this[p]!="function"&&(m[p]=this[p]);return m}}(c.prototype=s("./object")).loadAsync=s("./load"),c.support=s("./support"),c.defaults=s("./defaults"),c.version="3.10.1",c.loadAsync=function(m,p){return new c().loadAsync(m,p)},c.external=s("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,o,g){var c=s("./utils"),m=s("./external"),p=s("./utf8"),d=s("./zipEntries"),f=s("./stream/Crc32Probe"),w=s("./nodejsUtils");function C(k){return new m.Promise(function(b,S){var v=k.decompressed.getContentWorker().pipe(new f);v.on("error",function(j){S(j)}).on("end",function(){v.streamInfo.crc32!==k.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}o.exports=function(k,b){var S=this;return b=c.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),w.isNode&&w.isStream(k)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",k,!0,b.optimizedBinaryString,b.base64).then(function(v){var j=new d(b);return j.load(v),j}).then(function(v){var j=[m.Promise.resolve(v)],E=v.files;if(b.checkCRC32)for(var T=0;T<E.length;T++)j.push(C(E[T]));return m.Promise.all(j)}).then(function(v){for(var j=v.shift(),E=j.files,T=0;T<E.length;T++){var O=E[T],U=O.fileNameStr,V=c.resolve(O.fileNameStr);S.file(V,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:b.createFolders}),O.dir||(S.file(V).unsafeOriginalName=U)}return j.zipComment.length&&(S.comment=j.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,o,g){var c=s("../utils"),m=s("../stream/GenericWorker");function p(d,f){m.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(f)}c.inherits(p,m),p.prototype._bindStream=function(d){var f=this;(this._stream=d).pause(),d.on("data",function(w){f.push({data:w,meta:{percent:0}})}).on("error",function(w){f.isPaused?this.generatedError=w:f.error(w)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},p.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,o,g){var c=s("readable-stream").Readable;function m(p,d,f){c.call(this,d),this._helper=p;var w=this;p.on("data",function(C,k){w.push(C)||w._helper.pause(),f&&f(k)}).on("error",function(C){w.emit("error",C)}).on("end",function(){w.push(null)})}s("../utils").inherits(m,c),m.prototype._read=function(){this._helper.resume()},o.exports=m},{"../utils":32,"readable-stream":16}],14:[function(s,o,g){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,m){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,m);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,m)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var m=new Buffer(c);return m.fill(0),m},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(s,o,g){function c(V,I,Y){var te,q=p.getTypeOf(I),F=p.extend(Y||{},w);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(V=E(V)),F.createFolders&&(te=j(V))&&T.call(this,te,!0);var se=q==="string"&&F.binary===!1&&F.base64===!1;Y&&Y.binary!==void 0||(F.binary=!se),(I instanceof C&&I.uncompressedSize===0||F.dir||!I||I.length===0)&&(F.base64=!1,F.binary=!0,I="",F.compression="STORE",q="string");var A=null;A=I instanceof C||I instanceof d?I:S.isNode&&S.isStream(I)?new v(V,I):p.prepareContent(V,I,F.binary,F.optimizedBinaryString,F.base64);var D=new k(V,A,F);this.files[V]=D}var m=s("./utf8"),p=s("./utils"),d=s("./stream/GenericWorker"),f=s("./stream/StreamHelper"),w=s("./defaults"),C=s("./compressedObject"),k=s("./zipObject"),b=s("./generate"),S=s("./nodejsUtils"),v=s("./nodejs/NodejsStreamInputAdapter"),j=function(V){V.slice(-1)==="/"&&(V=V.substring(0,V.length-1));var I=V.lastIndexOf("/");return 0<I?V.substring(0,I):""},E=function(V){return V.slice(-1)!=="/"&&(V+="/"),V},T=function(V,I){return I=I!==void 0?I:w.createFolders,V=E(V),this.files[V]||c.call(this,V,null,{dir:!0,createFolders:I}),this.files[V]};function O(V){return Object.prototype.toString.call(V)==="[object RegExp]"}var U={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(V){var I,Y,te;for(I in this.files)te=this.files[I],(Y=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&V(Y,te)},filter:function(V){var I=[];return this.forEach(function(Y,te){V(Y,te)&&I.push(te)}),I},file:function(V,I,Y){if(arguments.length!==1)return V=this.root+V,c.call(this,V,I,Y),this;if(O(V)){var te=V;return this.filter(function(F,se){return!se.dir&&te.test(F)})}var q=this.files[this.root+V];return q&&!q.dir?q:null},folder:function(V){if(!V)return this;if(O(V))return this.filter(function(q,F){return F.dir&&V.test(q)});var I=this.root+V,Y=T.call(this,I),te=this.clone();return te.root=Y.name,te},remove:function(V){V=this.root+V;var I=this.files[V];if(I||(V.slice(-1)!=="/"&&(V+="/"),I=this.files[V]),I&&!I.dir)delete this.files[V];else for(var Y=this.filter(function(q,F){return F.name.slice(0,V.length)===V}),te=0;te<Y.length;te++)delete this.files[Y[te].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(V){var I,Y={};try{if((Y=p.extend(V||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=Y.type.toLowerCase(),Y.compression=Y.compression.toUpperCase(),Y.type==="binarystring"&&(Y.type="string"),!Y.type)throw new Error("No output type specified.");p.checkSupport(Y.type),Y.platform!=="darwin"&&Y.platform!=="freebsd"&&Y.platform!=="linux"&&Y.platform!=="sunos"||(Y.platform="UNIX"),Y.platform==="win32"&&(Y.platform="DOS");var te=Y.comment||this.comment||"";I=b.generateWorker(this,Y,te)}catch(q){(I=new d("error")).error(q)}return new f(I,Y.type||"string",Y.mimeType)},generateAsync:function(V,I){return this.generateInternalStream(V).accumulate(I)},generateNodeStream:function(V,I){return(V=V||{}).type||(V.type="nodebuffer"),this.generateInternalStream(V).toNodejsStream(I)}};o.exports=U},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,o,g){o.exports=s("stream")},{stream:void 0}],17:[function(s,o,g){var c=s("./DataReader");function m(p){c.call(this,p);for(var d=0;d<this.data.length;d++)p[d]=255&p[d]}s("../utils").inherits(m,c),m.prototype.byteAt=function(p){return this.data[this.zero+p]},m.prototype.lastIndexOfSignature=function(p){for(var d=p.charCodeAt(0),f=p.charCodeAt(1),w=p.charCodeAt(2),C=p.charCodeAt(3),k=this.length-4;0<=k;--k)if(this.data[k]===d&&this.data[k+1]===f&&this.data[k+2]===w&&this.data[k+3]===C)return k-this.zero;return-1},m.prototype.readAndCheckSignature=function(p){var d=p.charCodeAt(0),f=p.charCodeAt(1),w=p.charCodeAt(2),C=p.charCodeAt(3),k=this.readData(4);return d===k[0]&&f===k[1]&&w===k[2]&&C===k[3]},m.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,d},o.exports=m},{"../utils":32,"./DataReader":18}],18:[function(s,o,g){var c=s("../utils");function m(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var d,f=0;for(this.checkOffset(p),d=this.index+p-1;d>=this.index;d--)f=(f<<8)+this.byteAt(d);return this.index+=p,f},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},o.exports=m},{"../utils":32}],19:[function(s,o,g){var c=s("./Uint8ArrayReader");function m(p){c.call(this,p)}s("../utils").inherits(m,c),m.prototype.readData=function(p){this.checkOffset(p);var d=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,d},o.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,o,g){var c=s("./DataReader");function m(p){c.call(this,p)}s("../utils").inherits(m,c),m.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},m.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},m.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},m.prototype.readData=function(p){this.checkOffset(p);var d=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,d},o.exports=m},{"../utils":32,"./DataReader":18}],21:[function(s,o,g){var c=s("./ArrayReader");function m(p){c.call(this,p)}s("../utils").inherits(m,c),m.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,d},o.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(s,o,g){var c=s("../utils"),m=s("../support"),p=s("./ArrayReader"),d=s("./StringReader"),f=s("./NodeBufferReader"),w=s("./Uint8ArrayReader");o.exports=function(C){var k=c.getTypeOf(C);return c.checkSupport(k),k!=="string"||m.uint8array?k==="nodebuffer"?new f(C):m.uint8array?new w(c.transformTo("uint8array",C)):new p(c.transformTo("array",C)):new d(C)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,o,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,o,g){var c=s("./GenericWorker"),m=s("../utils");function p(d){c.call(this,"ConvertWorker to "+d),this.destType=d}m.inherits(p,c),p.prototype.processChunk=function(d){this.push({data:m.transformTo(this.destType,d.data),meta:d.meta})},o.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(s,o,g){var c=s("./GenericWorker"),m=s("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(p,c),p.prototype.processChunk=function(d){this.streamInfo.crc32=m(d.data,this.streamInfo.crc32||0),this.push(d)},o.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,o,g){var c=s("../utils"),m=s("./GenericWorker");function p(d){m.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}c.inherits(p,m),p.prototype.processChunk=function(d){if(d){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+d.data.length}m.prototype.processChunk.call(this,d)},o.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(s,o,g){var c=s("../utils"),m=s("./GenericWorker");function p(d){m.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(w){f.dataIsReady=!0,f.data=w,f.max=w&&w.length||0,f.type=c.getTypeOf(w),f.isPaused||f._tickAndRepeat()},function(w){f.error(w)})}c.inherits(p,m),p.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,f);break;case"uint8array":d=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":d=this.data.slice(this.index,f)}return this.index=f,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(s,o,g){function c(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,p){return this._listeners[m].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,p){if(this._listeners[m])for(var d=0;d<this._listeners[m].length;d++)this._listeners[m][d].call(this,p)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var p=this;return m.on("data",function(d){p.processChunk(d)}),m.on("end",function(){p.end()}),m.on("error",function(d){p.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,p){return this.extraStreamInfo[m]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},o.exports=c},{}],29:[function(s,o,g){var c=s("../utils"),m=s("./ConvertWorker"),p=s("./GenericWorker"),d=s("../base64"),f=s("../support"),w=s("../external"),C=null;if(f.nodestream)try{C=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function k(S,v){return new w.Promise(function(j,E){var T=[],O=S._internalType,U=S._outputType,V=S._mimeType;S.on("data",function(I,Y){T.push(I),v&&v(Y)}).on("error",function(I){T=[],E(I)}).on("end",function(){try{var I=(function(Y,te,q){switch(Y){case"blob":return c.newBlob(c.transformTo("arraybuffer",te),q);case"base64":return d.encode(te);default:return c.transformTo(Y,te)}})(U,(function(Y,te){var q,F=0,se=null,A=0;for(q=0;q<te.length;q++)A+=te[q].length;switch(Y){case"string":return te.join("");case"array":return Array.prototype.concat.apply([],te);case"uint8array":for(se=new Uint8Array(A),q=0;q<te.length;q++)se.set(te[q],F),F+=te[q].length;return se;case"nodebuffer":return Buffer.concat(te);default:throw new Error("concat : unsupported type '"+Y+"'")}})(O,T),V);j(I)}catch(Y){E(Y)}T=[]}).resume()})}function b(S,v,j){var E=v;switch(v){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=v,this._mimeType=j,c.checkSupport(E),this._worker=S.pipe(new m(E)),S.lock()}catch(T){this._worker=new p("error"),this._worker.error(T)}}b.prototype={accumulate:function(S){return k(this,S)},on:function(S,v){var j=this;return S==="data"?this._worker.on(S,function(E){v.call(j,E.data,E.meta)}):this._worker.on(S,function(){c.delay(v,arguments,j)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new C(this,{objectMode:this._outputType!=="nodebuffer"},S)}},o.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,o,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=typeof Buffer<"u",g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var c=new ArrayBuffer(0);try{g.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(c),g.blob=m.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!s("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(s,o,g){for(var c=s("./utils"),m=s("./support"),p=s("./nodejsUtils"),d=s("./stream/GenericWorker"),f=new Array(256),w=0;w<256;w++)f[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;f[254]=f[254]=1;function C(){d.call(this,"utf-8 decode"),this.leftOver=null}function k(){d.call(this,"utf-8 encode")}g.utf8encode=function(b){return m.nodebuffer?p.newBufferFrom(b,"utf-8"):(function(S){var v,j,E,T,O,U=S.length,V=0;for(T=0;T<U;T++)(64512&(j=S.charCodeAt(T)))==55296&&T+1<U&&(64512&(E=S.charCodeAt(T+1)))==56320&&(j=65536+(j-55296<<10)+(E-56320),T++),V+=j<128?1:j<2048?2:j<65536?3:4;for(v=m.uint8array?new Uint8Array(V):new Array(V),T=O=0;O<V;T++)(64512&(j=S.charCodeAt(T)))==55296&&T+1<U&&(64512&(E=S.charCodeAt(T+1)))==56320&&(j=65536+(j-55296<<10)+(E-56320),T++),j<128?v[O++]=j:(j<2048?v[O++]=192|j>>>6:(j<65536?v[O++]=224|j>>>12:(v[O++]=240|j>>>18,v[O++]=128|j>>>12&63),v[O++]=128|j>>>6&63),v[O++]=128|63&j);return v})(b)},g.utf8decode=function(b){return m.nodebuffer?c.transformTo("nodebuffer",b).toString("utf-8"):(function(S){var v,j,E,T,O=S.length,U=new Array(2*O);for(v=j=0;v<O;)if((E=S[v++])<128)U[j++]=E;else if(4<(T=f[E]))U[j++]=65533,v+=T-1;else{for(E&=T===2?31:T===3?15:7;1<T&&v<O;)E=E<<6|63&S[v++],T--;1<T?U[j++]=65533:E<65536?U[j++]=E:(E-=65536,U[j++]=55296|E>>10&1023,U[j++]=56320|1023&E)}return U.length!==j&&(U.subarray?U=U.subarray(0,j):U.length=j),c.applyFromCharCode(U)})(b=c.transformTo(m.uint8array?"uint8array":"array",b))},c.inherits(C,d),C.prototype.processChunk=function(b){var S=c.transformTo(m.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var v=S;(S=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),S.set(v,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var j=(function(T,O){var U;for((O=O||T.length)>T.length&&(O=T.length),U=O-1;0<=U&&(192&T[U])==128;)U--;return U<0||U===0?O:U+f[T[U]]>O?U:O})(S),E=S;j!==S.length&&(m.uint8array?(E=S.subarray(0,j),this.leftOver=S.subarray(j,S.length)):(E=S.slice(0,j),this.leftOver=S.slice(j,S.length))),this.push({data:g.utf8decode(E),meta:b.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=C,c.inherits(k,d),k.prototype.processChunk=function(b){this.push({data:g.utf8encode(b.data),meta:b.meta})},g.Utf8EncodeWorker=k},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,o,g){var c=s("./support"),m=s("./base64"),p=s("./nodejsUtils"),d=s("./external");function f(v){return v}function w(v,j){for(var E=0;E<v.length;++E)j[E]=255&v.charCodeAt(E);return j}s("setimmediate"),g.newBlob=function(v,j){g.checkSupport("blob");try{return new Blob([v],{type:j})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(v),E.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var C={stringifyByChunk:function(v,j,E){var T=[],O=0,U=v.length;if(U<=E)return String.fromCharCode.apply(null,v);for(;O<U;)j==="array"||j==="nodebuffer"?T.push(String.fromCharCode.apply(null,v.slice(O,Math.min(O+E,U)))):T.push(String.fromCharCode.apply(null,v.subarray(O,Math.min(O+E,U)))),O+=E;return T.join("")},stringifyByChar:function(v){for(var j="",E=0;E<v.length;E++)j+=String.fromCharCode(v[E]);return j},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function k(v){var j=65536,E=g.getTypeOf(v),T=!0;if(E==="uint8array"?T=C.applyCanBeUsed.uint8array:E==="nodebuffer"&&(T=C.applyCanBeUsed.nodebuffer),T)for(;1<j;)try{return C.stringifyByChunk(v,E,j)}catch{j=Math.floor(j/2)}return C.stringifyByChar(v)}function b(v,j){for(var E=0;E<v.length;E++)j[E]=v[E];return j}g.applyFromCharCode=k;var S={};S.string={string:f,array:function(v){return w(v,new Array(v.length))},arraybuffer:function(v){return S.string.uint8array(v).buffer},uint8array:function(v){return w(v,new Uint8Array(v.length))},nodebuffer:function(v){return w(v,p.allocBuffer(v.length))}},S.array={string:k,array:f,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return p.newBufferFrom(v)}},S.arraybuffer={string:function(v){return k(new Uint8Array(v))},array:function(v){return b(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:f,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return p.newBufferFrom(new Uint8Array(v))}},S.uint8array={string:k,array:function(v){return b(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:f,nodebuffer:function(v){return p.newBufferFrom(v)}},S.nodebuffer={string:k,array:function(v){return b(v,new Array(v.length))},arraybuffer:function(v){return S.nodebuffer.uint8array(v).buffer},uint8array:function(v){return b(v,new Uint8Array(v.length))},nodebuffer:f},g.transformTo=function(v,j){if(j=j||"",!v)return j;g.checkSupport(v);var E=g.getTypeOf(j);return S[E][v](j)},g.resolve=function(v){for(var j=v.split("/"),E=[],T=0;T<j.length;T++){var O=j[T];O==="."||O===""&&T!==0&&T!==j.length-1||(O===".."?E.pop():E.push(O))}return E.join("/")},g.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(v)?"nodebuffer":c.uint8array&&v instanceof Uint8Array?"uint8array":c.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(v){if(!c[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(v){var j,E,T="";for(E=0;E<(v||"").length;E++)T+="\\x"+((j=v.charCodeAt(E))<16?"0":"")+j.toString(16).toUpperCase();return T},g.delay=function(v,j,E){setImmediate(function(){v.apply(E||null,j||[])})},g.inherits=function(v,j){function E(){}E.prototype=j.prototype,v.prototype=new E},g.extend=function(){var v,j,E={};for(v=0;v<arguments.length;v++)for(j in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],j)&&E[j]===void 0&&(E[j]=arguments[v][j]);return E},g.prepareContent=function(v,j,E,T,O){return d.Promise.resolve(j).then(function(U){return c.blob&&(U instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(U))!==-1)&&typeof FileReader<"u"?new d.Promise(function(V,I){var Y=new FileReader;Y.onload=function(te){V(te.target.result)},Y.onerror=function(te){I(te.target.error)},Y.readAsArrayBuffer(U)}):U}).then(function(U){var V=g.getTypeOf(U);return V?(V==="arraybuffer"?U=g.transformTo("uint8array",U):V==="string"&&(O?U=m.decode(U):E&&T!==!0&&(U=(function(I){return w(I,c.uint8array?new Uint8Array(I.length):new Array(I.length))})(U))),U):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,o,g){var c=s("./reader/readerFor"),m=s("./utils"),p=s("./signature"),d=s("./zipEntry"),f=s("./support");function w(C){this.files=[],this.loadOptions=C}w.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var k=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(k)+", expected "+m.pretty(C)+")")}},isSignature:function(C,k){var b=this.reader.index;this.reader.setIndex(C);var S=this.reader.readString(4)===k;return this.reader.setIndex(b),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),k=f.uint8array?"uint8array":"array",b=m.transformTo(k,C);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,k,b,S=this.zip64EndOfCentralSize-44;0<S;)C=this.reader.readInt(2),k=this.reader.readInt(4),b=this.reader.readData(k),this.zip64ExtensibleData[C]={id:C,length:k,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,k;for(C=0;C<this.files.length;C++)k=this.files[C],this.reader.setIndex(k.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),k.readLocalPart(this.reader),k.handleUTF8(),k.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(C=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var k=C;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var S=k-b;if(0<S)this.isSignature(k,p.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(C){this.reader=c(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,o,g){var c=s("./reader/readerFor"),m=s("./utils"),p=s("./compressedObject"),d=s("./crc32"),f=s("./utf8"),w=s("./compressions"),C=s("./support");function k(b,S){this.options=b,this.loadOptions=S}k.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var S,v;if(b.skip(22),this.fileNameLength=b.readInt(2),v=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=(function(j){for(var E in w)if(Object.prototype.hasOwnProperty.call(w,E)&&w[E].magic===j)return w[E];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,S,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var S=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(S),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=c(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var S,v,j,E=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<E;)S=b.readInt(2),v=b.readInt(2),j=b.readData(v),this.extraFields[S]={id:S,length:v,value:j};b.setIndex(E)},handleUTF8:function(){var b=C.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var v=m.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var E=m.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var S=c(b.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:f.utf8decode(S.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var S=c(b.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:f.utf8decode(S.readData(b.length-5))}return null}},o.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,o,g){function c(S,v,j){this.name=S,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=v,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var m=s("./stream/StreamHelper"),p=s("./stream/DataWorker"),d=s("./utf8"),f=s("./compressedObject"),w=s("./stream/GenericWorker");c.prototype={internalStream:function(S){var v=null,j="string";try{if(!S)throw new Error("No output type specified.");var E=(j=S.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),v=this._decompressWorker();var T=!this._dataBinary;T&&!E&&(v=v.pipe(new d.Utf8EncodeWorker)),!T&&E&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(O){(v=new w("error")).error(O)}return new m(v,j,"")},async:function(S,v){return this.internalStream(S).accumulate(v)},nodeStream:function(S,v){return this.internalStream(S||"nodebuffer").toNodejsStream(v)},_compressWorker:function(S,v){if(this._data instanceof f&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new d.Utf8EncodeWorker)),f.createWorkerFrom(j,S,v)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof w?this._data:new p(this._data)}};for(var C=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],k=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<C.length;b++)c.prototype[C[b]]=k;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,o,g){(function(c){var m,p,d=c.MutationObserver||c.WebKitMutationObserver;if(d){var f=0,w=new d(S),C=c.document.createTextNode("");w.observe(C,{characterData:!0}),m=function(){C.data=f=++f%2}}else if(c.setImmediate||c.MessageChannel===void 0)m="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var v=c.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},c.document.documentElement.appendChild(v)}:function(){setTimeout(S,0)};else{var k=new c.MessageChannel;k.port1.onmessage=S,m=function(){k.port2.postMessage(0)}}var b=[];function S(){var v,j;p=!0;for(var E=b.length;E;){for(j=b,b=[],v=-1;++v<E;)j[v]();E=b.length}p=!1}o.exports=function(v){b.push(v)!==1||p||m()}}).call(this,typeof Fr<"u"?Fr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,o,g){var c=s("immediate");function m(){}var p={},d=["REJECTED"],f=["FULFILLED"],w=["PENDING"];function C(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,E!==m&&v(this,E)}function k(E,T,O){this.promise=E,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function b(E,T,O){c(function(){var U;try{U=T(O)}catch(V){return p.reject(E,V)}U===E?p.reject(E,new TypeError("Cannot resolve promise with itself")):p.resolve(E,U)})}function S(E){var T=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof T=="function")return function(){T.apply(E,arguments)}}function v(E,T){var O=!1;function U(Y){O||(O=!0,p.reject(E,Y))}function V(Y){O||(O=!0,p.resolve(E,Y))}var I=j(function(){T(V,U)});I.status==="error"&&U(I.value)}function j(E,T){var O={};try{O.value=E(T),O.status="success"}catch(U){O.status="error",O.value=U}return O}(o.exports=C).prototype.finally=function(E){if(typeof E!="function")return this;var T=this.constructor;return this.then(function(O){return T.resolve(E()).then(function(){return O})},function(O){return T.resolve(E()).then(function(){throw O})})},C.prototype.catch=function(E){return this.then(null,E)},C.prototype.then=function(E,T){if(typeof E!="function"&&this.state===f||typeof T!="function"&&this.state===d)return this;var O=new this.constructor(m);return this.state!==w?b(O,this.state===f?E:T,this.outcome):this.queue.push(new k(O,E,T)),O},k.prototype.callFulfilled=function(E){p.resolve(this.promise,E)},k.prototype.otherCallFulfilled=function(E){b(this.promise,this.onFulfilled,E)},k.prototype.callRejected=function(E){p.reject(this.promise,E)},k.prototype.otherCallRejected=function(E){b(this.promise,this.onRejected,E)},p.resolve=function(E,T){var O=j(S,T);if(O.status==="error")return p.reject(E,O.value);var U=O.value;if(U)v(E,U);else{E.state=f,E.outcome=T;for(var V=-1,I=E.queue.length;++V<I;)E.queue[V].callFulfilled(T)}return E},p.reject=function(E,T){E.state=d,E.outcome=T;for(var O=-1,U=E.queue.length;++O<U;)E.queue[O].callRejected(T);return E},C.resolve=function(E){return E instanceof this?E:p.resolve(new this(m),E)},C.reject=function(E){var T=new this(m);return p.reject(T,E)},C.all=function(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,U=!1;if(!O)return this.resolve([]);for(var V=new Array(O),I=0,Y=-1,te=new this(m);++Y<O;)q(E[Y],Y);return te;function q(F,se){T.resolve(F).then(function(A){V[se]=A,++I!==O||U||(U=!0,p.resolve(te,V))},function(A){U||(U=!0,p.reject(te,A))})}},C.race=function(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,U=!1;if(!O)return this.resolve([]);for(var V=-1,I=new this(m);++V<O;)Y=E[V],T.resolve(Y).then(function(te){U||(U=!0,p.resolve(I,te))},function(te){U||(U=!0,p.reject(I,te))});var Y;return I}},{immediate:36}],38:[function(s,o,g){var c={};(0,s("./lib/utils/common").assign)(c,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,o,g){var c=s("./zlib/deflate"),m=s("./utils/common"),p=s("./utils/strings"),d=s("./zlib/messages"),f=s("./zlib/zstream"),w=Object.prototype.toString,C=0,k=-1,b=0,S=8;function v(E){if(!(this instanceof v))return new v(E);this.options=m.assign({level:k,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},E||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var O=c.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(O!==C)throw new Error(d[O]);if(T.header&&c.deflateSetHeader(this.strm,T.header),T.dictionary){var U;if(U=typeof T.dictionary=="string"?p.string2buf(T.dictionary):w.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(O=c.deflateSetDictionary(this.strm,U))!==C)throw new Error(d[O]);this._dict_set=!0}}function j(E,T){var O=new v(T);if(O.push(E,!0),O.err)throw O.msg||d[O.err];return O.result}v.prototype.push=function(E,T){var O,U,V=this.strm,I=this.options.chunkSize;if(this.ended)return!1;U=T===~~T?T:T===!0?4:0,typeof E=="string"?V.input=p.string2buf(E):w.call(E)==="[object ArrayBuffer]"?V.input=new Uint8Array(E):V.input=E,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new m.Buf8(I),V.next_out=0,V.avail_out=I),(O=c.deflate(V,U))!==1&&O!==C)return this.onEnd(O),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||U!==4&&U!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(m.shrinkBuf(V.output,V.next_out))):this.onData(m.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&O!==1);return U===4?(O=c.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===C):U!==2||(this.onEnd(C),!(V.avail_out=0))},v.prototype.onData=function(E){this.chunks.push(E)},v.prototype.onEnd=function(E){E===C&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},g.Deflate=v,g.deflate=j,g.deflateRaw=function(E,T){return(T=T||{}).raw=!0,j(E,T)},g.gzip=function(E,T){return(T=T||{}).gzip=!0,j(E,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,o,g){var c=s("./zlib/inflate"),m=s("./utils/common"),p=s("./utils/strings"),d=s("./zlib/constants"),f=s("./zlib/messages"),w=s("./zlib/zstream"),C=s("./zlib/gzheader"),k=Object.prototype.toString;function b(v){if(!(this instanceof b))return new b(v);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},v||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||v&&v.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var E=c.inflateInit2(this.strm,j.windowBits);if(E!==d.Z_OK)throw new Error(f[E]);this.header=new C,c.inflateGetHeader(this.strm,this.header)}function S(v,j){var E=new b(j);if(E.push(v,!0),E.err)throw E.msg||f[E.err];return E.result}b.prototype.push=function(v,j){var E,T,O,U,V,I,Y=this.strm,te=this.options.chunkSize,q=this.options.dictionary,F=!1;if(this.ended)return!1;T=j===~~j?j:j===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?Y.input=p.binstring2buf(v):k.call(v)==="[object ArrayBuffer]"?Y.input=new Uint8Array(v):Y.input=v,Y.next_in=0,Y.avail_in=Y.input.length;do{if(Y.avail_out===0&&(Y.output=new m.Buf8(te),Y.next_out=0,Y.avail_out=te),(E=c.inflate(Y,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&q&&(I=typeof q=="string"?p.string2buf(q):k.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,E=c.inflateSetDictionary(this.strm,I)),E===d.Z_BUF_ERROR&&F===!0&&(E=d.Z_OK,F=!1),E!==d.Z_STREAM_END&&E!==d.Z_OK)return this.onEnd(E),!(this.ended=!0);Y.next_out&&(Y.avail_out!==0&&E!==d.Z_STREAM_END&&(Y.avail_in!==0||T!==d.Z_FINISH&&T!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=p.utf8border(Y.output,Y.next_out),U=Y.next_out-O,V=p.buf2string(Y.output,O),Y.next_out=U,Y.avail_out=te-U,U&&m.arraySet(Y.output,Y.output,O,U,0),this.onData(V)):this.onData(m.shrinkBuf(Y.output,Y.next_out)))),Y.avail_in===0&&Y.avail_out===0&&(F=!0)}while((0<Y.avail_in||Y.avail_out===0)&&E!==d.Z_STREAM_END);return E===d.Z_STREAM_END&&(T=d.Z_FINISH),T===d.Z_FINISH?(E=c.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===d.Z_OK):T!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(Y.avail_out=0))},b.prototype.onData=function(v){this.chunks.push(v)},b.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},g.Inflate=b,g.inflate=S,g.inflateRaw=function(v,j){return(j=j||{}).raw=!0,S(v,j)},g.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,o,g){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var w=f.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var C in w)w.hasOwnProperty(C)&&(d[C]=w[C])}}return d},g.shrinkBuf=function(d,f){return d.length===f?d:d.subarray?d.subarray(0,f):(d.length=f,d)};var m={arraySet:function(d,f,w,C,k){if(f.subarray&&d.subarray)d.set(f.subarray(w,w+C),k);else for(var b=0;b<C;b++)d[k+b]=f[w+b]},flattenChunks:function(d){var f,w,C,k,b,S;for(f=C=0,w=d.length;f<w;f++)C+=d[f].length;for(S=new Uint8Array(C),f=k=0,w=d.length;f<w;f++)b=d[f],S.set(b,k),k+=b.length;return S}},p={arraySet:function(d,f,w,C,k){for(var b=0;b<C;b++)d[k+b]=f[w+b]},flattenChunks:function(d){return[].concat.apply([],d)}};g.setTyped=function(d){d?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,m)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,p))},g.setTyped(c)},{}],42:[function(s,o,g){var c=s("./common"),m=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var d=new c.Buf8(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function w(C,k){if(k<65537&&(C.subarray&&p||!C.subarray&&m))return String.fromCharCode.apply(null,c.shrinkBuf(C,k));for(var b="",S=0;S<k;S++)b+=String.fromCharCode(C[S]);return b}d[254]=d[254]=1,g.string2buf=function(C){var k,b,S,v,j,E=C.length,T=0;for(v=0;v<E;v++)(64512&(b=C.charCodeAt(v)))==55296&&v+1<E&&(64512&(S=C.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),v++),T+=b<128?1:b<2048?2:b<65536?3:4;for(k=new c.Buf8(T),v=j=0;j<T;v++)(64512&(b=C.charCodeAt(v)))==55296&&v+1<E&&(64512&(S=C.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),v++),b<128?k[j++]=b:(b<2048?k[j++]=192|b>>>6:(b<65536?k[j++]=224|b>>>12:(k[j++]=240|b>>>18,k[j++]=128|b>>>12&63),k[j++]=128|b>>>6&63),k[j++]=128|63&b);return k},g.buf2binstring=function(C){return w(C,C.length)},g.binstring2buf=function(C){for(var k=new c.Buf8(C.length),b=0,S=k.length;b<S;b++)k[b]=C.charCodeAt(b);return k},g.buf2string=function(C,k){var b,S,v,j,E=k||C.length,T=new Array(2*E);for(b=S=0;b<E;)if((v=C[b++])<128)T[S++]=v;else if(4<(j=d[v]))T[S++]=65533,b+=j-1;else{for(v&=j===2?31:j===3?15:7;1<j&&b<E;)v=v<<6|63&C[b++],j--;1<j?T[S++]=65533:v<65536?T[S++]=v:(v-=65536,T[S++]=55296|v>>10&1023,T[S++]=56320|1023&v)}return w(T,S)},g.utf8border=function(C,k){var b;for((k=k||C.length)>C.length&&(k=C.length),b=k-1;0<=b&&(192&C[b])==128;)b--;return b<0||b===0?k:b+d[C[b]]>k?b:k}},{"./common":41}],43:[function(s,o,g){o.exports=function(c,m,p,d){for(var f=65535&c|0,w=c>>>16&65535|0,C=0;p!==0;){for(p-=C=2e3<p?2e3:p;w=w+(f=f+m[d++]|0)|0,--C;);f%=65521,w%=65521}return f|w<<16|0}},{}],44:[function(s,o,g){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,o,g){var c=(function(){for(var m,p=[],d=0;d<256;d++){m=d;for(var f=0;f<8;f++)m=1&m?3988292384^m>>>1:m>>>1;p[d]=m}return p})();o.exports=function(m,p,d,f){var w=c,C=f+d;m^=-1;for(var k=f;k<C;k++)m=m>>>8^w[255&(m^p[k])];return-1^m}},{}],46:[function(s,o,g){var c,m=s("../utils/common"),p=s("./trees"),d=s("./adler32"),f=s("./crc32"),w=s("./messages"),C=0,k=4,b=0,S=-2,v=-1,j=4,E=2,T=8,O=9,U=286,V=30,I=19,Y=2*U+1,te=15,q=3,F=258,se=F+q+1,A=42,D=113,h=1,X=2,B=3,L=4;function re(x,P){return x.msg=w[P],P}function Q(x){return(x<<1)-(4<x?9:0)}function ve(x){for(var P=x.length;0<=--P;)x[P]=0}function z(x){var P=x.state,ee=P.pending;ee>x.avail_out&&(ee=x.avail_out),ee!==0&&(m.arraySet(x.output,P.pending_buf,P.pending_out,ee,x.next_out),x.next_out+=ee,P.pending_out+=ee,x.total_out+=ee,x.avail_out-=ee,P.pending-=ee,P.pending===0&&(P.pending_out=0))}function R(x,P){p._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,P),x.block_start=x.strstart,z(x.strm)}function de(x,P){x.pending_buf[x.pending++]=P}function le(x,P){x.pending_buf[x.pending++]=P>>>8&255,x.pending_buf[x.pending++]=255&P}function ce(x,P){var ee,H,M=x.max_chain_length,K=x.strstart,ye=x.prev_length,je=x.nice_match,$=x.strstart>x.w_size-se?x.strstart-(x.w_size-se):0,Te=x.window,Ne=x.w_mask,Ae=x.prev,Ve=x.strstart+F,ut=Te[K+ye-1],Ke=Te[K+ye];x.prev_length>=x.good_match&&(M>>=2),je>x.lookahead&&(je=x.lookahead);do if(Te[(ee=P)+ye]===Ke&&Te[ee+ye-1]===ut&&Te[ee]===Te[K]&&Te[++ee]===Te[K+1]){K+=2,ee++;do;while(Te[++K]===Te[++ee]&&Te[++K]===Te[++ee]&&Te[++K]===Te[++ee]&&Te[++K]===Te[++ee]&&Te[++K]===Te[++ee]&&Te[++K]===Te[++ee]&&Te[++K]===Te[++ee]&&Te[++K]===Te[++ee]&&K<Ve);if(H=F-(Ve-K),K=Ve-F,ye<H){if(x.match_start=P,je<=(ye=H))break;ut=Te[K+ye-1],Ke=Te[K+ye]}}while((P=Ae[P&Ne])>$&&--M!=0);return ye<=x.lookahead?ye:x.lookahead}function Re(x){var P,ee,H,M,K,ye,je,$,Te,Ne,Ae=x.w_size;do{if(M=x.window_size-x.lookahead-x.strstart,x.strstart>=Ae+(Ae-se)){for(m.arraySet(x.window,x.window,Ae,Ae,0),x.match_start-=Ae,x.strstart-=Ae,x.block_start-=Ae,P=ee=x.hash_size;H=x.head[--P],x.head[P]=Ae<=H?H-Ae:0,--ee;);for(P=ee=Ae;H=x.prev[--P],x.prev[P]=Ae<=H?H-Ae:0,--ee;);M+=Ae}if(x.strm.avail_in===0)break;if(ye=x.strm,je=x.window,$=x.strstart+x.lookahead,Te=M,Ne=void 0,Ne=ye.avail_in,Te<Ne&&(Ne=Te),ee=Ne===0?0:(ye.avail_in-=Ne,m.arraySet(je,ye.input,ye.next_in,Ne,$),ye.state.wrap===1?ye.adler=d(ye.adler,je,Ne,$):ye.state.wrap===2&&(ye.adler=f(ye.adler,je,Ne,$)),ye.next_in+=Ne,ye.total_in+=Ne,Ne),x.lookahead+=ee,x.lookahead+x.insert>=q)for(K=x.strstart-x.insert,x.ins_h=x.window[K],x.ins_h=(x.ins_h<<x.hash_shift^x.window[K+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[K+q-1])&x.hash_mask,x.prev[K&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=K,K++,x.insert--,!(x.lookahead+x.insert<q)););}while(x.lookahead<se&&x.strm.avail_in!==0)}function He(x,P){for(var ee,H;;){if(x.lookahead<se){if(Re(x),x.lookahead<se&&P===C)return h;if(x.lookahead===0)break}if(ee=0,x.lookahead>=q&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+q-1])&x.hash_mask,ee=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),ee!==0&&x.strstart-ee<=x.w_size-se&&(x.match_length=ce(x,ee)),x.match_length>=q)if(H=p._tr_tally(x,x.strstart-x.match_start,x.match_length-q),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=q){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+q-1])&x.hash_mask,ee=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else H=p._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(H&&(R(x,!1),x.strm.avail_out===0))return h}return x.insert=x.strstart<q-1?x.strstart:q-1,P===k?(R(x,!0),x.strm.avail_out===0?B:L):x.last_lit&&(R(x,!1),x.strm.avail_out===0)?h:X}function J(x,P){for(var ee,H,M;;){if(x.lookahead<se){if(Re(x),x.lookahead<se&&P===C)return h;if(x.lookahead===0)break}if(ee=0,x.lookahead>=q&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+q-1])&x.hash_mask,ee=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=q-1,ee!==0&&x.prev_length<x.max_lazy_match&&x.strstart-ee<=x.w_size-se&&(x.match_length=ce(x,ee),x.match_length<=5&&(x.strategy===1||x.match_length===q&&4096<x.strstart-x.match_start)&&(x.match_length=q-1)),x.prev_length>=q&&x.match_length<=x.prev_length){for(M=x.strstart+x.lookahead-q,H=p._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-q),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=M&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+q-1])&x.hash_mask,ee=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=q-1,x.strstart++,H&&(R(x,!1),x.strm.avail_out===0))return h}else if(x.match_available){if((H=p._tr_tally(x,0,x.window[x.strstart-1]))&&R(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return h}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(H=p._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<q-1?x.strstart:q-1,P===k?(R(x,!0),x.strm.avail_out===0?B:L):x.last_lit&&(R(x,!1),x.strm.avail_out===0)?h:X}function _e(x,P,ee,H,M){this.good_length=x,this.max_lazy=P,this.nice_length=ee,this.max_chain=H,this.func=M}function qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*Y),this.dyn_dtree=new m.Buf16(2*(2*V+1)),this.bl_tree=new m.Buf16(2*(2*I+1)),ve(this.dyn_ltree),ve(this.dyn_dtree),ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(te+1),this.heap=new m.Buf16(2*U+1),ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*U+1),ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(x){var P;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=E,(P=x.state).pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?A:D,x.adler=P.wrap===2?0:1,P.last_flush=C,p._tr_init(P),b):re(x,S)}function tt(x){var P=Ge(x);return P===b&&(function(ee){ee.window_size=2*ee.w_size,ve(ee.head),ee.max_lazy_match=c[ee.level].max_lazy,ee.good_match=c[ee.level].good_length,ee.nice_match=c[ee.level].nice_length,ee.max_chain_length=c[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=q-1,ee.match_available=0,ee.ins_h=0})(x.state),P}function Je(x,P,ee,H,M,K){if(!x)return S;var ye=1;if(P===v&&(P=6),H<0?(ye=0,H=-H):15<H&&(ye=2,H-=16),M<1||O<M||ee!==T||H<8||15<H||P<0||9<P||K<0||j<K)return re(x,S);H===8&&(H=9);var je=new qe;return(x.state=je).strm=x,je.wrap=ye,je.gzhead=null,je.w_bits=H,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=M+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+q-1)/q),je.window=new m.Buf8(2*je.w_size),je.head=new m.Buf16(je.hash_size),je.prev=new m.Buf16(je.w_size),je.lit_bufsize=1<<M+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new m.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=P,je.strategy=K,je.method=ee,tt(x)}c=[new _e(0,0,0,0,function(x,P){var ee=65535;for(ee>x.pending_buf_size-5&&(ee=x.pending_buf_size-5);;){if(x.lookahead<=1){if(Re(x),x.lookahead===0&&P===C)return h;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var H=x.block_start+ee;if((x.strstart===0||x.strstart>=H)&&(x.lookahead=x.strstart-H,x.strstart=H,R(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-se&&(R(x,!1),x.strm.avail_out===0))return h}return x.insert=0,P===k?(R(x,!0),x.strm.avail_out===0?B:L):(x.strstart>x.block_start&&(R(x,!1),x.strm.avail_out),h)}),new _e(4,4,8,4,He),new _e(4,5,16,8,He),new _e(4,6,32,32,He),new _e(4,4,16,16,J),new _e(8,16,32,32,J),new _e(8,16,128,128,J),new _e(8,32,128,256,J),new _e(32,128,258,1024,J),new _e(32,258,258,4096,J)],g.deflateInit=function(x,P){return Je(x,P,T,15,8,0)},g.deflateInit2=Je,g.deflateReset=tt,g.deflateResetKeep=Ge,g.deflateSetHeader=function(x,P){return x&&x.state?x.state.wrap!==2?S:(x.state.gzhead=P,b):S},g.deflate=function(x,P){var ee,H,M,K;if(!x||!x.state||5<P||P<0)return x?re(x,S):S;if(H=x.state,!x.output||!x.input&&x.avail_in!==0||H.status===666&&P!==k)return re(x,x.avail_out===0?-5:S);if(H.strm=x,ee=H.last_flush,H.last_flush=P,H.status===A)if(H.wrap===2)x.adler=0,de(H,31),de(H,139),de(H,8),H.gzhead?(de(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),de(H,255&H.gzhead.time),de(H,H.gzhead.time>>8&255),de(H,H.gzhead.time>>16&255),de(H,H.gzhead.time>>24&255),de(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),de(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(de(H,255&H.gzhead.extra.length),de(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(x.adler=f(x.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(de(H,0),de(H,0),de(H,0),de(H,0),de(H,0),de(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),de(H,3),H.status=D);else{var ye=T+(H.w_bits-8<<4)<<8;ye|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(ye|=32),ye+=31-ye%31,H.status=D,le(H,ye),H.strstart!==0&&(le(H,x.adler>>>16),le(H,65535&x.adler)),x.adler=1}if(H.status===69)if(H.gzhead.extra){for(M=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>M&&(x.adler=f(x.adler,H.pending_buf,H.pending-M,M)),z(x),M=H.pending,H.pending!==H.pending_buf_size));)de(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>M&&(x.adler=f(x.adler,H.pending_buf,H.pending-M,M)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){M=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>M&&(x.adler=f(x.adler,H.pending_buf,H.pending-M,M)),z(x),M=H.pending,H.pending===H.pending_buf_size)){K=1;break}K=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,de(H,K)}while(K!==0);H.gzhead.hcrc&&H.pending>M&&(x.adler=f(x.adler,H.pending_buf,H.pending-M,M)),K===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){M=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>M&&(x.adler=f(x.adler,H.pending_buf,H.pending-M,M)),z(x),M=H.pending,H.pending===H.pending_buf_size)){K=1;break}K=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,de(H,K)}while(K!==0);H.gzhead.hcrc&&H.pending>M&&(x.adler=f(x.adler,H.pending_buf,H.pending-M,M)),K===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&z(x),H.pending+2<=H.pending_buf_size&&(de(H,255&x.adler),de(H,x.adler>>8&255),x.adler=0,H.status=D)):H.status=D),H.pending!==0){if(z(x),x.avail_out===0)return H.last_flush=-1,b}else if(x.avail_in===0&&Q(P)<=Q(ee)&&P!==k)return re(x,-5);if(H.status===666&&x.avail_in!==0)return re(x,-5);if(x.avail_in!==0||H.lookahead!==0||P!==C&&H.status!==666){var je=H.strategy===2?(function($,Te){for(var Ne;;){if($.lookahead===0&&(Re($),$.lookahead===0)){if(Te===C)return h;break}if($.match_length=0,Ne=p._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,Ne&&(R($,!1),$.strm.avail_out===0))return h}return $.insert=0,Te===k?(R($,!0),$.strm.avail_out===0?B:L):$.last_lit&&(R($,!1),$.strm.avail_out===0)?h:X})(H,P):H.strategy===3?(function($,Te){for(var Ne,Ae,Ve,ut,Ke=$.window;;){if($.lookahead<=F){if(Re($),$.lookahead<=F&&Te===C)return h;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=q&&0<$.strstart&&(Ae=Ke[Ve=$.strstart-1])===Ke[++Ve]&&Ae===Ke[++Ve]&&Ae===Ke[++Ve]){ut=$.strstart+F;do;while(Ae===Ke[++Ve]&&Ae===Ke[++Ve]&&Ae===Ke[++Ve]&&Ae===Ke[++Ve]&&Ae===Ke[++Ve]&&Ae===Ke[++Ve]&&Ae===Ke[++Ve]&&Ae===Ke[++Ve]&&Ve<ut);$.match_length=F-(ut-Ve),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=q?(Ne=p._tr_tally($,1,$.match_length-q),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(Ne=p._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),Ne&&(R($,!1),$.strm.avail_out===0))return h}return $.insert=0,Te===k?(R($,!0),$.strm.avail_out===0?B:L):$.last_lit&&(R($,!1),$.strm.avail_out===0)?h:X})(H,P):c[H.level].func(H,P);if(je!==B&&je!==L||(H.status=666),je===h||je===B)return x.avail_out===0&&(H.last_flush=-1),b;if(je===X&&(P===1?p._tr_align(H):P!==5&&(p._tr_stored_block(H,0,0,!1),P===3&&(ve(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),z(x),x.avail_out===0))return H.last_flush=-1,b}return P!==k?b:H.wrap<=0?1:(H.wrap===2?(de(H,255&x.adler),de(H,x.adler>>8&255),de(H,x.adler>>16&255),de(H,x.adler>>24&255),de(H,255&x.total_in),de(H,x.total_in>>8&255),de(H,x.total_in>>16&255),de(H,x.total_in>>24&255)):(le(H,x.adler>>>16),le(H,65535&x.adler)),z(x),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?b:1)},g.deflateEnd=function(x){var P;return x&&x.state?(P=x.state.status)!==A&&P!==69&&P!==73&&P!==91&&P!==103&&P!==D&&P!==666?re(x,S):(x.state=null,P===D?re(x,-3):b):S},g.deflateSetDictionary=function(x,P){var ee,H,M,K,ye,je,$,Te,Ne=P.length;if(!x||!x.state||(K=(ee=x.state).wrap)===2||K===1&&ee.status!==A||ee.lookahead)return S;for(K===1&&(x.adler=d(x.adler,P,Ne,0)),ee.wrap=0,Ne>=ee.w_size&&(K===0&&(ve(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),Te=new m.Buf8(ee.w_size),m.arraySet(Te,P,Ne-ee.w_size,ee.w_size,0),P=Te,Ne=ee.w_size),ye=x.avail_in,je=x.next_in,$=x.input,x.avail_in=Ne,x.next_in=0,x.input=P,Re(ee);ee.lookahead>=q;){for(H=ee.strstart,M=ee.lookahead-(q-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[H+q-1])&ee.hash_mask,ee.prev[H&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=H,H++,--M;);ee.strstart=H,ee.lookahead=q-1,Re(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=q-1,ee.match_available=0,x.next_in=je,x.input=$,x.avail_in=ye,ee.wrap=K,b},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,o,g){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,o,g){o.exports=function(c,m){var p,d,f,w,C,k,b,S,v,j,E,T,O,U,V,I,Y,te,q,F,se,A,D,h,X;p=c.state,d=c.next_in,h=c.input,f=d+(c.avail_in-5),w=c.next_out,X=c.output,C=w-(m-c.avail_out),k=w+(c.avail_out-257),b=p.dmax,S=p.wsize,v=p.whave,j=p.wnext,E=p.window,T=p.hold,O=p.bits,U=p.lencode,V=p.distcode,I=(1<<p.lenbits)-1,Y=(1<<p.distbits)-1;e:do{O<15&&(T+=h[d++]<<O,O+=8,T+=h[d++]<<O,O+=8),te=U[T&I];t:for(;;){if(T>>>=q=te>>>24,O-=q,(q=te>>>16&255)===0)X[w++]=65535&te;else{if(!(16&q)){if((64&q)==0){te=U[(65535&te)+(T&(1<<q)-1)];continue t}if(32&q){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}F=65535&te,(q&=15)&&(O<q&&(T+=h[d++]<<O,O+=8),F+=T&(1<<q)-1,T>>>=q,O-=q),O<15&&(T+=h[d++]<<O,O+=8,T+=h[d++]<<O,O+=8),te=V[T&Y];n:for(;;){if(T>>>=q=te>>>24,O-=q,!(16&(q=te>>>16&255))){if((64&q)==0){te=V[(65535&te)+(T&(1<<q)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(se=65535&te,O<(q&=15)&&(T+=h[d++]<<O,(O+=8)<q&&(T+=h[d++]<<O,O+=8)),b<(se+=T&(1<<q)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(T>>>=q,O-=q,(q=w-C)<se){if(v<(q=se-q)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(D=E,(A=0)===j){if(A+=S-q,q<F){for(F-=q;X[w++]=E[A++],--q;);A=w-se,D=X}}else if(j<q){if(A+=S+j-q,(q-=j)<F){for(F-=q;X[w++]=E[A++],--q;);if(A=0,j<F){for(F-=q=j;X[w++]=E[A++],--q;);A=w-se,D=X}}}else if(A+=j-q,q<F){for(F-=q;X[w++]=E[A++],--q;);A=w-se,D=X}for(;2<F;)X[w++]=D[A++],X[w++]=D[A++],X[w++]=D[A++],F-=3;F&&(X[w++]=D[A++],1<F&&(X[w++]=D[A++]))}else{for(A=w-se;X[w++]=X[A++],X[w++]=X[A++],X[w++]=X[A++],2<(F-=3););F&&(X[w++]=X[A++],1<F&&(X[w++]=X[A++]))}break}}break}}while(d<f&&w<k);d-=F=O>>3,T&=(1<<(O-=F<<3))-1,c.next_in=d,c.next_out=w,c.avail_in=d<f?f-d+5:5-(d-f),c.avail_out=w<k?k-w+257:257-(w-k),p.hold=T,p.bits=O}},{}],49:[function(s,o,g){var c=s("../utils/common"),m=s("./adler32"),p=s("./crc32"),d=s("./inffast"),f=s("./inftrees"),w=1,C=2,k=0,b=-2,S=1,v=852,j=592;function E(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(A){var D;return A&&A.state?(D=A.state,A.total_in=A.total_out=D.total=0,A.msg="",D.wrap&&(A.adler=1&D.wrap),D.mode=S,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new c.Buf32(v),D.distcode=D.distdyn=new c.Buf32(j),D.sane=1,D.back=-1,k):b}function U(A){var D;return A&&A.state?((D=A.state).wsize=0,D.whave=0,D.wnext=0,O(A)):b}function V(A,D){var h,X;return A&&A.state?(X=A.state,D<0?(h=0,D=-D):(h=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?b:(X.window!==null&&X.wbits!==D&&(X.window=null),X.wrap=h,X.wbits=D,U(A))):b}function I(A,D){var h,X;return A?(X=new T,(A.state=X).window=null,(h=V(A,D))!==k&&(A.state=null),h):b}var Y,te,q=!0;function F(A){if(q){var D;for(Y=new c.Buf32(512),te=new c.Buf32(32),D=0;D<144;)A.lens[D++]=8;for(;D<256;)A.lens[D++]=9;for(;D<280;)A.lens[D++]=7;for(;D<288;)A.lens[D++]=8;for(f(w,A.lens,0,288,Y,0,A.work,{bits:9}),D=0;D<32;)A.lens[D++]=5;f(C,A.lens,0,32,te,0,A.work,{bits:5}),q=!1}A.lencode=Y,A.lenbits=9,A.distcode=te,A.distbits=5}function se(A,D,h,X){var B,L=A.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new c.Buf8(L.wsize)),X>=L.wsize?(c.arraySet(L.window,D,h-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(X<(B=L.wsize-L.wnext)&&(B=X),c.arraySet(L.window,D,h-X,B,L.wnext),(X-=B)?(c.arraySet(L.window,D,h-X,X,0),L.wnext=X,L.whave=L.wsize):(L.wnext+=B,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=B))),0}g.inflateReset=U,g.inflateReset2=V,g.inflateResetKeep=O,g.inflateInit=function(A){return I(A,15)},g.inflateInit2=I,g.inflate=function(A,D){var h,X,B,L,re,Q,ve,z,R,de,le,ce,Re,He,J,_e,qe,Ge,tt,Je,x,P,ee,H,M=0,K=new c.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return b;(h=A.state).mode===12&&(h.mode=13),re=A.next_out,B=A.output,ve=A.avail_out,L=A.next_in,X=A.input,Q=A.avail_in,z=h.hold,R=h.bits,de=Q,le=ve,P=k;e:for(;;)switch(h.mode){case S:if(h.wrap===0){h.mode=13;break}for(;R<16;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if(2&h.wrap&&z===35615){K[h.check=0]=255&z,K[1]=z>>>8&255,h.check=p(h.check,K,2,0),R=z=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&z)<<8)+(z>>8))%31){A.msg="incorrect header check",h.mode=30;break}if((15&z)!=8){A.msg="unknown compression method",h.mode=30;break}if(R-=4,x=8+(15&(z>>>=4)),h.wbits===0)h.wbits=x;else if(x>h.wbits){A.msg="invalid window size",h.mode=30;break}h.dmax=1<<x,A.adler=h.check=1,h.mode=512&z?10:12,R=z=0;break;case 2:for(;R<16;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if(h.flags=z,(255&h.flags)!=8){A.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){A.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=z>>8&1),512&h.flags&&(K[0]=255&z,K[1]=z>>>8&255,h.check=p(h.check,K,2,0)),R=z=0,h.mode=3;case 3:for(;R<32;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}h.head&&(h.head.time=z),512&h.flags&&(K[0]=255&z,K[1]=z>>>8&255,K[2]=z>>>16&255,K[3]=z>>>24&255,h.check=p(h.check,K,4,0)),R=z=0,h.mode=4;case 4:for(;R<16;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}h.head&&(h.head.xflags=255&z,h.head.os=z>>8),512&h.flags&&(K[0]=255&z,K[1]=z>>>8&255,h.check=p(h.check,K,2,0)),R=z=0,h.mode=5;case 5:if(1024&h.flags){for(;R<16;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}h.length=z,h.head&&(h.head.extra_len=z),512&h.flags&&(K[0]=255&z,K[1]=z>>>8&255,h.check=p(h.check,K,2,0)),R=z=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(Q<(ce=h.length)&&(ce=Q),ce&&(h.head&&(x=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),c.arraySet(h.head.extra,X,L,ce,x)),512&h.flags&&(h.check=p(h.check,X,ce,L)),Q-=ce,L+=ce,h.length-=ce),h.length))break e;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(Q===0)break e;for(ce=0;x=X[L+ce++],h.head&&x&&h.length<65536&&(h.head.name+=String.fromCharCode(x)),x&&ce<Q;);if(512&h.flags&&(h.check=p(h.check,X,ce,L)),Q-=ce,L+=ce,x)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(Q===0)break e;for(ce=0;x=X[L+ce++],h.head&&x&&h.length<65536&&(h.head.comment+=String.fromCharCode(x)),x&&ce<Q;);if(512&h.flags&&(h.check=p(h.check,X,ce,L)),Q-=ce,L+=ce,x)break e}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;R<16;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if(z!==(65535&h.check)){A.msg="header crc mismatch",h.mode=30;break}R=z=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),A.adler=h.check=0,h.mode=12;break;case 10:for(;R<32;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}A.adler=h.check=E(z),R=z=0,h.mode=11;case 11:if(h.havedict===0)return A.next_out=re,A.avail_out=ve,A.next_in=L,A.avail_in=Q,h.hold=z,h.bits=R,2;A.adler=h.check=1,h.mode=12;case 12:if(D===5||D===6)break e;case 13:if(h.last){z>>>=7&R,R-=7&R,h.mode=27;break}for(;R<3;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}switch(h.last=1&z,R-=1,3&(z>>>=1)){case 0:h.mode=14;break;case 1:if(F(h),h.mode=20,D!==6)break;z>>>=2,R-=2;break e;case 2:h.mode=17;break;case 3:A.msg="invalid block type",h.mode=30}z>>>=2,R-=2;break;case 14:for(z>>>=7&R,R-=7&R;R<32;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if((65535&z)!=(z>>>16^65535)){A.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&z,R=z=0,h.mode=15,D===6)break e;case 15:h.mode=16;case 16:if(ce=h.length){if(Q<ce&&(ce=Q),ve<ce&&(ce=ve),ce===0)break e;c.arraySet(B,X,L,ce,re),Q-=ce,L+=ce,ve-=ce,re+=ce,h.length-=ce;break}h.mode=12;break;case 17:for(;R<14;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if(h.nlen=257+(31&z),z>>>=5,R-=5,h.ndist=1+(31&z),z>>>=5,R-=5,h.ncode=4+(15&z),z>>>=4,R-=4,286<h.nlen||30<h.ndist){A.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;R<3;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}h.lens[ye[h.have++]]=7&z,z>>>=3,R-=3}for(;h.have<19;)h.lens[ye[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,ee={bits:h.lenbits},P=f(0,h.lens,0,19,h.lencode,0,h.work,ee),h.lenbits=ee.bits,P){A.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;_e=(M=h.lencode[z&(1<<h.lenbits)-1])>>>16&255,qe=65535&M,!((J=M>>>24)<=R);){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if(qe<16)z>>>=J,R-=J,h.lens[h.have++]=qe;else{if(qe===16){for(H=J+2;R<H;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if(z>>>=J,R-=J,h.have===0){A.msg="invalid bit length repeat",h.mode=30;break}x=h.lens[h.have-1],ce=3+(3&z),z>>>=2,R-=2}else if(qe===17){for(H=J+3;R<H;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}R-=J,x=0,ce=3+(7&(z>>>=J)),z>>>=3,R-=3}else{for(H=J+7;R<H;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}R-=J,x=0,ce=11+(127&(z>>>=J)),z>>>=7,R-=7}if(h.have+ce>h.nlen+h.ndist){A.msg="invalid bit length repeat",h.mode=30;break}for(;ce--;)h.lens[h.have++]=x}}if(h.mode===30)break;if(h.lens[256]===0){A.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,ee={bits:h.lenbits},P=f(w,h.lens,0,h.nlen,h.lencode,0,h.work,ee),h.lenbits=ee.bits,P){A.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,ee={bits:h.distbits},P=f(C,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,ee),h.distbits=ee.bits,P){A.msg="invalid distances set",h.mode=30;break}if(h.mode=20,D===6)break e;case 20:h.mode=21;case 21:if(6<=Q&&258<=ve){A.next_out=re,A.avail_out=ve,A.next_in=L,A.avail_in=Q,h.hold=z,h.bits=R,d(A,le),re=A.next_out,B=A.output,ve=A.avail_out,L=A.next_in,X=A.input,Q=A.avail_in,z=h.hold,R=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;_e=(M=h.lencode[z&(1<<h.lenbits)-1])>>>16&255,qe=65535&M,!((J=M>>>24)<=R);){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if(_e&&(240&_e)==0){for(Ge=J,tt=_e,Je=qe;_e=(M=h.lencode[Je+((z&(1<<Ge+tt)-1)>>Ge)])>>>16&255,qe=65535&M,!(Ge+(J=M>>>24)<=R);){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}z>>>=Ge,R-=Ge,h.back+=Ge}if(z>>>=J,R-=J,h.back+=J,h.length=qe,_e===0){h.mode=26;break}if(32&_e){h.back=-1,h.mode=12;break}if(64&_e){A.msg="invalid literal/length code",h.mode=30;break}h.extra=15&_e,h.mode=22;case 22:if(h.extra){for(H=h.extra;R<H;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}h.length+=z&(1<<h.extra)-1,z>>>=h.extra,R-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;_e=(M=h.distcode[z&(1<<h.distbits)-1])>>>16&255,qe=65535&M,!((J=M>>>24)<=R);){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if((240&_e)==0){for(Ge=J,tt=_e,Je=qe;_e=(M=h.distcode[Je+((z&(1<<Ge+tt)-1)>>Ge)])>>>16&255,qe=65535&M,!(Ge+(J=M>>>24)<=R);){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}z>>>=Ge,R-=Ge,h.back+=Ge}if(z>>>=J,R-=J,h.back+=J,64&_e){A.msg="invalid distance code",h.mode=30;break}h.offset=qe,h.extra=15&_e,h.mode=24;case 24:if(h.extra){for(H=h.extra;R<H;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}h.offset+=z&(1<<h.extra)-1,z>>>=h.extra,R-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){A.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(ve===0)break e;if(ce=le-ve,h.offset>ce){if((ce=h.offset-ce)>h.whave&&h.sane){A.msg="invalid distance too far back",h.mode=30;break}Re=ce>h.wnext?(ce-=h.wnext,h.wsize-ce):h.wnext-ce,ce>h.length&&(ce=h.length),He=h.window}else He=B,Re=re-h.offset,ce=h.length;for(ve<ce&&(ce=ve),ve-=ce,h.length-=ce;B[re++]=He[Re++],--ce;);h.length===0&&(h.mode=21);break;case 26:if(ve===0)break e;B[re++]=h.length,ve--,h.mode=21;break;case 27:if(h.wrap){for(;R<32;){if(Q===0)break e;Q--,z|=X[L++]<<R,R+=8}if(le-=ve,A.total_out+=le,h.total+=le,le&&(A.adler=h.check=h.flags?p(h.check,B,le,re-le):m(h.check,B,le,re-le)),le=ve,(h.flags?z:E(z))!==h.check){A.msg="incorrect data check",h.mode=30;break}R=z=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;R<32;){if(Q===0)break e;Q--,z+=X[L++]<<R,R+=8}if(z!==(4294967295&h.total)){A.msg="incorrect length check",h.mode=30;break}R=z=0}h.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;default:return b}return A.next_out=re,A.avail_out=ve,A.next_in=L,A.avail_in=Q,h.hold=z,h.bits=R,(h.wsize||le!==A.avail_out&&h.mode<30&&(h.mode<27||D!==4))&&se(A,A.output,A.next_out,le-A.avail_out)?(h.mode=31,-4):(de-=A.avail_in,le-=A.avail_out,A.total_in+=de,A.total_out+=le,h.total+=le,h.wrap&&le&&(A.adler=h.check=h.flags?p(h.check,B,le,A.next_out-le):m(h.check,B,le,A.next_out-le)),A.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(de==0&&le===0||D===4)&&P===k&&(P=-5),P)},g.inflateEnd=function(A){if(!A||!A.state)return b;var D=A.state;return D.window&&(D.window=null),A.state=null,k},g.inflateGetHeader=function(A,D){var h;return A&&A.state?(2&(h=A.state).wrap)==0?b:((h.head=D).done=!1,k):b},g.inflateSetDictionary=function(A,D){var h,X=D.length;return A&&A.state?(h=A.state).wrap!==0&&h.mode!==11?b:h.mode===11&&m(1,D,X,0)!==h.check?-3:se(A,D,X,X)?(h.mode=31,-4):(h.havedict=1,k):b},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,o,g){var c=s("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(w,C,k,b,S,v,j,E){var T,O,U,V,I,Y,te,q,F,se=E.bits,A=0,D=0,h=0,X=0,B=0,L=0,re=0,Q=0,ve=0,z=0,R=null,de=0,le=new c.Buf16(16),ce=new c.Buf16(16),Re=null,He=0;for(A=0;A<=15;A++)le[A]=0;for(D=0;D<b;D++)le[C[k+D]]++;for(B=se,X=15;1<=X&&le[X]===0;X--);if(X<B&&(B=X),X===0)return S[v++]=20971520,S[v++]=20971520,E.bits=1,0;for(h=1;h<X&&le[h]===0;h++);for(B<h&&(B=h),A=Q=1;A<=15;A++)if(Q<<=1,(Q-=le[A])<0)return-1;if(0<Q&&(w===0||X!==1))return-1;for(ce[1]=0,A=1;A<15;A++)ce[A+1]=ce[A]+le[A];for(D=0;D<b;D++)C[k+D]!==0&&(j[ce[C[k+D]]++]=D);if(Y=w===0?(R=Re=j,19):w===1?(R=m,de-=257,Re=p,He-=257,256):(R=d,Re=f,-1),A=h,I=v,re=D=z=0,U=-1,V=(ve=1<<(L=B))-1,w===1&&852<ve||w===2&&592<ve)return 1;for(;;){for(te=A-re,F=j[D]<Y?(q=0,j[D]):j[D]>Y?(q=Re[He+j[D]],R[de+j[D]]):(q=96,0),T=1<<A-re,h=O=1<<L;S[I+(z>>re)+(O-=T)]=te<<24|q<<16|F|0,O!==0;);for(T=1<<A-1;z&T;)T>>=1;if(T!==0?(z&=T-1,z+=T):z=0,D++,--le[A]==0){if(A===X)break;A=C[k+j[D]]}if(B<A&&(z&V)!==U){for(re===0&&(re=B),I+=h,Q=1<<(L=A-re);L+re<X&&!((Q-=le[L+re])<=0);)L++,Q<<=1;if(ve+=1<<L,w===1&&852<ve||w===2&&592<ve)return 1;S[U=z&V]=B<<24|L<<16|I-v|0}}return z!==0&&(S[I+z]=A-re<<24|64<<16|0),E.bits=B,0}},{"../utils/common":41}],51:[function(s,o,g){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,o,g){var c=s("../utils/common"),m=0,p=1;function d(M){for(var K=M.length;0<=--K;)M[K]=0}var f=0,w=29,C=256,k=C+1+w,b=30,S=19,v=2*k+1,j=15,E=16,T=7,O=256,U=16,V=17,I=18,Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],te=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=new Array(2*(k+2));d(se);var A=new Array(2*b);d(A);var D=new Array(512);d(D);var h=new Array(256);d(h);var X=new Array(w);d(X);var B,L,re,Q=new Array(b);function ve(M,K,ye,je,$){this.static_tree=M,this.extra_bits=K,this.extra_base=ye,this.elems=je,this.max_length=$,this.has_stree=M&&M.length}function z(M,K){this.dyn_tree=M,this.max_code=0,this.stat_desc=K}function R(M){return M<256?D[M]:D[256+(M>>>7)]}function de(M,K){M.pending_buf[M.pending++]=255&K,M.pending_buf[M.pending++]=K>>>8&255}function le(M,K,ye){M.bi_valid>E-ye?(M.bi_buf|=K<<M.bi_valid&65535,de(M,M.bi_buf),M.bi_buf=K>>E-M.bi_valid,M.bi_valid+=ye-E):(M.bi_buf|=K<<M.bi_valid&65535,M.bi_valid+=ye)}function ce(M,K,ye){le(M,ye[2*K],ye[2*K+1])}function Re(M,K){for(var ye=0;ye|=1&M,M>>>=1,ye<<=1,0<--K;);return ye>>>1}function He(M,K,ye){var je,$,Te=new Array(j+1),Ne=0;for(je=1;je<=j;je++)Te[je]=Ne=Ne+ye[je-1]<<1;for($=0;$<=K;$++){var Ae=M[2*$+1];Ae!==0&&(M[2*$]=Re(Te[Ae]++,Ae))}}function J(M){var K;for(K=0;K<k;K++)M.dyn_ltree[2*K]=0;for(K=0;K<b;K++)M.dyn_dtree[2*K]=0;for(K=0;K<S;K++)M.bl_tree[2*K]=0;M.dyn_ltree[2*O]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function _e(M){8<M.bi_valid?de(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function qe(M,K,ye,je){var $=2*K,Te=2*ye;return M[$]<M[Te]||M[$]===M[Te]&&je[K]<=je[ye]}function Ge(M,K,ye){for(var je=M.heap[ye],$=ye<<1;$<=M.heap_len&&($<M.heap_len&&qe(K,M.heap[$+1],M.heap[$],M.depth)&&$++,!qe(K,je,M.heap[$],M.depth));)M.heap[ye]=M.heap[$],ye=$,$<<=1;M.heap[ye]=je}function tt(M,K,ye){var je,$,Te,Ne,Ae=0;if(M.last_lit!==0)for(;je=M.pending_buf[M.d_buf+2*Ae]<<8|M.pending_buf[M.d_buf+2*Ae+1],$=M.pending_buf[M.l_buf+Ae],Ae++,je===0?ce(M,$,K):(ce(M,(Te=h[$])+C+1,K),(Ne=Y[Te])!==0&&le(M,$-=X[Te],Ne),ce(M,Te=R(--je),ye),(Ne=te[Te])!==0&&le(M,je-=Q[Te],Ne)),Ae<M.last_lit;);ce(M,O,K)}function Je(M,K){var ye,je,$,Te=K.dyn_tree,Ne=K.stat_desc.static_tree,Ae=K.stat_desc.has_stree,Ve=K.stat_desc.elems,ut=-1;for(M.heap_len=0,M.heap_max=v,ye=0;ye<Ve;ye++)Te[2*ye]!==0?(M.heap[++M.heap_len]=ut=ye,M.depth[ye]=0):Te[2*ye+1]=0;for(;M.heap_len<2;)Te[2*($=M.heap[++M.heap_len]=ut<2?++ut:0)]=1,M.depth[$]=0,M.opt_len--,Ae&&(M.static_len-=Ne[2*$+1]);for(K.max_code=ut,ye=M.heap_len>>1;1<=ye;ye--)Ge(M,Te,ye);for($=Ve;ye=M.heap[1],M.heap[1]=M.heap[M.heap_len--],Ge(M,Te,1),je=M.heap[1],M.heap[--M.heap_max]=ye,M.heap[--M.heap_max]=je,Te[2*$]=Te[2*ye]+Te[2*je],M.depth[$]=(M.depth[ye]>=M.depth[je]?M.depth[ye]:M.depth[je])+1,Te[2*ye+1]=Te[2*je+1]=$,M.heap[1]=$++,Ge(M,Te,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],(function(Ke,Yt){var an,Et,dn,ct,jt,Ft,pt=Yt.dyn_tree,Nt=Yt.max_code,Dn=Yt.stat_desc.static_tree,On=Yt.stat_desc.has_stree,fe=Yt.stat_desc.extra_bits,xe=Yt.stat_desc.extra_base,he=Yt.stat_desc.max_length,pe=0;for(ct=0;ct<=j;ct++)Ke.bl_count[ct]=0;for(pt[2*Ke.heap[Ke.heap_max]+1]=0,an=Ke.heap_max+1;an<v;an++)he<(ct=pt[2*pt[2*(Et=Ke.heap[an])+1]+1]+1)&&(ct=he,pe++),pt[2*Et+1]=ct,Nt<Et||(Ke.bl_count[ct]++,jt=0,xe<=Et&&(jt=fe[Et-xe]),Ft=pt[2*Et],Ke.opt_len+=Ft*(ct+jt),On&&(Ke.static_len+=Ft*(Dn[2*Et+1]+jt)));if(pe!==0){do{for(ct=he-1;Ke.bl_count[ct]===0;)ct--;Ke.bl_count[ct]--,Ke.bl_count[ct+1]+=2,Ke.bl_count[he]--,pe-=2}while(0<pe);for(ct=he;ct!==0;ct--)for(Et=Ke.bl_count[ct];Et!==0;)Nt<(dn=Ke.heap[--an])||(pt[2*dn+1]!==ct&&(Ke.opt_len+=(ct-pt[2*dn+1])*pt[2*dn],pt[2*dn+1]=ct),Et--)}})(M,K),He(Te,ut,M.bl_count)}function x(M,K,ye){var je,$,Te=-1,Ne=K[1],Ae=0,Ve=7,ut=4;for(Ne===0&&(Ve=138,ut=3),K[2*(ye+1)+1]=65535,je=0;je<=ye;je++)$=Ne,Ne=K[2*(je+1)+1],++Ae<Ve&&$===Ne||(Ae<ut?M.bl_tree[2*$]+=Ae:$!==0?($!==Te&&M.bl_tree[2*$]++,M.bl_tree[2*U]++):Ae<=10?M.bl_tree[2*V]++:M.bl_tree[2*I]++,Te=$,ut=(Ae=0)===Ne?(Ve=138,3):$===Ne?(Ve=6,3):(Ve=7,4))}function P(M,K,ye){var je,$,Te=-1,Ne=K[1],Ae=0,Ve=7,ut=4;for(Ne===0&&(Ve=138,ut=3),je=0;je<=ye;je++)if($=Ne,Ne=K[2*(je+1)+1],!(++Ae<Ve&&$===Ne)){if(Ae<ut)for(;ce(M,$,M.bl_tree),--Ae!=0;);else $!==0?($!==Te&&(ce(M,$,M.bl_tree),Ae--),ce(M,U,M.bl_tree),le(M,Ae-3,2)):Ae<=10?(ce(M,V,M.bl_tree),le(M,Ae-3,3)):(ce(M,I,M.bl_tree),le(M,Ae-11,7));Te=$,ut=(Ae=0)===Ne?(Ve=138,3):$===Ne?(Ve=6,3):(Ve=7,4)}}d(Q);var ee=!1;function H(M,K,ye,je){le(M,(f<<1)+(je?1:0),3),(function($,Te,Ne,Ae){_e($),de($,Ne),de($,~Ne),c.arraySet($.pending_buf,$.window,Te,Ne,$.pending),$.pending+=Ne})(M,K,ye)}g._tr_init=function(M){ee||((function(){var K,ye,je,$,Te,Ne=new Array(j+1);for($=je=0;$<w-1;$++)for(X[$]=je,K=0;K<1<<Y[$];K++)h[je++]=$;for(h[je-1]=$,$=Te=0;$<16;$++)for(Q[$]=Te,K=0;K<1<<te[$];K++)D[Te++]=$;for(Te>>=7;$<b;$++)for(Q[$]=Te<<7,K=0;K<1<<te[$]-7;K++)D[256+Te++]=$;for(ye=0;ye<=j;ye++)Ne[ye]=0;for(K=0;K<=143;)se[2*K+1]=8,K++,Ne[8]++;for(;K<=255;)se[2*K+1]=9,K++,Ne[9]++;for(;K<=279;)se[2*K+1]=7,K++,Ne[7]++;for(;K<=287;)se[2*K+1]=8,K++,Ne[8]++;for(He(se,k+1,Ne),K=0;K<b;K++)A[2*K+1]=5,A[2*K]=Re(K,5);B=new ve(se,Y,C+1,k,j),L=new ve(A,te,0,b,j),re=new ve(new Array(0),q,0,S,T)})(),ee=!0),M.l_desc=new z(M.dyn_ltree,B),M.d_desc=new z(M.dyn_dtree,L),M.bl_desc=new z(M.bl_tree,re),M.bi_buf=0,M.bi_valid=0,J(M)},g._tr_stored_block=H,g._tr_flush_block=function(M,K,ye,je){var $,Te,Ne=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=(function(Ae){var Ve,ut=4093624447;for(Ve=0;Ve<=31;Ve++,ut>>>=1)if(1&ut&&Ae.dyn_ltree[2*Ve]!==0)return m;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return p;for(Ve=32;Ve<C;Ve++)if(Ae.dyn_ltree[2*Ve]!==0)return p;return m})(M)),Je(M,M.l_desc),Je(M,M.d_desc),Ne=(function(Ae){var Ve;for(x(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),x(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),Je(Ae,Ae.bl_desc),Ve=S-1;3<=Ve&&Ae.bl_tree[2*F[Ve]+1]===0;Ve--);return Ae.opt_len+=3*(Ve+1)+5+5+4,Ve})(M),$=M.opt_len+3+7>>>3,(Te=M.static_len+3+7>>>3)<=$&&($=Te)):$=Te=ye+5,ye+4<=$&&K!==-1?H(M,K,ye,je):M.strategy===4||Te===$?(le(M,2+(je?1:0),3),tt(M,se,A)):(le(M,4+(je?1:0),3),(function(Ae,Ve,ut,Ke){var Yt;for(le(Ae,Ve-257,5),le(Ae,ut-1,5),le(Ae,Ke-4,4),Yt=0;Yt<Ke;Yt++)le(Ae,Ae.bl_tree[2*F[Yt]+1],3);P(Ae,Ae.dyn_ltree,Ve-1),P(Ae,Ae.dyn_dtree,ut-1)})(M,M.l_desc.max_code+1,M.d_desc.max_code+1,Ne+1),tt(M,M.dyn_ltree,M.dyn_dtree)),J(M),je&&_e(M)},g._tr_tally=function(M,K,ye){return M.pending_buf[M.d_buf+2*M.last_lit]=K>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&K,M.pending_buf[M.l_buf+M.last_lit]=255&ye,M.last_lit++,K===0?M.dyn_ltree[2*ye]++:(M.matches++,K--,M.dyn_ltree[2*(h[ye]+C+1)]++,M.dyn_dtree[2*R(K)]++),M.last_lit===M.lit_bufsize-1},g._tr_align=function(M){le(M,2,3),ce(M,O,se),(function(K){K.bi_valid===16?(de(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(M)}},{"../utils/common":41}],53:[function(s,o,g){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,o,g){(function(c){(function(m,p){if(!m.setImmediate){var d,f,w,C,k=1,b={},S=!1,v=m.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(m);j=j&&j.setTimeout?j:m,d={}.toString.call(m.process)==="[object process]"?function(U){process.nextTick(function(){T(U)})}:(function(){if(m.postMessage&&!m.importScripts){var U=!0,V=m.onmessage;return m.onmessage=function(){U=!1},m.postMessage("","*"),m.onmessage=V,U}})()?(C="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",O,!1):m.attachEvent("onmessage",O),function(U){m.postMessage(C+U,"*")}):m.MessageChannel?((w=new MessageChannel).port1.onmessage=function(U){T(U.data)},function(U){w.port2.postMessage(U)}):v&&"onreadystatechange"in v.createElement("script")?(f=v.documentElement,function(U){var V=v.createElement("script");V.onreadystatechange=function(){T(U),V.onreadystatechange=null,f.removeChild(V),V=null},f.appendChild(V)}):function(U){setTimeout(T,0,U)},j.setImmediate=function(U){typeof U!="function"&&(U=new Function(""+U));for(var V=new Array(arguments.length-1),I=0;I<V.length;I++)V[I]=arguments[I+1];var Y={callback:U,args:V};return b[k]=Y,d(k),k++},j.clearImmediate=E}function E(U){delete b[U]}function T(U){if(S)setTimeout(T,0,U);else{var V=b[U];if(V){S=!0;try{(function(I){var Y=I.callback,te=I.args;switch(te.length){case 0:Y();break;case 1:Y(te[0]);break;case 2:Y(te[0],te[1]);break;case 3:Y(te[0],te[1],te[2]);break;default:Y.apply(p,te)}})(V)}finally{E(U),S=!1}}}}function O(U){U.source===m&&typeof U.data=="string"&&U.data.indexOf(C)===0&&T(+U.data.slice(C.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Fr<"u"?Fr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(wu)),wu.exports}var Ay=Ny();const Mu=up(Ay),Ep=async _=>{const l=new Mu,s=l.folder("SK");if(!s)throw new Error("Failed to create root folder");Xt.forEach(m=>{const p=_.tapes[m],d=m.charAt(0).toUpperCase(),f=s.folder(d);f&&p.slots.forEach(w=>{if(w.fileId){const C=_.files[w.fileId];if(C){const k=C.versions.find(b=>b.id===C.currentVersionId);k&&f.file(`${w.id}.WAV`,k.blob)}}})});const o=s.folder("EXTRAS");o&&Object.values(_.files).forEach(m=>{if(m.isParked){const p=m.versions.find(d=>d.id===m.currentVersionId);p&&o.file(`${m.name}.WAV`,p.blob)}});const g=await l.generateAsync({type:"blob"}),c=new Date().toISOString().split("T")[0];as(g,`Spotykach_SD_${c}.zip`)},jp=async _=>{const l=new Mu,s={},o=l.folder("blobs");for(const[p,d]of Object.entries(_.files))s[p]={...d,versions:d.versions.map(f=>{const w=`${f.id}.wav`;return o&&o.file(w,f.blob),{...f,blob:null,blobRef:w}})};const g={files:s,tapes:_.tapes,metadata:{appName:"Spotykach WAV Builder",version:"0.1.2",exportDate:new Date().toISOString()}};l.file("project.json",JSON.stringify(g,null,2));const c=await l.generateAsync({type:"blob"}),m=new Date().toISOString().split("T")[0];as(c,`Spotykach_Project_${m}.zip`)},Cp=async _=>{if(!("showDirectoryPicker"in window))throw new Error("Your browser does not support writing directly to folders. Please use Export ZIP instead.");const s=await(await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"})).getDirectoryHandle("SK",{create:!0});for(const g of Xt){const c=_.tapes[g],m=g.charAt(0).toUpperCase(),p=await s.getDirectoryHandle(m,{create:!0});for(const d of c.slots)if(d.fileId){const f=_.files[d.fileId];if(f){const w=f.versions.find(C=>C.id===f.currentVersionId);if(w){const k=await(await p.getFileHandle(`${d.id}.WAV`,{create:!0})).createWritable();await k.write(w.blob),await k.close()}}}}const o=await s.getDirectoryHandle("EXTRAS",{create:!0});for(const g of Object.values(_.files))if(g.isParked){const c=g.versions.find(m=>m.id===g.currentVersionId);if(c){const p=await(await o.getFileHandle(`${g.name}.WAV`,{create:!0})).createWritable();await p.write(c.blob),await p.close()}}},Dy=_=>{const l=_.versions.find(s=>s.id===_.currentVersionId);if(l&&l.blob)as(l.blob,`${_.name}.WAV`);else throw new Error("File data not available.")},zp=async(_,l,s)=>{const o=new Mu,g=_.charAt(0).toUpperCase(),c=o.folder(g);if(!c)throw new Error("Failed to create zip folder.");let m=0;if(l.slots.forEach(d=>{if(d.fileId&&s[d.fileId]){const f=s[d.fileId],w=f.versions.find(C=>C.id===f.currentVersionId);w&&w.blob&&(c.file(`${d.id}.WAV`,w.blob),m++)}}),m===0)throw new Error("Tape is empty. Nothing to export.");const p=await o.generateAsync({type:"blob"});as(p,`${_.replace(/^\w/,d=>d.toUpperCase())}_Tape.zip`)},as=(_,l)=>{const s=URL.createObjectURL(_),o=document.createElement("a");o.href=s,o.download=l,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)},Ru=Object.freeze(Object.defineProperty({__proto__:null,exportSaveState:jp,exportSingleFile:Dy,exportSingleTape:zp,exportToSDCard:Cp,exportZip:Ep},Symbol.toStringTag,{value:"Module"})),ep={B:"Blue",G:"Green",P:"Pink",R:"Red",T:"Turquoise",Y:"Yellow"},tp=()=>crypto.randomUUID(),Cu=_=>{let l=_.replace(/[^a-zA-Z0-9.\-_]/g,"_");return l=l.replace(/__+/g,"_"),l},Oy=async(_,l)=>{const s=Array.from(_),o=s.find(d=>d.name==="project.json"||d.webkitRelativePath.endsWith("project.json"));if(o)try{const d=await o.text(),f=JSON.parse(d),w={};for(const S of s)S.name.endsWith(".wav")&&(w[S.name]=S);const C={};let k=0;for(const[S,v]of Object.entries(f.files)){k++,l(k,Object.keys(f.files).length);const j=[];for(const E of v.versions){const T=E.blobRef;let O=w[T];if(!O){console.warn(`Missing blob for version ${E.id} (${T})`);continue}j.push({...E,blob:O})}j.length>0&&(C[S]={...v,versions:j,currentVersionId:j.find(E=>E.id===v.currentVersionId)?v.currentVersionId:j[0].id})}const b={Blue:[],Green:[],Pink:[],Red:[],Turquoise:[],Yellow:[]};return Object.entries(f.tapes).forEach(([S,v])=>{b[S]&&v.slots.forEach(j=>{j.fileId&&b[S].push({slotId:j.id,fileId:j.fileId})})}),{files:C,tapes:b}}catch(d){throw console.error("Failed to parse project.json",d),new Error("Invalid Project File")}const g={},c={Blue:[],Green:[],Pink:[],Red:[],Turquoise:[],Yellow:[]},m={Blue:1,Green:1,Pink:1,Red:1,Turquoise:1,Yellow:1},p=s.filter(d=>d.type.includes("audio")||d.name.toLowerCase().endsWith(".wav"));for(let d=0;d<p.length;d++){const f=p[d];l(d+1,p.length);const w=f.webkitRelativePath.split("/"),C=w.some(S=>S==="EXTRAS");let k,b;if(!C&&w.length>=2){const S=w[w.length-2].toUpperCase();if(Xt.includes(S)?k=S:ep[S]&&(k=ep[S]),k){const j=w[w.length-1].match(/^(\d+)/);j?b=parseInt(j[1]):(b=m[k],m[k]++)}}try{const{buffer:S,blob:v}=await ju.loadAndProcessAudio(f),j=tp(),E=tp(),T={id:E,timestamp:Date.now(),description:"Original Import",blob:v,duration:S.duration},O=Cu(f.name),U={id:j,name:O.toUpperCase().replace(/\.[^/.]+$/,""),originalName:f.name,versions:[T],currentVersionId:E,isParked:!k||!b};g[j]=U,k&&b&&b>=1&&b<=6&&c[k].push({slotId:b,fileId:j})}catch(S){console.error(`Failed to process ${f.name}`,S)}}return{files:g,tapes:c}},My="0.2.0",Ry=({onClose:_})=>u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-6",children:u.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent font-header",children:"About Spotykach WAV Builder"}),u.jsxs("p",{className:"text-gray-500 text-sm mt-1 font-body",children:["Version ",My]})]}),u.jsx("button",{onClick:_,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:u.jsx(xn,{size:24})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto max-h-[70vh] space-y-8 font-body",children:[u.jsxs("div",{className:"bg-synthux-yellow/10 border border-synthux-yellow/30 p-4 rounded-lg flex items-start gap-3",children:[u.jsx("div",{className:"text-synthux-yellow mt-0.5",children:""}),u.jsxs("div",{className:"text-sm text-gray-300",children:[u.jsx("strong",{className:"text-synthux-yellow block mb-1",children:"Desktop Computer Required"}),"This application is designed for use on a ",u.jsx("strong",{children:"Desktop Computer"})," (Chrome/Edge recommended) with a mouse/trackpad. It relies on advanced browser audio features that are not available on mobile devices."]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[u.jsx(bu,{size:20,className:"text-synthux-blue"}),"Purpose"]}),u.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["This application is specifically designed to prepare audio files for the ",u.jsx("strong",{className:"text-white",children:"Synthux Spotykach - the looper playground"}),". It automatically handles the strict format requirements needed by the firmware, ensuring your samples assume the correct",u.jsx("span",{className:"text-synthux-blue font-mono text-xs mx-1 px-1.5 py-0.5 bg-synthux-blue/20 rounded",children:"48kHz Stereo WAV"}),"format and folder structure."]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[u.jsx(fp,{size:20,className:"text-synthux-green"}),"Supported Files"]}),u.jsx("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800",children:u.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:[u.jsx("li",{children:"All standard audio formats (MP3, WAV, AIF, OGG, etc.)"}),u.jsx("li",{children:"Files are automatically converted to 48kHz / 16-bit / Stereo."}),u.jsx("li",{children:" Drag & Drop files directly onto slots or use the Import Folder button."})]})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[u.jsx(bu,{size:20,className:"text-synthux-pink"}),"Technology Stack"]}),u.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800 text-sm text-gray-300",children:["Built with ",u.jsx("span",{className:"text-white font-bold",children:"React"}),", ",u.jsx("span",{className:"text-white font-bold",children:"Vite"}),", and ",u.jsx("span",{className:"text-white font-bold",children:"TailwindCSS"}),".",u.jsx("br",{}),"Assisted by ",u.jsx("span",{className:"text-synthux-pink font-bold",children:"Google Deepmind"}),"'s experimental agentic coding models."]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[u.jsx(bu,{size:20,className:"text-synthux-yellow"}),"Roadmap & Contributing"]}),u.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800 text-sm text-gray-300 space-y-2",children:[u.jsxs("p",{children:["Future versions will include ",u.jsx("strong",{children:"Multi-Project Support"}),", a ",u.jsx("strong",{children:"Shared Sample Pool"}),", and a ",u.jsx("strong",{children:"Project Manager"}),"."]}),u.jsxs("p",{children:["Want to help? Join the discussion on the ",u.jsx("a",{href:"https://synthux.academy",target:"_blank",rel:"noreferrer",className:"text-synthux-yellow hover:underline",children:"Synthux Discord"})," or open an issue on GitHub."]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("a",{href:"https://github.com/jonwaterschoot/spotykach_WAV_builder",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-4 bg-gray-800/50 hover:bg-gray-800 rounded-xl border border-gray-700 transition-all group",children:[u.jsx("span",{className:"font-medium text-white group-hover:text-synthux-blue transition-colors",children:"GitHub Repository"}),u.jsx(qh,{size:16,className:"text-gray-500 group-hover:text-white transition-colors"})]}),u.jsxs("a",{href:"https://discord.gg/synthux",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-4 bg-gray-800/50 hover:bg-gray-800 rounded-xl border border-gray-700 transition-all group",children:[u.jsx("span",{className:"font-medium text-synthux-yellow group-hover:text-synthux-yellow-light transition-colors",children:"Synthux Discord"}),u.jsx(qh,{size:16,className:"text-gray-500 group-hover:text-white transition-colors"})]})]}),u.jsxs("div",{className:"pt-6 border-t border-gray-800 text-center space-y-4",children:[u.jsxs("div",{className:"text-xs text-gray-500 font-mono bg-black/40 p-3 rounded border border-gray-800/50 mx-auto max-w-md",children:[u.jsx("p",{className:"font-bold text-gray-400 mb-1",children:"LICENSE"}),"DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE",u.jsx("br",{}),"Version 2, December 2004",u.jsx("br",{}),u.jsx("br",{}),"Copyright (C) 2026 @jonwtr",u.jsx("br",{}),"Everyone is permitted to copy and distribute verbatim or modified copies of this license document, and changing it is allowed as long as the name is changed."]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm",children:[u.jsx(ug,{size:16}),u.jsxs("span",{children:["Built by ",u.jsx("a",{href:"https://github.com/jonwaterschoot",target:"_blank",rel:"noreferrer",className:"text-synthux-yellow hover:text-synthux-yellow-light hover:underline",children:"@jonwaterschoot"})]})]})]})]})]})}),Su=[{id:"synthux-horror",name:"Synthux Horror Sample Pack 2025",description:"A community collection of eerie soundscapes, drones, and textures created with, or with the help of the Synthux Audrey II synths.",license:`CC-BY 4.0
The author keeps full ownership of the recordings.
Synthux Academy and others can share, remix, or use these sounds  including commercially  as long as they give credit.
Crediting can be done by linking to author or mentioning the name.
Nobody else can claim this work as their own.`,links:[{label:"View Full Credits & Source",url:"https://github.com/jonwaterschoot/spotykach_WAV_builder/tree/main/public/samples/horror/p1"}],coverImage:"/samples/horror/p1/Audrey-II-Horror-Sample-Pack-2026-Synthux-Academy.png",samples:[{name:"C-Larinet Der Wal",path:"/samples/horror/p1/KG/Clarinet_Rixdorf.wav",category:"KHAGE"},{name:"Acid Box Echo Fix 1",path:"/samples/horror/p1/MO/AcidBox_Echo1.wav",category:"Machine Oil"},{name:"Acid Box Echo Fix 2",path:"/samples/horror/p1/MO/AcidBox_Echo2.wav",category:"Machine Oil"},{name:"Echo Fix 1",path:"/samples/horror/p1/MO/Echo1.wav",category:"Machine Oil"},{name:"Echo Fix 2",path:"/samples/horror/p1/MO/Echo2.wav",category:"Machine Oil"},{name:"Echo Fix 3",path:"/samples/horror/p1/MO/Echo3.wav",category:"Machine Oil"},{name:"Echo Fix 4",path:"/samples/horror/p1/MO/Echo4.wav",category:"Machine Oil"},{name:"Neuromorph CF 1",path:"/samples/horror/p1/NM/CF_1.wav",category:"Neuromorph"},{name:"Neuromorph CF 2",path:"/samples/horror/p1/NM/CF_2.wav",category:"Neuromorph"},{name:"Neuromorph CF 3",path:"/samples/horror/p1/NM/CF_3.wav",category:"Neuromorph"},{name:"Neuromorph CF 4",path:"/samples/horror/p1/NM/CF_4.wav",category:"Neuromorph"},{name:"Neuromorph CF 5",path:"/samples/horror/p1/NM/CF_5.wav",category:"Neuromorph"},{name:"Neuromorph CF 6",path:"/samples/horror/p1/NM/CF_6.wav",category:"Neuromorph"},{name:"Neuromorph CF 7",path:"/samples/horror/p1/NM/CF_7.wav",category:"Neuromorph"},{name:"Neuromorph CF 8",path:"/samples/horror/p1/NM/CF_8.wav",category:"Neuromorph"},{name:"Neuromorph CF 9",path:"/samples/horror/p1/NM/CF_9.wav",category:"Neuromorph"},{name:"Neuromorph CF 10",path:"/samples/horror/p1/NM/CF_10.wav",category:"Neuromorph"},{name:"Neuromorph CF 11",path:"/samples/horror/p1/NM/CF_11.wav",category:"Neuromorph"},{name:"Neuromorph CF 12",path:"/samples/horror/p1/NM/CF_12.wav",category:"Neuromorph"},{name:"Neuromorph CF 13",path:"/samples/horror/p1/NM/CF_13.wav",category:"Neuromorph"},{name:"Audrey II Horrorscape Pt 1",path:"/samples/horror/p1/TPO/Horrorscape_Pt1.wav",category:"The Pedalboard Orchestra"},{name:"Audrey II Horrorscape Pt 2",path:"/samples/horror/p1/TPO/Horrorscape_Pt2.wav",category:"The Pedalboard Orchestra"},{name:"Audrey II Horrorscape Pt 3",path:"/samples/horror/p1/TPO/Horrorscape_Pt3.wav",category:"The Pedalboard Orchestra"},{name:"Arhythmic",path:"/samples/horror/p1/NKT/Arhythmic.wav",category:"enkaytee"},{name:"Cosmic Winds",path:"/samples/horror/p1/NKT/CosmicWinds.wav",category:"enkaytee"},{name:"Midnight Chimes",path:"/samples/horror/p1/NKT/MidnightChimes.wav",category:"enkaytee"},{name:"Silent Bells",path:"/samples/horror/p1/NKT/SilentBells.wav",category:"enkaytee"},{name:"Model Cycles Audrey Touch Pt 1",path:"/samples/horror/p1/JW/ModelCycles_Pt1.wav",category:"jonwtr"},{name:"Model Cycles Audrey Touch Pt 2",path:"/samples/horror/p1/JW/ModelCycles_Pt2.wav",category:"jonwtr"}]},{id:"jonwtr-explorations",name:"Jonwtr Explorations",description:"A collection of noisy textures, field recordings, and voice sounds explored during the development of Spotykach.",license:`DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
Version 2, December 2004

Copyright (C) 2026 @jonwtr

Everyone is permitted to copy and distribute verbatim or modified copies of this license document, and changing it is allowed as long as the name is changed.`,links:[{label:"Read Documentation",url:"https://github.com/jonwaterschoot/spotykach_WAV_builder/blob/main/public/samples/jonwtr/README.md"},{label:"Instagram (@jonwtr)",url:"https://instagram.com/jonwtr"},{label:"YouTube (@jonwtr)",url:"https://youtube.com/@jonwtr"}],coverImage:"/samples/jonwtr/og-image.png",samples:[{name:"Tractatus Logico Robovoice",path:"/samples/jonwtr/Tractatus_logico_robovoice.wav",category:"Voice"},{name:"Voice Glitch Raw",path:"/samples/jonwtr/voice_prrrrttttsktsk_rawCut.wav",category:"Voice"},{name:"Noise Trickle Distorted 1",path:"/samples/jonwtr/noise_trickle_distorted1.wav",category:"Textures"},{name:"Noise Trickle Distorted 2",path:"/samples/jonwtr/noise_trickle_distorted2.wav",category:"Textures"},{name:"Noise Drone",path:"/samples/jonwtr/noisedrone.wav",category:"Textures"},{name:"Noisy Bass Pad",path:"/samples/jonwtr/noisybasspadC2G1.wav",category:"Textures"},{name:"Drainpipe UZ",path:"/samples/jonwtr/drainpipeUZ.wav",category:"Field Recordings"},{name:"Trickling Stones Dense",path:"/samples/jonwtr/tricklingstones_dense.wav",category:"Field Recordings"},{name:"Trickling Stones Sparse",path:"/samples/jonwtr/tricklingstones_lessdense.wav",category:"Field Recordings"},{name:"Mini Kalimba Dry",path:"/samples/jonwtr/minikalimbadry-120bpm-C_E_G.wav",category:"Instruments"},{name:"Mini Kalimba Distorted",path:"/samples/jonwtr/minikalimbadry-120bpm-C_E_G_distorted.wav",category:"Instruments"}]}],By=({isOpen:_,onClose:l,onImport:s})=>{const[o,g]=Ee.useState(Su[0]?.id||""),[c,m]=Ee.useState(null),[p,d]=Ee.useState(null),[f,w]=Ee.useState(new Set),C=Ee.useRef(null);if(!_)return null;const k=Su.find(v=>v.id===o),b=v=>{if(c===v.path)C.current?.pause(),m(null);else if(C.current){C.current.pause();const j="/spotykach_WAV_builder/".replace(/\/$/,"");C.current.src=`${j}${v.path}`,C.current.play().catch(E=>console.error("Preview failed",E)),m(v.path)}},S=async v=>{d(v.path);try{const j="/spotykach_WAV_builder/".replace(/\/$/,"");await s(`${j}${v.path}`,v.name),w(E=>new Set(E).add(v.path))}catch(j){console.error("Import failed",j)}finally{d(null)}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:u.jsxs("div",{className:"bg-synthux-panel border border-gray-700 rounded-lg shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800 bg-synthux-panel",children:[u.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-white",children:[u.jsx(hp,{className:"text-synthux-orange"})," Sample Pack Browser"]}),u.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",children:u.jsx(xn,{size:20})})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsxs("div",{className:"w-64 bg-synthux-sidebg border-r border-gray-800 p-4 flex flex-col gap-2 overflow-y-auto",children:[u.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Available Packs"}),Su.map(v=>u.jsx("button",{onClick:()=>g(v.id),className:`text-left px-3 py-2 rounded text-sm font-medium transition-colors ${o===v.id?"bg-synthux-orange/20 text-synthux-orange border border-synthux-orange/50":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:v.name},v.id))]}),u.jsx("div",{className:"flex-1 bg-synthux-main p-6 overflow-y-auto",children:k?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:k.name}),u.jsx("p",{className:"text-gray-400 text-sm max-w-xl mb-4 leading-relaxed font-body",children:k.description}),k.license&&u.jsxs("div",{className:"bg-black/20 p-3 rounded-lg border border-gray-800 text-xs text-gray-400 font-mono whitespace-pre-wrap mb-4 max-w-xl",children:[u.jsx("strong",{className:"block text-gray-500 mb-1 uppercase tracking-wider",children:"License"}),k.license]}),k.links&&k.links.length>0&&u.jsx("div",{className:"flex gap-2 mb-4 flex-wrap text-sm",children:k.links.map((v,j)=>u.jsx("a",{href:v.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-synthux-blue rounded border border-gray-700 transition-colors",children:v.label},j))})]}),u.jsx("div",{className:"space-y-6",children:Object.entries(k.samples.reduce((v,j)=>{const E=j.category||"Uncategorized";return v[E]||(v[E]=[]),v[E].push(j),v},{})).map(([v,j])=>u.jsxs("div",{children:[u.jsx("h3",{className:"sticky top-0 z-10 bg-synthux-main text-xs font-bold text-synthux-orange uppercase py-2 px-4 mb-1 border-b border-gray-800",children:v}),u.jsx("div",{className:"space-y-1",children:j.map((E,T)=>{const O=c===E.path,U=p===E.path,V=f.has(E.path);return u.jsxs("div",{className:"grid grid-cols-[40px_1fr_100px] gap-4 items-center px-4 py-3 hover:bg-gray-800/50 rounded border border-transparent hover:border-gray-800 transition-colors group",children:[u.jsx("button",{onClick:()=>b(E),className:`w-8 h-8 flex items-center justify-center rounded-full transition-all ${O?"text-synthux-orange bg-synthux-orange/10":"text-gray-500 hover:text-white bg-gray-800 hover:bg-gray-700"}`,children:O?u.jsx(es,{size:12,fill:"currentColor"}):u.jsx(Ui,{size:12,fill:"currentColor"})}),u.jsx("div",{className:"font-mono text-sm text-gray-300 group-hover:text-white truncate",children:E.name}),u.jsx("div",{className:"text-right",children:u.jsx("button",{onClick:()=>S(E),disabled:U||V,className:`inline-flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold transition-colors disabled:cursor-not-allowed ${V?"bg-synthux-yellow/20 text-synthux-yellow border border-synthux-yellow/50":"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white"}`,children:U?u.jsxs(u.Fragment,{children:[u.jsx(Lg,{size:12,className:"animate-spin"})," Adding..."]}):V?u.jsxs(u.Fragment,{children:[u.jsx(Dl,{size:14})," Added"]}):u.jsxs(u.Fragment,{children:[u.jsx(Bi,{size:14})," Add"]})})})]},T)})})]},v))})]}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select a pack to browse samples"})})]}),u.jsx("audio",{ref:C,onEnded:()=>m(null)})]})})},Uy=({message:_,type:l="info",onClose:s,duration:o=3e3})=>{Ee.useEffect(()=>{const m=setTimeout(s,o);return()=>clearTimeout(m)},[o,s]);const g={success:"bg-synthux-main border-synthux-green text-green-400",error:"bg-synthux-main border-red-500 text-red-400",info:"bg-synthux-main border-synthux-blue text-synthux-blue"},c={success:u.jsx(Dl,{size:18}),error:u.jsx(oa,{size:18}),info:u.jsx(pp,{size:18})};return u.jsxs("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-4 py-3 rounded-lg border shadow-2xl animate-in slide-in-from-bottom-5 fade-in duration-300 ${g[l]}`,children:[c[l],u.jsx("span",{className:"font-medium text-sm text-gray-200",children:_}),u.jsx("button",{onClick:s,className:"ml-2 hover:bg-white/10 p-1 rounded transition-colors",children:u.jsx(xn,{size:14})})]})},Ly=({duplicates:_,files:l,onKeep:s,onMakeUnique:o,onClose:g})=>{if(_.size===0)return g(),null;const c=m=>{switch(m){case"Red":return"var(--color-synthux-red)";case"Blue":return"var(--color-synthux-blue)";case"Green":return"var(--color-synthux-green)";case"Pink":return"var(--color-synthux-pink)";case"Yellow":return"var(--color-synthux-yellow)";case"Turquoise":return"var(--color-synthux-turquoise)";default:return"var(--color-synthux-blue)"}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:u.jsxs("div",{className:"w-full max-w-2xl bg-[#1a1a1a] border border-gray-700 rounded-2xl shadow-2xl flex flex-col max-h-[80vh] overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-700 flex items-center justify-between bg-[#222]",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-full bg-orange-500/20 text-orange-400",children:u.jsx(oa,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Resolve Duplicates"}),u.jsx("p",{className:"text-sm text-gray-400",children:"The same file is assigned to multiple slots."})]})]}),u.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:u.jsx(xn,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:Array.from(_.entries()).map(([m,p])=>{const d=l[m];return d?u.jsxs("div",{className:"bg-black/30 border border-gray-700 rounded-xl p-4 flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"font-bold text-white text-lg truncate",title:d.name,children:d.name}),u.jsx("div",{className:"text-xs text-gray-500 font-mono truncate",children:d.originalName}),u.jsxs("div",{className:"text-xs text-orange-400 mt-1 flex items-center gap-1",children:[u.jsx(oa,{size:12}),"Used in ",p.length," slots"]})]}),u.jsxs("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider",children:"Keep only:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(f=>{const w=c(f.color);return u.jsxs("button",{onClick:()=>s(m,f),className:"flex items-center gap-2 pl-1 pr-3 py-1 bg-gray-800 border border-gray-600 rounded-full hover:border-white hover:bg-gray-700 transition-all group",title:`Keep only slot ${f.color} ${f.slotId}`,children:[u.jsx("div",{className:"w-5 h-5",children:u.jsx(Hi,{color:w,className:"w-full h-full"})}),u.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-white",children:f.slotId})]},`${f.color}-${f.slotId}`)})})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider",children:"Or:"}),u.jsxs("button",{onClick:()=>o(m),className:"flex items-center justify-center gap-2 px-3 py-2 bg-synthux-blue/20 text-synthux-blue border border-synthux-blue/50 rounded-lg hover:bg-synthux-blue hover:text-white transition-all text-xs font-bold uppercase",children:[u.jsx(dp,{size:14}),"Make Each Unique"]})]})]})]},m):null})}),u.jsx("div",{className:"p-4 border-t border-gray-700 bg-[#222] flex justify-end",children:u.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-bold text-gray-300 hover:text-white",children:"Close"})})]})})},Hy=({count:_,onOverwrite:l,onFillEmpty:s,onCancel:o})=>u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"w-full max-w-md bg-[#1a1a1a] border border-orange-500/30 rounded-2xl shadow-2xl overflow-hidden flex flex-col animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"p-6 bg-gradient-to-b from-orange-500/10 to-transparent border-b border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-orange-500/20 rounded-full",children:u.jsx(oa,{className:"text-orange-500",size:24})}),u.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Assignment Conflict"})]}),u.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["The slots you are dropping into are already occupied. ",u.jsxs("span",{className:"text-white font-bold",children:[_," file",_!==1?"s":""]})," would be overwritten."]})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[u.jsxs("button",{onClick:l,className:"group flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-orange-500/10 hover:border-orange-500/30 transition-all text-left",children:[u.jsxs("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-orange-500/20 transition-colors",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white",children:u.jsx("span",{children:""})}),u.jsx("div",{className:"w-0.5 h-8 bg-white/20 my-1 self-center"}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white",children:u.jsx("span",{children:"L"})})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white font-bold text-sm mb-0.5",children:"Overwrite Existing"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Replace current files (they will be parked)."})]})]}),u.jsxs("button",{onClick:s,className:"group flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-emerald-500/10 hover:border-emerald-500/30 transition-all text-left",children:[u.jsx("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-emerald-500/20 transition-colors",children:u.jsx(yg,{className:"text-gray-400 group-hover:text-emerald-500",size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white font-bold text-sm mb-0.5",children:"Push to Free Slots"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Skip occupied slots and find next available spaces."})]})]}),u.jsxs("button",{onClick:o,className:"mt-2 w-full py-3 px-4 rounded-xl text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-white hover:bg-white/5 transition-colors flex items-center justify-center gap-2",children:[u.jsx(xn,{size:14})," Cancel"]})]})]})});class qy extends Ee.Component{state={hasError:!1,error:null};static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,s){console.error("Uncaught error:",l,s)}render(){return this.state.hasError?u.jsxs("div",{className:"p-8 bg-red-900/20 text-red-200 border border-red-800 rounded-lg m-4",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"Something went wrong."}),u.jsx("p",{className:"mb-4",children:"The application encountered an error. Please report this to the developer."}),u.jsx("pre",{className:"bg-black/50 p-4 rounded text-xs overflow-auto max-h-48 text-red-300 font-mono",children:this.state.error?.toString()}),u.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-800 hover:bg-red-700 rounded text-white font-bold",children:"Reload Application"})]}):this.props.children}}const zu=(_,l)=>l.some(s=>_ instanceof s);let np,ap;function Vy(){return np||(np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yy(){return ap||(ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ku=new WeakMap,_u=new WeakMap,is=new WeakMap;function Zy(_){const l=new Promise((s,o)=>{const g=()=>{_.removeEventListener("success",c),_.removeEventListener("error",m)},c=()=>{s(Oa(_.result)),g()},m=()=>{o(_.error),g()};_.addEventListener("success",c),_.addEventListener("error",m)});return is.set(l,_),l}function Xy(_){if(ku.has(_))return;const l=new Promise((s,o)=>{const g=()=>{_.removeEventListener("complete",c),_.removeEventListener("error",m),_.removeEventListener("abort",m)},c=()=>{s(),g()},m=()=>{o(_.error||new DOMException("AbortError","AbortError")),g()};_.addEventListener("complete",c),_.addEventListener("error",m),_.addEventListener("abort",m)});ku.set(_,l)}let Tu={get(_,l,s){if(_ instanceof IDBTransaction){if(l==="done")return ku.get(_);if(l==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Oa(_[l])},set(_,l,s){return _[l]=s,!0},has(_,l){return _ instanceof IDBTransaction&&(l==="done"||l==="store")?!0:l in _}};function kp(_){Tu=_(Tu)}function Gy(_){return Yy().includes(_)?function(...l){return _.apply(Nu(this),l),Oa(this.request)}:function(...l){return Oa(_.apply(Nu(this),l))}}function Iy(_){return typeof _=="function"?Gy(_):(_ instanceof IDBTransaction&&Xy(_),zu(_,Vy())?new Proxy(_,Tu):_)}function Oa(_){if(_ instanceof IDBRequest)return Zy(_);if(_u.has(_))return _u.get(_);const l=Iy(_);return l!==_&&(_u.set(_,l),is.set(l,_)),l}const Nu=_=>is.get(_);function Fy(_,l,{blocked:s,upgrade:o,blocking:g,terminated:c}={}){const m=indexedDB.open(_,l),p=Oa(m);return o&&m.addEventListener("upgradeneeded",d=>{o(Oa(m.result),d.oldVersion,d.newVersion,Oa(m.transaction),d)}),s&&m.addEventListener("blocked",d=>s(d.oldVersion,d.newVersion,d)),p.then(d=>{c&&d.addEventListener("close",()=>c()),g&&d.addEventListener("versionchange",f=>g(f.oldVersion,f.newVersion,f))}).catch(()=>{}),p}function Ky(_,{blocked:l}={}){const s=indexedDB.deleteDatabase(_);return l&&s.addEventListener("blocked",o=>l(o.oldVersion,o)),Oa(s).then(()=>{})}const Qy=["get","getKey","getAll","getAllKeys","count"],Wy=["put","add","delete","clear"],Eu=new Map;function ip(_,l){if(!(_ instanceof IDBDatabase&&!(l in _)&&typeof l=="string"))return;if(Eu.get(l))return Eu.get(l);const s=l.replace(/FromIndex$/,""),o=l!==s,g=Wy.includes(s);if(!(s in(o?IDBIndex:IDBObjectStore).prototype)||!(g||Qy.includes(s)))return;const c=async function(m,...p){const d=this.transaction(m,g?"readwrite":"readonly");let f=d.store;return o&&(f=f.index(p.shift())),(await Promise.all([f[s](...p),g&&d.done]))[0]};return Eu.set(l,c),c}kp(_=>({..._,get:(l,s,o)=>ip(l,s)||_.get(l,s,o),has:(l,s)=>!!ip(l,s)||_.has(l,s)}));const $y=["continue","continuePrimaryKey","advance"],lp={},Au=new WeakMap,Tp=new WeakMap,Jy={get(_,l){if(!$y.includes(l))return _[l];let s=lp[l];return s||(s=lp[l]=function(...o){Au.set(this,Tp.get(this)[l](...o))}),s}};async function*Py(..._){let l=this;if(l instanceof IDBCursor||(l=await l.openCursor(..._)),!l)return;l=l;const s=new Proxy(l,Jy);for(Tp.set(s,l),is.set(s,Nu(l));l;)yield s,l=await(Au.get(s)||l.continue()),Au.delete(s)}function rp(_,l){return l===Symbol.asyncIterator&&zu(_,[IDBIndex,IDBObjectStore,IDBCursor])||l==="iterate"&&zu(_,[IDBIndex,IDBObjectStore])}kp(_=>({..._,get(l,s,o){return rp(l,s)?Py:_.get(l,s,o)},has(l,s){return rp(l,s)||_.has(l,s)}}));const Np="spotykach-wav-builder",Pr="app-state",Ap=async()=>Fy(Np,1,{upgrade(_){_.objectStoreNames.contains(Pr)||_.createObjectStore(Pr)}}),ev=async()=>{try{await Ky(Np),window.location.reload()}catch(_){console.error("Failed to clear DB",_),alert("Failed to clear data.")}},Dp=async _=>{try{await(await Ap()).put(Pr,_,"current")}catch(l){console.error("Failed to save state to DB",l)}},Op=async()=>{try{return await(await Ap()).get(Pr,"current")||null}catch(_){return console.error("Failed to load state from DB",_),null}},tv=Object.freeze(Object.defineProperty({__proto__:null,clearState:ev,loadStateFromDB:Op,saveStateToDB:Dp},Symbol.toStringTag,{value:"Module"}));function nv(){const[_,l]=Ee.useState(ky()),[s,o]=Ee.useState("Blue"),[g,c]=Ee.useState("single"),[m,p]=Ee.useState(null),[d,f]=Ee.useState(!1),[w,C]=Ee.useState(!1),[k,b]=Ee.useState(null),[S,v]=Ee.useState(!1),[j,E]=Ee.useState(""),[T,O]=Ee.useState(!1),[U,V]=Ee.useState(!1),[I,Y]=Ee.useState(null),[te,q]=Ee.useState(!1),[F,se]=Ee.useState(!1),[A,D]=Ee.useState(null),[h,X]=Ee.useState(new Set),[B,L]=Ee.useState(null),[re,Q]=Ee.useState(null),ve=new Map,z=new Set;Object.entries(_.tapes).forEach(([fe,xe])=>{xe.slots.forEach(he=>{if(he.fileId){const pe=ve.get(he.fileId)||[];pe.push({slotId:he.id,color:fe}),ve.set(he.fileId,pe)}})});for(const[fe,xe]of ve.entries())xe.length<=1?ve.delete(fe):z.add(fe);const R=(fe,xe)=>{l(he=>{const pe={...he.tapes};return Object.keys(pe).forEach(me=>{pe[me]={...pe[me],slots:pe[me].slots.map(Se=>Se.fileId===fe?me===xe.color&&Se.id===xe.slotId?Se:{...Se,fileId:null}:Se)}}),{...he,tapes:pe}})},de=fe=>{l(xe=>{const he=xe.files[fe];if(!he)return xe;const pe={...xe.files},me={...xe.tapes},Se=ve.get(fe);if(!Se)return xe;for(let Ce=1;Ce<Se.length;Ce++){const De=Se[Ce],Me=M(),ze=he.versions.map(Be=>({...Be})),Oe={...he,id:Me,name:`${he.name}_${Ce+1}`,originalName:he.originalName,versions:ze,currentVersionId:ze[0].id,isParked:!1};pe[Me]=Oe,me[De.color]={...me[De.color],slots:me[De.color].slots.map(Be=>Be.id===De.slotId?{...Be,fileId:Me}:Be)}}return{...xe,files:pe,tapes:me}})},le=()=>{q(!0)},ce=()=>{q(!1),_e.current?.click()},Re=async()=>{v(!0),E("Zipping files...");try{await Ep(_),b({msg:"Zip created successfully!",type:"success"})}catch(fe){console.error(fe),b({msg:"Failed to create Zip.",type:"error"})}finally{v(!1)}},He=async()=>{v(!0),E("Saving project...");try{await jp(_),b({msg:"Project saved successfully!",type:"success"})}catch(fe){console.error(fe),b({msg:"Failed to save project.",type:"error"})}finally{v(!1)}},J=async()=>{O(!1),v(!0),E("Writing to SD Card...");try{await Cp(_),b({msg:"Export to SD successful!",type:"success"})}catch(fe){console.error(fe);const xe=fe instanceof Error?fe.message:"Failed to write to SD.";b({msg:xe,type:"error"})}finally{v(!1)}};Ee.useEffect(()=>{Op().then(fe=>{fe&&l(fe)})},[]),Ee.useEffect(()=>{const fe=setTimeout(()=>{Dp(_)},1e3);return()=>clearTimeout(fe)},[_]);const _e=Ee.useRef(null),qe=Ee.useRef(null),[Ge,tt]=Ee.useState(null),Je=_.tapes[s],x=m?Je.slots.find(fe=>fe.id===m):null,P=x?.fileId,ee=P?_.files[P]:null,H=ee!==null,M=()=>crypto.randomUUID(),K=async(fe,xe,he=s)=>{if(xe.length===0)return;const pe=xe[0];if(!pe.type.includes("audio")&&!pe.name.toLowerCase().endsWith(".wav")){alert("Please upload an audio file.");return}v(!0),E("Processing audio...");try{const{buffer:me,blob:Se}=await ju.loadAndProcessAudio(pe),Ce=M(),De=M(),Me={id:De,timestamp:Date.now(),description:"Original Upload",blob:Se,duration:me.duration},ze=Cu(pe.name);ze!==pe.name&&b({msg:`Renamed "${pe.name}" to "${ze}"`,type:"info"});const Oe={id:Ce,name:ze.toUpperCase().replace(/\.[^/.]+$/,""),originalName:pe.name,versions:[Me],currentVersionId:De,isParked:!1};l(Be=>({...Be,files:{...Be.files,[Ce]:Oe},tapes:{...Be.tapes,[he]:{...Be.tapes[he],slots:Be.tapes[he].slots.map(We=>We.id===fe?{...We,fileId:Ce}:We)}}}))}catch(me){console.error(me),alert("Error processing audio.")}finally{v(!1),E("")}},ye=(fe,xe,he,pe=!1,me=s,Se,Ce)=>{l(De=>{const Me={...De.files},ze={...De.tapes};he==="browser"&&(Me[xe]={...Me[xe],isParked:!1});const We=ze[me].slots.find(st=>st.id===fe)?.fileId;if(he==="slot"&&We&&Se!==void 0&&Ce&&!pe&&ze[Ce].slots.findIndex(wt=>wt.id===Se)!==-1){let wt=ze[me];wt===De.tapes[me]&&(wt={...wt,slots:[...wt.slots]},ze[me]=wt);let Ct=ze[Ce];return Ct===De.tapes[Ce]&&(Ct={...Ct,slots:[...Ct.slots]},ze[Ce]=Ct),wt.slots=wt.slots.map(yt=>yt.id===fe?{...yt,fileId:xe}:yt),Ct.slots=Ct.slots.map(yt=>yt.id===Se?{...yt,fileId:We}:yt),{files:Me,tapes:ze}}return We&&(Me[We]={...Me[We],isParked:!0}),ze[me]={...ze[me],slots:ze[me].slots.map(st=>st.id===fe?{...st,fileId:xe}:st)},!pe&&he==="slot"&&Object.keys(ze).forEach(st=>{const Bt=st,wt=ze[Bt];wt.slots.some(yt=>{const Pt=Bt===me&&yt.id===fe;return yt.fileId===xe&&!Pt})&&(ze[Bt]={...wt,slots:wt.slots.map(yt=>{const Pt=Bt===me&&yt.id===fe;return yt.fileId===xe&&!Pt?{...yt,fileId:null}:yt})})}),{files:Me,tapes:ze}})},je=fe=>{$(fe)},$=fe=>{const xe=_.files[fe];xe&&Y({title:"Unassign File",message:`Remove "${xe.name}" from all assigned slots? It will remain in the unassigned pool.`,onConfirm:()=>{const he={..._.tapes};let pe=!1;Object.keys(he).forEach(me=>{const Se=he[me];Se.slots.some(Ce=>Ce.fileId===fe)&&(he[me]={...Se,slots:Se.slots.map(Ce=>Ce.fileId===fe?{...Ce,fileId:null}:Ce)},pe=!0)}),pe&&(l(me=>({...me,files:{...me.files,[fe]:{...me.files[fe],isParked:!0}},tapes:he})),b({msg:"File unassigned from all slots",type:"success"})),Y(null)}})},Te=fe=>{const xe=fe.filter(he=>!_.files[he]?.isParked);xe.length!==0&&Y({title:"Unassign Multiple Files",message:`Remove ${xe.length} files from all assigned slots? They will remain in the unassigned pool.`,onConfirm:()=>{l(he=>{const pe={...he.tapes},me={...he.files};let Se=0;return xe.forEach(Ce=>{let De=!1;Object.keys(pe).forEach(Me=>{const ze=pe[Me];ze.slots.some(Oe=>Oe.fileId===Ce)&&(pe[Me]={...ze,slots:ze.slots.map(Oe=>Oe.fileId===Ce?{...Oe,fileId:null}:Oe)},De=!0)}),De&&(me[Ce]={...me[Ce],isParked:!0},Se++)}),b({msg:`Unassigned ${Se} files`,type:"success"}),{...he,tapes:pe,files:me}}),Y(null)}})},Ne=fe=>{const xe=_.files[fe];if(!xe)return;let he=!1;Object.values(_.tapes).forEach(me=>{me.slots.some(Se=>Se.fileId===fe)&&(he=!0)});const pe=he?"This will remove it from all assigned slots and the project.":"This will permanently remove it from the project.";Y({title:`Permanently delete "${xe.name}"?`,message:pe,isDestructive:!0,confirmLabel:"Delete Forever",onConfirm:()=>{const me={..._.tapes};let Se=!1;Object.keys(me).forEach(De=>{const Me=me[De];Me.slots.some(ze=>ze.fileId===fe)&&(me[De]={...Me,slots:Me.slots.map(ze=>ze.fileId===fe?{...ze,fileId:null}:ze)},Se=!0)});const Ce={..._.files};delete Ce[fe],l(De=>({...De,files:Ce,tapes:Se?me:De.tapes})),P===fe&&p(null),Y(null),b({msg:"File permanently deleted",type:"success"})}})},Ae=fe=>{const he=_.tapes[s].slots.find(pe=>pe.id===fe);he&&he.fileId?p(fe):(tt(fe),qe.current?.click())},Ve=(fe,xe,he,pe)=>{l(me=>{const Se={...me.files},Ce={...me.tapes},Me=Ce[fe].slots.find(Oe=>Oe.fileId===null);if(!Me)return alert(`Tape ${fe} is full!`),me;he==="browser"&&(Se[xe]={...Se[xe],isParked:!1}),!pe&&he==="slot"&&Object.keys(Ce).forEach(Oe=>{const Be=Oe;Ce[Be]={...Ce[Be],slots:Ce[Be].slots.map(We=>We.fileId===xe?{...We,fileId:null}:We)}});const ze=Ce[fe].slots.findIndex(Oe=>Oe.id===Me.id);return ze>=0&&(Ce[fe]={...Ce[fe],slots:Ce[fe].slots.map((Oe,Be)=>Be===ze?{...Oe,fileId:xe}:Oe)}),{files:Se,tapes:Ce}})},ut=(fe,xe,he)=>{l(pe=>{const me={...pe.files},Se={...pe.tapes};let Ce=null,De=null;const Me=["Blue","Green","Pink","Red","Turquoise","Yellow"];for(const ze of Me){const Be=Se[ze].slots.find(We=>We.fileId===null);if(Be){Ce=Be.id,De=ze;break}}return Ce===null||!De?(alert("All tapes are full!"),pe):(xe==="browser"&&(me[fe]={...me[fe],isParked:!1}),!he&&xe==="slot"&&Object.keys(Se).forEach(ze=>{const Oe=ze;Se[Oe]={...Se[Oe],slots:Se[Oe].slots.map(Be=>Be.fileId===fe?{...Be,fileId:null}:Be)}}),Se[De]={...Se[De],slots:Se[De].slots.map(ze=>ze.id===Ce?{...ze,fileId:fe}:ze)},{files:me,tapes:Se})})},Ke=(fe,xe,he,pe)=>{if(he==="check"){const me=_.tapes;let Se=0,Ce=null,De=-1;if(pe){const Oe=me[pe].slots.findIndex(Be=>Be.id===fe);Oe!==-1&&(Ce=pe,De=Oe)}else for(const Oe of Xt){const Be=me[Oe].slots.findIndex(We=>We.id===fe);if(Be!==-1){Ce=Oe,De=Be;break}}if(!Ce||De===-1)return{conflicts:0};let Me=Xt.indexOf(Ce),ze=De;for(const Oe of xe){let Be=!1;for(;Me<Xt.length;){const We=me[Xt[Me]];if(ze<We.slots.length){const st=We.slots[ze];st.fileId&&st.fileId!==Oe&&Se++,Be=!0,ze++;break}Me++,ze=0}if(!Be)break}return{conflicts:Se}}l(me=>{const Se={...me.files},Ce={...me.tapes};let De=null,Me=-1;if(pe){const st=Ce[pe].slots.findIndex(Bt=>Bt.id===fe);st!==-1&&(De=pe,Me=st)}else for(const st of Xt){const Bt=Ce[st].slots.findIndex(wt=>wt.id===fe);if(Bt!==-1){De=st,Me=Bt;break}}if(!De||Me===-1)return me;let ze=Xt.indexOf(De),Oe=Me;const Be=[];let We=0;for(const st of xe){let Bt=!1;for(;ze<Xt.length;){const wt=Xt[ze];let Ct=Ce[wt];for(Ct===me.tapes[wt]&&(Ct={...Ct,slots:[...Ct.slots]},Ce[wt]=Ct);Oe<Ct.slots.length;){const yt=Ct.slots[Oe],Pt=yt.fileId!==null&&yt.fileId!==st;if(he==="fill"&&Pt){Oe++;continue}yt.fileId&&yt.fileId!==st&&(Se[yt.fileId]={...Se[yt.fileId],isParked:!0}),Ct.slots[Oe]={...yt,fileId:st},Se[st]={...Se[st],isParked:!1},Bt=!0,We++,Oe++;break}if(Bt)break;ze++,Oe=0}Bt||Be.push(st)}return Be.length>0?Y({title:"Bulk Assignment Complete",message:`Assigned ${We} files. ${Be.length} files could not create space.`,confirmLabel:"OK",showCancel:!1,onConfirm:()=>Y(null)}):b({msg:`Assigned ${We} files (${he})`,type:"success"}),{...me,files:Se,tapes:Ce}})},Yt=(fe,xe,he)=>{const me=Ke(fe,xe,"check",he).conflicts;me>0?D({targetSlotId:fe,fileIds:xe,conflicts:me,targetColor:he}):Ke(fe,xe,"overwrite",he)},an=()=>{A&&(Ke(A.targetSlotId,A.fileIds,"overwrite",A.targetColor),D(null))},Et=()=>{A&&(Ke(A.targetSlotId,A.fileIds,"fill",A.targetColor),D(null))},dn=fe=>{const xe={..._.files},he={..._.tapes};let pe=0,me=0,Se=0;const Ce=Me=>{for(;pe<Xt.length;){const ze=Xt[pe];let Oe=he[ze];for(Oe===_.tapes[ze]&&(Oe={...Oe,slots:[...Oe.slots]},he[ze]=Oe);me<Oe.slots.length;){const Be=Oe.slots[me];if(Be.fileId===null)return xe[Me]={...xe[Me],isParked:!1},Oe.slots[me]={...Be,fileId:Me},me++,!0;me++}pe++,me=0}return!1},De=[];fe.forEach(Me=>{Ce(Me)?Se++:De.push(Me)}),l(Me=>({...Me,files:xe,tapes:he})),De.length>0?Y({title:"Fill Slots Complete",message:`Filled all free slots. ${De.length} file(s) could not be assigned.`,confirmLabel:"OK",showCancel:!1,onConfirm:()=>Y(null)}):b({msg:`Assigned ${Se} files to slots`,type:"success"})},ct=fe=>{l(xe=>{const he={...xe.tapes};let pe=null,me;for(const De of Xt){const Me=he[De].slots.find(ze=>ze.id===fe);if(Me){pe=De,me=Me;break}}if(!pe||!me)return xe;const Se=me.fileId;he[pe]={...he[pe],slots:he[pe].slots.map(De=>De.id===fe?{...De,fileId:null}:De)};let Ce=xe.files;if(Se){let De=!1;Object.keys(he).forEach(Me=>{he[Me].slots.some(ze=>ze.fileId===Se)&&(De=!0)}),!De&&Ce[Se]&&(Ce={...xe.files,[Se]:{...xe.files[Se],isParked:!0}})}return{...xe,files:Ce,tapes:he}})},jt=(fe,xe,he)=>{he.stopPropagation();const pe=`${xe}-${fe}`,me=new Set(h);if(he.shiftKey&&B){const Se=[];Xt.forEach(Me=>{for(let ze=0;ze<6;ze++)Se.push(`${Me}-${ze}`)});const Ce=Se.indexOf(B),De=Se.indexOf(pe);if(Ce!==-1&&De!==-1){const Me=Math.min(Ce,De),ze=Math.max(Ce,De);!he.ctrlKey&&!he.metaKey&&me.clear();for(let Oe=Me;Oe<=ze;Oe++)me.add(Se[Oe])}}else he.ctrlKey||he.metaKey?me.has(pe)?me.delete(pe):(me.add(pe),L(pe),Q(pe)):(me.clear(),me.add(pe),L(pe),Q(pe));X(me)},Ft=(fe,xe)=>{const he=`${xe}-${fe}`,pe=new Set(h);pe.has(he)?pe.delete(he):(pe.add(he),pe.add(he),L(he),Q(he)),X(pe)};Ee.useEffect(()=>{const fe=xe=>{const he=document.activeElement;if(he?.tagName==="INPUT"||he?.tagName==="TEXTAREA"||he!==document.body&&he?.getAttribute("tabindex")!==null||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(xe.key))return;xe.preventDefault();const pe=[];Xt.forEach(De=>{for(let Me=0;Me<6;Me++)pe.push(`${De}-${Me}`)});let me=0;if(B){const De=pe.indexOf(B);De!==-1&&(xe.key==="ArrowUp"?me=Math.max(0,De-6):xe.key==="ArrowDown"?me=Math.min(pe.length-1,De+6):xe.key==="ArrowLeft"?me=Math.max(0,De-1):xe.key==="ArrowRight"&&(me=Math.min(pe.length-1,De+1)))}else me=0;const Se=pe[me],Ce=new Set(h);if(xe.shiftKey){re||Q(B||Se);const De=re||B||Se,Me=pe.indexOf(De),ze=me,Oe=Math.min(Me,ze),Be=Math.max(Me,ze);!xe.ctrlKey&&!xe.metaKey&&Ce.clear();for(let We=Oe;We<=Be;We++)Ce.add(pe[We]);L(Se)}else Ce.clear(),Ce.add(Se),L(Se),Q(Se);X(Ce)};return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[h,B,re]);const pt=(fe,xe)=>{o(xe);const pe=_.tapes[xe].slots.find(me=>me.id===fe);pe&&pe.fileId?p(fe):(tt(fe),qe.current?.click())},Nt=(fe,xe,he)=>{const pe=`${he}-${xe}`,Se=_.tapes[he].slots.find(Ce=>Ce.id===xe);if(!Se||!Se.fileId){fe.preventDefault();return}if(h.has(pe)){const Ce=[];h.forEach(De=>{const[Me,ze]=De.split("-"),Oe=parseInt(ze),Be=_.tapes[Me]?.slots.find(We=>We.id===Oe);Be&&Be.fileId&&Ce.push(Be.fileId)}),Ce.length>0&&fe.dataTransfer.setData("application/x-spotykach-bulk-ids",JSON.stringify(Ce))}fe.dataTransfer.setData("application/x-spotykach-file-id",Se.fileId),fe.dataTransfer.setData("application/x-spotykach-source","slot"),fe.dataTransfer.setData("application/x-spotykach-slot-id",Se.id.toString()),fe.dataTransfer.setData("application/x-spotykach-slot-color",he),fe.dataTransfer.effectAllowed="copyMove"},Dn=async fe=>{if(fe.target.files?.length){v(!0);try{const xe=await Oy(fe.target.files,(me,Se)=>{E(`Importing file ${me} of ${Se}...`)}),he=xe.files,pe=xe.tapes;l(me=>{const Se={...me.files,...he},Ce={...me.tapes};return Object.entries(pe).forEach(([De,Me])=>{const ze=De;Me.forEach(Oe=>{Ce[ze]={...Ce[ze],slots:Ce[ze].slots.map(Be=>Be.id===Oe.slotId?{...Be,fileId:Oe.fileId}:Be)}})}),{files:Se,tapes:Ce}})}catch(xe){console.error(xe),alert("Import failed")}finally{v(!1),E(""),_e.current&&(_e.current.value="")}}},On=async(fe,xe)=>{v(!0),E(`Downloading ${xe}...`);try{const he=await fetch(fe);if(!he.ok)throw new Error("Network response was not ok");const pe=await he.blob(),{buffer:me,blob:Se}=await ju.loadAndProcessAudio(pe),Ce=M(),De=M(),Me={id:De,timestamp:Date.now(),description:"Imported Sample",blob:Se,duration:me.duration},ze=Cu(xe);ze!==xe&&b({msg:`Renamed "${xe}" to "${ze}"`,type:"info"});const Oe={id:Ce,name:ze.toUpperCase().replace(/\.[^/.]+$/,""),originalName:xe,versions:[Me],currentVersionId:De,isParked:!0};l(Be=>({...Be,files:{...Be.files,[Ce]:Oe}})),b({msg:`Imported ${xe}`,type:"success"})}catch(he){console.error(he),b({msg:"Error importing sample",type:"error"})}finally{v(!1),E("")}};return u.jsxs("div",{className:"flex h-screen bg-synthux-main text-white font-sans overflow-hidden",children:[u.jsx(ny,{currentTape:s,isAllView:g==="all",onSelect:fe=>{o(fe),c("single")},onToggleAllView:()=>c("all"),onDropOnTape:Ve,onDropOnViewAll:ut}),u.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[u.jsxs("header",{className:"h-16 border-b border-gray-800 flex items-center justify-between px-6 bg-synthux-panel",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:iy,alt:"Spotykach Logo",className:"h-10 w-auto object-contain"}),u.jsx("span",{className:"text-[2rem] font-bold tracking-tight bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent hidden md:block font-header leading-none pt-2",children:"Spotykach .WAV builder"})]}),u.jsx("input",{type:"file",multiple:!0,webkitdirectory:"",ref:_e,onChange:Dn,className:"hidden"}),u.jsx("input",{type:"file",ref:qe,onChange:fe=>{fe.target.files&&Ge!==null&&K(Ge,fe.target.files,s),tt(null),qe.current&&(qe.current.value="")},className:"hidden"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>f(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors border border-transparent hover:border-gray-600",title:"Information",children:u.jsx(pp,{size:20})}),u.jsx("div",{className:"h-6 w-px bg-gray-700 my-auto"}),u.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-colors text-sm font-bold border border-gray-700",title:"Import SK folder or project folder",children:[u.jsx(Wg,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"Import"})]}),u.jsx("div",{className:"h-6 w-px bg-gray-700 my-auto"}),u.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-colors text-sm font-bold border border-gray-700",title:"Save Project (JSON)",children:[u.jsx(Eg,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"Project"})]}),u.jsxs("button",{onClick:Re,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-colors text-sm font-bold border border-gray-700",title:"Save SK Zip",children:[u.jsx(Bi,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"SK Zip"})]}),u.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-4 py-2 bg-synthux-blue hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-bold shadow-lg shadow-blue-900/20",title:"Save to SD Card",children:[u.jsx(Vh,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"To SD"})]})]})]}),u.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[u.jsx(jy,{files:Object.values(_.files),tapes:_.tapes,onParkRequest:je,onOpenSampleBrowser:()=>C(!0),duplicates:z,onOpenDuplicateModal:()=>se(!0),onUnassignFile:$,onBulkUnassign:Te,onDeleteFile:Ne,onFillFreeSlots:dn}),u.jsxs("main",{className:"flex-1 overflow-y-auto p-4 flex flex-col items-center relative",children:[u.jsx("div",{className:"absolute right-0 bottom-0 pointer-events-none z-0 overflow-hidden w-full h-full",style:{zIndex:0},children:u.jsx("div",{className:"absolute right-0 bottom-0 animate-slow-spin opacity-15",style:{width:"120%",aspectRatio:"1/1",transform:"translate(50%, 50%)",maskImage:`url(${Gh})`,maskSize:"contain",maskPosition:"center",maskRepeat:"no-repeat",WebkitMaskImage:`url(${Gh})`,WebkitMaskSize:"contain",WebkitMaskPosition:"center",WebkitMaskRepeat:"no-repeat",backgroundColor:g==="all"?"#ffffff":`var(--color-synthux-${s==="Red"?"red":s==="Blue"?"blue":s==="Green"?"green":s==="Pink"?"pink":s==="Yellow"?"yellow":s==="Turquoise"?"turquoise":"blue"})`,opacity:g==="all"?.05:void 0}})}),u.jsx("div",{className:"w-full max-w-5xl py-8 relative z-10",children:g==="single"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6 w-full",children:[u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(Hi,{color:`var(--color-synthux-${s.toLowerCase()})`,size:40})}),u.jsx("div",{className:"flex-1",children:u.jsxs("h2",{style:{color:`var(--color-synthux-${s.toLowerCase()})`},className:"text-4xl font-bold font-header tracking-tight uppercase drop-shadow-md shrink-0 flex items-center gap-3",children:["Tape ",s,u.jsx("button",{onClick:()=>zp(s,Je,_.files),className:"p-1.5 rounded-full bg-gray-800 hover:bg-white/10 text-gray-400 hover:text-white transition-colors border border-gray-700 hover:border-gray-500",title:`Download ${s} Tape (Zip)`,children:u.jsx(Bi,{size:16})})]})}),z.size>0&&u.jsxs("div",{className:"flex items-center gap-4 bg-[#1a1a1a]/80 border border-orange-500/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-1 bg-orange-500/10 rounded-full",children:u.jsx(oa,{className:"text-orange-900",size:14})}),u.jsxs("span",{className:"text-xs font-medium text-gray-400",children:[z.size," file",z.size!==1?"s":""," assigned to multiple slots."]})]}),u.jsx("button",{onClick:()=>se(!0),className:"text-[10px] font-bold uppercase text-orange-600 hover:text-orange-400 hover:bg-orange-500/10 px-2 py-1 rounded transition-all",children:"Resolve"})]})]}),u.jsx(uy,{slots:Je.slots,files:_.files,tapeColor:s,activeSlotId:m,onSlotClick:Ae,onSlotDrop:(fe,xe)=>K(fe,xe,s),onSlotDropInternal:(fe,xe,he,pe,me,Se)=>{ye(fe,xe,he,pe,s,me,Se)},onRemoveSlot:ct,duplicates:z,onDeleteFile:Ne,onBulkAssign:Yt,selectedSlots:h,onSlotSelectionClick:(fe,xe,he)=>jt(xe,fe,he),onToggleSlotSelection:(fe,xe)=>Ft(xe,fe),onSlotDragStart:Nt})]}):u.jsxs("div",{className:"bg-black/40 rounded-3xl p-4 border border-white/5 backdrop-blur-md",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6 px-4",children:[u.jsx("h2",{className:"text-4xl font-bold font-header tracking-tight uppercase text-white drop-shadow-md",children:"All Tapes"}),z.size>0&&u.jsxs("div",{className:"flex items-center gap-4 bg-[#1a1a1a]/80 border border-orange-500/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-1 bg-orange-500/10 rounded-full",children:u.jsx(oa,{className:"text-orange-900",size:14})}),u.jsxs("span",{className:"text-xs font-medium text-gray-400",children:[z.size," Conflict",z.size!==1?"s":""]})]}),u.jsx("button",{onClick:()=>se(!0),className:"text-[10px] font-bold uppercase text-orange-600 hover:text-orange-400 hover:bg-orange-500/10 px-2 py-1 rounded transition-all",children:"Resolve"})]})]}),u.jsx(dy,{tapes:_.tapes,files:_.files,onRemoveSlot:fe=>ct(fe),onSlotDrop:K,onSlotDropInternal:ye,onSlotClick:pt,onTapeHeaderClick:fe=>{o(fe),c("single")},duplicates:ve,onDeleteFile:Ne,onBulkAssign:Yt,selectedSlots:h,onSlotSelectionClick:jt,onToggleSlotSelection:(fe,xe)=>Ft(fe,xe),onSlotDragStart:Nt})]})})]})]}),H&&ee&&u.jsx(qy,{children:(()=>{const xe=ee.versions.find(he=>he.id===ee.currentVersionId)?.blob;return!xe||!(xe instanceof Blob)?u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg text-center max-w-sm border border-red-900",children:[u.jsx("h3",{className:"text-red-500 font-bold mb-2",children:"Audio Data Missing"}),u.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:['The audio file for "',ee.name,'" could not be loaded. This usually happens if the data cache was cleared or corrupted.']}),u.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"Close"})]})}):u.jsx(Ey,{slot:{...x,name:ee.name,blob:xe},versions:ee.versions,activeVersionId:ee.currentVersionId,tapeColor:s,isDuplicate:z.has(ee.id),onClose:()=>p(null),onSaveUnique:(he,pe,me)=>{if(!P||!m)return;const Se=M(),Ce=M(),De={id:Ce,timestamp:Date.now(),description:"Unique Version from "+ee.name,blob:he,duration:pe,processing:me},Me={id:Se,name:ee.name+" (Unique)",originalName:ee.originalName,versions:[De],currentVersionId:Ce,isParked:!1};l(ze=>{const Oe={...ze.files,[Se]:Me},Be={...ze.tapes},We=Be[s];return We&&(Be[s]={...We,slots:We.slots.map(st=>st.id===m?{...st,fileId:Se}:st)}),{...ze,files:Oe,tapes:Be}}),p(null)},onSave:(he,pe,me,Se,Ce)=>{if(!P||!Se)return;const De=P,Me=M(),ze={id:Me,timestamp:Date.now(),description:me||"Edited",blob:he,duration:pe,processing:Ce};l(Oe=>({...Oe,files:{...Oe.files,[De]:{...Oe.files[De],versions:[ze,...Oe.files[De].versions],currentVersionId:Me}}}))},onSaveAsCopy:(he,pe)=>{const me=M(),Se=M(),Ce={id:Se,timestamp:Date.now(),description:"Copy from "+ee.name,blob:he,duration:pe},De={id:me,name:ee.name+"_COPY",originalName:ee.originalName,versions:[Ce],currentVersionId:Se,isParked:!0},Me=M(),ze={id:Me,timestamp:Date.now(),description:"Saved to Pool",blob:he,duration:pe};l(Oe=>({...Oe,files:{...Oe.files,[me]:De,[P]:{...Oe.files[P],versions:[ze,...Oe.files[P].versions],currentVersionId:Me}}}))},onDeleteVersion:he=>{P&&l(pe=>{const me=pe.files[P];if(!me||me.versions.length<=1)return pe;const Se=me.versions.filter(De=>De.id!==he);let Ce=me.currentVersionId;return me.currentVersionId===he&&(Ce=Se[0].id),{...pe,files:{...pe.files,[P]:{...me,versions:Se,currentVersionId:Ce}}}})},onAssignVersion:he=>{P&&(l(pe=>({...pe,files:{...pe.files,[P]:{...pe.files[P],currentVersionId:he}}})),b({msg:"Version Assigned to Slot ",type:"success"}))},onMoveVersionToPool:he=>{if(!P)return;const pe=_.files[P],me=pe.versions.find(ze=>ze.id===he);if(!me)return;const Se=M(),Ce=M(),De={...me,id:Ce,timestamp:Date.now(),description:`Extracted from ${pe.name}`},Me={id:Se,name:`${pe.name}_v${new Date(me.timestamp).getTime().toString().slice(-4)}`,originalName:pe.originalName,versions:[De],currentVersionId:Ce,isParked:!0};if(pe.versions.length<=1){b({msg:"Cannot move the only version. Use 'Save Copy' instead.",type:"error"});return}l(ze=>{const Oe=ze.files[P],Be=Oe.versions.filter(st=>st.id!==he);let We=Oe.currentVersionId;return Oe.currentVersionId===he&&(We=Be[0].id),{...ze,files:{...ze.files,[Se]:Me,[P]:{...Oe,versions:Be,currentVersionId:We}}}}),b({msg:"Version moved to Unassigned Pool",type:"success"})}})})()}),S&&u.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),u.jsx("div",{className:"text-white font-medium",children:j})]})}),A&&u.jsx(Hy,{count:A.conflicts,onOverwrite:an,onFillEmpty:Et,onCancel:()=>D(null)}),F&&u.jsx(Ly,{duplicates:ve,files:_.files,onClose:()=>se(!1),onKeep:R,onMakeUnique:de}),d&&u.jsx(Ry,{onClose:()=>f(!1)}),u.jsx(By,{isOpen:w,onClose:()=>C(!1),onImport:On}),u.jsx(ei,{isOpen:U,onClose:()=>V(!1),onConfirm:He,title:"Save Project Backup",confirmLabel:"Download Backup",message:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{children:["This will download a ",u.jsx("code",{children:".zip"})," file containing your entire project state (JSON) and all source audio files."]}),u.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 p-4 rounded-lg text-sm text-gray-300",children:[u.jsx("strong",{className:"text-blue-400 block mb-1",children:"Why save?"}),"Browser storage is temporary. If you clear your cache or change computers, your work will be lost unless you save this backup file."]})]})}),u.jsx(ei,{isOpen:te,onClose:()=>q(!1),onConfirm:ce,title:"Import Project or Folder",confirmLabel:"Select File/Folder",message:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{children:["You can import a previously saved ",u.jsx("code",{children:"spotykach_project.zip"})," to restore your session, or any folder containing audio files."]}),u.jsxs("div",{className:"bg-synthux-blue/10 border border-synthux-blue/30 p-4 rounded-lg text-sm text-gray-300",children:[u.jsxs("strong",{className:"text-synthux-blue block mb-1 flex items-center gap-2",children:[u.jsx(Vh,{size:14})," Edit Existing SD Card"]}),u.jsxs("p",{className:"mb-2",children:["You can select an existing ",u.jsx("strong",{children:"Spotykach SD Card folder"})," (e.g. the ",u.jsx("code",{children:"SK"})," folder) to load your tapes, tweak them, and rearrange slots."]}),u.jsx("p",{className:"text-xs text-gray-400 italic",children:'Note: Changes are NOT saved automatically back to the folder. You must use "Export to SD" when you are finished.'})]})]})}),u.jsx(ei,{isOpen:T,onClose:()=>O(!1),onConfirm:J,title:"Export to SD Card",confirmLabel:"Select Folder & Write",message:u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{children:"You are about to write files directly to a folder on your computer (or SD card)."}),u.jsxs("div",{className:"bg-synthux-yellow/10 border border-synthux-yellow/30 p-4 rounded-lg text-sm text-gray-300",children:[u.jsx("strong",{className:"text-synthux-yellow block mb-1",children:"Important:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsxs("li",{children:["Please select the ",u.jsx("strong",{children:"Root Directory"})," of your SD Card."]}),u.jsxs("li",{children:["Existing files in ",u.jsx("code",{children:"SK/BLUE"}),", ",u.jsx("code",{children:"SK/RED"})," etc. will be ",u.jsx("strong",{children:"overwritten"}),"."]}),u.jsx("li",{children:"The browser will ask for permission to view/edit files."})]})]})]})}),I&&u.jsx(ei,{isOpen:!0,onClose:()=>Y(null),onConfirm:I.onConfirm,title:I.title,message:I.message,isDestructive:I.isDestructive,confirmLabel:I.confirmLabel,showCancel:I.showCancel}),k&&u.jsx(Uy,{message:k.msg,type:k.type,onClose:()=>b(null)})]})]})}var Nl={exports:{}};var av=Nl.exports,sp;function iv(){return sp||(sp=1,(function(_,l){(function(s,o){o(l)})(av,function(s){var o="dnd-poly-",g=["none","copy","copyLink","copyMove","link","linkMove","move","all"],c=["none","copy","move","link"];function m(){var D=!1;try{var h=Object.defineProperty({},"passive",{get:function(){D=!0}});window.addEventListener("test",null,h)}catch{}return D}var p=m();function d(D){return D&&D.tagName}function f(D,h,X){document.addEventListener(D,h,!!p&&{passive:X})}function w(D,h){document.removeEventListener(D,h)}function C(D,h,X,B){B===void 0&&(B=!1);var L=p?{passive:!0,capture:B}:B;return D.addEventListener(h,X,L),{off:function(){D.removeEventListener(h,X,L)}}}function k(D){return D.length===0?0:D.reduce(function(h,X){return X+h},0)/D.length}function b(D,h){for(var X=0;X<D.changedTouches.length;X++)if(D.changedTouches[X].identifier===h)return!0;return!1}function S(D,h,X){for(var B=[],L=[],re=0;re<h.touches.length;re++){var Q=h.touches[re];B.push(Q[D+"X"]),L.push(Q[D+"Y"])}X.x=k(B),X.y=k(L)}var v=["","-webkit-"];function j(D,Q,X,B,L){var re=Q.x,Q=Q.y;B&&(re+=B.x,Q+=B.y),(L=L===void 0||L)&&(re-=parseInt(D.offsetWidth,10)/2,Q-=parseInt(D.offsetHeight,10)/2);for(var ve="translate3d("+re+"px,"+Q+"px, 0)",z=0;z<v.length;z++){var R=v[z]+"transform";D.style[R]=ve+" "+X[z]}}var E=(Object.defineProperty(T.prototype,"dropEffect",{get:function(){return this.t},set:function(D){this.i.mode!==0&&-1<g.indexOf(D)&&(this.t=D)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(D){this.i.mode===2&&-1<g.indexOf(D)&&(this.i.effectAllowed=D)},enumerable:!1,configurable:!0}),T.prototype.setData=function(D,h){if(this.i.mode===2){if(-1<D.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[D]=h,this.i.types.indexOf(D)===-1&&this.i.types.push(D)}},T.prototype.getData=function(D){if(this.i.mode===1||this.i.mode===2)return this.i.data[D]||""},T.prototype.clearData=function(D){this.i.mode===2&&(D&&this.i.data[D]?(delete this.i.data[D],-1<(D=this.i.types.indexOf(D))&&this.i.types.splice(D,1)):(this.i.data={},this.i.types=[]))},T.prototype.setDragImage=function(D,h,X){this.i.mode===2&&this.h(D,h,X)},T);function T(D,h){this.i=D,this.h=h,this.t=c[0]}function O(D,h){return D?D===g[0]?c[0]:D.indexOf(g[1])===0||D===g[7]?c[1]:D.indexOf(g[4])===0?c[3]:D===g[6]?c[2]:c[1]:h.nodeType===3&&h.tagName==="A"?c[3]:c[1]}function U(D,h,X,B,L,re,Q){return Q===void 0&&(Q=null),L=(function(ve,z,R,J,le,ce,Re){Q===void 0&&(Re=null);var He=X.changedTouches[0],J=new Event(D,{bubbles:!0,cancelable:J});return J.dataTransfer=ce,J.relatedTarget=Re,J.screenX=He.screenX,J.screenY=He.screenY,J.clientX=He.clientX,J.clientY=He.clientY,J.pageX=He.pageX,J.pageY=He.pageY,ve=ve.getBoundingClientRect(),J.offsetX=J.clientX-ve.left,J.offsetY=J.clientY-ve.top,J})(h,0,0,re=re===void 0||re,document.defaultView,L,Q),L=!h.dispatchEvent(L),B.mode=0,L}function V(D,h){if(!D||D===g[7])return h;if(h===c[1]){if(D.indexOf(c[1])===0)return c[1]}else if(h===c[3]){if(D.indexOf(c[3])===0||-1<D.indexOf("Link"))return c[3]}else if(h===c[2]&&(D.indexOf(c[2])===0||-1<D.indexOf("Move")))return c[2];return c[0]}var I=(Y.prototype.o=function(){var D=this;this.u=1,this.l=c[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var h=this.m;if(this.I=new E(this.v,function(re,Q,ve){h=re,typeof Q!="number"&&typeof ve!="number"||(D.j={x:Q||0,y:ve||0})}),this.v.mode=2,this.I.dropEffect=c[0],U("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;S("page",this.k,this.g);var X,B,L=this.S.dragImageSetup(h);return this.A=(X=L,v.map(function(re){return re=X.style[re+"transform"],re&&re!=="none"?re.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),L.style.position="absolute",L.style.left="0px",L.style.top="0px",L.style.zIndex="999999",L.classList.add("dnd-poly-drag-image"),L.classList.add("dnd-poly-icon"),this.O=L,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(B=getComputedStyle(h),this.j={x:0-parseInt(B.marginLeft,10),y:0-parseInt(B.marginTop,10)}):(L=h.getBoundingClientRect(),B=getComputedStyle(h),this.j={x:L.left-this.M.clientX-parseInt(B.marginLeft,10)+L.width/2,y:L.top-this.M.clientY-parseInt(B.marginTop,10)+L.height/2})),j(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){D.F||(D.F=!0,D.N(),D.F=!1)},this.S.iterationInterval),!0},Y.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),w("touchmove",this.P),w("touchend",this.T),w("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},Y.prototype._=function(D){var h=this;if(b(D,this.M.identifier)!==!1){if(this.k=D,this.u===0){var X=void 0;if(this.S.dragStartConditionOverride)try{X=this.S.dragStartConditionOverride(D)}catch{X=!1}else X=D.touches.length===1;return X?void(this.o()===!0&&(this.H.preventDefault(),D.preventDefault())):void this.C()}if(D.preventDefault(),S("client",D,this.p),S("page",D,this.g),this.S.dragImageTranslateOverride)try{var B=!1;if(this.S.dragImageTranslateOverride(D,{x:this.p.x,y:this.p.y},this.V,function(L,re){h.O&&(B=!0,h.p.x+=L,h.p.y+=re,h.g.x+=L,h.g.y+=re,j(h.O,h.g,h.A,h.j,h.S.dragImageCenterOnTouch))}),B)return}catch{}j(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},Y.prototype.X=function(D){if(b(D,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(D.preventDefault(),this.u=D.type==="touchcancel"?3:2):this.C()}},Y.prototype.N=function(){var D=this,h=this.l;this.v.mode=3,this.I.dropEffect=c[0];var X,B,L,re,Q,ve=U("drag",this.m,this.k,this.v,this.I);if(ve&&(this.l=c[0]),ve||this.u===2||this.u===3)return this.Y(this.u)?(re=this.m,X=this.O,B=this.A,R=function(){D.q()},void((Q=getComputedStyle(re)).visibility!=="hidden"&&Q.display!=="none"?(X.classList.add("dnd-poly-snapback"),L=getComputedStyle(X),ve=parseFloat(L.transitionDuration),isNaN(ve)||ve===0?R():((re={x:(z=re.getBoundingClientRect()).left,y:z.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,re.y+=document.body.scrollTop||document.documentElement.scrollTop,re.x-=parseInt(Q.marginLeft,10),re.y-=parseInt(Q.marginTop,10),z=parseFloat(L.transitionDelay),z=Math.round(1e3*(ve+z)),j(X,re,B,void 0,!1),setTimeout(R,z))):R())):void this.q();var z=this.S.elementFromPoint(this.p.x,this.p.y),R=this.B;z!==this.V&&z!==this.B&&(this.V=z,this.B!==null&&(this.v.mode=3,this.I.dropEffect=c[0],U("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=O(this.v.effectAllowed,this.m),U("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=V(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),R!==this.B&&d(R)&&(this.v.mode=3,this.I.dropEffect=c[0],U("dragleave",R,this.k,this.v,this.I,!1,this.B)),d(this.B)&&(this.v.mode=3,this.I.dropEffect=O(this.v.effectAllowed,this.m),U("dragover",this.B,this.k,this.v,this.I)===!1?this.l=c[0]:this.l=V(this.I.effectAllowed,this.I.dropEffect)),h!==this.l&&this.O.classList.remove(o+h),h=o+this.l,this.O.classList.add(h)},Y.prototype.Y=function(D){return D=this.l===c[0]||this.B===null||D===3,D?d(this.B)&&(this.v.mode=3,this.I.dropEffect=c[0],U("dragleave",this.B,this.k,this.v,this.I,!1)):d(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,U("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=c[0]),D},Y.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,U("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},Y);function Y(D,h,X,B){this.H=D,this.S=h,this.m=X,this.L=B,this.u=0,this.V=null,this.B=null,this.k=D,this.M=D.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),f("touchmove",this.P,!1),f("touchend",this.T,!1),f("touchcancel",this.T,!1)}var te,q={iterationInterval:150,tryFindDraggableTarget:function(D){for(var h=0,X=D.composedPath();h<X.length;h++){var B=X[h];do if(B.draggable!==!1&&(B.draggable===!0||B.getAttribute&&B.getAttribute("draggable")==="true"))return B;while((B=B.parentNode)&&B!==document.body)}},dragImageSetup:function(D){var h=D.cloneNode(!0);return(function X(B,L){if(B.nodeType===1){for(var re,Q,ve=getComputedStyle(B),z=0;z<ve.length;z++){var R=ve[z];L.style.setProperty(R,ve.getPropertyValue(R),ve.getPropertyPriority(R))}L.style.pointerEvents="none",L.removeAttribute("id"),L.removeAttribute("class"),L.removeAttribute("draggable"),L.nodeName==="CANVAS"&&(re=L,Q=(Q=B).getContext("2d").getImageData(0,0,Q.width,Q.height),re.getContext("2d").putImageData(Q,0,0))}if(B.hasChildNodes())for(z=0;z<B.childNodes.length;z++)X(B.childNodes[z],L.childNodes[z]);(function de(le){if(le instanceof HTMLElement&&(le.style.pointerEvents="none"),le.children&&le.children.length)for(var ce=0;ce<le.children.length;ce++)de(le.children[ce]);if(le.shadowRoot&&le.shadowRoot.children.length)for(ce=0;ce<le.shadowRoot.children.length;ce++)de(le.shadowRoot.children[ce])})(L)})(D,h),h},elementFromPoint:function(D,h){var X=document.elementFromPoint(D,h);if(X){for(;X.shadowRoot;){var B=X.shadowRoot.elementFromPoint(D,h);if(B===null||B===X)break;X=B}return X}}};function F(D){if(!te){var h=q.tryFindDraggableTarget(D);if(h)try{te=new I(D,q,h,A)}catch(X){throw A(q,D,3),X}}}function se(D){function h(z){L.off(),re.off(),Q.off(),ve.off(),X&&X.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(B)}var X=D.target;X&&X.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var B=window.setTimeout(function(){L.off(),re.off(),Q.off(),ve.off(),F(D)},q.holdToDrag),L=C(X,"touchend",h),re=C(X,"touchcancel",h),Q=C(X,"touchmove",h),ve=C(window,"scroll",h,!0)}function A(D,h,X){if(X===0&&D.defaultActionOverride)try{D.defaultActionOverride(h),h.defaultPrevented}catch{}te=null}s.polyfill=function(D){if(D&&Object.keys(D).forEach(function(X){q[X]=D[X]}),!q.forceApply&&(h=(h=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||h&&"ontouchstart"in document.documentElement)}),h.userAgentSupportingNativeDnD&&h.draggable&&h.dragEvents))return!1;var h;return q.holdToDrag?f("touchstart",se,!1):f("touchstart",F,!1),!0},s.supportsPassiveEventListener=m,Object.defineProperty(s,"G",{value:!0})})})(Nl,Nl.exports)),Nl.exports}var lv=iv(),Al={exports:{}},rv=Al.exports,op;function sv(){return op||(op=1,(function(_,l){(function(s,o){o(l)})(rv,(function(s){function o(q){return q===document.body||q===document.documentElement}function g(q,F){var se;if(o(q))se=F===0?q.clientLeft:q.clientTop;else{var A=q.getBoundingClientRect();se=F===0?A.left:A.top}return se}function c(q,F){var se;return o(q)?se=F===0?window.innerWidth:window.innerHeight:se=F===0?q.clientWidth:q.clientHeight,se}function m(q,F,se){var A=F===0?"scrollLeft":"scrollTop",D=o(q);if(arguments.length===2)return D?document.body[A]||document.documentElement[A]:q[A];D?(document.documentElement[A]+=se,document.body[A]+=se):q[A]+=se}function p(q){var F=getComputedStyle(q);return q.scrollHeight>q.clientHeight&&(F.overflowY==="scroll"||F.overflowY==="auto")||q.scrollWidth>q.clientWidth&&(F.overflowX==="scroll"||F.overflowX==="auto")}function d(q){do{if(!q)return;if(p(q))return q;if(q===document.documentElement)return null}while(q=q.parentNode);return null}function f(q,F,se){return q<se?-1:F-q<se?1:0}function w(q,F,se,A){return q===-1?Math.abs(F-A):q===1?Math.abs(se-F-A):0}function C(q,F,se){var A=q===0?se.scrollX:se.scrollY;if(F===1){var D=q===0?se.scrollWidth-se.width:se.scrollHeight-se.height;return A>=D}else if(F===-1)return A<=0;return!0}var k={threshold:75,velocityFn:function(q,F){var se=q/F,A=se*se*se;return A*F}},b={horizontal:0,vertical:0},S={x:0,y:0},v,j,E,T,O;function U(q,F,se,A){j=F,O=A,E!==se&&(E=se,T=d(E));var D=Y(j,T,k.threshold,b,S);D?V():v&&(window.cancelAnimationFrame(v),v=null)}function V(){v||(v=window.requestAnimationFrame(I))}function I(){var q=0,F=0,se=o(T);b.horizontal!==0&&(q=Math.round(k.velocityFn(S.x,k.threshold)*b.horizontal),m(T,0,q)),b.vertical!==0&&(F=Math.round(k.velocityFn(S.y,k.threshold)*b.vertical),m(T,1,F)),se?O(q,F):O(0,0),v=null,Y(j,T,k.threshold,b,S)&&V()}function Y(q,F,se,A,D){if(!q||!F)return!1;var h={x:g(F,0),y:g(F,1),width:c(F,0),height:c(F,1),scrollX:m(F,0),scrollY:m(F,1),scrollWidth:F.scrollWidth,scrollHeight:F.scrollHeight},X={x:q.x-h.x,y:q.y-h.y};return A.horizontal=f(X.x,h.width,se),A.vertical=f(X.y,h.height,se),A.horizontal&&C(0,A.horizontal,h)?A.horizontal=0:A.horizontal&&(D.x=w(A.horizontal,X.x,h.width,se)),A.vertical&&C(1,A.vertical,h)?A.vertical=0:A.vertical&&(D.y=w(A.vertical,X.y,h.height,se)),!!(A.horizontal||A.vertical)}var te=U;s.scrollBehaviourDragImageTranslateOverride=te,Object.defineProperty(s,"__esModule",{value:!0})}))})(Al,Al.exports)),Al.exports}var ov=sv();lv.polyfill({dragImageTranslateOverride:ov.scrollBehaviourDragImageTranslateOverride});window.addEventListener("touchmove",function(){},{passive:!1});J0.createRoot(document.getElementById("root")).render(u.jsx(Ee.StrictMode,{children:u.jsx(sy,{children:u.jsx(nv,{})})}));
