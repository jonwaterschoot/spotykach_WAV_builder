(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))o(g);new MutationObserver(g=>{for(const c of g)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(g){const c={};return g.integrity&&(c.integrity=g.integrity),g.referrerPolicy&&(c.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?c.credentials="include":g.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(g){if(g.ep)return;g.ep=!0;const c=s(g);fetch(g.href,c)}})();var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function up(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var hu={exports:{}},zl={};var Ch;function G0(){if(Ch)return zl;Ch=1;var E=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function s(o,g,c){var m=null;if(c!==void 0&&(m=""+c),g.key!==void 0&&(m=""+g.key),"key"in g){c={};for(var p in g)p!=="key"&&(c[p]=g[p])}else c=g;return g=c.ref,{$$typeof:E,type:o,key:m,ref:g!==void 0?g:null,props:c}}return zl.Fragment=l,zl.jsx=s,zl.jsxs=s,zl}var zh;function X0(){return zh||(zh=1,hu.exports=G0()),hu.exports}var u=X0(),pu={exports:{}},We={};var kh;function I0(){if(kh)return We;kh=1;var E=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=k&&z[k]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function _(z,R,de){this.props=z,this.context=R,this.refs=j,this.updater=de||S}_.prototype.isReactComponent={},_.prototype.setState=function(z,R){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,R,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=_.prototype;function D(z,R,de){this.props=z,this.context=R,this.refs=j,this.updater=de||S}var B=D.prototype=new T;B.constructor=D,v(B,_.prototype),B.isPureReactComponent=!0;var q=Array.isArray;function I(){}var Z={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function V(z,R,de){var re=de.ref;return{$$typeof:E,type:z,key:R,ref:re!==void 0?re:null,props:de}}function F(z,R){return V(z.type,R,z.props)}function Q(z){return typeof z=="object"&&z!==null&&z.$$typeof===E}function A(z){var R={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return R[de]})}var O=/\/+/g;function h(z,R){return typeof z=="object"&&z!==null&&z.key!=null?A(""+z.key):R.toString(36)}function U(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(I,I):(z.status="pending",z.then(function(R){z.status==="pending"&&(z.status="fulfilled",z.value=R)},function(R){z.status==="pending"&&(z.status="rejected",z.reason=R)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,R,de,re,ce){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var He=!1;if(z===null)He=!0;else switch(Re){case"bigint":case"string":case"number":He=!0;break;case"object":switch(z.$$typeof){case E:case l:He=!0;break;case w:return He=z._init,Y(He(z._payload),R,de,re,ce)}}if(He)return ce=ce(z),He=re===""?"."+h(z,0):re,q(ce)?(de="",He!=null&&(de=He.replace(O,"$&/")+"/"),Y(ce,R,de,"",function(qe){return qe})):ce!=null&&(Q(ce)&&(ce=F(ce,de+(ce.key==null||z&&z.key===ce.key?"":(""+ce.key).replace(O,"$&/")+"/")+He)),R.push(ce)),1;He=0;var P=re===""?".":re+":";if(q(z))for(var _e=0;_e<z.length;_e++)re=z[_e],Re=P+h(re,_e),He+=Y(re,R,de,Re,ce);else if(_e=b(z),typeof _e=="function")for(z=_e.call(z),_e=0;!(re=z.next()).done;)re=re.value,Re=P+h(re,_e++),He+=Y(re,R,de,Re,ce);else if(Re==="object"){if(typeof z.then=="function")return Y(U(z),R,de,re,ce);throw R=String(z),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return He}function H(z,R,de){if(z==null)return z;var re=[],ce=0;return Y(z,re,"","",function(Re){return R.call(de,Re,ce++)}),re}function se(z){if(z._status===-1){var R=z._result;R=R(),R.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=R)}if(z._status===1)return z._result.default;throw z._result}var W=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ye={map:H,forEach:function(z,R,de){H(z,function(){R.apply(this,arguments)},de)},count:function(z){var R=0;return H(z,function(){R++}),R},toArray:function(z){return H(z,function(R){return R})||[]},only:function(z){if(!Q(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return We.Activity=C,We.Children=ye,We.Component=_,We.Fragment=s,We.Profiler=g,We.PureComponent=D,We.StrictMode=o,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,We.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Z.H.useMemoCache(z)}},We.cache=function(z){return function(){return z.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(z,R,de){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var re=v({},z.props),ce=z.key;if(R!=null)for(Re in R.key!==void 0&&(ce=""+R.key),R)!ne.call(R,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&R.ref===void 0||(re[Re]=R[Re]);var Re=arguments.length-2;if(Re===1)re.children=de;else if(1<Re){for(var He=Array(Re),P=0;P<Re;P++)He[P]=arguments[P+2];re.children=He}return V(z.type,ce,re)},We.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},We.createElement=function(z,R,de){var re,ce={},Re=null;if(R!=null)for(re in R.key!==void 0&&(Re=""+R.key),R)ne.call(R,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ce[re]=R[re]);var He=arguments.length-2;if(He===1)ce.children=de;else if(1<He){for(var P=Array(He),_e=0;_e<He;_e++)P[_e]=arguments[_e+2];ce.children=P}if(z&&z.defaultProps)for(re in He=z.defaultProps,He)ce[re]===void 0&&(ce[re]=He[re]);return V(z,Re,ce)},We.createRef=function(){return{current:null}},We.forwardRef=function(z){return{$$typeof:p,render:z}},We.isValidElement=Q,We.lazy=function(z){return{$$typeof:w,_payload:{_status:-1,_result:z},_init:se}},We.memo=function(z,R){return{$$typeof:f,type:z,compare:R===void 0?null:R}},We.startTransition=function(z){var R=Z.T,de={};Z.T=de;try{var re=z(),ce=Z.S;ce!==null&&ce(de,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(I,W)}catch(Re){W(Re)}finally{R!==null&&de.types!==null&&(R.types=de.types),Z.T=R}},We.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},We.use=function(z){return Z.H.use(z)},We.useActionState=function(z,R,de){return Z.H.useActionState(z,R,de)},We.useCallback=function(z,R){return Z.H.useCallback(z,R)},We.useContext=function(z){return Z.H.useContext(z)},We.useDebugValue=function(){},We.useDeferredValue=function(z,R){return Z.H.useDeferredValue(z,R)},We.useEffect=function(z,R){return Z.H.useEffect(z,R)},We.useEffectEvent=function(z){return Z.H.useEffectEvent(z)},We.useId=function(){return Z.H.useId()},We.useImperativeHandle=function(z,R,de){return Z.H.useImperativeHandle(z,R,de)},We.useInsertionEffect=function(z,R){return Z.H.useInsertionEffect(z,R)},We.useLayoutEffect=function(z,R){return Z.H.useLayoutEffect(z,R)},We.useMemo=function(z,R){return Z.H.useMemo(z,R)},We.useOptimistic=function(z,R){return Z.H.useOptimistic(z,R)},We.useReducer=function(z,R,de){return Z.H.useReducer(z,R,de)},We.useRef=function(z){return Z.H.useRef(z)},We.useState=function(z){return Z.H.useState(z)},We.useSyncExternalStore=function(z,R,de){return Z.H.useSyncExternalStore(z,R,de)},We.useTransition=function(){return Z.H.useTransition()},We.version="19.2.4",We}var Th;function Du(){return Th||(Th=1,pu.exports=I0()),pu.exports}var Ee=Du();const Nh=up(Ee);var mu={exports:{}},kl={},gu={exports:{}},yu={};var Ah;function F0(){return Ah||(Ah=1,(function(E){function l(Y,H){var se=Y.length;Y.push(H);e:for(;0<se;){var W=se-1>>>1,ye=Y[W];if(0<g(ye,H))Y[W]=H,Y[se]=ye,se=W;else break e}}function s(Y){return Y.length===0?null:Y[0]}function o(Y){if(Y.length===0)return null;var H=Y[0],se=Y.pop();if(se!==H){Y[0]=se;e:for(var W=0,ye=Y.length,z=ye>>>1;W<z;){var R=2*(W+1)-1,de=Y[R],re=R+1,ce=Y[re];if(0>g(de,se))re<ye&&0>g(ce,de)?(Y[W]=ce,Y[re]=se,W=re):(Y[W]=de,Y[R]=se,W=R);else if(re<ye&&0>g(ce,se))Y[W]=ce,Y[re]=se,W=re;else break e}}return H}function g(Y,H){var se=Y.sortIndex-H.sortIndex;return se!==0?se:Y.id-H.id}if(E.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;E.unstable_now=function(){return c.now()}}else{var m=Date,p=m.now();E.unstable_now=function(){return m.now()-p}}var d=[],f=[],w=1,C=null,k=3,b=!1,S=!1,v=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(Y){for(var H=s(f);H!==null;){if(H.callback===null)o(f);else if(H.startTime<=Y)o(f),H.sortIndex=H.expirationTime,l(d,H);else break;H=s(f)}}function q(Y){if(v=!1,B(Y),!S)if(s(d)!==null)S=!0,I||(I=!0,A());else{var H=s(f);H!==null&&U(q,H.startTime-Y)}}var I=!1,Z=-1,ne=5,V=-1;function F(){return j?!0:!(E.unstable_now()-V<ne)}function Q(){if(j=!1,I){var Y=E.unstable_now();V=Y;var H=!0;try{e:{S=!1,v&&(v=!1,T(Z),Z=-1),b=!0;var se=k;try{t:{for(B(Y),C=s(d);C!==null&&!(C.expirationTime>Y&&F());){var W=C.callback;if(typeof W=="function"){C.callback=null,k=C.priorityLevel;var ye=W(C.expirationTime<=Y);if(Y=E.unstable_now(),typeof ye=="function"){C.callback=ye,B(Y),H=!0;break t}C===s(d)&&o(d),B(Y)}else o(d);C=s(d)}if(C!==null)H=!0;else{var z=s(f);z!==null&&U(q,z.startTime-Y),H=!1}}break e}finally{C=null,k=se,b=!1}H=void 0}}finally{H?A():I=!1}}}var A;if(typeof D=="function")A=function(){D(Q)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,h=O.port2;O.port1.onmessage=Q,A=function(){h.postMessage(null)}}else A=function(){_(Q,0)};function U(Y,H){Z=_(function(){Y(E.unstable_now())},H)}E.unstable_IdlePriority=5,E.unstable_ImmediatePriority=1,E.unstable_LowPriority=4,E.unstable_NormalPriority=3,E.unstable_Profiling=null,E.unstable_UserBlockingPriority=2,E.unstable_cancelCallback=function(Y){Y.callback=null},E.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<Y?Math.floor(1e3/Y):5},E.unstable_getCurrentPriorityLevel=function(){return k},E.unstable_next=function(Y){switch(k){case 1:case 2:case 3:var H=3;break;default:H=k}var se=k;k=H;try{return Y()}finally{k=se}},E.unstable_requestPaint=function(){j=!0},E.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=k;k=Y;try{return H()}finally{k=se}},E.unstable_scheduleCallback=function(Y,H,se){var W=E.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?W+se:W):se=W,Y){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=se+ye,Y={id:w++,callback:H,priorityLevel:Y,startTime:se,expirationTime:ye,sortIndex:-1},se>W?(Y.sortIndex=se,l(f,Y),s(d)===null&&Y===s(f)&&(v?(T(Z),Z=-1):v=!0,U(q,se-W))):(Y.sortIndex=ye,l(d,Y),S||b||(S=!0,I||(I=!0,A()))),Y},E.unstable_shouldYield=F,E.unstable_wrapCallback=function(Y){var H=k;return function(){var se=k;k=H;try{return Y.apply(this,arguments)}finally{k=se}}}})(yu)),yu}var Dh;function K0(){return Dh||(Dh=1,gu.exports=F0()),gu.exports}var vu={exports:{}},en={};var Oh;function Q0(){if(Oh)return en;Oh=1;var E=Du();function l(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)f+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(l(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},g=Symbol.for("react.portal");function c(d,f,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:C==null?null:""+C,children:d,containerInfo:f,implementation:w}}var m=E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,en.createPortal=function(d,f){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(l(299));return c(d,f,null,w)},en.flushSync=function(d){var f=m.T,w=o.p;try{if(m.T=null,o.p=2,d)return d()}finally{m.T=f,o.p=w,o.d.f()}},en.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(d,f))},en.prefetchDNS=function(d){typeof d=="string"&&o.d.D(d)},en.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var w=f.as,C=p(w,f.crossOrigin),k=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;w==="style"?o.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:b}):w==="script"&&o.d.X(d,{crossOrigin:C,integrity:k,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},en.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var w=p(f.as,f.crossOrigin);o.d.M(d,{crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(d)},en.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var w=f.as,C=p(w,f.crossOrigin);o.d.L(d,w,{crossOrigin:C,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},en.preloadModule=function(d,f){if(typeof d=="string")if(f){var w=p(f.as,f.crossOrigin);o.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(d)},en.requestFormReset=function(d){o.d.r(d)},en.unstable_batchedUpdates=function(d,f){return d(f)},en.useFormState=function(d,f,w){return m.H.useFormState(d,f,w)},en.useFormStatus=function(){return m.H.useHostTransitionStatus()},en.version="19.2.4",en}var Mh;function W0(){if(Mh)return vu.exports;Mh=1;function E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E)}catch(l){console.error(l)}}return E(),vu.exports=Q0(),vu.exports}var Rh;function $0(){if(Rh)return kl;Rh=1;var E=K0(),l=Du(),s=W0();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(o(188))}function f(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return d(i),e;if(r===a)return d(i),t;r=r.sibling}throw Error(o(188))}if(n.return!==a.return)n=i,a=r;else{for(var y=!1,N=i.child;N;){if(N===n){y=!0,n=i,a=r;break}if(N===a){y=!0,a=i,n=r;break}N=N.sibling}if(!y){for(N=r.child;N;){if(N===n){y=!0,n=r,a=i;break}if(N===a){y=!0,a=r,n=i;break}N=N.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,k=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case _:return"Profiler";case j:return"StrictMode";case q:return"Suspense";case I:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case D:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:h(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return h(e(t))}catch{}}return null}var U=Array.isArray,Y=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},W=[],ye=-1;function z(e){return{current:e}}function R(e){0>ye||(e.current=W[ye],W[ye]=null,ye--)}function de(e,t){ye++,W[ye]=e.current,e.current=t}var re=z(null),ce=z(null),Re=z(null),He=z(null);function P(e,t){switch(de(Re,t),de(ce,e),de(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(re),de(re,e)}function _e(){R(re),R(ce),R(Re)}function qe(e){e.memoizedState!==null&&de(He,e);var t=re.current,n=Wf(t,e.type);t!==n&&(de(ce,e),de(re,n))}function Xe(e){ce.current===e&&(R(re),R(ce)),He.current===e&&(R(He),_l._currentValue=se)}var tt,Je;function x(e){if(tt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tt=t&&t[1]||"",Je=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+e+Je}var ee=!1;function te(e,t){if(!e||ee)return"";ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ue){var le=ue}Reflect.construct(e,[],Se)}else{try{Se.call()}catch(ue){le=ue}e.call(Se.prototype)}}else{try{throw Error()}catch(ue){le=ue}(Se=e())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),y=r[0],N=r[1];if(y&&N){var G=y.split(`
`),ie=N.split(`
`);for(i=a=0;a<G.length&&!G[a].includes("DetermineComponentFrameRoot");)a++;for(;i<ie.length&&!ie[i].includes("DetermineComponentFrameRoot");)i++;if(a===G.length||i===ie.length)for(a=G.length-1,i=ie.length-1;1<=a&&0<=i&&G[a]!==ie[i];)i--;for(;1<=a&&0<=i;a--,i--)if(G[a]!==ie[i]){if(a!==1||i!==1)do if(a--,i--,0>i||G[a]!==ie[i]){var me=`
`+G[a].replace(" at new "," at ");return e.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",e.displayName)),me}while(1<=a&&0<=i);break}}}finally{ee=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?x(n):""}function L(e,t){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return e.child!==t&&t!==null?x("Suspense Fallback"):x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return te(e.type,!1);case 11:return te(e.type.render,!1);case 1:return te(e.type,!0);case 31:return x("Activity");default:return""}}function M(e){try{var t="",n=null;do t+=L(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var K=Object.prototype.hasOwnProperty,ge=E.unstable_scheduleCallback,je=E.unstable_cancelCallback,J=E.unstable_shouldYield,Te=E.unstable_requestPaint,Ae=E.unstable_now,De=E.unstable_getCurrentPriorityLevel,Ve=E.unstable_ImmediatePriority,ut=E.unstable_UserBlockingPriority,Qe=E.unstable_NormalPriority,Zt=E.unstable_LowPriority,an=E.unstable_IdlePriority,zt=E.log,dn=E.unstable_setDisableYieldValue,ct=null,kt=null;function Kt(e){if(typeof zt=="function"&&dn(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ct,e)}catch{}}var gt=Math.clz32?Math.clz32:On,Ot=Math.log,Dn=Math.LN2;function On(e){return e>>>=0,e===0?32:31-(Ot(e)/Dn|0)|0}var fe=256,xe=262144,pe=4194304;function he(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ve(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var N=a&134217727;return N!==0?(a=N&~r,a!==0?i=he(a):(y&=N,y!==0?i=he(y):n||(n=N&~e,n!==0&&(i=he(n))))):(N=a&~r,N!==0?i=he(N):y!==0?i=he(y):n||(n=a&~e,n!==0&&(i=he(n)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function we(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ne(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n,a,i,r){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var N=e.entanglements,G=e.expirationTimes,ie=e.hiddenUpdates;for(n=y&~n;0<n;){var me=31-gt(n),Se=1<<me;N[me]=0,G[me]=-1;var le=ie[me];if(le!==null)for(ie[me]=null,me=0;me<le.length;me++){var ue=le[me];ue!==null&&(ue.lane&=-536870913)}n&=~Se}a!==0&&Be(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(y&~t))}function Be(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-gt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function mt(e,t){var n=t&-t;return n=(n&42)!==0?1:Qt(n),(n&(e.suspendedLanes|t))!==0?0:n}function Qt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Et(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:bh(e.type))}function yt(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}var vt=Math.random().toString(36).slice(2),ht="__reactFiber$"+vt,Tt="__reactProps$"+vt,oe="__reactContainer$"+vt,ze="__reactEvents$"+vt,Ye="__reactListeners$"+vt,Le="__reactHandles$"+vt,et="__reactResources$"+vt,Ie="__reactMarker$"+vt;function jt(e){delete e[ht],delete e[Tt],delete e[ze],delete e[Ye],delete e[Le]}function fn(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oe]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ah(e);e!==null;){if(n=e[ht])return n;e=ah(e)}return t}e=n,n=e.parentNode}return null}function wn(e){if(e=e[ht]||e[oe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Zn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Un(e){var t=e[et];return t||(t=e[et]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function It(e){e[Ie]=!0}var Bu=new Set,Uu={};function Ma(e,t){ti(e,t),ti(e+"Capture",t)}function ti(e,t){for(Uu[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var Rp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},Hu={};function Bp(e){return K.call(Hu,e)?!0:K.call(Lu,e)?!1:Rp.test(e)?Hu[e]=!0:(Lu[e]=!0,!1)}function Rl(e,t,n){if(Bp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Bl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Gn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Up(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(y){n=""+y,r.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){if(!e._valueTracker){var t=qu(e)?"checked":"value";e._valueTracker=Up(e,t,""+e[t])}}function Vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=qu(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lp=/[\n"\\]/g;function _n(e){return e.replace(Lp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function rs(e,t,n,a,i,r,y,N){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?ss(e,y,Sn(t)):n!=null?ss(e,y,Sn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Sn(N):e.removeAttribute("name")}function Yu(e,t,n,a,i,r,y,N){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){ls(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,N||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=N?e.checked:!!a,e.defaultChecked=!!a,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),ls(e)}function ss(e,t,n){t==="number"&&Ul(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ni(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zu(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Gu(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(o(92));if(U(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),ls(e)}function ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Hp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Iu(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Xu(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&Xu(e,r,t[r])}function os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return Vp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var us=null;function cs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ii=null,li=null;function Fu(e){var t=wn(e);if(t&&(e=t.stateNode)){var n=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(rs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Tt]||null;if(!i)throw Error(o(90));rs(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Vu(a)}break e;case"textarea":Zu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}}}var ds=!1;function Ku(e,t,n){if(ds)return e(t,n);ds=!0;try{var a=e(t);return a}finally{if(ds=!1,(ii!==null||li!==null)&&(jr(),ii&&(t=ii,e=li,li=ii=null,Fu(t),e)))for(t=0;t<e.length;t++)Fu(e[t])}}function qi(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Tt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(In)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{fs=!1}var ua=null,hs=null,Hl=null;function Qu(){if(Hl)return Hl;var e,t=hs,n=t.length,a,i="value"in ua?ua.value:ua.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var y=n-e;for(a=1;a<=y&&t[n-a]===i[r-a];a++);return Hl=i.slice(e,1<a?1-a:void 0)}function ql(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function Wu(){return!1}function ln(e){function t(n,a,i,r,y){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=y,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(n=e[N],this[N]=n?n(r):r[N]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Vl:Wu,this.isPropagationStopped=Wu,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=ln(Ra),Yi=C({},Ra,{view:0,detail:0}),Yp=ln(Yi),ps,ms,Zi,Zl=C({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?(ps=e.screenX-Zi.screenX,ms=e.screenY-Zi.screenY):ms=ps=0,Zi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),$u=ln(Zl),Zp=C({},Zl,{dataTransfer:0}),Gp=ln(Zp),Xp=C({},Yi,{relatedTarget:0}),gs=ln(Xp),Ip=C({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=ln(Ip),Kp=C({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qp=ln(Kp),Wp=C({},Ra,{data:0}),Ju=ln(Wp),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function em(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pp[e])?!!t[e]:!1}function ys(){return em}var tm=C({},Yi,{key:function(e){if(e.key){var t=$p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nm=ln(tm),am=C({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=ln(am),im=C({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),lm=ln(im),rm=C({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),sm=ln(rm),om=C({},Zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),um=ln(om),cm=C({},Ra,{newState:0,oldState:0}),dm=ln(cm),fm=[9,13,27,32],vs=In&&"CompositionEvent"in window,Gi=null;In&&"documentMode"in document&&(Gi=document.documentMode);var hm=In&&"TextEvent"in window&&!Gi,ec=In&&(!vs||Gi&&8<Gi&&11>=Gi),tc=" ",nc=!1;function ac(e,t){switch(e){case"keyup":return fm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ri=!1;function pm(e,t){switch(e){case"compositionend":return ic(t);case"keypress":return t.which!==32?null:(nc=!0,tc);case"textInput":return e=t.data,e===tc&&nc?null:e;default:return null}}function mm(e,t){if(ri)return e==="compositionend"||!vs&&ac(e,t)?(e=Qu(),Hl=hs=ua=null,ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ec&&t.locale!=="ko"?null:t.data;default:return null}}var gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gm[e.type]:t==="textarea"}function rc(e,t,n,a){ii?li?li.push(a):li=[a]:ii=a,t=Dr(t,"onChange"),0<t.length&&(n=new Yl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Xi=null,Ii=null;function ym(e){Zf(e,0)}function Gl(e){var t=Zn(e);if(Vu(t))return e}function sc(e,t){if(e==="change")return t}var oc=!1;if(In){var bs;if(In){var xs="oninput"in document;if(!xs){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),xs=typeof uc.oninput=="function"}bs=xs}else bs=!1;oc=bs&&(!document.documentMode||9<document.documentMode)}function cc(){Xi&&(Xi.detachEvent("onpropertychange",dc),Ii=Xi=null)}function dc(e){if(e.propertyName==="value"&&Gl(Ii)){var t=[];rc(t,Ii,e,cs(e)),Ku(ym,t)}}function vm(e,t,n){e==="focusin"?(cc(),Xi=t,Ii=n,Xi.attachEvent("onpropertychange",dc)):e==="focusout"&&cc()}function bm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Ii)}function xm(e,t){if(e==="click")return Gl(t)}function wm(e,t){if(e==="input"||e==="change")return Gl(t)}function Sm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:Sm;function Fi(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!K.call(t,i)||!hn(e[i],t[i]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var n=fc(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fc(n)}}function pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ul(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ul(e.document)}return t}function ws(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _m=In&&"documentMode"in document&&11>=document.documentMode,si=null,Ss=null,Ki=null,_s=!1;function gc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_s||si==null||si!==Ul(a)||(a=si,"selectionStart"in a&&ws(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ki&&Fi(Ki,a)||(Ki=a,a=Dr(Ss,"onSelect"),0<a.length&&(t=new Yl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=si)))}function Ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var oi={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},Es={},yc={};In&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function Ua(e){if(Es[e])return Es[e];if(!oi[e])return e;var t=oi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yc)return Es[e]=t[n];return e}var vc=Ua("animationend"),bc=Ua("animationiteration"),xc=Ua("animationstart"),Em=Ua("transitionrun"),jm=Ua("transitionstart"),Cm=Ua("transitioncancel"),wc=Ua("transitionend"),Sc=new Map,js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");js.push("scrollEnd");function Mn(e,t){Sc.set(e,t),Ma(t,[e])}var Xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},En=[],ui=0,Cs=0;function Il(){for(var e=ui,t=Cs=ui=0;t<e;){var n=En[t];En[t++]=null;var a=En[t];En[t++]=null;var i=En[t];En[t++]=null;var r=En[t];if(En[t++]=null,a!==null&&i!==null){var y=a.pending;y===null?i.next=i:(i.next=y.next,y.next=i),a.pending=i}r!==0&&_c(n,i,r)}}function Fl(e,t,n,a){En[ui++]=e,En[ui++]=t,En[ui++]=n,En[ui++]=a,Cs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function zs(e,t,n,a){return Fl(e,t,n,a),Kl(e)}function La(e,t){return Fl(e,null,null,t),Kl(e)}function _c(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-gt(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Kl(e){if(50<gl)throw gl=0,Uo=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ci={};function zm(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,n,a){return new zm(e,t,n,a)}function ks(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fn(e,t){var n=e.alternate;return n===null?(n=pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ec(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ql(e,t,n,a,i,r){var y=0;if(a=e,typeof e=="function")ks(e)&&(y=1);else if(typeof e=="string")y=D0(e,n,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=pn(31,n,t,i),e.elementType=V,e.lanes=r,e;case v:return Ha(n.children,i,r,t);case j:y=8,i|=24;break;case _:return e=pn(12,n,t,i|2),e.elementType=_,e.lanes=r,e;case q:return e=pn(13,n,t,i),e.elementType=q,e.lanes=r,e;case I:return e=pn(19,n,t,i),e.elementType=I,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:y=10;break e;case T:y=9;break e;case B:y=11;break e;case Z:y=14;break e;case ne:y=16,a=null;break e}y=29,n=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=pn(y,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function Ha(e,t,n,a){return e=pn(7,e,a,t),e.lanes=n,e}function Ts(e,t,n){return e=pn(6,e,null,t),e.lanes=n,e}function jc(e){var t=pn(18,null,null,0);return t.stateNode=e,t}function Ns(e,t,n){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Cc=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=Cc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:M(t)},Cc.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var di=[],fi=0,Wl=null,Qi=0,Cn=[],zn=0,ca=null,Ln=1,Hn="";function Kn(e,t){di[fi++]=Qi,di[fi++]=Wl,Wl=e,Qi=t}function zc(e,t,n){Cn[zn++]=Ln,Cn[zn++]=Hn,Cn[zn++]=ca,ca=e;var a=Ln;e=Hn;var i=32-gt(a)-1;a&=~(1<<i),n+=1;var r=32-gt(t)+i;if(30<r){var y=i-i%5;r=(a&(1<<y)-1).toString(32),a>>=y,i-=y,Ln=1<<32-gt(t)+i|n<<i|a,Hn=r+e}else Ln=1<<r|n<<i|a,Hn=e}function As(e){e.return!==null&&(Kn(e,1),zc(e,1,0))}function Ds(e){for(;e===Wl;)Wl=di[--fi],di[fi]=null,Qi=di[--fi],di[fi]=null;for(;e===ca;)ca=Cn[--zn],Cn[zn]=null,Hn=Cn[--zn],Cn[zn]=null,Ln=Cn[--zn],Cn[zn]=null}function kc(e,t){Cn[zn++]=Ln,Cn[zn++]=Hn,Cn[zn++]=ca,Ln=t.id,Hn=t.overflow,ca=e}var Wt=null,Nt=null,ot=!1,da=null,kn=!1,Os=Error(o(519));function fa(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wi(jn(t,e)),Os}function Tc(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ht]=e,t[Tt]=a,n){case"dialog":it("cancel",t),it("close",t);break;case"iframe":case"object":case"embed":it("load",t);break;case"video":case"audio":for(n=0;n<vl.length;n++)it(vl[n],t);break;case"source":it("error",t);break;case"img":case"image":case"link":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"input":it("invalid",t),Yu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":it("invalid",t);break;case"textarea":it("invalid",t),Gu(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Ff(t.textContent,n)?(a.popover!=null&&(it("beforetoggle",t),it("toggle",t)),a.onScroll!=null&&it("scroll",t),a.onScrollEnd!=null&&it("scrollend",t),a.onClick!=null&&(t.onclick=Xn),t=!0):t=!1,t||fa(e,!0)}function Nc(e){for(Wt=e.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Wt=Wt.return}}function hi(e){if(e!==Wt)return!1;if(!ot)return Nc(e),ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Jo(e.type,e.memoizedProps)),n=!n),n&&Nt&&fa(e),Nc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Nt=nh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Nt=nh(e)}else t===27?(t=Nt,Ca(e.type)?(e=au,au=null,Nt=e):Nt=t):Nt=Wt?Nn(e.stateNode.nextSibling):null;return!0}function qa(){Nt=Wt=null,ot=!1}function Ms(){var e=da;return e!==null&&(un===null?un=e:un.push.apply(un,e),da=null),e}function Wi(e){da===null?da=[e]:da.push(e)}var Rs=z(null),Va=null,Qn=null;function ha(e,t,n){de(Rs,t._currentValue),t._currentValue=n}function Wn(e){e._currentValue=Rs.current,R(Rs)}function Bs(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Us(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var y=i.child;r=r.firstContext;e:for(;r!==null;){var N=r;r=i;for(var G=0;G<t.length;G++)if(N.context===t[G]){r.lanes|=n,N=r.alternate,N!==null&&(N.lanes|=n),Bs(r.return,n,e),a||(y=null);break e}r=N.next}}else if(i.tag===18){if(y=i.return,y===null)throw Error(o(341));y.lanes|=n,r=y.alternate,r!==null&&(r.lanes|=n),Bs(y,n,e),y=null}else y=i.child;if(y!==null)y.return=i;else for(y=i;y!==null;){if(y===e){y=null;break}if(i=y.sibling,i!==null){i.return=y.return,y=i;break}y=y.return}i=y}}function pi(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var y=i.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var N=i.type;hn(i.pendingProps.value,y.value)||(e!==null?e.push(N):e=[N])}}else if(i===He.current){if(y=i.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}i=i.return}e!==null&&Us(t,e,n,a),t.flags|=262144}function $l(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){Va=e,Qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return Ac(Va,e)}function Jl(e,t){return Va===null&&Ya(e),Ac(e,t)}function Ac(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qn===null){if(e===null)throw Error(o(308));Qn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qn=Qn.next=t;return n}var km=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Tm=E.unstable_scheduleCallback,Nm=E.unstable_NormalPriority,Ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ls(){return{controller:new km,data:new Map,refCount:0}}function $i(e){e.refCount--,e.refCount===0&&Tm(Nm,function(){e.controller.abort()})}var Ji=null,Hs=0,mi=0,gi=null;function Am(e,t){if(Ji===null){var n=Ji=[];Hs=0,mi=Zo(),gi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Hs++,t.then(Dc,Dc),t}function Dc(){if(--Hs===0&&Ji!==null){gi!==null&&(gi.status="fulfilled");var e=Ji;Ji=null,mi=0,gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Dm(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Oc=Y.S;Y.S=function(e,t){yf=Ae(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Am(e,t),Oc!==null&&Oc(e,t)};var Za=z(null);function qs(){var e=Za.current;return e!==null?e:Ct.pooledCache}function Pl(e,t){t===null?de(Za,Za.current):de(Za,t.pool)}function Mc(){var e=qs();return e===null?null:{parent:Ht._currentValue,pool:e}}var yi=Error(o(460)),Vs=Error(o(474)),er=Error(o(542)),tr={then:function(){}};function Rc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bc(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Xn,Xn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lc(e),e;default:if(typeof t.status=="string")t.then(Xn,Xn);else{if(e=Ct,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lc(e),e}throw Xa=t,yi}}function Ga(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Xa=n,yi):n}}var Xa=null;function Uc(){if(Xa===null)throw Error(o(459));var e=Xa;return Xa=null,e}function Lc(e){if(e===yi||e===er)throw Error(o(483))}var vi=null,Pi=0;function nr(e){var t=Pi;return Pi+=1,vi===null&&(vi=[]),Bc(vi,e,t)}function el(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ar(e,t){throw t.$$typeof===k?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hc(e){function t($,X){if(e){var ae=$.deletions;ae===null?($.deletions=[X],$.flags|=16):ae.push(X)}}function n($,X){if(!e)return null;for(;X!==null;)t($,X),X=X.sibling;return null}function a($){for(var X=new Map;$!==null;)$.key!==null?X.set($.key,$):X.set($.index,$),$=$.sibling;return X}function i($,X){return $=Fn($,X),$.index=0,$.sibling=null,$}function r($,X,ae){return $.index=ae,e?(ae=$.alternate,ae!==null?(ae=ae.index,ae<X?($.flags|=67108866,X):ae):($.flags|=67108866,X)):($.flags|=1048576,X)}function y($){return e&&$.alternate===null&&($.flags|=67108866),$}function N($,X,ae,be){return X===null||X.tag!==6?(X=Ts(ae,$.mode,be),X.return=$,X):(X=i(X,ae),X.return=$,X)}function G($,X,ae,be){var Ge=ae.type;return Ge===v?me($,X,ae.props.children,be,ae.key):X!==null&&(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===ne&&Ga(Ge)===X.type)?(X=i(X,ae.props),el(X,ae),X.return=$,X):(X=Ql(ae.type,ae.key,ae.props,null,$.mode,be),el(X,ae),X.return=$,X)}function ie($,X,ae,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=Ns(ae,$.mode,be),X.return=$,X):(X=i(X,ae.children||[]),X.return=$,X)}function me($,X,ae,be,Ge){return X===null||X.tag!==7?(X=Ha(ae,$.mode,be,Ge),X.return=$,X):(X=i(X,ae),X.return=$,X)}function Se($,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Ts(""+X,$.mode,ae),X.return=$,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return ae=Ql(X.type,X.key,X.props,null,$.mode,ae),el(ae,X),ae.return=$,ae;case S:return X=Ns(X,$.mode,ae),X.return=$,X;case ne:return X=Ga(X),Se($,X,ae)}if(U(X)||A(X))return X=Ha(X,$.mode,ae,null),X.return=$,X;if(typeof X.then=="function")return Se($,nr(X),ae);if(X.$$typeof===D)return Se($,Jl($,X),ae);ar($,X)}return null}function le($,X,ae,be){var Ge=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ge!==null?null:N($,X,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return ae.key===Ge?G($,X,ae,be):null;case S:return ae.key===Ge?ie($,X,ae,be):null;case ne:return ae=Ga(ae),le($,X,ae,be)}if(U(ae)||A(ae))return Ge!==null?null:me($,X,ae,be,null);if(typeof ae.then=="function")return le($,X,nr(ae),be);if(ae.$$typeof===D)return le($,X,Jl($,ae),be);ar($,ae)}return null}function ue($,X,ae,be,Ge){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return $=$.get(ae)||null,N(X,$,""+be,Ge);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return $=$.get(be.key===null?ae:be.key)||null,G(X,$,be,Ge);case S:return $=$.get(be.key===null?ae:be.key)||null,ie(X,$,be,Ge);case ne:return be=Ga(be),ue($,X,ae,be,Ge)}if(U(be)||A(be))return $=$.get(ae)||null,me(X,$,be,Ge,null);if(typeof be.then=="function")return ue($,X,ae,nr(be),Ge);if(be.$$typeof===D)return ue($,X,ae,Jl(X,be),Ge);ar(X,be)}return null}function Ue($,X,ae,be){for(var Ge=null,dt=null,Ze=X,Pe=X=0,st=null;Ze!==null&&Pe<ae.length;Pe++){Ze.index>Pe?(st=Ze,Ze=null):st=Ze.sibling;var ft=le($,Ze,ae[Pe],be);if(ft===null){Ze===null&&(Ze=st);break}e&&Ze&&ft.alternate===null&&t($,Ze),X=r(ft,X,Pe),dt===null?Ge=ft:dt.sibling=ft,dt=ft,Ze=st}if(Pe===ae.length)return n($,Ze),ot&&Kn($,Pe),Ge;if(Ze===null){for(;Pe<ae.length;Pe++)Ze=Se($,ae[Pe],be),Ze!==null&&(X=r(Ze,X,Pe),dt===null?Ge=Ze:dt.sibling=Ze,dt=Ze);return ot&&Kn($,Pe),Ge}for(Ze=a(Ze);Pe<ae.length;Pe++)st=ue(Ze,$,Pe,ae[Pe],be),st!==null&&(e&&st.alternate!==null&&Ze.delete(st.key===null?Pe:st.key),X=r(st,X,Pe),dt===null?Ge=st:dt.sibling=st,dt=st);return e&&Ze.forEach(function(Aa){return t($,Aa)}),ot&&Kn($,Pe),Ge}function Fe($,X,ae,be){if(ae==null)throw Error(o(151));for(var Ge=null,dt=null,Ze=X,Pe=X=0,st=null,ft=ae.next();Ze!==null&&!ft.done;Pe++,ft=ae.next()){Ze.index>Pe?(st=Ze,Ze=null):st=Ze.sibling;var Aa=le($,Ze,ft.value,be);if(Aa===null){Ze===null&&(Ze=st);break}e&&Ze&&Aa.alternate===null&&t($,Ze),X=r(Aa,X,Pe),dt===null?Ge=Aa:dt.sibling=Aa,dt=Aa,Ze=st}if(ft.done)return n($,Ze),ot&&Kn($,Pe),Ge;if(Ze===null){for(;!ft.done;Pe++,ft=ae.next())ft=Se($,ft.value,be),ft!==null&&(X=r(ft,X,Pe),dt===null?Ge=ft:dt.sibling=ft,dt=ft);return ot&&Kn($,Pe),Ge}for(Ze=a(Ze);!ft.done;Pe++,ft=ae.next())ft=ue(Ze,$,Pe,ft.value,be),ft!==null&&(e&&ft.alternate!==null&&Ze.delete(ft.key===null?Pe:ft.key),X=r(ft,X,Pe),dt===null?Ge=ft:dt.sibling=ft,dt=ft);return e&&Ze.forEach(function(Z0){return t($,Z0)}),ot&&Kn($,Pe),Ge}function _t($,X,ae,be){if(typeof ae=="object"&&ae!==null&&ae.type===v&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:e:{for(var Ge=ae.key;X!==null;){if(X.key===Ge){if(Ge=ae.type,Ge===v){if(X.tag===7){n($,X.sibling),be=i(X,ae.props.children),be.return=$,$=be;break e}}else if(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===ne&&Ga(Ge)===X.type){n($,X.sibling),be=i(X,ae.props),el(be,ae),be.return=$,$=be;break e}n($,X);break}else t($,X);X=X.sibling}ae.type===v?(be=Ha(ae.props.children,$.mode,be,ae.key),be.return=$,$=be):(be=Ql(ae.type,ae.key,ae.props,null,$.mode,be),el(be,ae),be.return=$,$=be)}return y($);case S:e:{for(Ge=ae.key;X!==null;){if(X.key===Ge)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){n($,X.sibling),be=i(X,ae.children||[]),be.return=$,$=be;break e}else{n($,X);break}else t($,X);X=X.sibling}be=Ns(ae,$.mode,be),be.return=$,$=be}return y($);case ne:return ae=Ga(ae),_t($,X,ae,be)}if(U(ae))return Ue($,X,ae,be);if(A(ae)){if(Ge=A(ae),typeof Ge!="function")throw Error(o(150));return ae=Ge.call(ae),Fe($,X,ae,be)}if(typeof ae.then=="function")return _t($,X,nr(ae),be);if(ae.$$typeof===D)return _t($,X,Jl($,ae),be);ar($,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(n($,X.sibling),be=i(X,ae),be.return=$,$=be):(n($,X),be=Ts(ae,$.mode,be),be.return=$,$=be),y($)):n($,X)}return function($,X,ae,be){try{Pi=0;var Ge=_t($,X,ae,be);return vi=null,Ge}catch(Ze){if(Ze===yi||Ze===er)throw Ze;var dt=pn(29,Ze,null,$.mode);return dt.lanes=be,dt.return=$,dt}}}var Ia=Hc(!0),qc=Hc(!1),pa=!1;function Ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ga(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(pt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Kl(e),_c(e,null,n),t}return Fl(e,a,t,n),Kl(e)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ke(e,n)}}function Gs(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=y:r=r.next=y,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Xs=!1;function nl(){if(Xs){var e=gi;if(e!==null)throw e}}function al(e,t,n,a){Xs=!1;var i=e.updateQueue;pa=!1;var r=i.firstBaseUpdate,y=i.lastBaseUpdate,N=i.shared.pending;if(N!==null){i.shared.pending=null;var G=N,ie=G.next;G.next=null,y===null?r=ie:y.next=ie,y=G;var me=e.alternate;me!==null&&(me=me.updateQueue,N=me.lastBaseUpdate,N!==y&&(N===null?me.firstBaseUpdate=ie:N.next=ie,me.lastBaseUpdate=G))}if(r!==null){var Se=i.baseState;y=0,me=ie=G=null,N=r;do{var le=N.lane&-536870913,ue=le!==N.lane;if(ue?(rt&le)===le:(a&le)===le){le!==0&&le===mi&&(Xs=!0),me!==null&&(me=me.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ue=e,Fe=N;le=t;var _t=n;switch(Fe.tag){case 1:if(Ue=Fe.payload,typeof Ue=="function"){Se=Ue.call(_t,Se,le);break e}Se=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Fe.payload,le=typeof Ue=="function"?Ue.call(_t,Se,le):Ue,le==null)break e;Se=C({},Se,le);break e;case 2:pa=!0}}le=N.callback,le!==null&&(e.flags|=64,ue&&(e.flags|=8192),ue=i.callbacks,ue===null?i.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:N.tag,payload:N.payload,callback:N.callback,next:null},me===null?(ie=me=ue,G=Se):me=me.next=ue,y|=le;if(N=N.next,N===null){if(N=i.shared.pending,N===null)break;ue=N,N=ue.next,ue.next=null,i.lastBaseUpdate=ue,i.shared.pending=null}}while(!0);me===null&&(G=Se),i.baseState=G,i.firstBaseUpdate=ie,i.lastBaseUpdate=me,r===null&&(i.shared.lanes=0),wa|=y,e.lanes=y,e.memoizedState=Se}}function Vc(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Yc(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Vc(n[e],t)}var bi=z(null),ir=z(0);function Zc(e,t){e=la,de(ir,e),de(bi,t),la=e|t.baseLanes}function Is(){de(ir,la),de(bi,bi.current)}function Fs(){la=ir.current,R(bi),R(ir)}var mn=z(null),Tn=null;function ya(e){var t=e.alternate;de(Bt,Bt.current&1),de(mn,e),Tn===null&&(t===null||bi.current!==null||t.memoizedState!==null)&&(Tn=e)}function Ks(e){de(Bt,Bt.current),de(mn,e),Tn===null&&(Tn=e)}function Gc(e){e.tag===22?(de(Bt,Bt.current),de(mn,e),Tn===null&&(Tn=e)):va()}function va(){de(Bt,Bt.current),de(mn,mn.current)}function gn(e){R(mn),Tn===e&&(Tn=null),R(Bt)}var Bt=z(0);function lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||tu(n)||nu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $n=0,$e=null,wt=null,qt=null,rr=!1,xi=!1,Fa=!1,sr=0,il=0,wi=null,Om=0;function Mt(){throw Error(o(321))}function Qs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hn(e[n],t[n]))return!1;return!0}function Ws(e,t,n,a,i,r){return $n=r,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?zd:fo,Fa=!1,r=n(a,i),Fa=!1,xi&&(r=Ic(t,n,a,i)),Xc(e),r}function Xc(e){Y.H=sl;var t=wt!==null&&wt.next!==null;if($n=0,qt=wt=$e=null,rr=!1,il=0,wi=null,t)throw Error(o(300));e===null||Vt||(e=e.dependencies,e!==null&&$l(e)&&(Vt=!0))}function Ic(e,t,n,a){$e=e;var i=0;do{if(xi&&(wi=null),il=0,xi=!1,25<=i)throw Error(o(301));if(i+=1,qt=wt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Y.H=kd,r=t(n,a)}while(xi);return r}function Mm(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?ll(t):t,e=e.useState()[0],(wt!==null?wt.memoizedState:null)!==e&&($e.flags|=1024),t}function $s(){var e=sr!==0;return sr=0,e}function Js(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ps(e){if(rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rr=!1}$n=0,qt=wt=$e=null,xi=!1,il=sr=0,wi=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?$e.memoizedState=qt=e:qt=qt.next=e,qt}function Ut(){if(wt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=qt===null?$e.memoizedState:qt.next;if(t!==null)qt=t,wt=e;else{if(e===null)throw $e.alternate===null?Error(o(467)):Error(o(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},qt===null?$e.memoizedState=qt=e:qt=qt.next=e}return qt}function or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var t=il;return il+=1,wi===null&&(wi=[]),e=Bc(wi,e,t),t=$e,(qt===null?t.memoizedState:qt.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?zd:fo),e}function ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===D)return $t(e)}throw Error(o(438,String(e)))}function eo(e){var t=null,n=$e.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=$e.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=or(),$e.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=F;return t.index++,n}function Jn(e,t){return typeof t=="function"?t(e):t}function cr(e){var t=Ut();return to(t,wt,e)}function to(e,t,n){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var y=i.next;i.next=r.next,r.next=y}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var N=y=null,G=null,ie=t,me=!1;do{var Se=ie.lane&-536870913;if(Se!==ie.lane?(rt&Se)===Se:($n&Se)===Se){var le=ie.revertLane;if(le===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Se===mi&&(me=!0);else if(($n&le)===le){ie=ie.next,le===mi&&(me=!0);continue}else Se={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?(N=G=Se,y=r):G=G.next=Se,$e.lanes|=le,wa|=le;Se=ie.action,Fa&&n(r,Se),r=ie.hasEagerState?ie.eagerState:n(r,Se)}else le={lane:Se,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?(N=G=le,y=r):G=G.next=le,$e.lanes|=Se,wa|=Se;ie=ie.next}while(ie!==null&&ie!==t);if(G===null?y=r:G.next=N,!hn(r,e.memoizedState)&&(Vt=!0,me&&(n=gi,n!==null)))throw n;e.memoizedState=r,e.baseState=y,e.baseQueue=G,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function no(e){var t=Ut(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var y=i=i.next;do r=e(r,y.action),y=y.next;while(y!==i);hn(r,t.memoizedState)||(Vt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Fc(e,t,n){var a=$e,i=Ut(),r=ot;if(r){if(n===void 0)throw Error(o(407));n=n()}else n=t();var y=!hn((wt||i).memoizedState,n);if(y&&(i.memoizedState=n,Vt=!0),i=i.queue,lo(Wc.bind(null,a,i,e),[e]),i.getSnapshot!==t||y||qt!==null&&qt.memoizedState.tag&1){if(a.flags|=2048,Si(9,{destroy:void 0},Qc.bind(null,a,i,n,t),null),Ct===null)throw Error(o(349));r||($n&127)!==0||Kc(a,t,n)}return n}function Kc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t=or(),$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qc(e,t,n,a){t.value=n,t.getSnapshot=a,$c(t)&&Jc(e)}function Wc(e,t,n){return n(function(){$c(t)&&Jc(e)})}function $c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hn(e,n)}catch{return!0}}function Jc(e){var t=La(e,2);t!==null&&cn(t,e,2)}function ao(e){var t=tn();if(typeof e=="function"){var n=e;if(e=n(),Fa){Kt(!0);try{n()}finally{Kt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:e},t}function Pc(e,t,n,a){return e.baseState=n,to(e,wt,typeof a=="function"?a:Jn)}function Rm(e,t,n,a,i){if(hr(e))throw Error(o(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){r.listeners.push(y)}};Y.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,ed(t,r)):(r.next=n.next,t.pending=n.next=r)}}function ed(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=Y.T,y={};Y.T=y;try{var N=n(i,a),G=Y.S;G!==null&&G(y,N),td(e,t,N)}catch(ie){io(e,t,ie)}finally{r!==null&&y.types!==null&&(r.types=y.types),Y.T=r}}else try{r=n(i,a),td(e,t,r)}catch(ie){io(e,t,ie)}}function td(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){nd(e,t,a)},function(a){return io(e,t,a)}):nd(e,t,n)}function nd(e,t,n){t.status="fulfilled",t.value=n,ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ed(e,n)))}function io(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,ad(t),t=t.next;while(t!==a)}e.action=null}function ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function id(e,t){return t}function ld(e,t){if(ot){var n=Ct.formState;if(n!==null){e:{var a=$e;if(ot){if(Nt){t:{for(var i=Nt,r=kn;i.nodeType!==8;){if(!r){i=null;break t}if(i=Nn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Nt=Nn(i.nextSibling),a=i.data==="F!";break e}}fa(a)}a=!1}a&&(t=n[0])}}return n=tn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},n.queue=a,n=Ed.bind(null,$e,a),a.dispatch=n,a=ao(!1),r=co.bind(null,$e,!1,a.queue),a=tn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Rm.bind(null,$e,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function rd(e){var t=Ut();return sd(t,wt,e)}function sd(e,t,n){if(t=to(e,t,id)[0],e=cr(Jn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ll(t)}catch(y){throw y===yi?er:y}else a=t;t=Ut();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&($e.flags|=2048,Si(9,{destroy:void 0},Bm.bind(null,i,n),null)),[a,r,e]}function Bm(e,t){e.action=t}function od(e){var t=Ut(),n=wt;if(n!==null)return sd(t,n,e);Ut(),t=t.memoizedState,n=Ut();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Si(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=$e.updateQueue,t===null&&(t=or(),$e.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function ud(){return Ut().memoizedState}function dr(e,t,n,a){var i=tn();$e.flags|=e,i.memoizedState=Si(1|t,{destroy:void 0},n,a===void 0?null:a)}function fr(e,t,n,a){var i=Ut();a=a===void 0?null:a;var r=i.memoizedState.inst;wt!==null&&a!==null&&Qs(a,wt.memoizedState.deps)?i.memoizedState=Si(t,r,n,a):($e.flags|=e,i.memoizedState=Si(1|t,r,n,a))}function cd(e,t){dr(8390656,8,e,t)}function lo(e,t){fr(2048,8,e,t)}function Um(e){$e.flags|=4;var t=$e.updateQueue;if(t===null)t=or(),$e.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function dd(e){var t=Ut().memoizedState;return Um({ref:t,nextImpl:e}),function(){if((pt&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function fd(e,t){return fr(4,2,e,t)}function hd(e,t){return fr(4,4,e,t)}function pd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function md(e,t,n){n=n!=null?n.concat([e]):null,fr(4,4,pd.bind(null,t,e),n)}function ro(){}function gd(e,t){var n=Ut();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Qs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function yd(e,t){var n=Ut();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Qs(t,a[1]))return a[0];if(a=e(),Fa){Kt(!0);try{e()}finally{Kt(!1)}}return n.memoizedState=[a,t],a}function so(e,t,n){return n===void 0||($n&1073741824)!==0&&(rt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=bf(),$e.lanes|=e,wa|=e,n)}function vd(e,t,n,a){return hn(n,t)?n:bi.current!==null?(e=so(e,n,a),hn(e,t)||(Vt=!0),e):($n&42)===0||($n&1073741824)!==0&&(rt&261930)===0?(Vt=!0,e.memoizedState=n):(e=bf(),$e.lanes|=e,wa|=e,t)}function bd(e,t,n,a,i){var r=H.p;H.p=r!==0&&8>r?r:8;var y=Y.T,N={};Y.T=N,co(e,!1,t,n);try{var G=i(),ie=Y.S;if(ie!==null&&ie(N,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var me=Dm(G,a);rl(e,t,me,bn(e))}else rl(e,t,a,bn(e))}catch(Se){rl(e,t,{then:function(){},status:"rejected",reason:Se},bn())}finally{H.p=r,y!==null&&N.types!==null&&(y.types=N.types),Y.T=y}}function Lm(){}function oo(e,t,n,a){if(e.tag!==5)throw Error(o(476));var i=xd(e).queue;bd(e,i,t,se,n===null?Lm:function(){return wd(e),n(a)})}function xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:se},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wd(e){var t=xd(e);t.next===null&&(t=e.alternate.memoizedState),rl(e,t.next.queue,{},bn())}function uo(){return $t(_l)}function Sd(){return Ut().memoizedState}function _d(){return Ut().memoizedState}function Hm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=ma(n);var a=ga(t,e,n);a!==null&&(cn(a,t,n),tl(a,t,n)),t={cache:Ls()},e.payload=t;return}t=t.return}}function qm(e,t,n){var a=bn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hr(e)?jd(t,n):(n=zs(e,t,n,a),n!==null&&(cn(n,e,a),Cd(n,t,a)))}function Ed(e,t,n){var a=bn();rl(e,t,n,a)}function rl(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hr(e))jd(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var y=t.lastRenderedState,N=r(y,n);if(i.hasEagerState=!0,i.eagerState=N,hn(N,y))return Fl(e,t,i,0),Ct===null&&Il(),!1}catch{}if(n=zs(e,t,i,a),n!==null)return cn(n,e,a),Cd(n,t,a),!0}return!1}function co(e,t,n,a){if(a={lane:2,revertLane:Zo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hr(e)){if(t)throw Error(o(479))}else t=zs(e,n,a,2),t!==null&&cn(t,e,2)}function hr(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function jd(e,t){xi=rr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ke(e,n)}}var sl={readContext:$t,use:ur,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};sl.useEffectEvent=Mt;var zd={readContext:$t,use:ur,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:cd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,dr(4194308,4,pd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dr(4194308,4,e,t)},useInsertionEffect:function(e,t){dr(4,2,e,t)},useMemo:function(e,t){var n=tn();t=t===void 0?null:t;var a=e();if(Fa){Kt(!0);try{e()}finally{Kt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=tn();if(n!==void 0){var i=n(t);if(Fa){Kt(!0);try{n(t)}finally{Kt(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=qm.bind(null,$e,e),[a.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:function(e){e=ao(e);var t=e.queue,n=Ed.bind(null,$e,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ro,useDeferredValue:function(e,t){var n=tn();return so(n,e,t)},useTransition:function(){var e=ao(!1);return e=bd.bind(null,$e,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=$e,i=tn();if(ot){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ct===null)throw Error(o(349));(rt&127)!==0||Kc(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,cd(Wc.bind(null,a,r,e),[e]),a.flags|=2048,Si(9,{destroy:void 0},Qc.bind(null,a,r,n,t),null),n},useId:function(){var e=tn(),t=Ct.identifierPrefix;if(ot){var n=Hn,a=Ln;n=(a&~(1<<32-gt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=sr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Om++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uo,useFormState:ld,useActionState:ld,useOptimistic:function(e){var t=tn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=co.bind(null,$e,!0,n),n.dispatch=t,[e,t]},useMemoCache:eo,useCacheRefresh:function(){return tn().memoizedState=Hm.bind(null,$e)},useEffectEvent:function(e){var t=tn(),n={impl:e};return t.memoizedState=n,function(){if((pt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},fo={readContext:$t,use:ur,useCallback:gd,useContext:$t,useEffect:lo,useImperativeHandle:md,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:yd,useReducer:cr,useRef:ud,useState:function(){return cr(Jn)},useDebugValue:ro,useDeferredValue:function(e,t){var n=Ut();return vd(n,wt.memoizedState,e,t)},useTransition:function(){var e=cr(Jn)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:ll(e),t]},useSyncExternalStore:Fc,useId:Sd,useHostTransitionStatus:uo,useFormState:rd,useActionState:rd,useOptimistic:function(e,t){var n=Ut();return Pc(n,wt,e,t)},useMemoCache:eo,useCacheRefresh:_d};fo.useEffectEvent=dd;var kd={readContext:$t,use:ur,useCallback:gd,useContext:$t,useEffect:lo,useImperativeHandle:md,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:yd,useReducer:no,useRef:ud,useState:function(){return no(Jn)},useDebugValue:ro,useDeferredValue:function(e,t){var n=Ut();return wt===null?so(n,e,t):vd(n,wt.memoizedState,e,t)},useTransition:function(){var e=no(Jn)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:ll(e),t]},useSyncExternalStore:Fc,useId:Sd,useHostTransitionStatus:uo,useFormState:od,useActionState:od,useOptimistic:function(e,t){var n=Ut();return wt!==null?Pc(n,wt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:eo,useCacheRefresh:_d};kd.useEffectEvent=dd;function ho(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=bn(),i=ma(a);i.payload=t,n!=null&&(i.callback=n),t=ga(e,i,a),t!==null&&(cn(t,e,a),tl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=bn(),i=ma(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ga(e,i,a),t!==null&&(cn(t,e,a),tl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),a=ma(n);a.tag=2,t!=null&&(a.callback=t),t=ga(e,a,n),t!==null&&(cn(t,e,n),tl(t,e,n))}};function Td(e,t,n,a,i,r,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,y):t.prototype&&t.prototype.isPureReactComponent?!Fi(n,a)||!Fi(i,r):!0}function Nd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function Ka(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Ad(e){Xl(e)}function Dd(e){console.error(e)}function Od(e){Xl(e)}function pr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Md(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function mo(e,t,n){return n=ma(n),n.tag=3,n.payload={element:null},n.callback=function(){pr(e,t)},n}function Rd(e){return e=ma(e),e.tag=3,e}function Bd(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){Md(t,n,a)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Md(t,n,a),typeof i!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})})}function Vm(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&pi(t,n,i,!0),n=mn.current,n!==null){switch(n.tag){case 31:case 13:return Tn===null?Cr():n.alternate===null&&Rt===0&&(Rt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===tr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),qo(e,a,i)),!1;case 22:return n.flags|=65536,a===tr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),qo(e,a,i)),!1}throw Error(o(435,n.tag))}return qo(e,a,i),Cr(),!1}if(ot)return t=mn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Os&&(e=Error(o(422),{cause:a}),Wi(jn(e,n)))):(a!==Os&&(t=Error(o(423),{cause:a}),Wi(jn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=jn(a,n),i=mo(e.stateNode,a,i),Gs(e,i),Rt!==4&&(Rt=2)),!1;var r=Error(o(520),{cause:a});if(r=jn(r,n),ml===null?ml=[r]:ml.push(r),Rt!==4&&(Rt=2),t===null)return!0;a=jn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=mo(n.stateNode,a,e),Gs(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Sa===null||!Sa.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Rd(i),Bd(i,e,n,a),Gs(n,i),!1}n=n.return}while(n!==null);return!1}var go=Error(o(461)),Vt=!1;function Jt(e,t,n,a){t.child=e===null?qc(t,null,n,a):Ia(t,e.child,n,a)}function Ud(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var y={};for(var N in a)N!=="ref"&&(y[N]=a[N])}else y=a;return Ya(t),a=Ws(e,t,n,y,r,i),N=$s(),e!==null&&!Vt?(Js(e,t,i),Pn(e,t,i)):(ot&&N&&As(t),t.flags|=1,Jt(e,t,a,i),t.child)}function Ld(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!ks(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,Hd(e,t,r,a,i)):(e=Ql(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Eo(e,i)){var y=r.memoizedProps;if(n=n.compare,n=n!==null?n:Fi,n(y,a)&&e.ref===t.ref)return Pn(e,t,i)}return t.flags|=1,e=Fn(r,a),e.ref=t.ref,e.return=t,t.child=e}function Hd(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(Fi(r,a)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=a=r,Eo(e,i))(e.flags&131072)!==0&&(Vt=!0);else return t.lanes=e.lanes,Pn(e,t,i)}return yo(e,t,n,a,i)}function qd(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return Vd(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pl(t,r!==null?r.cachePool:null),r!==null?Zc(t,r):Is(),Gc(t);else return a=t.lanes=536870912,Vd(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(Pl(t,r.cachePool),Zc(t,r),va(),t.memoizedState=null):(e!==null&&Pl(t,null),Is(),va());return Jt(e,t,i,n),t.child}function ol(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vd(e,t,n,a,i){var r=qs();return r=r===null?null:{parent:Ht._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Pl(t,null),Is(),Gc(t),e!==null&&pi(e,t,a,!0),t.childLanes=i,null}function mr(e,t){return t=yr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Yd(e,t,n){return Ia(t,e.child,null,n),e=mr(t,t.pendingProps),e.flags|=2,gn(t),t.memoizedState=null,e}function Ym(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ot){if(a.mode==="hidden")return e=mr(t,a),t.lanes=536870912,ol(null,e);if(Ks(t),(e=Nt)?(e=th(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ca!==null?{id:Ln,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},n=jc(e),n.return=t,t.child=n,Wt=t,Nt=null)):e=null,e===null)throw fa(t);return t.lanes=536870912,null}return mr(t,a)}var r=e.memoizedState;if(r!==null){var y=r.dehydrated;if(Ks(t),i)if(t.flags&256)t.flags&=-257,t=Yd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Vt||pi(e,t,n,!1),i=(n&e.childLanes)!==0,Vt||i){if(a=Ct,a!==null&&(y=mt(a,n),y!==0&&y!==r.retryLane))throw r.retryLane=y,La(e,y),cn(a,e,y),go;Cr(),t=Yd(e,t,n)}else e=r.treeContext,Nt=Nn(y.nextSibling),Wt=t,ot=!0,da=null,kn=!1,e!==null&&kc(t,e),t=mr(t,a),t.flags|=4096;return t}return e=Fn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function gr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function yo(e,t,n,a,i){return Ya(t),n=Ws(e,t,n,a,void 0,i),a=$s(),e!==null&&!Vt?(Js(e,t,i),Pn(e,t,i)):(ot&&a&&As(t),t.flags|=1,Jt(e,t,n,i),t.child)}function Zd(e,t,n,a,i,r){return Ya(t),t.updateQueue=null,n=Ic(t,a,n,i),Xc(e),a=$s(),e!==null&&!Vt?(Js(e,t,r),Pn(e,t,r)):(ot&&a&&As(t),t.flags|=1,Jt(e,t,n,r),t.child)}function Gd(e,t,n,a,i){if(Ya(t),t.stateNode===null){var r=ci,y=n.contextType;typeof y=="object"&&y!==null&&(r=$t(y)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=po,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Ys(t),y=n.contextType,r.context=typeof y=="object"&&y!==null?$t(y):ci,r.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(ho(t,n,y,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(y=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),y!==r.state&&po.enqueueReplaceState(r,r.state,null),al(t,a,r,i),nl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var N=t.memoizedProps,G=Ka(n,N);r.props=G;var ie=r.context,me=n.contextType;y=ci,typeof me=="object"&&me!==null&&(y=$t(me));var Se=n.getDerivedStateFromProps;me=typeof Se=="function"||typeof r.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,me||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(N||ie!==y)&&Nd(t,r,a,y),pa=!1;var le=t.memoizedState;r.state=le,al(t,a,r,i),nl(),ie=t.memoizedState,N||le!==ie||pa?(typeof Se=="function"&&(ho(t,n,Se,a),ie=t.memoizedState),(G=pa||Td(t,n,G,a,le,ie,y))?(me||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=ie),r.props=a,r.state=ie,r.context=y,a=G):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Zs(e,t),y=t.memoizedProps,me=Ka(n,y),r.props=me,Se=t.pendingProps,le=r.context,ie=n.contextType,G=ci,typeof ie=="object"&&ie!==null&&(G=$t(ie)),N=n.getDerivedStateFromProps,(ie=typeof N=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(y!==Se||le!==G)&&Nd(t,r,a,G),pa=!1,le=t.memoizedState,r.state=le,al(t,a,r,i),nl();var ue=t.memoizedState;y!==Se||le!==ue||pa||e!==null&&e.dependencies!==null&&$l(e.dependencies)?(typeof N=="function"&&(ho(t,n,N,a),ue=t.memoizedState),(me=pa||Td(t,n,me,a,le,ue,G)||e!==null&&e.dependencies!==null&&$l(e.dependencies))?(ie||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,ue,G),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,ue,G)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||y===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ue),r.props=a,r.state=ue,r.context=G,a=me):(typeof r.componentDidUpdate!="function"||y===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,gr(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ia(t,e.child,null,i),t.child=Ia(t,null,n,i)):Jt(e,t,n,i),t.memoizedState=r.state,e=t.child):e=Pn(e,t,i),e}function Xd(e,t,n,a){return qa(),t.flags|=256,Jt(e,t,n,a),t.child}var vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bo(e){return{baseLanes:e,cachePool:Mc()}}function xo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=vn),e}function Id(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,y;if((y=r)||(y=e!==null&&e.memoizedState===null?!1:(Bt.current&2)!==0),y&&(i=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(i?ya(t):va(),(e=Nt)?(e=th(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ca!==null?{id:Ln,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},n=jc(e),n.return=t,t.child=n,Wt=t,Nt=null)):e=null,e===null)throw fa(t);return nu(e)?t.lanes=32:t.lanes=536870912,null}var N=a.children;return a=a.fallback,i?(va(),i=t.mode,N=yr({mode:"hidden",children:N},i),a=Ha(a,i,n,null),N.return=t,a.return=t,N.sibling=a,t.child=N,a=t.child,a.memoizedState=bo(n),a.childLanes=xo(e,y,n),t.memoizedState=vo,ol(null,a)):(ya(t),wo(t,N))}var G=e.memoizedState;if(G!==null&&(N=G.dehydrated,N!==null)){if(r)t.flags&256?(ya(t),t.flags&=-257,t=So(e,t,n)):t.memoizedState!==null?(va(),t.child=e.child,t.flags|=128,t=null):(va(),N=a.fallback,i=t.mode,a=yr({mode:"visible",children:a.children},i),N=Ha(N,i,n,null),N.flags|=2,a.return=t,N.return=t,a.sibling=N,t.child=a,Ia(t,e.child,null,n),a=t.child,a.memoizedState=bo(n),a.childLanes=xo(e,y,n),t.memoizedState=vo,t=ol(null,a));else if(ya(t),nu(N)){if(y=N.nextSibling&&N.nextSibling.dataset,y)var ie=y.dgst;y=ie,a=Error(o(419)),a.stack="",a.digest=y,Wi({value:a,source:null,stack:null}),t=So(e,t,n)}else if(Vt||pi(e,t,n,!1),y=(n&e.childLanes)!==0,Vt||y){if(y=Ct,y!==null&&(a=mt(y,n),a!==0&&a!==G.retryLane))throw G.retryLane=a,La(e,a),cn(y,e,a),go;tu(N)||Cr(),t=So(e,t,n)}else tu(N)?(t.flags|=192,t.child=e.child,t=null):(e=G.treeContext,Nt=Nn(N.nextSibling),Wt=t,ot=!0,da=null,kn=!1,e!==null&&kc(t,e),t=wo(t,a.children),t.flags|=4096);return t}return i?(va(),N=a.fallback,i=t.mode,G=e.child,ie=G.sibling,a=Fn(G,{mode:"hidden",children:a.children}),a.subtreeFlags=G.subtreeFlags&65011712,ie!==null?N=Fn(ie,N):(N=Ha(N,i,n,null),N.flags|=2),N.return=t,a.return=t,a.sibling=N,t.child=a,ol(null,a),a=t.child,N=e.child.memoizedState,N===null?N=bo(n):(i=N.cachePool,i!==null?(G=Ht._currentValue,i=i.parent!==G?{parent:G,pool:G}:i):i=Mc(),N={baseLanes:N.baseLanes|n,cachePool:i}),a.memoizedState=N,a.childLanes=xo(e,y,n),t.memoizedState=vo,ol(e.child,a)):(ya(t),n=e.child,e=n.sibling,n=Fn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function wo(e,t){return t=yr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yr(e,t){return e=pn(22,e,null,t),e.lanes=0,e}function So(e,t,n){return Ia(t,e.child,null,n),e=wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Bs(e.return,t,n)}function _o(e,t,n,a,i,r){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=a,y.tail=n,y.tailMode=i,y.treeForkCount=r)}function Kd(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var y=Bt.current,N=(y&2)!==0;if(N?(y=y&1|2,t.flags|=128):y&=1,de(Bt,y),Jt(e,t,a,n),a=ot?Qi:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fd(e,n,t);else if(e.tag===19)Fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&lr(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_o(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lr(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_o(t,!0,n,null,r,a);break;case"together":_o(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(pi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Eo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$l(e)))}function Zm(e,t,n){switch(t.tag){case 3:P(t,t.stateNode.containerInfo),ha(t,Ht,e.memoizedState.cache),qa();break;case 27:case 5:qe(t);break;case 4:P(t,t.stateNode.containerInfo);break;case 10:ha(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ks(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ya(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Id(e,t,n):(ya(t),e=Pn(e,t,n),e!==null?e.sibling:null);ya(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(pi(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Kd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(Bt,Bt.current),a)break;return null;case 22:return t.lanes=0,qd(e,t,n,t.pendingProps);case 24:ha(t,Ht,e.memoizedState.cache)}return Pn(e,t,n)}function Qd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Vt=!0;else{if(!Eo(e,n)&&(t.flags&128)===0)return Vt=!1,Zm(e,t,n);Vt=(e.flags&131072)!==0}else Vt=!1,ot&&(t.flags&1048576)!==0&&zc(t,Qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ga(t.elementType),t.type=e,typeof e=="function")ks(e)?(a=Ka(e,a),t.tag=1,t=Gd(null,t,e,a,n)):(t.tag=0,t=yo(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===B){t.tag=11,t=Ud(null,t,e,a,n);break e}else if(i===Z){t.tag=14,t=Ld(null,t,e,a,n);break e}}throw t=h(e)||e,Error(o(306,t,""))}}return t;case 0:return yo(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ka(a,t.pendingProps),Gd(e,t,a,i,n);case 3:e:{if(P(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,Zs(e,t),al(t,a,null,n);var y=t.memoizedState;if(a=y.cache,ha(t,Ht,a),a!==r.cache&&Us(t,[Ht],n,!0),nl(),a=y.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Xd(e,t,a,n);break e}else if(a!==i){i=jn(Error(o(424)),t),Wi(i),t=Xd(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Nt=Nn(e.firstChild),Wt=t,ot=!0,da=null,kn=!0,n=qc(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),a===i){t=Pn(e,t,n);break e}Jt(e,t,a,n)}t=t.child}return t;case 26:return gr(e,t),e===null?(n=sh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ot||(n=t.type,e=t.pendingProps,a=Or(Re.current).createElement(n),a[ht]=t,a[Tt]=e,Pt(a,n,e),It(a),t.stateNode=a):t.memoizedState=sh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qe(t),e===null&&ot&&(a=t.stateNode=ih(t.type,t.pendingProps,Re.current),Wt=t,kn=!0,i=Nt,Ca(t.type)?(au=i,Nt=Nn(a.firstChild)):Nt=i),Jt(e,t,t.pendingProps.children,n),gr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((i=a=Nt)&&(a=b0(a,t.type,t.pendingProps,kn),a!==null?(t.stateNode=a,Wt=t,Nt=Nn(a.firstChild),kn=!1,i=!0):i=!1),i||fa(t)),qe(t),i=t.type,r=t.pendingProps,y=e!==null?e.memoizedProps:null,a=r.children,Jo(i,r)?a=null:y!==null&&Jo(i,y)&&(t.flags|=32),t.memoizedState!==null&&(i=Ws(e,t,Mm,null,null,n),_l._currentValue=i),gr(e,t),Jt(e,t,a,n),t.child;case 6:return e===null&&ot&&((e=n=Nt)&&(n=x0(n,t.pendingProps,kn),n!==null?(t.stateNode=n,Wt=t,Nt=null,e=!0):e=!1),e||fa(t)),null;case 13:return Id(e,t,n);case 4:return P(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ia(t,null,a,n):Jt(e,t,a,n),t.child;case 11:return Ud(e,t,t.type,t.pendingProps,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ha(t,t.type,a.value),Jt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ya(t),i=$t(i),a=a(i),t.flags|=1,Jt(e,t,a,n),t.child;case 14:return Ld(e,t,t.type,t.pendingProps,n);case 15:return Hd(e,t,t.type,t.pendingProps,n);case 19:return Kd(e,t,n);case 31:return Ym(e,t,n);case 22:return qd(e,t,n,t.pendingProps);case 24:return Ya(t),a=$t(Ht),e===null?(i=qs(),i===null&&(i=Ct,r=Ls(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Ys(t),ha(t,Ht,i)):((e.lanes&n)!==0&&(Zs(e,t),al(t,null,null,n),nl()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ha(t,Ht,a)):(a=r.cache,ha(t,Ht,a),a!==i.cache&&Us(t,[Ht],n,!0))),Jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ea(e){e.flags|=4}function jo(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(_f())e.flags|=8192;else throw Xa=tr,Vs}else e.flags&=-16777217}function Wd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fh(t))if(_f())e.flags|=8192;else throw Xa=tr,Vs}function vr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ne():536870912,e.lanes|=t,Ci|=t)}function ul(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Gm(e,t,n){var a=t.pendingProps;switch(Ds(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return At(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Wn(Ht),_e(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hi(t)?ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ms())),At(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(ea(t),r!==null?(At(t),Wd(t,r)):(At(t),jo(t,i,null,a,n))):r?r!==e.memoizedState?(ea(t),At(t),Wd(t,r)):(At(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ea(t),At(t),jo(t,i,e,a,n)),null;case 27:if(Xe(t),n=Re.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return At(t),null}e=re.current,hi(t)?Tc(t):(e=ih(i,a,n),t.stateNode=e,ea(t))}return At(t),null;case 5:if(Xe(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return At(t),null}if(r=re.current,hi(t))Tc(t);else{var y=Or(Re.current);switch(r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?y.createElement("select",{is:a.is}):y.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?y.createElement(i,{is:a.is}):y.createElement(i)}}r[ht]=t,r[Tt]=a;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=r;e:switch(Pt(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ea(t)}}return At(t),jo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=Re.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Wt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[ht]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Ff(e.nodeValue,n)),e||fa(t,!0)}else e=Or(e).createTextNode(a),e[ht]=t,t.stateNode=e}return At(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=hi(t),n!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[ht]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),e=!1}else n=Ms(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(gn(t),t):(gn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return At(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=hi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(o(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));i[ht]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),i=!1}else i=Ms(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(gn(t),t):(gn(t),null)}return gn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),vr(t,t.updateQueue),At(t),null);case 4:return _e(),e===null&&Fo(t.stateNode.containerInfo),At(t),null;case 10:return Wn(t.type),At(t),null;case 19:if(R(Bt),a=t.memoizedState,a===null)return At(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)ul(a,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=lr(e),r!==null){for(t.flags|=128,ul(a,!1),e=r.updateQueue,t.updateQueue=e,vr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ec(n,e),n=n.sibling;return de(Bt,Bt.current&1|2),ot&&Kn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ae()>_r&&(t.flags|=128,i=!0,ul(a,!1),t.lanes=4194304)}else{if(!i)if(e=lr(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,vr(t,e),ul(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!ot)return At(t),null}else 2*Ae()-a.renderingStartTime>_r&&n!==536870912&&(t.flags|=128,i=!0,ul(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ae(),e.sibling=null,n=Bt.current,de(Bt,i?n&1|2:n&1),ot&&Kn(t,a.treeForkCount),e):(At(t),null);case 22:case 23:return gn(t),Fs(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),n=t.updateQueue,n!==null&&vr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&R(Za),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Wn(Ht),At(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Xm(e,t){switch(Ds(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(Ht),_e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xe(t),null;case 31:if(t.memoizedState!==null){if(gn(t),t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(gn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Bt),null;case 4:return _e(),null;case 10:return Wn(t.type),null;case 22:case 23:return gn(t),Fs(),e!==null&&R(Za),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Wn(Ht),null;case 25:return null;default:return null}}function $d(e,t){switch(Ds(t),t.tag){case 3:Wn(Ht),_e();break;case 26:case 27:case 5:Xe(t);break;case 4:_e();break;case 31:t.memoizedState!==null&&gn(t);break;case 13:gn(t);break;case 19:R(Bt);break;case 10:Wn(t.type);break;case 22:case 23:gn(t),Fs(),e!==null&&R(Za);break;case 24:Wn(Ht)}}function cl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,y=n.inst;a=r(),y.destroy=a}n=n.next}while(n!==i)}}catch(N){xt(t,t.return,N)}}function ba(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var y=a.inst,N=y.destroy;if(N!==void 0){y.destroy=void 0,i=t;var G=n,ie=N;try{ie()}catch(me){xt(i,G,me)}}}a=a.next}while(a!==r)}}catch(me){xt(t,t.return,me)}}function Jd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Yc(t,n)}catch(a){xt(e,e.return,a)}}}function Pd(e,t,n){n.props=Ka(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){xt(e,t,a)}}function dl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){xt(e,t,i)}}function qn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){xt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){xt(e,t,i)}else n.current=null}function ef(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){xt(e,e.return,i)}}function Co(e,t,n){try{var a=e.stateNode;h0(a,e.type,n,t),a[Tt]=t}catch(i){xt(e,e.return,i)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ca(e.type)||e.tag===4}function zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ko(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xn));else if(a!==4&&(a===27&&Ca(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ko(e,t,n),e=e.sibling;e!==null;)ko(e,t,n),e=e.sibling}function br(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Ca(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(br(e,t,n),e=e.sibling;e!==null;)br(e,t,n),e=e.sibling}function nf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pt(t,a,n),t[ht]=e,t[Tt]=n}catch(r){xt(e,e.return,r)}}var ta=!1,Yt=!1,To=!1,af=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Im(e,t){if(e=e.containerInfo,Wo=qr,e=mc(e),ws(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var y=0,N=-1,G=-1,ie=0,me=0,Se=e,le=null;t:for(;;){for(var ue;Se!==n||i!==0&&Se.nodeType!==3||(N=y+i),Se!==r||a!==0&&Se.nodeType!==3||(G=y+a),Se.nodeType===3&&(y+=Se.nodeValue.length),(ue=Se.firstChild)!==null;)le=Se,Se=ue;for(;;){if(Se===e)break t;if(le===n&&++ie===i&&(N=y),le===r&&++me===a&&(G=y),(ue=Se.nextSibling)!==null)break;Se=le,le=Se.parentNode}Se=ue}n=N===-1||G===-1?null:{start:N,end:G}}else n=null}n=n||{start:0,end:0}}else n=null;for($o={focusedElem:e,selectionRange:n},qr=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var Ue=Ka(n.type,i);e=a.getSnapshotBeforeUpdate(Ue,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){xt(n,n.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)eu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function lf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:aa(e,n),a&4&&cl(5,n);break;case 1:if(aa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){xt(n,n.return,y)}else{var i=Ka(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){xt(n,n.return,y)}}a&64&&Jd(n),a&512&&dl(n,n.return);break;case 3:if(aa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Yc(e,t)}catch(y){xt(n,n.return,y)}}break;case 27:t===null&&a&4&&nf(n);case 26:case 5:aa(e,n),t===null&&a&4&&ef(n),a&512&&dl(n,n.return);break;case 12:aa(e,n);break;case 31:aa(e,n),a&4&&of(e,n);break;case 13:aa(e,n),a&4&&uf(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=t0.bind(null,n),w0(e,n))));break;case 22:if(a=n.memoizedState!==null||ta,!a){t=t!==null&&t.memoizedState!==null||Yt,i=ta;var r=Yt;ta=a,(Yt=t)&&!r?ia(e,n,(n.subtreeFlags&8772)!==0):aa(e,n),ta=i,Yt=r}break;case 30:break;default:aa(e,n)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,rn=!1;function na(e,t,n){for(n=n.child;n!==null;)sf(e,t,n),n=n.sibling}function sf(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ct,n)}catch{}switch(n.tag){case 26:Yt||qn(n,t),na(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Yt||qn(n,t);var a=Dt,i=rn;Ca(n.type)&&(Dt=n.stateNode,rn=!1),na(e,t,n),xl(n.stateNode),Dt=a,rn=i;break;case 5:Yt||qn(n,t);case 6:if(a=Dt,i=rn,Dt=null,na(e,t,n),Dt=a,rn=i,Dt!==null)if(rn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(n.stateNode)}catch(r){xt(n,t,r)}else try{Dt.removeChild(n.stateNode)}catch(r){xt(n,t,r)}break;case 18:Dt!==null&&(rn?(e=Dt,Pf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Mi(e)):Pf(Dt,n.stateNode));break;case 4:a=Dt,i=rn,Dt=n.stateNode.containerInfo,rn=!0,na(e,t,n),Dt=a,rn=i;break;case 0:case 11:case 14:case 15:ba(2,n,t),Yt||ba(4,n,t),na(e,t,n);break;case 1:Yt||(qn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Pd(n,t,a)),na(e,t,n);break;case 21:na(e,t,n);break;case 22:Yt=(a=Yt)||n.memoizedState!==null,na(e,t,n),Yt=a;break;default:na(e,t,n)}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Mi(e)}catch(n){xt(t,t.return,n)}}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mi(e)}catch(n){xt(t,t.return,n)}}function Fm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(o(435,e.tag))}}function xr(e,t){var n=Fm(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=n0.bind(null,e,a);a.then(i,i)}})}function sn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,y=t,N=y;e:for(;N!==null;){switch(N.tag){case 27:if(Ca(N.type)){Dt=N.stateNode,rn=!1;break e}break;case 5:Dt=N.stateNode,rn=!1;break e;case 3:case 4:Dt=N.stateNode.containerInfo,rn=!0;break e}N=N.return}if(Dt===null)throw Error(o(160));sf(r,y,i),Dt=null,rn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}var Rn=null;function cf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(t,e),on(e),a&4&&(ba(3,e,e.return),cl(3,e),ba(5,e,e.return));break;case 1:sn(t,e),on(e),a&512&&(Yt||n===null||qn(n,n.return)),a&64&&ta&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Rn;if(sn(t,e),on(e),a&512&&(Yt||n===null||qn(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Ie]||r[ht]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),Pt(r,a,n),r[ht]=e,It(r),a=r;break e;case"link":var y=ch("link","href",i).get(a+(n.href||""));if(y){for(var N=0;N<y.length;N++)if(r=y[N],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(N,1);break t}}r=i.createElement(a),Pt(r,a,n),i.head.appendChild(r);break;case"meta":if(y=ch("meta","content",i).get(a+(n.content||""))){for(N=0;N<y.length;N++)if(r=y[N],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(N,1);break t}}r=i.createElement(a),Pt(r,a,n),i.head.appendChild(r);break;default:throw Error(o(468,a))}r[ht]=e,It(r),a=r}e.stateNode=a}else dh(i,e.type,e.stateNode);else e.stateNode=uh(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?dh(i,e.type,e.stateNode):uh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Co(e,e.memoizedProps,n.memoizedProps)}break;case 27:sn(t,e),on(e),a&512&&(Yt||n===null||qn(n,n.return)),n!==null&&a&4&&Co(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sn(t,e),on(e),a&512&&(Yt||n===null||qn(n,n.return)),e.flags&32){i=e.stateNode;try{ai(i,"")}catch(Ue){xt(e,e.return,Ue)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Co(e,i,n!==null?n.memoizedProps:i)),a&1024&&(To=!0);break;case 6:if(sn(t,e),on(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Ue){xt(e,e.return,Ue)}}break;case 3:if(Br=null,i=Rn,Rn=Mr(t.containerInfo),sn(t,e),Rn=i,on(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(Ue){xt(e,e.return,Ue)}To&&(To=!1,df(e));break;case 4:a=Rn,Rn=Mr(e.stateNode.containerInfo),sn(t,e),on(e),Rn=a;break;case 12:sn(t,e),on(e);break;case 31:sn(t,e),on(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xr(e,a)));break;case 13:sn(t,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Sr=Ae()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xr(e,a)));break;case 22:i=e.memoizedState!==null;var G=n!==null&&n.memoizedState!==null,ie=ta,me=Yt;if(ta=ie||i,Yt=me||G,sn(t,e),Yt=me,ta=ie,on(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||G||ta||Yt||Qa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){G=n=t;try{if(r=G.stateNode,i)y=r.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{N=G.stateNode;var Se=G.memoizedProps.style,le=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;N.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ue){xt(G,G.return,Ue)}}}else if(t.tag===6){if(n===null){G=t;try{G.stateNode.nodeValue=i?"":G.memoizedProps}catch(Ue){xt(G,G.return,Ue)}}}else if(t.tag===18){if(n===null){G=t;try{var ue=G.stateNode;i?eh(ue,!0):eh(G.stateNode,!1)}catch(Ue){xt(G,G.return,Ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,xr(e,n))));break;case 19:sn(t,e),on(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xr(e,a)));break;case 30:break;case 21:break;default:sn(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(tf(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode,r=zo(e);br(e,r,i);break;case 5:var y=n.stateNode;n.flags&32&&(ai(y,""),n.flags&=-33);var N=zo(e);br(e,N,y);break;case 3:case 4:var G=n.stateNode.containerInfo,ie=zo(e);ko(e,ie,G);break;default:throw Error(o(161))}}catch(me){xt(e,e.return,me)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function aa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ba(4,t,t.return),Qa(t);break;case 1:qn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Pd(t,t.return,n),Qa(t);break;case 27:xl(t.stateNode);case 26:case 5:qn(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function ia(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,y=r.flags;switch(r.tag){case 0:case 11:case 15:ia(i,r,n),cl(4,r);break;case 1:if(ia(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(ie){xt(a,a.return,ie)}if(a=r,i=a.updateQueue,i!==null){var N=a.stateNode;try{var G=i.shared.hiddenCallbacks;if(G!==null)for(i.shared.hiddenCallbacks=null,i=0;i<G.length;i++)Vc(G[i],N)}catch(ie){xt(a,a.return,ie)}}n&&y&64&&Jd(r),dl(r,r.return);break;case 27:nf(r);case 26:case 5:ia(i,r,n),n&&a===null&&y&4&&ef(r),dl(r,r.return);break;case 12:ia(i,r,n);break;case 31:ia(i,r,n),n&&y&4&&of(i,r);break;case 13:ia(i,r,n),n&&y&4&&uf(i,r);break;case 22:r.memoizedState===null&&ia(i,r,n),dl(r,r.return);break;case 30:break;default:ia(i,r,n)}t=t.sibling}}function No(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$i(n))}function Ao(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e))}function Bn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,n,a),t=t.sibling}function ff(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bn(e,t,n,a),i&2048&&cl(9,t);break;case 1:Bn(e,t,n,a);break;case 3:Bn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e)));break;case 12:if(i&2048){Bn(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,y=r.id,N=r.onPostCommit;typeof N=="function"&&N(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(G){xt(t,t.return,G)}}else Bn(e,t,n,a);break;case 31:Bn(e,t,n,a);break;case 13:Bn(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,y=t.alternate,t.memoizedState!==null?r._visibility&2?Bn(e,t,n,a):fl(e,t):r._visibility&2?Bn(e,t,n,a):(r._visibility|=2,_i(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&No(y,t);break;case 24:Bn(e,t,n,a),i&2048&&Ao(t.alternate,t);break;default:Bn(e,t,n,a)}}function _i(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,y=t,N=n,G=a,ie=y.flags;switch(y.tag){case 0:case 11:case 15:_i(r,y,N,G,i),cl(8,y);break;case 23:break;case 22:var me=y.stateNode;y.memoizedState!==null?me._visibility&2?_i(r,y,N,G,i):fl(r,y):(me._visibility|=2,_i(r,y,N,G,i)),i&&ie&2048&&No(y.alternate,y);break;case 24:_i(r,y,N,G,i),i&&ie&2048&&Ao(y.alternate,y);break;default:_i(r,y,N,G,i)}t=t.sibling}}function fl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:fl(n,a),i&2048&&No(a.alternate,a);break;case 24:fl(n,a),i&2048&&Ao(a.alternate,a);break;default:fl(n,a)}t=t.sibling}}var hl=8192;function Ei(e,t,n){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)hf(e,t,n),e=e.sibling}function hf(e,t,n){switch(e.tag){case 26:Ei(e,t,n),e.flags&hl&&e.memoizedState!==null&&O0(n,Rn,e.memoizedState,e.memoizedProps);break;case 5:Ei(e,t,n);break;case 3:case 4:var a=Rn;Rn=Mr(e.stateNode.containerInfo),Ei(e,t,n),Rn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=hl,hl=16777216,Ei(e,t,n),hl=a):Ei(e,t,n));break;default:Ei(e,t,n)}}function pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ft=a,gf(a,e)}pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&ba(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wr(e)):pl(e);break;default:pl(e)}}function wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ft=a,gf(a,e)}pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ba(8,t,t.return),wr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,wr(t));break;default:wr(t)}e=e.sibling}}function gf(e,t){for(;Ft!==null;){var n=Ft;switch(n.tag){case 0:case 11:case 15:ba(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$i(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ft=a;else e:for(n=e;Ft!==null;){a=Ft;var i=a.sibling,r=a.return;if(rf(a),a===n){Ft=null;break e}if(i!==null){i.return=r,Ft=i;break e}Ft=r}}}var Km={getCacheForType:function(e){var t=$t(Ht),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return $t(Ht).controller.signal}},Qm=typeof WeakMap=="function"?WeakMap:Map,pt=0,Ct=null,at=null,rt=0,bt=0,yn=null,xa=!1,ji=!1,Do=!1,la=0,Rt=0,wa=0,Wa=0,Oo=0,vn=0,Ci=0,ml=null,un=null,Mo=!1,Sr=0,yf=0,_r=1/0,Er=null,Sa=null,Gt=0,_a=null,zi=null,ra=0,Ro=0,Bo=null,vf=null,gl=0,Uo=null;function bn(){return(pt&2)!==0&&rt!==0?rt&-rt:Y.T!==null?Zo():Et()}function bf(){if(vn===0)if((rt&536870912)===0||ot){var e=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),vn=e}else vn=536870912;return e=mn.current,e!==null&&(e.flags|=32),vn}function cn(e,t,n){(e===Ct&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(ki(e,0),Ea(e,rt,vn,!1)),Ce(e,n),((pt&2)===0||e!==Ct)&&(e===Ct&&((pt&2)===0&&(Wa|=n),Rt===4&&Ea(e,rt,vn,!1)),Vn(e))}function xf(e,t,n){if((pt&6)!==0)throw Error(o(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||we(e,t),i=a?Jm(e,t):Ho(e,t,!0),r=a;do{if(i===0){ji&&!a&&Ea(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Wm(n)){i=Ho(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var N=e;i=ml;var G=N.current.memoizedState.isDehydrated;if(G&&(ki(N,y).flags|=256),y=Ho(N,y,!1),y!==2){if(Do&&!G){N.errorRecoveryDisabledLanes|=r,Wa|=r,i=4;break e}r=un,un=i,r!==null&&(un===null?un=r:un.push.apply(un,r))}i=y}if(r=!1,i!==2)continue}}if(i===1){ki(e,0),Ea(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Ea(a,t,vn,!xa);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(i=Sr+300-Ae(),10<i)){if(Ea(a,t,vn,!xa),ve(a,0,!0)!==0)break e;ra=t,a.timeoutHandle=$f(wf.bind(null,a,n,un,Er,Mo,t,vn,Wa,Ci,xa,r,"Throttled",-0,0),i);break e}wf(a,n,un,Er,Mo,t,vn,Wa,Ci,xa,r,null,-0,0)}}break}while(!0);Vn(e)}function wf(e,t,n,a,i,r,y,N,G,ie,me,Se,le,ue){if(e.timeoutHandle=-1,Se=t.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},hf(t,r,Se);var Ue=(r&62914560)===r?Sr-Ae():(r&4194048)===r?yf-Ae():0;if(Ue=M0(Se,Ue),Ue!==null){ra=r,e.cancelPendingCommit=Ue(Tf.bind(null,e,t,r,n,a,i,y,N,G,me,Se,null,le,ue)),Ea(e,r,y,!ie);return}}Tf(e,t,r,n,a,i,y,N,G)}function Wm(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!hn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ea(e,t,n,a){t&=~Oo,t&=~Wa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-gt(i),y=1<<r;a[r]=-1,i&=~y}n!==0&&Be(e,n,t)}function jr(){return(pt&6)===0?(yl(0),!1):!0}function Lo(){if(at!==null){if(bt===0)var e=at.return;else e=at,Qn=Va=null,Ps(e),vi=null,Pi=0,e=at;for(;e!==null;)$d(e.alternate,e),e=e.return;at=null}}function ki(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,g0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ra=0,Lo(),Ct=e,at=n=Fn(e.current,null),rt=t,bt=0,yn=null,xa=!1,ji=we(e,t),Do=!1,Ci=vn=Oo=Wa=wa=Rt=0,un=ml=null,Mo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-gt(a),r=1<<i;t|=e[i],a&=~r}return la=t,Il(),n}function Sf(e,t){$e=null,Y.H=sl,t===yi||t===er?(t=Uc(),bt=3):t===Vs?(t=Uc(),bt=4):bt=t===go?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,yn=t,at===null&&(Rt=1,pr(e,jn(t,e.current)))}function _f(){var e=mn.current;return e===null?!0:(rt&4194048)===rt?Tn===null:(rt&62914560)===rt||(rt&536870912)!==0?e===Tn:!1}function Ef(){var e=Y.H;return Y.H=sl,e===null?sl:e}function jf(){var e=Y.A;return Y.A=Km,e}function Cr(){Rt=4,xa||(rt&4194048)!==rt&&mn.current!==null||(ji=!0),(wa&134217727)===0&&(Wa&134217727)===0||Ct===null||Ea(Ct,rt,vn,!1)}function Ho(e,t,n){var a=pt;pt|=2;var i=Ef(),r=jf();(Ct!==e||rt!==t)&&(Er=null,ki(e,t)),t=!1;var y=Rt;e:do try{if(bt!==0&&at!==null){var N=at,G=yn;switch(bt){case 8:Lo(),y=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var ie=bt;if(bt=0,yn=null,Ti(e,N,G,ie),n&&ji){y=0;break e}break;default:ie=bt,bt=0,yn=null,Ti(e,N,G,ie)}}$m(),y=Rt;break}catch(me){Sf(e,me)}while(!0);return t&&e.shellSuspendCounter++,Qn=Va=null,pt=a,Y.H=i,Y.A=r,at===null&&(Ct=null,rt=0,Il()),y}function $m(){for(;at!==null;)Cf(at)}function Jm(e,t){var n=pt;pt|=2;var a=Ef(),i=jf();Ct!==e||rt!==t?(Er=null,_r=Ae()+500,ki(e,t)):ji=we(e,t);e:do try{if(bt!==0&&at!==null){t=at;var r=yn;t:switch(bt){case 1:bt=0,yn=null,Ti(e,t,r,1);break;case 2:case 9:if(Rc(r)){bt=0,yn=null,zf(t);break}t=function(){bt!==2&&bt!==9||Ct!==e||(bt=7),Vn(e)},r.then(t,t);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:Rc(r)?(bt=0,yn=null,zf(t)):(bt=0,yn=null,Ti(e,t,r,7));break;case 5:var y=null;switch(at.tag){case 26:y=at.memoizedState;case 5:case 27:var N=at;if(y?fh(y):N.stateNode.complete){bt=0,yn=null;var G=N.sibling;if(G!==null)at=G;else{var ie=N.return;ie!==null?(at=ie,zr(ie)):at=null}break t}}bt=0,yn=null,Ti(e,t,r,5);break;case 6:bt=0,yn=null,Ti(e,t,r,6);break;case 8:Lo(),Rt=6;break e;default:throw Error(o(462))}}Pm();break}catch(me){Sf(e,me)}while(!0);return Qn=Va=null,Y.H=a,Y.A=i,pt=n,at!==null?0:(Ct=null,rt=0,Il(),Rt)}function Pm(){for(;at!==null&&!J();)Cf(at)}function Cf(e){var t=Qd(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?zr(e):at=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zd(n,t,t.pendingProps,t.type,void 0,rt);break;case 11:t=Zd(n,t,t.pendingProps,t.type.render,t.ref,rt);break;case 5:Ps(t);default:$d(n,t),t=at=Ec(t,la),t=Qd(n,t,la)}e.memoizedProps=e.pendingProps,t===null?zr(e):at=t}function Ti(e,t,n,a){Qn=Va=null,Ps(t),vi=null,Pi=0;var i=t.return;try{if(Vm(e,i,t,n,rt)){Rt=1,pr(e,jn(n,e.current)),at=null;return}}catch(r){if(i!==null)throw at=i,r;Rt=1,pr(e,jn(n,e.current)),at=null;return}t.flags&32768?(ot||a===1?e=!0:ji||(rt&536870912)!==0?e=!1:(xa=e=!0,(a===2||a===9||a===3||a===6)&&(a=mn.current,a!==null&&a.tag===13&&(a.flags|=16384))),kf(t,e)):zr(t)}function zr(e){var t=e;do{if((t.flags&32768)!==0){kf(t,xa);return}e=t.return;var n=Gm(t.alternate,t,la);if(n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);Rt===0&&(Rt=5)}function kf(e,t){do{var n=Xm(e.alternate,e);if(n!==null){n.flags&=32767,at=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){at=e;return}at=e=n}while(e!==null);Rt=6,at=null}function Tf(e,t,n,a,i,r,y,N,G){e.cancelPendingCommit=null;do kr();while(Gt!==0);if((pt&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,r|=Cs,Me(e,n,r,y,N,G),e===Ct&&(at=Ct=null,rt=0),zi=t,_a=e,ra=n,Ro=r,Bo=i,vf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,a0(Qe,function(){return Mf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null,i=H.p,H.p=2,y=pt,pt|=4;try{Im(e,t,n)}finally{pt=y,H.p=i,Y.T=a}}Gt=1,Nf(),Af(),Df()}}function Nf(){if(Gt===1){Gt=0;var e=_a,t=zi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var a=H.p;H.p=2;var i=pt;pt|=4;try{cf(t,e);var r=$o,y=mc(e.containerInfo),N=r.focusedElem,G=r.selectionRange;if(y!==N&&N&&N.ownerDocument&&pc(N.ownerDocument.documentElement,N)){if(G!==null&&ws(N)){var ie=G.start,me=G.end;if(me===void 0&&(me=ie),"selectionStart"in N)N.selectionStart=ie,N.selectionEnd=Math.min(me,N.value.length);else{var Se=N.ownerDocument||document,le=Se&&Se.defaultView||window;if(le.getSelection){var ue=le.getSelection(),Ue=N.textContent.length,Fe=Math.min(G.start,Ue),_t=G.end===void 0?Fe:Math.min(G.end,Ue);!ue.extend&&Fe>_t&&(y=_t,_t=Fe,Fe=y);var $=hc(N,Fe),X=hc(N,_t);if($&&X&&(ue.rangeCount!==1||ue.anchorNode!==$.node||ue.anchorOffset!==$.offset||ue.focusNode!==X.node||ue.focusOffset!==X.offset)){var ae=Se.createRange();ae.setStart($.node,$.offset),ue.removeAllRanges(),Fe>_t?(ue.addRange(ae),ue.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),ue.addRange(ae))}}}}for(Se=[],ue=N;ue=ue.parentNode;)ue.nodeType===1&&Se.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Se.length;N++){var be=Se[N];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}qr=!!Wo,$o=Wo=null}finally{pt=i,H.p=a,Y.T=n}}e.current=t,Gt=2}}function Af(){if(Gt===2){Gt=0;var e=_a,t=zi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var a=H.p;H.p=2;var i=pt;pt|=4;try{lf(e,t.alternate,t)}finally{pt=i,H.p=a,Y.T=n}}Gt=3}}function Df(){if(Gt===4||Gt===3){Gt=0,Te();var e=_a,t=zi,n=ra,a=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Gt=5:(Gt=0,zi=_a=null,Of(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Sa=null),nt(n),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ct,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Y.T,i=H.p,H.p=2,Y.T=null;try{for(var r=e.onRecoverableError,y=0;y<a.length;y++){var N=a[y];r(N.value,{componentStack:N.stack})}}finally{Y.T=t,H.p=i}}(ra&3)!==0&&kr(),Vn(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Uo?gl++:(gl=0,Uo=e):gl=0,yl(0)}}function Of(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$i(t)))}function kr(){return Nf(),Af(),Df(),Mf()}function Mf(){if(Gt!==5)return!1;var e=_a,t=Ro;Ro=0;var n=nt(ra),a=Y.T,i=H.p;try{H.p=32>n?32:n,Y.T=null,n=Bo,Bo=null;var r=_a,y=ra;if(Gt=0,zi=_a=null,ra=0,(pt&6)!==0)throw Error(o(331));var N=pt;if(pt|=4,mf(r.current),ff(r,r.current,y,n),pt=N,yl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ct,r)}catch{}return!0}finally{H.p=i,Y.T=a,Of(e,t)}}function Rf(e,t,n){t=jn(n,t),t=mo(e.stateNode,t,2),e=ga(e,t,2),e!==null&&(Ce(e,2),Vn(e))}function xt(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Sa===null||!Sa.has(a))){e=jn(n,e),n=Rd(2),a=ga(t,n,2),a!==null&&(Bd(n,a,t,e),Ce(a,2),Vn(a));break}}t=t.return}}function qo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Qm;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Do=!0,i.add(n),e=e0.bind(null,e,t,n),t.then(e,e))}function e0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ct===e&&(rt&n)===n&&(Rt===4||Rt===3&&(rt&62914560)===rt&&300>Ae()-Sr?(pt&2)===0&&ki(e,0):Oo|=n,Ci===rt&&(Ci=0)),Vn(e)}function Bf(e,t){t===0&&(t=Ne()),e=La(e,t),e!==null&&(Ce(e,t),Vn(e))}function t0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bf(e,n)}function n0(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Bf(e,n)}function a0(e,t){return ge(e,t)}var Tr=null,Ni=null,Vo=!1,Nr=!1,Yo=!1,ja=0;function Vn(e){e!==Ni&&e.next===null&&(Ni===null?Tr=Ni=e:Ni=Ni.next=e),Nr=!0,Vo||(Vo=!0,l0())}function yl(e,t){if(!Yo&&Nr){Yo=!0;do for(var n=!1,a=Tr;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var y=a.suspendedLanes,N=a.pingedLanes;r=(1<<31-gt(42|e)+1)-1,r&=i&~(y&~N),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,qf(a,r))}else r=rt,r=ve(a,a===Ct?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||we(a,r)||(n=!0,qf(a,r));a=a.next}while(n);Yo=!1}}function i0(){Uf()}function Uf(){Nr=Vo=!1;var e=0;ja!==0&&m0()&&(e=ja);for(var t=Ae(),n=null,a=Tr;a!==null;){var i=a.next,r=Lf(a,t);r===0?(a.next=null,n===null?Tr=i:n.next=i,i===null&&(Ni=n)):(n=a,(e!==0||(r&3)!==0)&&(Nr=!0)),a=i}Gt!==0&&Gt!==5||yl(e),ja!==0&&(ja=0)}function Lf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var y=31-gt(r),N=1<<y,G=i[y];G===-1?((N&n)===0||(N&a)!==0)&&(i[y]=ke(N,t)):G<=t&&(e.expiredLanes|=N),r&=~N}if(t=Ct,n=rt,n=ve(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&je(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||we(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&je(a),nt(n)){case 2:case 8:n=ut;break;case 32:n=Qe;break;case 268435456:n=an;break;default:n=Qe}return a=Hf.bind(null,e),n=ge(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&je(a),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(kr()&&e.callbackNode!==n)return null;var a=rt;return a=ve(e,e===Ct?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(xf(e,a,t),Lf(e,Ae()),e.callbackNode!=null&&e.callbackNode===n?Hf.bind(null,e):null)}function qf(e,t){if(kr())return null;xf(e,t,!0)}function l0(){y0(function(){(pt&6)!==0?ge(Ve,i0):Uf()})}function Zo(){if(ja===0){var e=mi;e===0&&(e=fe,fe<<=1,(fe&261888)===0&&(fe=256)),ja=e}return ja}function Vf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function Yf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function r0(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=Vf((i[Tt]||null).action),y=a.submitter;y&&(t=(t=y[Tt]||null)?Vf(t.formAction):y.getAttribute("formAction"),t!==null&&(r=t,y=null));var N=new Yl("action","action",null,a,i);e.push({event:N,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ja!==0){var G=y?Yf(i,y):new FormData(i);oo(n,{pending:!0,data:G,method:i.method,action:r},null,G)}}else typeof r=="function"&&(N.preventDefault(),G=y?Yf(i,y):new FormData(i),oo(n,{pending:!0,data:G,method:i.method,action:r},r,G))},currentTarget:i}]})}}for(var Go=0;Go<js.length;Go++){var Xo=js[Go],s0=Xo.toLowerCase(),o0=Xo[0].toUpperCase()+Xo.slice(1);Mn(s0,"on"+o0)}Mn(vc,"onAnimationEnd"),Mn(bc,"onAnimationIteration"),Mn(xc,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Em,"onTransitionRun"),Mn(jm,"onTransitionStart"),Mn(Cm,"onTransitionCancel"),Mn(wc,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var y=a.length-1;0<=y;y--){var N=a[y],G=N.instance,ie=N.currentTarget;if(N=N.listener,G!==r&&i.isPropagationStopped())break e;r=N,i.currentTarget=ie;try{r(i)}catch(me){Xl(me)}i.currentTarget=null,r=G}else for(y=0;y<a.length;y++){if(N=a[y],G=N.instance,ie=N.currentTarget,N=N.listener,G!==r&&i.isPropagationStopped())break e;r=N,i.currentTarget=ie;try{r(i)}catch(me){Xl(me)}i.currentTarget=null,r=G}}}}function it(e,t){var n=t[ze];n===void 0&&(n=t[ze]=new Set);var a=e+"__bubble";n.has(a)||(Gf(t,e,2,!1),n.add(a))}function Io(e,t,n){var a=0;t&&(a|=4),Gf(n,e,a,t)}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Ar]){e[Ar]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(u0.has(n)||Io(n,!1,e),Io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ar]||(t[Ar]=!0,Io("selectionchange",!1,t))}}function Gf(e,t,n,a){switch(bh(t)){case 2:var i=U0;break;case 8:i=L0;break;default:i=ou}n=i.bind(null,t,n,e),i=void 0,!fs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ko(e,t,n,a,i){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var N=a.stateNode.containerInfo;if(N===i)break;if(y===4)for(y=a.return;y!==null;){var G=y.tag;if((G===3||G===4)&&y.stateNode.containerInfo===i)return;y=y.return}for(;N!==null;){if(y=fn(N),y===null)return;if(G=y.tag,G===5||G===6||G===26||G===27){a=r=y;continue e}N=N.parentNode}}a=a.return}Ku(function(){var ie=r,me=cs(n),Se=[];e:{var le=Sc.get(e);if(le!==void 0){var ue=Yl,Ue=e;switch(e){case"keypress":if(ql(n)===0)break e;case"keydown":case"keyup":ue=nm;break;case"focusin":Ue="focus",ue=gs;break;case"focusout":Ue="blur",ue=gs;break;case"beforeblur":case"afterblur":ue=gs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=lm;break;case vc:case bc:case xc:ue=Fp;break;case wc:ue=sm;break;case"scroll":case"scrollend":ue=Yp;break;case"wheel":ue=um;break;case"copy":case"cut":case"paste":ue=Qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Pu;break;case"toggle":case"beforetoggle":ue=dm}var Fe=(t&4)!==0,_t=!Fe&&(e==="scroll"||e==="scrollend"),$=Fe?le!==null?le+"Capture":null:le;Fe=[];for(var X=ie,ae;X!==null;){var be=X;if(ae=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ae===null||$===null||(be=qi(X,$),be!=null&&Fe.push(bl(X,be,ae))),_t)break;X=X.return}0<Fe.length&&(le=new ue(le,Ue,null,n,me),Se.push({event:le,listeners:Fe}))}}if((t&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",ue=e==="mouseout"||e==="pointerout",le&&n!==us&&(Ue=n.relatedTarget||n.fromElement)&&(fn(Ue)||Ue[oe]))break e;if((ue||le)&&(le=me.window===me?me:(le=me.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(Ue=n.relatedTarget||n.toElement,ue=ie,Ue=Ue?fn(Ue):null,Ue!==null&&(_t=c(Ue),Fe=Ue.tag,Ue!==_t||Fe!==5&&Fe!==27&&Fe!==6)&&(Ue=null)):(ue=null,Ue=ie),ue!==Ue)){if(Fe=$u,be="onMouseLeave",$="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=Pu,be="onPointerLeave",$="onPointerEnter",X="pointer"),_t=ue==null?le:Zn(ue),ae=Ue==null?le:Zn(Ue),le=new Fe(be,X+"leave",ue,n,me),le.target=_t,le.relatedTarget=ae,be=null,fn(me)===ie&&(Fe=new Fe($,X+"enter",Ue,n,me),Fe.target=ae,Fe.relatedTarget=_t,be=Fe),_t=be,ue&&Ue)t:{for(Fe=c0,$=ue,X=Ue,ae=0,be=$;be;be=Fe(be))ae++;be=0;for(var Ge=X;Ge;Ge=Fe(Ge))be++;for(;0<ae-be;)$=Fe($),ae--;for(;0<be-ae;)X=Fe(X),be--;for(;ae--;){if($===X||X!==null&&$===X.alternate){Fe=$;break t}$=Fe($),X=Fe(X)}Fe=null}else Fe=null;ue!==null&&Xf(Se,le,ue,Fe,!1),Ue!==null&&_t!==null&&Xf(Se,_t,Ue,Fe,!0)}}e:{if(le=ie?Zn(ie):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var dt=sc;else if(lc(le))if(oc)dt=wm;else{dt=bm;var Ze=vm}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ie&&os(ie.elementType)&&(dt=sc):dt=xm;if(dt&&(dt=dt(e,ie))){rc(Se,dt,n,me);break e}Ze&&Ze(e,le,ie),e==="focusout"&&ie&&le.type==="number"&&ie.memoizedProps.value!=null&&ss(le,"number",le.value)}switch(Ze=ie?Zn(ie):window,e){case"focusin":(lc(Ze)||Ze.contentEditable==="true")&&(si=Ze,Ss=ie,Ki=null);break;case"focusout":Ki=Ss=si=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,gc(Se,n,me);break;case"selectionchange":if(_m)break;case"keydown":case"keyup":gc(Se,n,me)}var Pe;if(vs)e:{switch(e){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ri?ac(e,n)&&(st="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(st="onCompositionStart");st&&(ec&&n.locale!=="ko"&&(ri||st!=="onCompositionStart"?st==="onCompositionEnd"&&ri&&(Pe=Qu()):(ua=me,hs="value"in ua?ua.value:ua.textContent,ri=!0)),Ze=Dr(ie,st),0<Ze.length&&(st=new Ju(st,e,null,n,me),Se.push({event:st,listeners:Ze}),Pe?st.data=Pe:(Pe=ic(n),Pe!==null&&(st.data=Pe)))),(Pe=hm?pm(e,n):mm(e,n))&&(st=Dr(ie,"onBeforeInput"),0<st.length&&(Ze=new Ju("onBeforeInput","beforeinput",null,n,me),Se.push({event:Ze,listeners:st}),Ze.data=Pe)),r0(Se,e,ie,n,me)}Zf(Se,t)})}function bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=qi(e,n),i!=null&&a.unshift(bl(e,i,r)),i=qi(e,t),i!=null&&a.push(bl(e,i,r))),e.tag===3)return a;e=e.return}return[]}function c0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,a,i){for(var r=t._reactName,y=[];n!==null&&n!==a;){var N=n,G=N.alternate,ie=N.stateNode;if(N=N.tag,G!==null&&G===a)break;N!==5&&N!==26&&N!==27||ie===null||(G=ie,i?(ie=qi(n,r),ie!=null&&y.unshift(bl(n,ie,G))):i||(ie=qi(n,r),ie!=null&&y.push(bl(n,ie,G)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var d0=/\r\n?/g,f0=/\u0000|\uFFFD/g;function If(e){return(typeof e=="string"?e:""+e).replace(d0,`
`).replace(f0,"")}function Ff(e,t){return t=If(t),If(e)===t}function St(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ai(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ai(e,""+a);break;case"className":Bl(e,"class",a);break;case"tabIndex":Bl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Bl(e,n,a);break;case"style":Iu(e,a,r);break;case"data":if(t!=="object"){Bl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ll(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&St(e,t,"name",i.name,i,null),St(e,t,"formEncType",i.formEncType,i,null),St(e,t,"formMethod",i.formMethod,i,null),St(e,t,"formTarget",i.formTarget,i,null)):(St(e,t,"encType",i.encType,i,null),St(e,t,"method",i.method,i,null),St(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ll(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Xn);break;case"onScroll":a!=null&&it("scroll",e);break;case"onScrollEnd":a!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ll(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":it("beforetoggle",e),it("toggle",e),Rl(e,"popover",a);break;case"xlinkActuate":Gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Gn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Gn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Gn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Gn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Rl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=qp.get(n)||n,Rl(e,n,a))}}function Qo(e,t,n,a,i,r){switch(n){case"style":Iu(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ai(e,a):(typeof a=="number"||typeof a=="bigint")&&ai(e,""+a);break;case"onScroll":a!=null&&it("scroll",e);break;case"onScrollEnd":a!=null&&it("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uu.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[Tt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Rl(e,n,a)}}}function Pt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var y=n[r];if(y!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:St(e,t,r,y,n,null)}}i&&St(e,t,"srcSet",n.srcSet,n,null),a&&St(e,t,"src",n.src,n,null);return;case"input":it("invalid",e);var N=r=y=i=null,G=null,ie=null;for(a in n)if(n.hasOwnProperty(a)){var me=n[a];if(me!=null)switch(a){case"name":i=me;break;case"type":y=me;break;case"checked":G=me;break;case"defaultChecked":ie=me;break;case"value":r=me;break;case"defaultValue":N=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,t));break;default:St(e,t,a,me,n,null)}}Yu(e,r,N,G,ie,y,i,!1);return;case"select":it("invalid",e),a=y=r=null;for(i in n)if(n.hasOwnProperty(i)&&(N=n[i],N!=null))switch(i){case"value":r=N;break;case"defaultValue":y=N;break;case"multiple":a=N;default:St(e,t,i,N,n,null)}t=r,n=y,e.multiple=!!a,t!=null?ni(e,!!a,t,!1):n!=null&&ni(e,!!a,n,!0);return;case"textarea":it("invalid",e),r=i=a=null;for(y in n)if(n.hasOwnProperty(y)&&(N=n[y],N!=null))switch(y){case"value":a=N;break;case"defaultValue":i=N;break;case"children":r=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:St(e,t,y,N,n,null)}Gu(e,a,i,r);return;case"option":for(G in n)n.hasOwnProperty(G)&&(a=n[G],a!=null)&&(G==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":St(e,t,G,a,n,null));return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(a=0;a<vl.length;a++)it(vl[a],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in n)if(n.hasOwnProperty(ie)&&(a=n[ie],a!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:St(e,t,ie,a,n,null)}return;default:if(os(t)){for(me in n)n.hasOwnProperty(me)&&(a=n[me],a!==void 0&&Qo(e,t,me,a,n,void 0));return}}for(N in n)n.hasOwnProperty(N)&&(a=n[N],a!=null&&St(e,t,N,a,n,null))}function h0(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,y=null,N=null,G=null,ie=null,me=null;for(ue in n){var Se=n[ue];if(n.hasOwnProperty(ue)&&Se!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":G=Se;default:a.hasOwnProperty(ue)||St(e,t,ue,null,a,Se)}}for(var le in a){var ue=a[le];if(Se=n[le],a.hasOwnProperty(le)&&(ue!=null||Se!=null))switch(le){case"type":r=ue;break;case"name":i=ue;break;case"checked":ie=ue;break;case"defaultChecked":me=ue;break;case"value":y=ue;break;case"defaultValue":N=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(o(137,t));break;default:ue!==Se&&St(e,t,le,ue,a,Se)}}rs(e,y,N,G,ie,me,r,i);return;case"select":ue=y=N=le=null;for(r in n)if(G=n[r],n.hasOwnProperty(r)&&G!=null)switch(r){case"value":break;case"multiple":ue=G;default:a.hasOwnProperty(r)||St(e,t,r,null,a,G)}for(i in a)if(r=a[i],G=n[i],a.hasOwnProperty(i)&&(r!=null||G!=null))switch(i){case"value":le=r;break;case"defaultValue":N=r;break;case"multiple":y=r;default:r!==G&&St(e,t,i,r,a,G)}t=N,n=y,a=ue,le!=null?ni(e,!!n,le,!1):!!a!=!!n&&(t!=null?ni(e,!!n,t,!0):ni(e,!!n,n?[]:"",!1));return;case"textarea":ue=le=null;for(N in n)if(i=n[N],n.hasOwnProperty(N)&&i!=null&&!a.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:St(e,t,N,null,a,i)}for(y in a)if(i=a[y],r=n[y],a.hasOwnProperty(y)&&(i!=null||r!=null))switch(y){case"value":le=i;break;case"defaultValue":ue=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(o(91));break;default:i!==r&&St(e,t,y,i,a,r)}Zu(e,le,ue);return;case"option":for(var Ue in n)le=n[Ue],n.hasOwnProperty(Ue)&&le!=null&&!a.hasOwnProperty(Ue)&&(Ue==="selected"?e.selected=!1:St(e,t,Ue,null,a,le));for(G in a)le=a[G],ue=n[G],a.hasOwnProperty(G)&&le!==ue&&(le!=null||ue!=null)&&(G==="selected"?e.selected=le&&typeof le!="function"&&typeof le!="symbol":St(e,t,G,le,a,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in n)le=n[Fe],n.hasOwnProperty(Fe)&&le!=null&&!a.hasOwnProperty(Fe)&&St(e,t,Fe,null,a,le);for(ie in a)if(le=a[ie],ue=n[ie],a.hasOwnProperty(ie)&&le!==ue&&(le!=null||ue!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(o(137,t));break;default:St(e,t,ie,le,a,ue)}return;default:if(os(t)){for(var _t in n)le=n[_t],n.hasOwnProperty(_t)&&le!==void 0&&!a.hasOwnProperty(_t)&&Qo(e,t,_t,void 0,a,le);for(me in a)le=a[me],ue=n[me],!a.hasOwnProperty(me)||le===ue||le===void 0&&ue===void 0||Qo(e,t,me,le,a,ue);return}}for(var $ in n)le=n[$],n.hasOwnProperty($)&&le!=null&&!a.hasOwnProperty($)&&St(e,t,$,null,a,le);for(Se in a)le=a[Se],ue=n[Se],!a.hasOwnProperty(Se)||le===ue||le==null&&ue==null||St(e,t,Se,le,a,ue)}function Kf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,y=i.initiatorType,N=i.duration;if(r&&N&&Kf(y)){for(y=0,N=i.responseEnd,a+=1;a<n.length;a++){var G=n[a],ie=G.startTime;if(ie>N)break;var me=G.transferSize,Se=G.initiatorType;me&&Kf(Se)&&(G=G.responseEnd,y+=me*(G<N?1:(N-ie)/(G-ie)))}if(--a,t+=8*(r+y)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wo=null,$o=null;function Or(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=null;function m0(){var e=window.event;return e&&e.type==="popstate"?e===Po?!1:(Po=e,!0):(Po=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,g0=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,y0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(e){return Jf.resolve(null).then(e).catch(v0)}:$f;function v0(e){setTimeout(function(){throw e})}function Ca(e){return e==="head"}function Pf(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Mi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")xl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xl(n);for(var r=n.firstChild;r;){var y=r.nextSibling,N=r.nodeName;r[Ie]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=y}}else n==="body"&&xl(e.ownerDocument.body);n=i}while(n);Mi(t)}function eh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function eu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":eu(n),jt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function b0(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ie])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function x0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function th(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nn(e.nextSibling),e===null))return null;return e}function tu(e){return e.data==="$?"||e.data==="$~"}function nu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function w0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var au=null;function nh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ah(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ih(e,t,n){switch(t=Or(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function xl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jt(e)}var An=new Map,lh=new Set;function Mr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sa=H.d;H.d={f:S0,r:_0,D:E0,C:j0,L:C0,m:z0,X:T0,S:k0,M:N0};function S0(){var e=sa.f(),t=jr();return e||t}function _0(e){var t=wn(e);t!==null&&t.tag===5&&t.type==="form"?wd(t):sa.r(e)}var Ai=typeof document>"u"?null:document;function rh(e,t,n){var a=Ai;if(a&&typeof t=="string"&&t){var i=_n(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),lh.has(i)||(lh.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Pt(t,"link",e),It(t),a.head.appendChild(t)))}}function E0(e){sa.D(e),rh("dns-prefetch",e,null)}function j0(e,t){sa.C(e,t),rh("preconnect",e,t)}function C0(e,t,n){sa.L(e,t,n);var a=Ai;if(a&&e&&t){var i='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+_n(n.imageSizes)+'"]')):i+='[href="'+_n(e)+'"]';var r=i;switch(t){case"style":r=Di(e);break;case"script":r=Oi(e)}An.has(r)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(wl(r))||t==="script"&&a.querySelector(Sl(r))||(t=a.createElement("link"),Pt(t,"link",e),It(t),a.head.appendChild(t)))}}function z0(e,t){sa.m(e,t);var n=Ai;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+_n(a)+'"][href="'+_n(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Oi(e)}if(!An.has(r)&&(e=C({rel:"modulepreload",href:e},t),An.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sl(r)))return}a=n.createElement("link"),Pt(a,"link",e),It(a),n.head.appendChild(a)}}}function k0(e,t,n){sa.S(e,t,n);var a=Ai;if(a&&e){var i=Un(a).hoistableStyles,r=Di(e);t=t||"default";var y=i.get(r);if(!y){var N={loading:0,preload:null};if(y=a.querySelector(wl(r)))N.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(r))&&iu(e,n);var G=y=a.createElement("link");It(G),Pt(G,"link",e),G._p=new Promise(function(ie,me){G.onload=ie,G.onerror=me}),G.addEventListener("load",function(){N.loading|=1}),G.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Rr(y,t,a)}y={type:"stylesheet",instance:y,count:1,state:N},i.set(r,y)}}}function T0(e,t){sa.X(e,t);var n=Ai;if(n&&e){var a=Un(n).hoistableScripts,i=Oi(e),r=a.get(i);r||(r=n.querySelector(Sl(i)),r||(e=C({src:e,async:!0},t),(t=An.get(i))&&lu(e,t),r=n.createElement("script"),It(r),Pt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function N0(e,t){sa.M(e,t);var n=Ai;if(n&&e){var a=Un(n).hoistableScripts,i=Oi(e),r=a.get(i);r||(r=n.querySelector(Sl(i)),r||(e=C({src:e,async:!0,type:"module"},t),(t=An.get(i))&&lu(e,t),r=n.createElement("script"),It(r),Pt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function sh(e,t,n,a){var i=(i=Re.current)?Mr(i):null;if(!i)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Di(n.href),n=Un(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Di(n.href);var r=Un(i).hoistableStyles,y=r.get(e);if(y||(i=i.ownerDocument||i,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,y),(r=i.querySelector(wl(e)))&&!r._p&&(y.instance=r,y.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),r||A0(i,e,n,y.state))),t&&a===null)throw Error(o(528,""));return y}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Oi(n),n=Un(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Di(e){return'href="'+_n(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function oh(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function A0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Pt(t,"link",n),It(t),e.head.appendChild(t))}function Oi(e){return'[src="'+_n(e)+'"]'}function Sl(e){return"script[async]"+e}function uh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(a)return t.instance=a,It(a),a;var i=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),It(a),Pt(a,"style",i),Rr(a,n.precedence,e),t.instance=a;case"stylesheet":i=Di(n.href);var r=e.querySelector(wl(i));if(r)return t.state.loading|=4,t.instance=r,It(r),r;a=oh(n),(i=An.get(i))&&iu(a,i),r=(e.ownerDocument||e).createElement("link"),It(r);var y=r;return y._p=new Promise(function(N,G){y.onload=N,y.onerror=G}),Pt(r,"link",a),t.state.loading|=4,Rr(r,n.precedence,e),t.instance=r;case"script":return r=Oi(n.src),(i=e.querySelector(Sl(r)))?(t.instance=i,It(i),i):(a=n,(i=An.get(r))&&(a=C({},n),lu(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),It(i),Pt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Rr(a,n.precedence,e));return t.instance}function Rr(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,y=0;y<a.length;y++){var N=a[y];if(N.dataset.precedence===t)r=N;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Br=null;function ch(e,t,n){if(Br===null){var a=new Map,i=Br=new Map;i.set(n,a)}else i=Br,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Ie]||r[ht]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var y=r.getAttribute(t)||"";y=e+y;var N=a.get(y);N?N.push(r):a.set(y,[r])}}return a}function dh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function D0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function O0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Di(a.href),r=t.querySelector(wl(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ur.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,It(r);return}r=t.ownerDocument||t,a=oh(a),(i=An.get(i))&&iu(a,i),r=r.createElement("link"),It(r);var y=r;y._p=new Promise(function(N,G){y.onload=N,y.onerror=G}),Pt(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ur.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ru=0;function M0(e,t){return e.stylesheets&&e.count===0&&Hr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&ru===0&&(ru=62500*p0());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>ru?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Ur(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lr=null;function Hr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lr=new Map,t.forEach(R0,e),Lr=null,Ur.call(e))}function R0(e,t){if(!(t.state.loading&4)){var n=Lr.get(e);if(n)var a=n.get(null);else{n=new Map,Lr.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var y=i[r];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),a=y)}a&&n.set(null,a)}i=t.instance,y=i.getAttribute("data-precedence"),r=n.get(y)||a,r===a&&n.set(null,i),n.set(y,i),this.count++,a=Ur.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var _l={$$typeof:D,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function B0(e,t,n,a,i,r,y,N,G){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function hh(e,t,n,a,i,r,y,N,G,ie,me,Se){return e=new B0(e,t,n,y,G,ie,me,Se,N),t=1,r===!0&&(t|=24),r=pn(3,null,null,t),e.current=r,r.stateNode=e,t=Ls(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Ys(r),e}function ph(e){return e?(e=ci,e):ci}function mh(e,t,n,a,i,r){i=ph(i),a.context===null?a.context=i:a.pendingContext=i,a=ma(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=ga(e,a,t),n!==null&&(cn(n,e,t),tl(n,e,t))}function gh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function su(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(e.tag===13||e.tag===31){var t=La(e,67108864);t!==null&&cn(t,e,67108864),su(e,67108864)}}function vh(e){if(e.tag===13||e.tag===31){var t=bn();t=Qt(t);var n=La(e,t);n!==null&&cn(n,e,t),su(e,t)}}var qr=!0;function U0(e,t,n,a){var i=Y.T;Y.T=null;var r=H.p;try{H.p=2,ou(e,t,n,a)}finally{H.p=r,Y.T=i}}function L0(e,t,n,a){var i=Y.T;Y.T=null;var r=H.p;try{H.p=8,ou(e,t,n,a)}finally{H.p=r,Y.T=i}}function ou(e,t,n,a){if(qr){var i=uu(a);if(i===null)Ko(e,t,a,Vr,n),xh(e,a);else if(q0(i,e,t,n,a))a.stopPropagation();else if(xh(e,a),t&4&&-1<H0.indexOf(e)){for(;i!==null;){var r=wn(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var y=he(r.pendingLanes);if(y!==0){var N=r;for(N.pendingLanes|=2,N.entangledLanes|=2;y;){var G=1<<31-gt(y);N.entanglements[1]|=G,y&=~G}Vn(r),(pt&6)===0&&(_r=Ae()+500,yl(0))}}break;case 31:case 13:N=La(r,2),N!==null&&cn(N,r,2),jr(),su(r,2)}if(r=uu(a),r===null&&Ko(e,t,a,Vr,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else Ko(e,t,a,null,n)}}function uu(e){return e=cs(e),cu(e)}var Vr=null;function cu(e){if(Vr=null,e=fn(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vr=e,null}function bh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Ve:return 2;case ut:return 8;case Qe:case Zt:return 32;case an:return 268435456;default:return 32}default:return 32}}var du=!1,za=null,ka=null,Ta=null,El=new Map,jl=new Map,Na=[],H0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xh(e,t){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function Cl(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=wn(t),t!==null&&yh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function q0(e,t,n,a,i){switch(t){case"focusin":return za=Cl(za,e,t,n,a,i),!0;case"dragenter":return ka=Cl(ka,e,t,n,a,i),!0;case"mouseover":return Ta=Cl(Ta,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return El.set(r,Cl(El.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,jl.set(r,Cl(jl.get(r)||null,e,t,n,a,i)),!0}return!1}function wh(e){var t=fn(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,yt(e.priority,function(){vh(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,yt(e.priority,function(){vh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);us=a,n.target.dispatchEvent(a),us=null}else return t=wn(n),t!==null&&yh(t),e.blockedOn=n,!1;t.shift()}return!0}function Sh(e,t,n){Yr(e)&&n.delete(t)}function V0(){du=!1,za!==null&&Yr(za)&&(za=null),ka!==null&&Yr(ka)&&(ka=null),Ta!==null&&Yr(Ta)&&(Ta=null),El.forEach(Sh),jl.forEach(Sh)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,du||(du=!0,E.unstable_scheduleCallback(E.unstable_NormalPriority,V0)))}var Gr=null;function _h(e){Gr!==e&&(Gr=e,E.unstable_scheduleCallback(E.unstable_NormalPriority,function(){Gr===e&&(Gr=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(cu(a||n)===null)continue;break}var r=wn(n);r!==null&&(e.splice(t,3),t-=3,oo(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Mi(e){function t(G){return Zr(G,e)}za!==null&&Zr(za,e),ka!==null&&Zr(ka,e),Ta!==null&&Zr(Ta,e),El.forEach(t),jl.forEach(t);for(var n=0;n<Na.length;n++){var a=Na[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Na.length&&(n=Na[0],n.blockedOn===null);)wh(n),n.blockedOn===null&&Na.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],y=i[Tt]||null;if(typeof r=="function")y||_h(n);else if(y){var N=null;if(r&&r.hasAttribute("formAction")){if(i=r,y=r[Tt]||null)N=y.formAction;else if(cu(i)!==null)continue}else N=y.action;typeof N=="function"?n[a+1]=N:(n.splice(a,3),a-=3),_h(n)}}}function Eh(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(y){return i=y})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function fu(e){this._internalRoot=e}Xr.prototype.render=fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,a=bn();mh(n,a,e,t,null,null)},Xr.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),jr(),t[oe]=null}};function Xr(e){this._internalRoot=e}Xr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Na.length&&t!==0&&t<Na[n].priority;n++);Na.splice(n,0,e),n===0&&wh(e)}};var jh=l.version;if(jh!=="19.2.4")throw Error(o(527,jh,"19.2.4"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=f(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var Y0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ir.isDisabled&&Ir.supportsFiber)try{ct=Ir.inject(Y0),kt=Ir}catch{}}return kl.createRoot=function(e,t){if(!g(e))throw Error(o(299));var n=!1,a="",i=Ad,r=Dd,y=Od;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=hh(e,1,!1,null,null,n,a,null,i,r,y,Eh),e[oe]=t.current,Fo(e),new fu(t)},kl.hydrateRoot=function(e,t,n){if(!g(e))throw Error(o(299));var a=!1,i="",r=Ad,y=Dd,N=Od,G=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.formState!==void 0&&(G=n.formState)),t=hh(e,1,!0,t,n??null,a,i,G,r,y,N,Eh),t.context=ph(null),n=t.current,a=bn(),a=Qt(a),i=ma(a),i.callback=null,ga(n,i,a),n=a,t.current.lanes=n,Ce(t,n),Vn(t),e[oe]=t.current,Fo(e),new Xr(t)},kl.version="19.2.4",kl}var Bh;function J0(){if(Bh)return mu.exports;Bh=1;function E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E)}catch(l){console.error(l)}}return E(),mu.exports=$0(),mu.exports}var P0=J0();const Xt=["Blue","Green","Pink","Red","Turquoise","Yellow"];const cp=(...E)=>E.filter((l,s,o)=>!!l&&l.trim()!==""&&o.indexOf(l)===s).join(" ").trim();const eg=E=>E.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tg=E=>E.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,s,o)=>o?o.toUpperCase():s.toLowerCase());const Uh=E=>{const l=tg(E);return l.charAt(0).toUpperCase()+l.slice(1)};var ng={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ag=E=>{for(const l in E)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const ig=Ee.forwardRef(({color:E="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:g="",children:c,iconNode:m,...p},d)=>Ee.createElement("svg",{ref:d,...ng,width:l,height:l,stroke:E,strokeWidth:o?Number(s)*24/Number(l):s,className:cp("lucide",g),...!c&&!ag(p)&&{"aria-hidden":"true"},...p},[...m.map(([f,w])=>Ee.createElement(f,w)),...Array.isArray(c)?c:[c]]));const lt=(E,l)=>{const s=Ee.forwardRef(({className:o,...g},c)=>Ee.createElement(ig,{ref:c,iconNode:l,className:cp(`lucide-${eg(Uh(E))}`,`lucide-${E}`,o),...g}));return s.displayName=Uh(E),s};const lg=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],rg=lt("arrow-left-right",lg);const sg=[["path",{d:"M17 12H3",key:"8awo09"}],["path",{d:"m11 18 6-6-6-6",key:"8c2y43"}],["path",{d:"M21 5v14",key:"nzette"}]],og=lt("arrow-right-to-line",sg);const ug=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],cg=lt("bot",ug);const dg=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],fg=lt("chart-no-axes-column",dg);const hg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dl=lt("check",hg);const pg=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lh=lt("chevron-down",pg);const mg=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hh=lt("chevron-right",mg);const gg=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dp=lt("copy",gg);const yg=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],vg=lt("corner-down-right",yg);const bg=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],bu=lt("cpu",bg);const xg=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bi=lt("download",xg);const wg=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qh=lt("external-link",wg);const Sg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_g=lt("eye",Sg);const Eg=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],jg=lt("file-braces",Eg);const Cg=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],fp=lt("file-headphone",Cg);const zg=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],hp=lt("folder-open",zg);const kg=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Tg=lt("grip-vertical",kg);const Ng=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Vh=lt("hard-drive",Ng);const Ag=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pp=lt("info",Ag);const Dg=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Og=lt("layout-grid",Dg);const Mg=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Rg=lt("layout-list",Mg);const Bg=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ug=lt("list",Bg);const Lg=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Hg=lt("loader",Lg);const qg=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Yh=lt("pause",qg);const Vg=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mp=lt("pen-line",Vg);const Yg=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ui=lt("play",Yg);const Zg=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],gp=lt("repeat",Zg);const Gg=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Zh=lt("rotate-ccw",Gg);const Xg=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gh=lt("save",Xg);const Ig=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Fg=lt("scissors",Ig);const Kg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],es=lt("square",Kg);const Qg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Li=lt("trash-2",Qg);const Wg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oa=lt("triangle-alert",Wg);const $g=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Jg=lt("upload",$g);const Pg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xn=lt("x",Pg);const ey=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ty=lt("zoom-in",ey);const ny=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ay=lt("zoom-out",ny),Hi=({color:E="currentColor",size:l,className:s,style:o})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 66.73 64.39",width:l,height:l,className:s,style:o,fill:E,children:u.jsx("path",{d:"M63.39,27.9l-27.82,6.26,31.15-19.42-3.65-7.62-30.47,10.63,16-10.67-.28-.42s-.05-.05-.05-.08l-.4-.6s0,.08-.02.11c-.05.09-.18.13-.27.07-.09-.05-.13-.18-.07-.27.05-.09.16-.11.25-.07l-3.88-5.82L0,29.27l3.76,7.55,3.9-1.36c.04-.07.12-.12.2-.1.01,0,.01.01.02.02l21.94-7.66-20.02,12.48,3.18,7.76,17.56-3.95-6.59,3.26,2.35,8.04,9.07-.99-5.06,2.38.16.34s.09-.01.13,0c.16.07.23.26.16.42-.01.03-.04.04-.06.06l1.27,2.71c.09.08.14.18.14.3l1.2,2.55s.09,0,.12.02c.13.08.18.24.1.38,0,.01-.02.01-.03.02l.42.9,3.77-1.77s-.05,0-.07,0c-.11-.06-.15-.21-.08-.32s.21-.15.31-.08c.1.06.13.18.09.29l.77-.36c-.07,0-.13,0-.19-.03-.16-.1-.22-.3-.12-.46.09-.16.3-.22.46-.12.16.09.22.3.12.46-.02.03-.05.03-.07.05l1.15-.54c-.02-.06-.02-.13.01-.19.06-.11.2-.14.31-.08.04.02.05.06.07.09l2.09-.98s0,0,0,0c.06-.11.18-.14.3-.13l19.18-9.02-2.27-8.07-10.53,1.15,16.96-8.39-2.82-7.96Z"})}),iy=({currentTape:E,isAllView:l,onSelect:s,onToggleAllView:o,onDropOnTape:g,onDropOnViewAll:c})=>{const m=d=>{d.dataTransfer.types.includes("application/x-spotykach-file-id")&&(d.preventDefault(),d.dataTransfer.dropEffect=d.ctrlKey||d.altKey?"copy":"move")},p=(d,f)=>{d.preventDefault();const w=d.dataTransfer.getData("application/x-spotykach-file-id"),C=d.dataTransfer.getData("application/x-spotykach-source"),k=d.ctrlKey||d.altKey;w&&g(f,w,C,k)};return u.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-synthux-tapebg h-full border-r border-gray-800 w-24 items-center",children:[Xt.map(d=>{const f=!l&&E===d,w=`var(--color-synthux-${ly(d)})`;return u.jsxs("button",{onClick:()=>s(d),onDragOver:m,onDrop:C=>p(C,d),className:`
                            w-12 h-12 relative group transition-all duration-300 rounded-full flex items-center justify-center
                            ${f?"z-10":"opacity-70 hover:opacity-100 hover:scale-105"}
                        `,title:`Tape ${d}`,children:[f&&u.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center pointer-events-none",style:{filter:"blur(6px)",opacity:.8,animation:"pulse-glow-anim 3s ease-in-out infinite","--pulse-color":w},children:u.jsx(Hi,{color:w,className:"w-full h-full",style:{transform:"scale(1.25)"}})}),u.jsx("div",{className:"w-full h-full relative z-20 flex items-center justify-center transition-all duration-300",children:u.jsx(Hi,{color:w,className:"w-full h-full",style:{transform:f?"scale(1.1)":"scale(1)"}})})]},d)}),u.jsx("div",{className:"w-full border-t border-gray-800 my-2 pt-2 flex justify-center",children:u.jsxs("button",{onClick:o,onDragOver:m,onDrop:d=>{d.preventDefault();const f=d.dataTransfer.getData("application/x-spotykach-file-id"),w=d.dataTransfer.getData("application/x-spotykach-source"),C=d.ctrlKey||d.altKey;f&&c(f,w,C)},className:`
                        w-12 h-12 relative group transition-all duration-300 rounded-xl flex items-center justify-center
                         ${l?"bg-white text-black z-10":"text-gray-500 hover:text-white hover:bg-white/10"}
                    `,title:"View All Tapes",children:[u.jsx(Og,{size:24}),u.jsx("span",{className:"absolute left-full ml-4 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:"View All"})]})}),u.jsx("div",{className:"mt-auto text-[10px] text-synthux-yellow font-mono text-center uppercase tracking-widest pt-4 border-t border-gray-800 w-full",children:"Select Tape"})]})},ly=E=>{switch(E){case"Red":return"red";case"Blue":return"blue";case"Green":return"green";case"Pink":return"pink";case"Yellow":return"yellow";case"Turquoise":return"turquoise"}return"blue"},ry="/spotykach_WAV_builder/assets/Spotykach_Logo-iL2WXhuM.webp",Xh="/spotykach_WAV_builder/assets/spotykachtapeicon-Csu3Rwjb.svg",sy="modulepreload",oy=function(E){return"/spotykach_WAV_builder/"+E},Ih={},ts=function(l,s,o){let g=Promise.resolve();if(s&&s.length>0){let f=function(w){return Promise.all(w.map(C=>Promise.resolve(C).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};var m=f;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),d=p?.nonce||p?.getAttribute("nonce");g=f(s.map(w=>{if(w=oy(w),w in Ih)return;Ih[w]=!0;const C=w.endsWith(".css"),k=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${k}`))return;const b=document.createElement("link");if(b.rel=C?"stylesheet":sy,C||(b.as="script"),b.crossOrigin="",b.href=w,d&&b.setAttribute("nonce",d),document.head.appendChild(b),C)return new Promise((S,v)=>{b.addEventListener("load",S),b.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${w}`)))})}))}function c(p){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=p,window.dispatchEvent(d),!d.defaultPrevented)throw p}return g.then(p=>{for(const d of p||[])d.status==="rejected"&&c(d.reason);return l().catch(c)})},yp=({blob:E,buffer:l,width:s=100,height:o=40,color:g="#4ade80",className:c="",progress:m=0,onSeek:p})=>{const[d,f]=Ee.useState([]),w=Nh.useRef(null),C=Nh.useRef(!1);Ee.useEffect(()=>{let _=!0;return(async()=>{if(d.length>0&&!E&&!l)return;let D=l;if(!D&&E)try{const ne=new(window.AudioContext||window.webkitAudioContext),V=await E.arrayBuffer();D=await ne.decodeAudioData(V)}catch(ne){console.error("Failed to decode for mini waveform",ne);return}if(!D||!_)return;const B=D.getChannelData(0),q=[],I=s,Z=Math.floor(B.length/I);for(let ne=0;ne<I;ne++){let V=0;const F=ne*Z,Q=F+Z,A=Math.max(1,Math.floor((Q-F)/10));for(let O=F;O<Q;O+=A){const h=Math.abs(B[O]);h>V&&(V=h)}q.push(V)}_&&f(q)})(),()=>{_=!1}},[E,l,s]);const k=Ee.useMemo(()=>{if(d.length===0)return"";const _=o/2;let T=`M 0 ${_} `;d.forEach((D,B)=>{const q=B/d.length*s,I=_-D*_*.9;T+=`L ${q} ${I} `}),T+=`L ${s} ${_} `;for(let D=d.length-1;D>=0;D--){const B=d[D],q=D/d.length*s,I=_+B*_*.9;T+=`L ${q} ${I} `}return T+="Z",T},[d,s,o]),b=_=>{!p||!w.current||(_.stopPropagation(),C.current=!0,_.target.setPointerCapture(_.pointerId),j(_))},S=_=>{C.current&&j(_)},v=_=>{C.current&&(C.current=!1,_.target.releasePointerCapture(_.pointerId))},j=_=>{if(!w.current||!p)return;const T=w.current.getBoundingClientRect(),D=_.clientX-T.left,B=Math.max(0,Math.min(1,D/T.width));p(B)};return u.jsx("div",{ref:w,className:`flex items-center justify-center opacity-80 relative ${c} ${p?"cursor-ew-resize":""}`,style:{width:s,height:o},onPointerDown:b,onPointerMove:S,onPointerUp:v,onClick:_=>_.stopPropagation(),children:d.length>0?u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${s} ${o}`,preserveAspectRatio:"none",className:"pointer-events-none",children:u.jsx("path",{d:k,fill:g})}),m>0&&u.jsx("div",{className:"absolute top-0 bottom-0 w-[2px] bg-white shadow-[0_0_4px_rgba(0,0,0,0.5)] pointer-events-none transition-all duration-75",style:{left:`${m*100}%`}})]}):u.jsx("div",{className:"w-full h-[1px] bg-gray-700 animate-pulse"})})},vp=Ee.createContext(null),ns=()=>{const E=Ee.useContext(vp);if(!E)throw new Error("useAudioPlayer must be used within AudioPlayerProvider");return E},uy=({children:E})=>{const[l,s]=Ee.useState(!1),[o,g]=Ee.useState(null),[c,m]=Ee.useState(0),[p,d]=Ee.useState(0),f=Ee.useRef(null),w=Ee.useRef(null);Ee.useEffect(()=>(f.current=new Audio,f.current.onended=()=>{s(!1),g(null),d(0)},f.current.ontimeupdate=()=>{f.current&&d(f.current.currentTime)},f.current.onloadedmetadata=()=>{f.current&&m(f.current.duration)},f.current.onerror=S=>{console.error("Audio Playback Error",S),s(!1),g(null)},()=>{w.current&&URL.revokeObjectURL(w.current)}),[]);const C=()=>{f.current&&(f.current.pause(),f.current.currentTime=0),s(!1),g(null),d(0)},k=S=>{f.current&&(f.current.currentTime=S,d(S))},b=(S,v)=>{if(o===S.id&&l){C();return}C();const j=v||S.currentVersionId,_=S.versions.find(D=>D.id===j);if(!_||!_.blob){console.warn("AudioPlayer: No valid blob found for file",S.name);return}w.current&&URL.revokeObjectURL(w.current);const T=URL.createObjectURL(_.blob);w.current=T,f.current&&(f.current.src=T,f.current.play().then(()=>{s(!0),g(S.id)}).catch(D=>{console.error("Play failed",D),alert("Playback failed. See console.")}))};return u.jsx(vp.Provider,{value:{isPlaying:l,activeFileId:o,play:b,stop:C,seek:k,duration:c,currentTime:p},children:E})},cy=({slot:E,fileRecord:l,tapeColor:s,isActive:o,onClick:g,onDrop:c,onDropInternal:m,onRemove:p,onDelete:d,isDuplicate:f,onBulkAssign:w,isSelected:C,onToggleSlotSelection:k,onSlotDragStart:b})=>{const{play:S,stop:v,isPlaying:j,activeFileId:_,currentTime:T,duration:D,seek:B}=ns(),q=j&&_===l?.id,[I,Z]=Ee.useState(!1),ne=U=>{if(b){b(U);return}l?(U.dataTransfer.setData("application/x-spotykach-file-id",l.id),U.dataTransfer.setData("application/x-spotykach-source","slot"),U.dataTransfer.setData("application/x-spotykach-slot-id",E.id.toString()),U.dataTransfer.effectAllowed="copyMove"):U.preventDefault()},V=U=>{U.preventDefault(),U.stopPropagation(),U.dataTransfer.types.includes("application/x-spotykach-file-id")?(U.dataTransfer.dropEffect=U.ctrlKey||U.altKey?"copy":"move",Z(!0)):(U.dataTransfer.dropEffect="copy",Z(!!U.dataTransfer.types.length))},F=U=>{U.preventDefault(),Z(!1)},Q=U=>{U.preventDefault(),U.stopPropagation(),Z(!1);const Y=U.dataTransfer.getData("application/x-spotykach-file-id"),H=U.dataTransfer.getData("application/x-spotykach-bulk-ids"),se=U.dataTransfer.getData("application/x-spotykach-bulk-source-slots");if(H&&w)try{const W=JSON.parse(H),ye=se?JSON.parse(se):void 0;if(Array.isArray(W)&&W.length>0){w(E.id,W,s,ye);return}}catch(W){console.error("Failed to parse bulk drop",W)}if(Y){const W=U.dataTransfer.getData("application/x-spotykach-source"),ye=U.ctrlKey||U.altKey,z=U.dataTransfer.getData("application/x-spotykach-slot-id"),R=z?parseInt(z,10):void 0,de=U.dataTransfer.getData("application/x-spotykach-slot-color");m(Y,W,ye,R,de||void 0);return}U.dataTransfer.files&&U.dataTransfer.files.length>0&&c(U.dataTransfer.files)},A=l?.versions.find(U=>U.id===l.currentVersionId),O=A?.description?.toLowerCase().includes("loop"),h=`var(--color-synthux-${s.toLowerCase()})`;return u.jsxs("div",{onClick:g,onDoubleClick:g,draggable:!!l,onDragStart:ne,onDragOver:V,onDragLeave:F,onDrop:Q,className:`
                relative aspect-square rounded-xl border-2 cursor-pointer transition-all duration-200
                flex flex-col group
                ${I?"bg-white/10 scale-105 z-20":o?"bg-[#1a1a1a] shadow-xl scale-[1.02]":"border-gray-700 bg-[#151515] hover:border-gray-500"}
                ${l?"shadow-lg":""}
                ${f?"!border-orange-500/50 shadow-[0_0_10px_rgba(249,115,22,0.1)]":""}
                ${C?"ring-2 ring-synthux-yellow":""}
            `,style:{borderColor:o||I?h:C?"var(--color-synthux-yellow)":void 0},children:[l&&u.jsx("div",{className:`absolute -top-3 -left-3 w-6 h-6 z-50 rounded-full border-2 flex items-center justify-center cursor-pointer transition-colors shadow-md ${C?"bg-synthux-yellow border-white text-black":"bg-gray-800 border-gray-500 text-transparent hover:border-white"}`,onClick:U=>{U.stopPropagation(),k()},children:u.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})}),f&&u.jsx("div",{className:"absolute -top-2 -right-2 text-orange-400/80 z-40 bg-black/80 rounded-full p-1 border border-orange-500/30 shadow-sm",title:"Duplicate File",children:u.jsx(oa,{size:14})}),u.jsx("div",{className:"absolute top-2 left-3 text-xs font-bold text-gray-600 z-10 pointer-events-none",children:E.id}),l&&A?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1 w-full bg-black/20 flex items-center justify-center relative overflow-hidden rounded-t-lg",children:[u.jsx(yp,{blob:A.blob,width:200,height:80,color:o?"#60a5fa":"#9ca3af",className:"w-full h-full p-4",progress:q&&D>0?T/D:0,onSeek:U=>{q&&D>0?B(U*D):l&&S(l)}}),u.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[l.versions.length>1&&u.jsxs("span",{className:"px-1.5 py-0.5 bg-synthux-blue/20 rounded text-[9px] text-synthux-blue border border-synthux-blue/50 font-mono",children:["v",l.versions.length]}),O&&u.jsxs("span",{className:"px-1.5 py-0.5 bg-green-900/40 rounded text-[9px] text-green-400 border border-green-700/50 font-bold uppercase tracking-wider flex items-center gap-1",children:[u.jsx(gp,{size:8})," Loop"]})]})]}),u.jsx("div",{className:"px-3 py-2 border-t border-gray-800 bg-[#1e1e1e] flex items-center justify-between gap-2",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm font-bold truncate text-white mb-0.5",title:l.name,children:l.name}),u.jsxs("div",{className:"flex items-center text-[10px] text-gray-400 font-mono uppercase tracking-wider gap-2",children:[u.jsxs("span",{children:[A.duration.toFixed(2),"s"]}),A.description&&A.description!=="Original Upload"&&A.description!=="Edited"&&!O&&u.jsx("span",{className:"text-synthux-gold truncate max-w-[80px]",children:A.description})]})]})}),u.jsxs("div",{className:"flex items-center justify-between gap-1 px-2 py-2 bg-[#111] border-t border-gray-800 rounded-b-lg",children:[u.jsxs("button",{onClick:U=>{U.stopPropagation(),q?v():l&&S(l)},className:`flex-1 flex items-center justify-center gap-2 py-1.5 rounded transition-all active:scale-95 ${q?"bg-synthux-blue text-white shadow-lg shadow-synthux-blue/20":"bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white"} `,title:q?"Stop":"Preview",children:[q?u.jsx(es,{size:12,fill:"currentColor"}):u.jsx(Ui,{size:12,fill:"currentColor"}),u.jsx("span",{className:"text-[10px] font-bold uppercase",children:q?"STOP":"PLAY"})]}),u.jsx("button",{onClick:U=>{U.stopPropagation(),ts(()=>Promise.resolve().then(()=>Ru),void 0).then(Y=>Y.exportSingleFile(l))},className:"p-1.5 rounded bg-gray-900 text-gray-500 hover:bg-gray-800 hover:text-white transition-colors",title:"Download WAV",children:u.jsx(Bi,{size:14})}),u.jsx("button",{onClick:U=>{U.stopPropagation(),g()},className:"p-2 hover:bg-white/10 text-gray-500 hover:text-white rounded transition-colors",title:"Open Editor",children:u.jsx(mp,{size:14})}),u.jsx("button",{onClick:U=>{U.stopPropagation(),p()},className:"p-2 hover:bg-synthux-yellow/20 text-gray-500 hover:text-synthux-yellow rounded transition-colors",title:"Remove from Slot (Move to Unassigned)",children:u.jsx(xn,{size:14})}),u.jsx("button",{onClick:U=>{U.stopPropagation(),d?.()},className:"p-2 hover:bg-red-500/20 text-gray-500 hover:text-red-500 rounded transition-colors",title:"Permanently Delete File",children:u.jsx(Li,{size:14})})]})]}):u.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-600 gap-2 group-hover:scale-105 transition-transform",children:[u.jsx("style",{children:`
                        .group:hover .empty-plus-large {
                            color: #ffb900 !important;
                            opacity: 1 !important; 
                            text-shadow: 0 0 10px #ffb90060;
                        }
                    `}),u.jsx("div",{className:"text-4xl font-light empty-plus-large transition-all duration-300",style:{color:"#ffb900",opacity:.5},children:"+"}),u.jsx("div",{className:"text-xs font-medium empty-plus-large transition-all duration-300",style:{color:"#ffb900",opacity:.5},children:"Empty Slot"})]})]})},dy=({slots:E,files:l,tapeColor:s,activeSlotId:o,onSlotClick:g,onSlotDrop:c,onSlotDropInternal:m,onRemoveSlot:p,duplicates:d,onDeleteFile:f,onBulkAssign:w,selectedSlots:C,onSlotSelectionClick:k,onToggleSlotSelection:b,onSlotDragStart:S})=>u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 p-6 w-full max-w-4xl mx-auto",children:E.map(v=>{const j=v.fileId?l[v.fileId]:null,_=v.fileId?d.has(v.fileId):!1;return u.jsx(cy,{slot:v,fileRecord:j,tapeColor:s,isActive:o===v.id,isDuplicate:_,onClick:()=>g(v.id),onDrop:T=>c(v.id,T),onDropInternal:(T,D,B,q,I)=>m(v.id,T,D,B,q,I),onRemove:()=>p(v.id),onDelete:()=>v.fileId&&f(v.fileId),onBulkAssign:w,isSelected:C.has(`${s}-${v.id}`),onSlotSelectionClick:T=>k(s,v.id,T),onToggleSlotSelection:()=>b(s,v.id),onSlotDragStart:T=>S(T,v.id,s)},v.id)})}),fy=({slot:E,fileRecord:l,tapeColor:s,onRemove:o,onDelete:g,onDrop:c,onDropInternal:m,onClick:p,isDuplicate:d,onBulkAssign:f,isSelected:w,onToggleSlotSelection:C,onSlotDragStart:k})=>{const{play:b,stop:S,isPlaying:v,activeFileId:j}=ns(),_=v&&j===l?.id,T=l?.versions.find(Q=>Q.id===l.currentVersionId),[D,B]=Ee.useState(!1),q=w?"ring-2 ring-white z-10":"",I=Q=>{if(k){k(Q);return}l?(Q.dataTransfer.setData("application/x-spotykach-file-id",l.id),Q.dataTransfer.setData("application/x-spotykach-source","slot"),Q.dataTransfer.setData("application/x-spotykach-slot-id",E.id.toString()),Q.dataTransfer.effectAllowed="copyMove"):Q.preventDefault()},Z=Q=>{Q.preventDefault(),Q.stopPropagation(),Q.dataTransfer.types.includes("application/x-spotykach-file-id")?(Q.dataTransfer.dropEffect=Q.ctrlKey||Q.altKey?"copy":"move",B(!0)):(Q.dataTransfer.dropEffect="copy",B(!!Q.dataTransfer.types.length))},ne=Q=>{Q.preventDefault(),B(!1)},V=Q=>{Q.preventDefault(),Q.stopPropagation(),B(!1);const A=Q.dataTransfer.getData("application/x-spotykach-file-id"),O=Q.dataTransfer.getData("application/x-spotykach-bulk-ids"),h=Q.dataTransfer.getData("application/x-spotykach-bulk-source-slots");if(O&&f)try{const U=JSON.parse(O),Y=h?JSON.parse(h):void 0;if(Array.isArray(U)&&U.length>0){f(E.id,U,s,Y);return}}catch(U){console.error("Failed to parse bulk drop",U)}if(A){const U=Q.dataTransfer.getData("application/x-spotykach-source"),Y=Q.ctrlKey||Q.altKey,H=Q.dataTransfer.getData("application/x-spotykach-slot-id"),se=H?parseInt(H,10):void 0,W=Q.dataTransfer.getData("application/x-spotykach-slot-color");m(A,U,Y,se,W||void 0);return}Q.dataTransfer.files&&Q.dataTransfer.files.length>0&&c(Q.dataTransfer.files)},F=Q=>{switch(Q){case"Blue":return"#00aaff";case"Green":return"#00ff00";case"Pink":return"#ff00ff";case"Red":return"#f00f13";case"Turquoise":return"#00ffff";case"Yellow":return"#ffb900";default:return"#fff"}};return u.jsxs("div",{onClick:p,onDoubleClick:p,draggable:!!l,onDragStart:I,onDragOver:Z,onDragLeave:ne,onDrop:V,className:`
            relative w-full h-full min-h-[50px] rounded-lg border bg-[#151515] 
            flex flex-col group transition-all
            ${D?"border-synthux-blue bg-synthux-blue/10 scale-105 z-20 shadow-xl":"border-gray-800 hover:border-gray-500"}
            ${l?"cursor-grab active:cursor-grabbing":"opacity-80 hover:opacity-100 cursor-pointer"}
            ${l&&d?"!border-orange-500/50":""}
            ${q}
        `,children:[l&&u.jsx("div",{className:`absolute -top-1 -left-1 w-4 h-4 z-20 rounded-full border flex items-center justify-center cursor-pointer transition-colors ${w?"bg-synthux-yellow border-white text-black":"bg-gray-800 border-gray-600 text-transparent hover:border-gray-400"}`,onClick:Q=>{Q.stopPropagation(),C()},children:u.jsx("div",{className:"w-1.5 h-1.5 bg-current rounded-full"})}),l&&T?u.jsxs(u.Fragment,{children:[d&&u.jsx("div",{className:"absolute -top-1.5 -right-1.5 z-30 text-orange-400/80 bg-black/50 rounded-full p-0.5 border border-orange-500/30 shadow-sm",children:u.jsx(oa,{size:8})}),u.jsx("div",{className:"absolute inset-0 z-0 opacity-50 overflow-hidden rounded-lg",children:u.jsx(yp,{blob:T.blob,width:100,height:60,color:_?"#ffffff":"#6b7280",className:"w-full h-full p-2"})}),u.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full p-2 bg-gradient-to-t from-black/80 to-transparent",children:[u.jsxs("div",{className:`flex justify - between items - start transition - opacity duration - 200 ${_?"opacity-100":"opacity-0 group-hover:opacity-100"} `,children:[u.jsx("button",{onClick:Q=>{Q.stopPropagation(),_?S():b(l)},className:"p-1 rounded-full bg-black/60 hover:bg-white text-white hover:text-black transition-colors",title:_?"Stop":"Play",children:_?u.jsx(es,{size:10,fill:"currentColor"}):u.jsx(Ui,{size:10,fill:"currentColor"})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:Q=>{Q.stopPropagation(),p()},className:"p-1 rounded-full bg-black/60 hover:bg-white text-white hover:text-black transition-colors",title:"Edit",children:u.jsx(mp,{size:10})}),u.jsx("button",{onClick:Q=>{Q.stopPropagation(),o()},className:"p-1 rounded-full bg-black/60 hover:bg-synthux-yellow/20 text-gray-400 hover:text-synthux-yellow transition-colors",title:"Unassign",children:u.jsx(xn,{size:10})}),g&&u.jsx("button",{onClick:Q=>{Q.stopPropagation(),g()},className:"p-1 rounded-full bg-black/60 hover:bg-red-500 text-gray-400 hover:text-white transition-colors",title:"Delete Permanently",children:u.jsx(Li,{size:10})})]})]}),u.jsx("div",{className:"mt-auto pt-2",children:u.jsx("div",{className:"text-[9px] font-bold text-gray-300 truncate",title:l.name,children:l.name})})]})]}):u.jsx("div",{className:"flex items-center justify-center h-full group-hover:scale-110 transition-transform",children:u.jsxs("div",{className:"text-2xl font-light transition-colors duration-300",style:{color:"#ffb900",opacity:.5},children:[u.jsx("style",{children:`
        .group: hover.empty - plus {
        color: ${F(s)} !important;
        opacity: 1!important;
        text - shadow: 0 0 8px ${F(s)} 40;
    }
    `}),u.jsx("span",{className:"empty-plus transition-all duration-300",children:"+"})]})})]})},hy=({tapes:E,files:l,onRemoveSlot:s,onSlotDrop:o,onSlotDropInternal:g,onSlotClick:c,onTapeHeaderClick:m,duplicates:p,onDeleteFile:d,onBulkAssign:f,selectedSlots:w,onSlotSelectionClick:C,onToggleSlotSelection:k,onSlotDragStart:b})=>{const S=v=>{switch(v){case"Red":return"red";case"Blue":return"blue";case"Green":return"green";case"Pink":return"pink";case"Yellow":return"yellow";case"Turquoise":return"turquoise";default:return"blue"}};return u.jsx("div",{className:"w-full h-full p-4 md:p-6 relative z-10 flex flex-col overflow-hidden",children:u.jsx("div",{className:"flex-1 flex flex-col gap-2 min-h-0",children:Xt.map(v=>{const j=E[v],_=`var(--color-synthux-${S(v)})`;return u.jsxs("div",{className:"flex-1 min-h-[60px] flex flex-col md:flex-row gap-2 items-center p-2 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group/tape-row",children:[u.jsxs("button",{onClick:()=>m(v),className:"w-24 flex-shrink-0 flex items-center gap-3 md:flex-col md:items-center md:gap-2 cursor-pointer hover:bg-white/10 rounded-lg p-1 transition-colors group/header",title:`Open ${v} Tape View`,children:[u.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 group-hover/header:scale-110 transition-transform",children:u.jsx(Hi,{color:_,className:"w-full h-full"})}),u.jsx("span",{style:{color:_},className:"text-xs font-bold uppercase tracking-wider group-hover/header:brightness-125 transition-all",children:v})]}),u.jsx("div",{className:"flex-1 w-full h-full grid grid-cols-6 gap-2",children:j.slots.map(T=>{const D=T.fileId?l[T.fileId]:null,B=T.fileId?p.has(T.fileId):!1;return u.jsx("div",{className:"h-full",children:u.jsx(fy,{slot:T,fileRecord:D,tapeColor:v,isDuplicate:B,onRemove:()=>s(T.id),onDelete:()=>T.fileId&&d(T.fileId),onDrop:q=>o(T.id,q,v),onDropInternal:(q,I,Z,ne,V)=>g(T.id,q,I,Z,v,ne,V),onClick:()=>c(T.id,v),onBulkAssign:f,isSelected:w.has(`${v}-${T.id}`),onSlotSelectionClick:q=>C(T.id,v,q),onToggleSlotSelection:()=>k(T.id,v),onSlotDragStart:q=>b(q,T.id,v)})},T.id)})})]},v)})})})};function nn(E,l,s,o){return new(s||(s=Promise))((function(g,c){function m(f){try{d(o.next(f))}catch(w){c(w)}}function p(f){try{d(o.throw(f))}catch(w){c(w)}}function d(f){var w;f.done?g(f.value):(w=f.value,w instanceof s?w:new s((function(C){C(w)}))).then(m,p)}d((o=o.apply(E,l||[])).next())}))}let Ml=class{constructor(){this.listeners={}}on(l,s,o){if(this.listeners[l]||(this.listeners[l]=new Set),o?.once){const g=(...c)=>{this.un(l,g),s(...c)};return this.listeners[l].add(g),()=>this.un(l,g)}return this.listeners[l].add(s),()=>this.un(l,s)}un(l,s){var o;(o=this.listeners[l])===null||o===void 0||o.delete(s)}once(l,s){return this.on(l,s,{once:!0})}unAll(){this.listeners={}}emit(l,...s){this.listeners[l]&&this.listeners[l].forEach((o=>o(...s)))}};const Kr={decode:function(E,l){return nn(this,void 0,void 0,(function*(){const s=new AudioContext({sampleRate:l});try{return yield s.decodeAudioData(E)}finally{s.close()}}))},createBuffer:function(E,l){if(!E||E.length===0)throw new Error("channelData must be a non-empty array");if(l<=0)throw new Error("duration must be greater than 0");if(typeof E[0]=="number"&&(E=[E]),!E[0]||E[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(o){const g=o[0];if(g.some((c=>c>1||c<-1))){const c=g.length;let m=0;for(let p=0;p<c;p++){const d=Math.abs(g[p]);d>m&&(m=d)}for(const p of o)for(let d=0;d<c;d++)p[d]/=m}})(E);const s=E.map((o=>o instanceof Float32Array?o:Float32Array.from(o)));return{duration:l,length:s[0].length,sampleRate:s[0].length/l,numberOfChannels:s.length,getChannelData:o=>{const g=s[o];if(!g)throw new Error(`Channel ${o} not found`);return g},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function bp(E,l){const s=l.xmlns?document.createElementNS(l.xmlns,E):document.createElement(E);for(const[o,g]of Object.entries(l))if(o==="children"&&g)for(const[c,m]of Object.entries(g))m instanceof Node?s.appendChild(m):typeof m=="string"?s.appendChild(document.createTextNode(m)):s.appendChild(bp(c,m));else o==="style"?Object.assign(s.style,g):o==="textContent"?s.textContent=g:s.setAttribute(o,g.toString());return s}function Fh(E,l,s){const o=bp(E,l||{});return s?.appendChild(o),o}var py=Object.freeze({__proto__:null,createElement:Fh,default:Fh});const my={fetchBlob:function(E,l,s){return nn(this,void 0,void 0,(function*(){const o=yield fetch(E,s);if(o.status>=400)throw new Error(`Failed to fetch ${E}: ${o.status} (${o.statusText})`);return(function(g,c){nn(this,void 0,void 0,(function*(){if(!g.body||!g.headers)return;const m=g.body.getReader(),p=Number(g.headers.get("Content-Length"))||0;let d=0;const f=w=>{d+=w?.length||0;const C=Math.round(d/p*100);c(C)};try{for(;;){const w=yield m.read();if(w.done)break;f(w.value)}}catch(w){console.warn("Progress tracking error:",w)}}))})(o.clone(),l),o.blob()}))}};function Lt(E){let l=E;const s=new Set;return{get value(){return l},set(o){Object.is(l,o)||(l=o,s.forEach((g=>g(l))))},update(o){this.set(o(l))},subscribe:o=>(s.add(o),()=>s.delete(o))}}function Pa(E,l){const s=Lt(E());return l.forEach((o=>o.subscribe((()=>{const g=E();Object.is(s.value,g)||s.set(g)})))),{get value(){return s.value},subscribe:o=>s.subscribe(o)}}function Da(E,l){let s;const o=()=>{s&&(s(),s=void 0),s=E()},g=l.map((c=>c.subscribe(o)));return o(),()=>{s&&(s(),s=void 0),g.forEach((c=>c()))}}class gy extends Ml{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(l){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],l.media?(this.media=l.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=Lt(!1),this._currentTime=Lt(0),this._duration=Lt(0),this._volume=Lt(this.media.volume),this._muted=Lt(this.media.muted),this._playbackRate=Lt(this.media.playbackRate||1),this._seeking=Lt(!1),this.setupReactiveMediaEvents(),l.mediaControls&&(this.media.controls=!0),l.autoplay&&(this.media.autoplay=!0),l.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{l.playbackRate!=null&&(this.media.playbackRate=l.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(l,s,o){return this.media.addEventListener(l,s,o),()=>this.media.removeEventListener(l,s,o)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const l=this.getSrc();l.startsWith("blob:")&&URL.revokeObjectURL(l)}canPlayType(l){return this.media.canPlayType(l)!==""}setSrc(l,s){const o=this.getSrc();if(l&&o===l)return;this.revokeSrc();const g=s instanceof Blob&&(this.canPlayType(s.type)||!l)?URL.createObjectURL(s):l;if(o&&this.media.removeAttribute("src"),g||l)try{this.media.src=g}catch{this.media.src=l}}destroy(){this.reactiveMediaEventCleanups.forEach((l=>l())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(l){this.reactiveMediaEventCleanups.forEach((s=>s())),this.reactiveMediaEventCleanups=[],this.media=l,this.setupReactiveMediaEvents()}play(){return nn(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(l){if(l instanceof DOMException&&l.name==="AbortError")return;throw l}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(l){this.media.currentTime=Math.max(0,Math.min(l,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(l){this.media.volume=l}getMuted(){return this.media.muted}setMuted(l){this.media.muted=l}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(l,s){s!=null&&(this.media.preservesPitch=s),this.media.playbackRate=l}getMediaElement(){return this.media}setSinkId(l){return this.media.setSinkId(l)}}function yy({maxTop:E,maxBottom:l,halfHeight:s,vScale:o,barMinHeight:g=0,barAlign:c}){let m=Math.round(E*s*o),p=m+Math.round(l*s*o)||1;return p<g&&(p=g,c||(m=p/2)),{topHeight:m,totalHeight:p}}function vy({barAlign:E,halfHeight:l,topHeight:s,totalHeight:o,canvasHeight:g}){return E==="top"?0:E==="bottom"?g-o:l-s}function Kh(E,l,s){const o=l-E.left,g=s-E.top;return[o/E.width,g/E.height]}function xp(E){return!!(E.barWidth||E.barGap||E.barAlign)}function Qh(E,l){if(!xp(l))return E;const s=l.barWidth||.5,o=s+(l.barGap||s/2);return o===0?E:Math.floor(E/o)*o}function Wh({scrollLeft:E,totalWidth:l,numCanvases:s}){if(l===0)return[0];const o=E/l,g=Math.floor(o*s);return[g-1,g,g+1]}function wp(E){const l=E._cleanup;typeof l=="function"&&l()}function by(E){const l=Lt({scrollLeft:E.scrollLeft,scrollWidth:E.scrollWidth,clientWidth:E.clientWidth}),s=Pa((()=>(function(c){const{scrollLeft:m,scrollWidth:p,clientWidth:d}=c;if(p===0)return{startX:0,endX:1};const f=m/p,w=(m+d)/p;return{startX:Math.max(0,Math.min(1,f)),endX:Math.max(0,Math.min(1,w))}})(l.value)),[l]),o=Pa((()=>(function(c){return{left:c.scrollLeft,right:c.scrollLeft+c.clientWidth}})(l.value)),[l]),g=()=>{l.set({scrollLeft:E.scrollLeft,scrollWidth:E.scrollWidth,clientWidth:E.clientWidth})};return E.addEventListener("scroll",g,{passive:!0}),{scrollData:l,percentages:s,bounds:o,cleanup:()=>{E.removeEventListener("scroll",g),wp(l)}}}class xy extends Ml{constructor(l,s){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=l;const o=this.parentFromOptionsContainer(l.container);this.parent=o;const[g,c]=this.initHtml();o.appendChild(g),this.container=g,this.scrollContainer=c.querySelector(".scroll"),this.wrapper=c.querySelector(".wrapper"),this.canvasWrapper=c.querySelector(".canvases"),this.progressWrapper=c.querySelector(".progress"),this.cursor=c.querySelector(".cursor"),s&&c.appendChild(s),this.initEvents()}parentFromOptionsContainer(l){let s;if(typeof l=="string"?s=document.querySelector(l):l instanceof HTMLElement&&(s=l),!s)throw new Error("Container not found");return s}initEvents(){this.wrapper.addEventListener("click",(s=>{const o=this.wrapper.getBoundingClientRect(),[g,c]=Kh(o,s.clientX,s.clientY);this.emit("click",g,c)})),this.wrapper.addEventListener("dblclick",(s=>{const o=this.wrapper.getBoundingClientRect(),[g,c]=Kh(o,s.clientX,s.clientY);this.emit("dblclick",g,c)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollStream=by(this.scrollContainer);const l=Da((()=>{const{startX:s,endX:o}=this.scrollStream.percentages.value,{left:g,right:c}=this.scrollStream.bounds.value;this.emit("scroll",s,o,g,c)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(l),typeof ResizeObserver=="function"){const s=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{s().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const l=this.parent.clientWidth;l===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=l,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=(function(s,o={}){const{threshold:g=3,mouseButton:c=0,touchDelay:m=100}=o,p=Lt(null),d=new Map,f=matchMedia("(pointer: coarse)").matches;let w=()=>{};const C=k=>{if(k.button!==c||(d.set(k.pointerId,k),d.size>1))return;let b=k.clientX,S=k.clientY,v=!1;const j=Date.now(),_=s.getBoundingClientRect(),{left:T,top:D}=_,B=V=>{if(V.defaultPrevented||d.size>1||f&&Date.now()-j<m)return;const F=V.clientX,Q=V.clientY,A=F-b,O=Q-S;(v||Math.abs(A)>g||Math.abs(O)>g)&&(V.preventDefault(),V.stopPropagation(),v||(p.set({type:"start",x:b-T,y:S-D}),v=!0),p.set({type:"move",x:F-T,y:Q-D,deltaX:A,deltaY:O}),b=F,S=Q)},q=V=>{if(d.delete(V.pointerId),v){const F=V.clientX,Q=V.clientY;p.set({type:"end",x:F-T,y:Q-D})}w()},I=V=>{d.delete(V.pointerId),V.relatedTarget&&V.relatedTarget!==document.documentElement||q(V)},Z=V=>{v&&(V.stopPropagation(),V.preventDefault())},ne=V=>{V.defaultPrevented||d.size>1||v&&V.preventDefault()};document.addEventListener("pointermove",B),document.addEventListener("pointerup",q),document.addEventListener("pointerout",I),document.addEventListener("pointercancel",I),document.addEventListener("touchmove",ne,{passive:!1}),document.addEventListener("click",Z,{capture:!0}),w=()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",q),document.removeEventListener("pointerout",I),document.removeEventListener("pointercancel",I),document.removeEventListener("touchmove",ne),setTimeout((()=>{document.removeEventListener("click",Z,{capture:!0})}),10)}};return s.addEventListener("pointerdown",C),{signal:p,cleanup:()=>{w(),s.removeEventListener("pointerdown",C),d.clear(),wp(p)}}})(this.wrapper);const l=Da((()=>{const s=this.dragStream.signal.value;if(!s)return;const o=this.wrapper.getBoundingClientRect().width,g=(c=s.x/o)<0?0:c>1?1:c;var c;s.type==="start"?(this.isDragging=!0,this.emit("dragstart",g)):s.type==="move"?this.emit("drag",g):s.type==="end"&&(this.isDragging=!1,this.emit("dragend",g))}),[this.dragStream.signal]);this.subscriptions.push(l)}initHtml(){const l=document.createElement("div"),s=l.attachShadow({mode:"open"}),o=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return s.innerHTML=`
      <style${o?` nonce="${o}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[l,s]}setOptions(l){if(this.options.container!==l.container){const s=this.parentFromOptionsContainer(l.container);s.appendChild(this.container),this.parent=s}l.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=l,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(l){this.scrollContainer.scrollLeft=l}setScrollPercentage(l){const{scrollWidth:s}=this.scrollContainer,o=s*l;this.setScroll(o)}destroy(){var l;this.subscriptions.forEach((s=>s())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(l=this.unsubscribeOnScroll)===null||l===void 0||l.forEach((s=>s())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(l=10){let s,o;const g=()=>{s&&(clearTimeout(s),s=void 0),o&&(o(),o=void 0)};return this.timeouts.push(g),()=>new Promise(((c,m)=>{g(),o=m,s=setTimeout((()=>{s=void 0,o=void 0,c()}),l)}))}getHeight(l,s){var o;const g=((o=this.audioData)===null||o===void 0?void 0:o.numberOfChannels)||1;return(function({optionsHeight:c,optionsSplitChannels:m,parentHeight:p,numberOfChannels:d,defaultHeight:f=128}){if(c==null)return f;const w=Number(c);if(!isNaN(w))return w;if(c==="auto"){const C=p||f;return m?.every((k=>!k.overlay))?C/d:C}return f})({optionsHeight:l,optionsSplitChannels:s,parentHeight:this.parent.clientHeight,numberOfChannels:g,defaultHeight:128})}convertColorValues(l,s){return(function(o,g,c){if(!Array.isArray(o))return o||"";if(o.length===0)return"#999";if(o.length<2)return o[0]||"";const m=document.createElement("canvas"),p=m.getContext("2d"),d=c??m.height*g,f=p.createLinearGradient(0,0,0,d||g),w=1/(o.length-1);return o.forEach(((C,k)=>{f.addColorStop(k*w,C)})),f})(l,this.getPixelRatio(),s?.canvas.height)}getPixelRatio(){return l=window.devicePixelRatio,Math.max(1,l||1);var l}renderBarWaveform(l,s,o,g){const{width:c,height:m}=o.canvas,{halfHeight:p,barWidth:d,barRadius:f,barIndexScale:w,barSpacing:C,barMinHeight:k}=(function({width:S,height:v,length:j,options:_,pixelRatio:T}){const D=v/2,B=_.barWidth?_.barWidth*T:1,q=_.barGap?_.barGap*T:_.barWidth?B/2:0,I=B+q||1;return{halfHeight:D,barWidth:B,barGap:q,barRadius:_.barRadius||0,barMinHeight:_.barMinHeight?_.barMinHeight*T:0,barIndexScale:j>0?S/I/j:0,barSpacing:I}})({width:c,height:m,length:(l[0]||[]).length,options:s,pixelRatio:this.getPixelRatio()}),b=(function({channelData:S,barIndexScale:v,barSpacing:j,barWidth:_,halfHeight:T,vScale:D,canvasHeight:B,barAlign:q,barMinHeight:I}){const Z=S[0]||[],ne=S[1]||Z,V=Z.length,F=[];let Q=0,A=0,O=0;for(let h=0;h<=V;h++){const U=Math.round(h*v);if(U>Q){const{topHeight:se,totalHeight:W}=yy({maxTop:A,maxBottom:O,halfHeight:T,vScale:D,barMinHeight:I,barAlign:q}),ye=vy({barAlign:q,halfHeight:T,topHeight:se,totalHeight:W,canvasHeight:B});F.push({x:Q*j,y:ye,width:_,height:W}),Q=U,A=0,O=0}const Y=Math.abs(Z[h]||0),H=Math.abs(ne[h]||0);Y>A&&(A=Y),H>O&&(O=H)}return F})({channelData:l,barIndexScale:w,barSpacing:C,barWidth:d,halfHeight:p,vScale:g,canvasHeight:m,barAlign:s.barAlign,barMinHeight:k});o.beginPath();for(const S of b)f&&"roundRect"in o?o.roundRect(S.x,S.y,S.width,S.height,f):o.rect(S.x,S.y,S.width,S.height);o.fill(),o.closePath()}renderLineWaveform(l,s,o,g){const{width:c,height:m}=o.canvas,p=(function({channelData:d,width:f,height:w,vScale:C}){const k=w/2,b=d[0]||[];return[b,d[1]||b].map(((S,v)=>{const j=S.length,_=j?f/j:0,T=k,D=v===0?-1:1,B=[{x:0,y:T}];let q=0,I=0;for(let Z=0;Z<=j;Z++){const ne=Math.round(Z*_);if(ne>q){const F=T+(Math.round(I*k*C)||1)*D;B.push({x:q,y:F}),q=ne,I=0}const V=Math.abs(S[Z]||0);V>I&&(I=V)}return B.push({x:q,y:T}),B}))})({channelData:l,width:c,height:m,vScale:g});o.beginPath();for(const d of p)if(d.length){o.moveTo(d[0].x,d[0].y);for(let f=1;f<d.length;f++){const w=d[f];o.lineTo(w.x,w.y)}}o.fill(),o.closePath()}renderWaveform(l,s,o){if(o.fillStyle=this.convertColorValues(s.waveColor,o),s.renderFunction)return void s.renderFunction(l,o);const g=(function({channelData:c,barHeight:m,normalize:p,maxPeak:d}){var f;const w=m||1;if(!p)return w;const C=c[0];if(!C||C.length===0)return w;let k=d??0;if(!d)for(let b=0;b<C.length;b++){const S=(f=C[b])!==null&&f!==void 0?f:0,v=Math.abs(S);v>k&&(k=v)}return k?w/k:w})({channelData:l,barHeight:s.barHeight,normalize:s.normalize,maxPeak:s.maxPeak});xp(s)?this.renderBarWaveform(l,s,o,g):this.renderLineWaveform(l,s,o,g)}renderSingleCanvas(l,s,o,g,c,m,p){const d=this.getPixelRatio(),f=document.createElement("canvas");f.width=Math.round(o*d),f.height=Math.round(g*d),f.style.width=`${o}px`,f.style.height=`${g}px`,f.style.left=`${Math.round(c)}px`,m.appendChild(f);const w=f.getContext("2d");if(s.renderFunction?(w.fillStyle=this.convertColorValues(s.waveColor,w),s.renderFunction(l,w)):this.renderWaveform(l,s,w),f.width>0&&f.height>0){const C=f.cloneNode(),k=C.getContext("2d");k.drawImage(f,0,0),k.globalCompositeOperation="source-in",k.fillStyle=this.convertColorValues(s.progressColor,k),k.fillRect(0,0,f.width,f.height),p.appendChild(C)}}renderMultiCanvas(l,s,o,g,c,m){const p=this.getPixelRatio(),{clientWidth:d}=this.scrollContainer,f=o/p,w=(function({clientWidth:S,totalWidth:v,options:j}){return Qh(Math.min(8e3,S,v),j)})({clientWidth:d,totalWidth:f,options:s});let C={};if(w===0)return;const k=S=>{if(S<0||S>=b||C[S])return;C[S]=!0;const v=S*w;let j=Math.min(f-v,w);if(j=Qh(j,s),j<=0)return;const _=(function({channelData:T,offset:D,clampedWidth:B,totalWidth:q}){return T.map((I=>{const Z=Math.floor(D/q*I.length),ne=Math.floor((D+B)/q*I.length);return I.slice(Z,ne)}))})({channelData:l,offset:v,clampedWidth:j,totalWidth:f});this.renderSingleCanvas(_,s,j,g,v,c,m)},b=Math.ceil(f/w);if(!this.isScrollable){for(let S=0;S<b;S++)k(S);return}if(Wh({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:f,numCanvases:b}).forEach((S=>k(S))),b>1){const S=this.on("scroll",(()=>{const{scrollLeft:v}=this.scrollContainer;Object.keys(C).length>10&&(c.innerHTML="",m.innerHTML="",C={}),Wh({scrollLeft:v,totalWidth:f,numCanvases:b}).forEach((j=>k(j)))}));this.unsubscribeOnScroll.push(S)}}renderChannel(l,s,o,g){var{overlay:c}=s,m=(function(w,C){var k={};for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&C.indexOf(b)<0&&(k[b]=w[b]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(b=Object.getOwnPropertySymbols(w);S<b.length;S++)C.indexOf(b[S])<0&&Object.prototype.propertyIsEnumerable.call(w,b[S])&&(k[b[S]]=w[b[S]])}return k})(s,["overlay"]);const p=document.createElement("div"),d=this.getHeight(m.height,m.splitChannels);p.style.height=`${d}px`,c&&g>0&&(p.style.marginTop=`-${d}px`),this.canvasWrapper.style.minHeight=`${d}px`,this.canvasWrapper.appendChild(p);const f=p.cloneNode();this.progressWrapper.appendChild(f),this.renderMultiCanvas(l,m,o,d,p,f)}render(l){return nn(this,void 0,void 0,(function*(){var s;this.timeouts.forEach((f=>f())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const o=this.getPixelRatio(),g=this.scrollContainer.clientWidth,{scrollWidth:c,isScrollable:m,useParentWidth:p,width:d}=(function({duration:f,minPxPerSec:w=0,parentWidth:C,fillParent:k,pixelRatio:b}){const S=Math.ceil(f*w),v=S>C,j=!!(k&&!v);return{scrollWidth:S,isScrollable:v,useParentWidth:j,width:(j?C:S)*b}})({duration:l.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:g,fillParent:this.options.fillParent,pixelRatio:o});if(this.isScrollable=m,this.wrapper.style.width=p?"100%":`${c}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=l,this.emit("render"),this.options.splitChannels)for(let f=0;f<l.numberOfChannels;f++){const w=Object.assign(Object.assign({},this.options),(s=this.options.splitChannels)===null||s===void 0?void 0:s[f]);this.renderChannel([l.getChannelData(f)],w,d,f)}else{const f=[l.getChannelData(0)];l.numberOfChannels>1&&f.push(l.getChannelData(1)),this.renderChannel(f,this.options,d,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((o=>o())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:l}=this.scrollContainer,{right:s}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&l!==this.scrollContainer.scrollWidth){const{right:o}=this.progressWrapper.getBoundingClientRect(),g=(function(c){const m=2*c;return(m<0?Math.floor(m):Math.ceil(m))/2})(o-s);this.scrollContainer.scrollLeft+=g}}zoom(l){this.options.minPxPerSec=l,this.reRender()}scrollIntoView(l,s=!1){const{scrollLeft:o,scrollWidth:g,clientWidth:c}=this.scrollContainer,m=l*g,p=o,d=o+c,f=c/2;if(this.isDragging)m+30>d?this.scrollContainer.scrollLeft+=30:m-30<p&&(this.scrollContainer.scrollLeft-=30);else{(m<p||m>d)&&(this.scrollContainer.scrollLeft=m-(this.options.autoCenter?f:0));const w=m-o-f;s&&this.options.autoCenter&&w>0&&(this.scrollContainer.scrollLeft+=w)}}renderProgress(l,s){if(isNaN(l))return;const o=100*l;this.canvasWrapper.style.clipPath=`polygon(${o}% 0%, 100% 0%, 100% 100%, ${o}% 100%)`,this.progressWrapper.style.width=`${o}%`,this.cursor.style.left=`${o}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${l*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(l,s)}exportImage(l,s,o){return nn(this,void 0,void 0,(function*(){const g=this.canvasWrapper.querySelectorAll("canvas");if(!g.length)throw new Error("No waveform data");if(o==="dataURL"){const c=Array.from(g).map((m=>m.toDataURL(l,s)));return Promise.resolve(c)}return Promise.all(Array.from(g).map((c=>new Promise(((m,p)=>{c.toBlob((d=>{d?m(d):p(new Error("Could not export image"))}),l,s)})))))}))}}class wy extends Ml{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const l=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(l))};l()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class xu extends Ml{constructor(l=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=l,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return nn(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(l){if(this.currentSrc=l,this._duration=void 0,!l)return this.buffer=null,void this.emit("emptied");fetch(l).then((s=>{if(s.status>=400)throw new Error(`Failed to fetch ${l}: ${s.status} (${s.statusText})`);return s.arrayBuffer()})).then((s=>this.currentSrc!==l?null:this.audioContext.decodeAudioData(s))).then((s=>{this.currentSrc===l&&(this.buffer=s,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((s=>{console.error("WebAudioPlayer load error:",s)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let l=this.playedDuration*this._playbackRate;(l>=this.duration||l<0)&&(l=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,l),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var l;this.paused=!0,(l=this.bufferNode)===null||l===void 0||l.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return nn(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(l){const s=l-this.currentTime,o=this.bufferNode;o?.stop(this.audioContext.currentTime+s),o?.addEventListener("ended",(()=>{o===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(l){return nn(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(l)}))}get playbackRate(){return this._playbackRate}set playbackRate(l){this._playbackRate=l,this.bufferNode&&(this.bufferNode.playbackRate.value=l)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(l){const s=!this.paused;s&&this._pause(),this.playedDuration=l/this._playbackRate,s&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var l,s;return(l=this._duration)!==null&&l!==void 0?l:((s=this.buffer)===null||s===void 0?void 0:s.duration)||0}set duration(l){this._duration=l}get volume(){return this.gainNode.gain.value}set volume(l){this.gainNode.gain.value=l,this.emit("volumechange")}get muted(){return this._muted}set muted(l){this._muted!==l&&(this._muted=l,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(l){return/^(audio|video)\//.test(l)}getGainNode(){return this.gainNode}getChannelData(){const l=[];if(!this.buffer)return l;const s=this.buffer.numberOfChannels;for(let o=0;o<s;o++)l.push(this.buffer.getChannelData(o));return l}removeAttribute(l){switch(l){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const Sy={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Ol extends gy{static create(l){return new Ol(l)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(l){const s=l.media||(l.backend==="WebAudio"?new xu:void 0);super({media:s,mediaControls:l.mediaControls,autoplay:l.autoplay,playbackRate:l.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},Sy,l);const{state:o,actions:g}=(function(p){var d,f,w,C,k,b;const S=(d=p?.currentTime)!==null&&d!==void 0?d:Lt(0),v=(f=p?.duration)!==null&&f!==void 0?f:Lt(0),j=(w=p?.isPlaying)!==null&&w!==void 0?w:Lt(!1),_=(C=p?.isSeeking)!==null&&C!==void 0?C:Lt(!1),T=(k=p?.volume)!==null&&k!==void 0?k:Lt(1),D=(b=p?.playbackRate)!==null&&b!==void 0?b:Lt(1),B=Lt(null),q=Lt(null),I=Lt(""),Z=Lt(0),ne=Lt(0),V=Pa((()=>!j.value),[j]),F=Pa((()=>B.value!==null),[B]),Q=Pa((()=>F.value&&v.value>0),[F,v]),A=Pa((()=>S.value),[S]),O=Pa((()=>v.value>0?S.value/v.value:0),[S,v]);return{state:{currentTime:S,duration:v,isPlaying:j,isPaused:V,isSeeking:_,volume:T,playbackRate:D,audioBuffer:B,peaks:q,url:I,zoom:Z,scrollPosition:ne,canPlay:F,isReady:Q,progress:A,progressPercent:O},actions:{setCurrentTime:h=>{const U=Math.max(0,Math.min(v.value||1/0,h));S.set(U)},setDuration:h=>{v.set(Math.max(0,h))},setPlaying:h=>{j.set(h)},setSeeking:h=>{_.set(h)},setVolume:h=>{const U=Math.max(0,Math.min(1,h));T.set(U)},setPlaybackRate:h=>{const U=Math.max(.1,Math.min(16,h));D.set(U)},setAudioBuffer:h=>{B.set(h),h&&v.set(h.duration)},setPeaks:h=>{q.set(h)},setUrl:h=>{I.set(h)},setZoom:h=>{Z.set(Math.max(0,h))},setScrollPosition:h=>{ne.set(Math.max(0,h))}}}})({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=o,this.wavesurferActions=g,this.timer=new wy;const c=s?void 0:this.getMediaElement();this.renderer=new xy(this.options,c),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const m=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:p,duration:d}=this.options;(m||p&&d)&&this.load(m,p,d).catch((f=>{this.emit("error",f instanceof Error?f:new Error(String(f)))}))}))}updateProgress(l=this.getCurrentTime()){return this.renderer.renderProgress(l/this.getDuration(),this.isPlaying()),l}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const l=this.updateProgress();this.emit("timeupdate",l),this.emit("audioprocess",l),this.stopAtPosition!=null&&this.isPlaying()&&l>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push((function(l,s){const o=[];o.push(Da((()=>{const m=l.isPlaying.value;s.emit(m?"play":"pause")}),[l.isPlaying])),o.push(Da((()=>{const m=l.currentTime.value;s.emit("timeupdate",m),l.isPlaying.value&&s.emit("audioprocess",m)}),[l.currentTime,l.isPlaying])),o.push(Da((()=>{l.isSeeking.value&&s.emit("seeking",l.currentTime.value)}),[l.isSeeking,l.currentTime]));let g=!1;o.push(Da((()=>{l.isReady.value&&!g&&(g=!0,s.emit("ready",l.duration.value))}),[l.isReady,l.duration]));let c=!1;return o.push(Da((()=>{const m=l.isPlaying.value,p=l.currentTime.value,d=l.duration.value,f=d>0&&p>=d;c&&!m&&f&&s.emit("finish"),c=m&&f}),[l.isPlaying,l.currentTime,l.duration])),o.push(Da((()=>{const m=l.zoom.value;m>0&&s.emit("zoom",m)}),[l.zoom])),()=>{o.forEach((m=>m()))}})(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const l=this.updateProgress();this.emit("timeupdate",l)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var l;this.emit("error",(l=this.getMediaElement().error)!==null&&l!==void 0?l:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((l,s)=>{this.options.interact&&(this.seekTo(l),this.emit("interaction",l*this.getDuration()),this.emit("click",l,s))})),this.renderer.on("dblclick",((l,s)=>{this.emit("dblclick",l,s)})),this.renderer.on("scroll",((l,s,o,g)=>{const c=this.getDuration();this.emit("scroll",l*c,s*c,o,g)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(l=>{this.emit("dragstart",l)})),this.renderer.on("dragend",(l=>{this.emit("dragend",l)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let l;const s=this.renderer.on("drag",(o=>{var g;if(!this.options.interact)return;this.renderer.renderProgress(o),clearTimeout(l);let c=0;const m=this.options.dragToSeek;this.isPlaying()?c=0:m===!0?c=200:m&&typeof m=="object"&&(c=(g=m.debounceTime)!==null&&g!==void 0?g:200),l=setTimeout((()=>{this.seekTo(o)}),c),this.emit("interaction",o*this.getDuration()),this.emit("drag",o)}));this.subscriptions.push((()=>{clearTimeout(l),s()}))}}initPlugins(){var l;!((l=this.options.plugins)===null||l===void 0)&&l.length&&this.options.plugins.forEach((s=>{this.registerPlugin(s)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((l=>l())),this.mediaSubscriptions=[]}setOptions(l){this.options=Object.assign({},this.options,l),l.duration&&!l.peaks&&(this.decodedData=Kr.createBuffer(this.exportPeaks(),l.duration)),l.peaks&&l.duration&&(this.decodedData=Kr.createBuffer(l.peaks,l.duration)),this.renderer.setOptions(this.options),l.audioRate&&this.setPlaybackRate(l.audioRate),l.mediaControls!=null&&(this.getMediaElement().controls=l.mediaControls)}registerPlugin(l){if(this.plugins.includes(l))return l;l._init(this),this.plugins.push(l);const s=l.once("destroy",(()=>{this.plugins=this.plugins.filter((o=>o!==l)),this.subscriptions=this.subscriptions.filter((o=>o!==s))}));return this.subscriptions.push(s),l}unregisterPlugin(l){this.plugins=this.plugins.filter((s=>s!==l)),l.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(l){return this.renderer.setScroll(l)}setScrollTime(l){const s=l/this.getDuration();this.renderer.setScrollPercentage(s)}getActivePlugins(){return this.plugins}loadAudio(l,s,o,g){return nn(this,void 0,void 0,(function*(){var c;if(this.emit("load",l),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(c=this.abortController)===null||c===void 0||c.abort(),this.abortController=null,!s&&!o){const p=this.options.fetchParams||{};window.AbortController&&!p.signal&&(this.abortController=new AbortController,p.signal=this.abortController.signal);const d=w=>this.emit("loading",w);s=yield my.fetchBlob(l,d,p);const f=this.options.blobMimeType;f&&(s=new Blob([s],{type:f}))}this.setSrc(l,s);const m=yield new Promise((p=>{const d=g||this.getDuration();d?p(d):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>p(this.getDuration())),{once:!0}))}));if(!l&&!s){const p=this.getMediaElement();p instanceof xu&&(p.duration=m)}if(o)this.decodedData=Kr.createBuffer(o,m||0);else if(s){const p=yield s.arrayBuffer();this.decodedData=yield Kr.decode(p,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(l,s,o){return nn(this,void 0,void 0,(function*(){try{return yield this.loadAudio(l,void 0,s,o)}catch(g){throw this.emit("error",g),g}}))}loadBlob(l,s,o){return nn(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",l,s,o)}catch(g){throw this.emit("error",g),g}}))}zoom(l){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(l),this.emit("zoom",l)}getDecodedData(){return this.decodedData}exportPeaks({channels:l=2,maxLength:s=8e3,precision:o=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const g=Math.min(l,this.decodedData.numberOfChannels),c=[];for(let m=0;m<g;m++){const p=this.decodedData.getChannelData(m),d=[],f=p.length/s;for(let w=0;w<s;w++){const C=p.slice(Math.floor(w*f),Math.ceil((w+1)*f));let k=0;for(let b=0;b<C.length;b++){const S=C[b];Math.abs(S)>Math.abs(k)&&(k=S)}d.push(Math.round(k*o)/o)}c.push(d)}return c}getDuration(){let l=super.getDuration()||0;return l!==0&&l!==1/0||!this.decodedData||(l=this.decodedData.duration),l}toggleInteraction(l){this.options.interact=l}setTime(l){this.stopAtPosition=null,super.setTime(l),this.updateProgress(l),this.emit("timeupdate",l)}seekTo(l){const s=this.getDuration()*l;this.setTime(s)}play(l,s){const o=Object.create(null,{play:{get:()=>super.play}});return nn(this,void 0,void 0,(function*(){l!=null&&this.setTime(l);const g=yield o.play.call(this);return s!=null&&(this.media instanceof xu?this.media.stopAt(s):this.stopAtPosition=s),g}))}playPause(){return nn(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(l){this.setTime(this.getCurrentTime()+l)}empty(){this.load("",[[0]],.001)}setMediaElement(l){this.unsubscribePlayerEvents(),super.setMediaElement(l),this.initPlayerEvents()}exportImage(){return nn(this,arguments,void 0,(function*(l="image/png",s=1,o="dataURL"){return this.renderer.exportImage(l,s,o)}))}destroy(){var l;this.emit("destroy"),(l=this.abortController)===null||l===void 0||l.abort(),this.plugins.forEach((s=>s.destroy())),this.subscriptions.forEach((s=>s())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((s=>s())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Ol.BasePlugin=class extends Ml{constructor(E){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=E}onInit(){}_init(E){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=E,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((E=>E())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},Ol.dom=py;class Sp{constructor(){this.listeners={}}on(l,s,o){if(this.listeners[l]||(this.listeners[l]=new Set),o?.once){const g=(...c)=>{this.un(l,g),s(...c)};return this.listeners[l].add(g),()=>this.un(l,g)}return this.listeners[l].add(s),()=>this.un(l,s)}un(l,s){var o;(o=this.listeners[l])===null||o===void 0||o.delete(s)}once(l,s){return this.on(l,s,{once:!0})}unAll(){this.listeners={}}emit(l,...s){this.listeners[l]&&this.listeners[l].forEach((o=>o(...s)))}}class _y extends Sp{constructor(l){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=l}onInit(){}_init(l){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=l,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((l=>l())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function _p(E,l){const s=l.xmlns?document.createElementNS(l.xmlns,E):document.createElement(E);for(const[o,g]of Object.entries(l))if(o==="children"&&g)for(const[c,m]of Object.entries(g))m instanceof Node?s.appendChild(m):typeof m=="string"?s.appendChild(document.createTextNode(m)):s.appendChild(_p(c,m));else o==="style"?Object.assign(s.style,g):o==="textContent"?s.textContent=g:s.setAttribute(o,g.toString());return s}function Tl(E,l,s){const o=_p(E,l||{});return s?.appendChild(o),o}function Ep(E){let l=E;const s=new Set;return{get value(){return l},set(o){Object.is(l,o)||(l=o,s.forEach((g=>g(l))))},update(o){this.set(o(l))},subscribe:o=>(s.add(o),()=>s.delete(o))}}function $r(E,l){let s;const o=()=>{s&&(s(),s=void 0),s=E()},g=l.map((c=>c.subscribe(o)));return o(),()=>{s&&(s(),s=void 0),g.forEach((c=>c()))}}function Ri(E,l){const s=Ep(null),o=g=>{s.set(g)};return E.addEventListener(l,o),s._cleanup=()=>{E.removeEventListener(l,o)},s}function $a(E){const l=E._cleanup;typeof l=="function"&&l()}function Jr(E,l={}){const{threshold:s=3,mouseButton:o=0,touchDelay:g=100}=l,c=Ep(null),m=new Map,p=matchMedia("(pointer: coarse)").matches;let d=()=>{};const f=w=>{if(w.button!==o||(m.set(w.pointerId,w),m.size>1))return;let C=w.clientX,k=w.clientY,b=!1;const S=Date.now(),v=E.getBoundingClientRect(),{left:j,top:_}=v,T=Z=>{if(Z.defaultPrevented||m.size>1||p&&Date.now()-S<g)return;const ne=Z.clientX,V=Z.clientY,F=ne-C,Q=V-k;(b||Math.abs(F)>s||Math.abs(Q)>s)&&(Z.preventDefault(),Z.stopPropagation(),b||(c.set({type:"start",x:C-j,y:k-_}),b=!0),c.set({type:"move",x:ne-j,y:V-_,deltaX:F,deltaY:Q}),C=ne,k=V)},D=Z=>{if(m.delete(Z.pointerId),b){const ne=Z.clientX,V=Z.clientY;c.set({type:"end",x:ne-j,y:V-_})}d()},B=Z=>{m.delete(Z.pointerId),Z.relatedTarget&&Z.relatedTarget!==document.documentElement||D(Z)},q=Z=>{b&&(Z.stopPropagation(),Z.preventDefault())},I=Z=>{Z.defaultPrevented||m.size>1||b&&Z.preventDefault()};document.addEventListener("pointermove",T),document.addEventListener("pointerup",D),document.addEventListener("pointerout",B),document.addEventListener("pointercancel",B),document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("click",q,{capture:!0}),d=()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",D),document.removeEventListener("pointerout",B),document.removeEventListener("pointercancel",B),document.removeEventListener("touchmove",I),setTimeout((()=>{document.removeEventListener("click",q,{capture:!0})}),10)}};return E.addEventListener("pointerdown",f),{signal:c,cleanup:()=>{d(),E.removeEventListener("pointerdown",f),m.clear(),$a(c)}}}class $h extends Sp{constructor(l,s,o=0){var g,c,m,p,d,f,w,C,k,b;super(),this.totalDuration=s,this.numberOfChannels=o,this.element=null,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.subscriptions=[],this.updatingSide=void 0,this.isRemoved=!1,this.subscriptions=[],this.id=l.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(l.start),this.end=this.clampPosition((g=l.end)!==null&&g!==void 0?g:l.start),this.drag=(c=l.drag)===null||c===void 0||c,this.resize=(m=l.resize)===null||m===void 0||m,this.resizeStart=(p=l.resizeStart)===null||p===void 0||p,this.resizeEnd=(d=l.resizeEnd)===null||d===void 0||d,this.color=(f=l.color)!==null&&f!==void 0?f:"rgba(0, 0, 0, 0.1)",this.minLength=(w=l.minLength)!==null&&w!==void 0?w:this.minLength,this.maxLength=(C=l.maxLength)!==null&&C!==void 0?C:this.maxLength,this.channelIdx=(k=l.channelIdx)!==null&&k!==void 0?k:-1,this.contentEditable=(b=l.contentEditable)!==null&&b!==void 0?b:this.contentEditable,this.element=this.initElement(),this.setContent(l.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(l){return Math.max(0,Math.min(this.totalDuration,l))}setPart(){var l;const s=this.start===this.end;(l=this.element)===null||l===void 0||l.setAttribute("part",`${s?"marker":"region"} ${this.id}`)}addResizeHandles(l){const s={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},o=Tl("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},s),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},l),g=Tl("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},s),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},l),c=Jr(o,{threshold:1}),m=Jr(g,{threshold:1}),p=$r((()=>{const f=c.signal.value;f&&(f.type==="move"&&f.deltaX!==void 0?this.onResize(f.deltaX,"start"):f.type==="end"&&this.onEndResizing("start"))}),[c.signal]),d=$r((()=>{const f=m.signal.value;f&&(f.type==="move"&&f.deltaX!==void 0?this.onResize(f.deltaX,"end"):f.type==="end"&&this.onEndResizing("end"))}),[m.signal]);this.subscriptions.push((()=>{p(),d(),c.cleanup(),m.cleanup()}))}removeResizeHandles(l){const s=l.querySelector('[part*="region-handle-left"]'),o=l.querySelector('[part*="region-handle-right"]');s&&l.removeChild(s),o&&l.removeChild(o)}initElement(){if(this.isRemoved)return null;const l=this.start===this.end;let s=0,o=100;this.channelIdx>=0&&this.numberOfChannels>0&&this.channelIdx<this.numberOfChannels&&(o=100/this.numberOfChannels,s=o*this.channelIdx);const g=Tl("div",{style:{position:"absolute",top:`${s}%`,height:`${o}%`,backgroundColor:l?"none":this.color,borderLeft:l?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!l&&this.resize&&this.addResizeHandles(g),g}renderPosition(){if(!this.element)return;const l=this.start/this.totalDuration,s=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*l+"%",this.element.style.right=100*s+"%"}toggleCursor(l){var s;this.drag&&(!((s=this.element)===null||s===void 0)&&s.style)&&(this.element.style.cursor=l?"grabbing":"grab")}initMouseEvents(){const{element:l}=this;if(!l)return;const s=Ri(l,"click"),o=Ri(l,"mouseenter"),g=Ri(l,"mouseleave"),c=Ri(l,"dblclick"),m=Ri(l,"pointerdown"),p=Ri(l,"pointerup"),d=s.subscribe((j=>j&&this.emit("click",j))),f=o.subscribe((j=>j&&this.emit("over",j))),w=g.subscribe((j=>j&&this.emit("leave",j))),C=c.subscribe((j=>j&&this.emit("dblclick",j))),k=m.subscribe((j=>j&&this.toggleCursor(!0))),b=p.subscribe((j=>j&&this.toggleCursor(!1)));this.subscriptions.push((()=>{d(),f(),w(),C(),k(),b(),$a(s),$a(o),$a(g),$a(c),$a(m),$a(p)}));const S=Jr(l),v=$r((()=>{const j=S.signal.value;j&&(j.type==="start"?this.toggleCursor(!0):j.type==="move"&&j.deltaX!==void 0?this.onMove(j.deltaX):j.type==="end"&&(this.toggleCursor(!1),this.drag&&this.emit("update-end")))}),[S.signal]);this.subscriptions.push((()=>{v(),S.cleanup()})),this.contentEditable&&this.content&&(this.contentClickListener=j=>this.onContentClick(j),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener))}_onUpdate(l,s,o){var g;if(!(!((g=this.element)===null||g===void 0)&&g.parentElement))return;const{width:c}=this.element.parentElement.getBoundingClientRect(),m=l/c*this.totalDuration;let p=s&&s!=="start"?this.start:this.start+m,d=s&&s!=="end"?this.end:this.end+m;const f=o!==void 0;f&&this.updatingSide&&this.updatingSide!==s&&(this.updatingSide==="start"?p=o:d=o),p=Math.max(0,p),d=Math.min(this.totalDuration,d);const w=d-p;this.updatingSide=s;const C=w>=this.minLength&&w<=this.maxLength;p<=d&&(C||f)&&(this.start=p,this.end=d,this.renderPosition(),this.emit("update",s))}onMove(l){this.drag&&this._onUpdate(l)}onResize(l,s){this.resize&&(this.resizeStart||s!=="start")&&(this.resizeEnd||s!=="end")&&this._onUpdate(l,s)}onEndResizing(l){this.resize&&(this.emit("update-end",l),this.updatingSide=void 0)}onContentClick(l){l.stopPropagation(),l.target.focus(),this.emit("click",l)}onContentBlur(){this.emit("update-end")}_setTotalDuration(l){this.totalDuration=l,this.renderPosition()}play(l){this.emit("play",l&&this.end!==this.start?this.end:void 0)}getContent(l=!1){var s;return l?this.content||void 0:this.element instanceof HTMLElement?((s=this.content)===null||s===void 0?void 0:s.innerHTML)||void 0:""}setContent(l){var s;if(this.element)if(this.content&&this.contentEditable&&(this.contentClickListener&&this.content.removeEventListener("click",this.contentClickListener),this.contentBlurListener&&this.content.removeEventListener("blur",this.contentBlurListener)),(s=this.content)===null||s===void 0||s.remove(),l){if(typeof l=="string"){const o=this.start===this.end;this.content=Tl("div",{style:{padding:`0.2em ${o?.2:.4}em`,display:"inline-block"},textContent:l})}else this.content=l;this.contentEditable&&(this.content.contentEditable="true",this.contentClickListener=o=>this.onContentClick(o),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener)),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content),this.emit("content-changed")}else this.content=void 0}setOptions(l){var s,o;if(this.element){if(l.color&&(this.color=l.color,this.element.style.backgroundColor=this.color),l.drag!==void 0&&(this.drag=l.drag,this.element.style.cursor=this.drag?"grab":"default"),l.start!==void 0||l.end!==void 0){const g=this.start===this.end;this.start=this.clampPosition((s=l.start)!==null&&s!==void 0?s:this.start),this.end=this.clampPosition((o=l.end)!==null&&o!==void 0?o:g?this.start:this.end),this.renderPosition(),this.setPart()}if(l.content&&this.setContent(l.content),l.id&&(this.id=l.id,this.setPart()),l.resize!==void 0&&l.resize!==this.resize){const g=this.start===this.end;this.resize=l.resize,this.resize&&!g?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}l.resizeStart!==void 0&&(this.resizeStart=l.resizeStart),l.resizeEnd!==void 0&&(this.resizeEnd=l.resizeEnd)}}remove(){this.isRemoved=!0,this.emit("remove"),this.subscriptions.forEach((l=>l())),this.subscriptions=[],this.content&&this.contentEditable&&(this.contentClickListener&&(this.content.removeEventListener("click",this.contentClickListener),this.contentClickListener=void 0),this.contentBlurListener&&(this.content.removeEventListener("blur",this.contentBlurListener),this.contentBlurListener=void 0)),this.element&&(this.element.remove(),this.element=null),this.unAll()}}class Ou extends _y{constructor(l){super(l),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(l){return new Ou(l)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer),this.subscriptions.push(this.wavesurfer.on("ready",(s=>{this.regions.forEach((o=>o._setTotalDuration(s)))})));let l=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",(s=>{const o=this.regions.filter((g=>g.start<=s&&(g.end===g.start?g.start+.05:g.end)>=s));o.forEach((g=>{l.includes(g)||this.emit("region-in",g)})),l.forEach((g=>{o.includes(g)||this.emit("region-out",g)})),l=o})))}initRegionsContainer(){return Tl("div",{part:"regions-container",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"5",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(l){l.content&&setTimeout((()=>{const s=l.content,o=s.getBoundingClientRect(),g=this.regions.map((c=>{if(c===l||!c.content)return 0;const m=c.content.getBoundingClientRect();return o.left<m.left+m.width&&m.left<o.left+o.width?m.height:0})).reduce(((c,m)=>c+m),0);s.style.marginTop=`${g}px`}),10)}adjustScroll(l){var s,o;if(!l.element)return;const g=(o=(s=this.wavesurfer)===null||s===void 0?void 0:s.getWrapper())===null||o===void 0?void 0:o.parentElement;if(!g)return;const{clientWidth:c,scrollWidth:m}=g;if(m<=c)return;const p=g.getBoundingClientRect(),d=l.element.getBoundingClientRect(),f=d.left-p.left,w=d.right-p.left;f<0?g.scrollLeft+=f:w>c&&(g.scrollLeft+=w-c)}virtualAppend(l,s,o){const g=()=>{if(!this.wavesurfer)return;const c=this.wavesurfer.getWidth(),m=this.wavesurfer.getScroll(),p=s.clientWidth,d=this.wavesurfer.getDuration(),f=Math.round(l.start/d*p),w=f+(Math.round((l.end-l.start)/d*p)||1)>m&&f<m+c;w&&!o.parentElement?s.appendChild(o):!w&&o.parentElement&&o.remove()};setTimeout((()=>{if(!this.wavesurfer||!l.element)return;g();const c=this.wavesurfer.on("scroll",g),m=this.wavesurfer.on("zoom",g),p=this.wavesurfer.on("resize",g);this.subscriptions.push(c,m,p),l.once("remove",(()=>{c(),m(),p()}))}),0)}saveRegion(l){if(!l.element)return;this.virtualAppend(l,this.regionsContainer,l.element),this.avoidOverlapping(l),this.regions.push(l);const s=[l.on("update",(o=>{o||this.adjustScroll(l),this.emit("region-update",l,o)})),l.on("update-end",(o=>{this.avoidOverlapping(l),this.emit("region-updated",l,o)})),l.on("play",(o=>{var g;(g=this.wavesurfer)===null||g===void 0||g.play(l.start,o)})),l.on("click",(o=>{this.emit("region-clicked",l,o)})),l.on("dblclick",(o=>{this.emit("region-double-clicked",l,o)})),l.on("content-changed",(()=>{this.emit("region-content-changed",l)})),l.once("remove",(()=>{s.forEach((o=>o())),this.regions=this.regions.filter((o=>o!==l)),this.emit("region-removed",l)}))];this.subscriptions.push(...s),this.emit("region-created",l)}addRegion(l){var s,o;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const g=this.wavesurfer.getDuration(),c=(o=(s=this.wavesurfer)===null||s===void 0?void 0:s.getDecodedData())===null||o===void 0?void 0:o.numberOfChannels,m=new $h(l,g,c);return this.emit("region-initialized",m),g?this.saveRegion(m):this.subscriptions.push(this.wavesurfer.once("ready",(p=>{m._setTotalDuration(p),this.saveRegion(m)}))),m}enableDragSelection(l,s=3){var o;const g=(o=this.wavesurfer)===null||o===void 0?void 0:o.getWrapper();if(!(g&&g instanceof HTMLElement))return()=>{};let c=null,m=0,p=0;const d=Jr(g,{threshold:s}),f=$r((()=>{var w,C;const k=d.signal.value;if(k)if(k.type==="start"){if(m=k.x,!this.wavesurfer)return;const b=this.wavesurfer.getDuration(),S=(C=(w=this.wavesurfer)===null||w===void 0?void 0:w.getDecodedData())===null||C===void 0?void 0:C.numberOfChannels,{width:v}=this.wavesurfer.getWrapper().getBoundingClientRect();p=m/v*b;const j=k.x/v*b,_=(k.x+5)/v*b;c=new $h(Object.assign(Object.assign({},l),{start:j,end:_}),b,S),this.emit("region-initialized",c),c.element&&this.regionsContainer.appendChild(c.element)}else k.type==="move"&&k.deltaX!==void 0?c&&c._onUpdate(k.deltaX,k.x>m?"end":"start",p):k.type==="end"&&c&&(this.saveRegion(c),c.updatingSide=void 0,c=null)}),[d.signal]);return()=>{f(),d.cleanup()}}clearRegions(){this.regions.slice().forEach((l=>l.remove())),this.regions=[]}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}class Ey{async applyFades(l,s,o){const g=l.numberOfChannels,c=l.length,m=l.sampleRate,p=new AudioBuffer({length:c,numberOfChannels:g,sampleRate:m});for(let d=0;d<g;d++){const f=l.getChannelData(d),w=p.getChannelData(d);w.set(f);const C=Math.floor(s*m);for(let S=0;S<C&&S<c;S++)w[S]*=S/C;const k=Math.floor(o*m),b=c-k;for(let S=0;S<k&&b+S<c;S++){const v=b+S;v>=0&&(w[v]*=1-S/k)}}return p}async applyCrossfadeLoop(l,s){const o=l.sampleRate,g=Math.floor(s*o),c=l.length;if(g>=c/2)return l;const m=c-g,p=new AudioBuffer({length:m,numberOfChannels:l.numberOfChannels,sampleRate:o});for(let d=0;d<l.numberOfChannels;d++){const f=l.getChannelData(d),w=p.getChannelData(d);w.set(f.subarray(0,m));const C=f.subarray(m,c);for(let k=0;k<g;k++){const b=k/g,S=1-b;w[k]=w[k]*b+C[k]*S}}return p}async trim(l,s,o){const g=l.sampleRate,c=Math.floor(s*g),m=Math.ceil(o*g),p=m-c;if(p<=0)return l;const d=new AudioBuffer({length:p,numberOfChannels:l.numberOfChannels,sampleRate:g});for(let f=0;f<l.numberOfChannels;f++){const w=l.getChannelData(f).subarray(c,m);d.getChannelData(f).set(w)}return d}async normalize(l,s=-1){const o=new OfflineAudioContext(l.numberOfChannels,l.length,l.sampleRate),g=o.createBufferSource();g.buffer=l;let c=0;for(let f=0;f<l.numberOfChannels;f++){const w=l.getChannelData(f);for(let C=0;C<w.length;C++){const k=Math.abs(w[C]);k>c&&(c=k)}}const m=Math.pow(10,s/20);if(c===0)return l;const p=m/c,d=o.createGain();return d.gain.value=p,g.connect(d),d.connect(o.destination),g.start(),await o.startRendering()}}const Yn=new Ey;function Ja(E){const c=E.length*2*4,m=new ArrayBuffer(44+c),p=new DataView(m);Qr(p,0,"RIFF"),p.setUint32(4,36+c,!0),Qr(p,8,"WAVE"),Qr(p,12,"fmt "),p.setUint32(16,16,!0),p.setUint16(20,3,!0),p.setUint16(22,2,!0),p.setUint32(24,48e3,!0),p.setUint32(28,48e3*2*4,!0),p.setUint16(32,8,!0),p.setUint16(34,32,!0),Qr(p,36,"data"),p.setUint32(40,c,!0);const d=E.getChannelData(0),f=E.numberOfChannels>1?E.getChannelData(1):d;let w=44;for(let C=0;C<E.length;C++)p.setFloat32(w,d[C],!0),w+=4,p.setFloat32(w,f[C],!0),w+=4;return new Blob([m],{type:"audio/wav"})}function Qr(E,l,s){for(let o=0;o<s.length;o++)E.setUint8(l+o,s.charCodeAt(o))}const ei=({isOpen:E,onClose:l,onConfirm:s,title:o,message:g,confirmLabel:c="Confirm",isDestructive:m=!1,showCancel:p=!0})=>E?u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-6 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-md shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20",children:[u.jsxs("h3",{className:"text-xl font-bold text-white font-header flex items-center gap-2",children:[m&&u.jsx(oa,{size:20,className:"text-synthux-orange"}),o]}),u.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:u.jsx(xn,{size:20})})]}),u.jsx("div",{className:"p-6 font-body text-gray-300 leading-relaxed space-y-4",children:g}),u.jsxs("div",{className:"p-6 pt-4 border-t border-gray-800 bg-gray-900/50 flex justify-end gap-3 transition-colors",children:[p&&u.jsx("button",{onClick:l,className:"px-4 py-2 hover:bg-gray-800 rounded-lg text-gray-400 hover:text-white font-bold text-sm transition-colors border border-transparent hover:border-gray-700",children:"Cancel"}),u.jsx("button",{onClick:()=>{s()},className:`px-6 py-2 rounded-lg text-white font-bold text-sm transition-all shadow-lg hover:scale-105 active:scale-95 ${m?"bg-synthux-orange hover:bg-orange-600 shadow-orange-900/20":"bg-synthux-blue hover:bg-blue-600 shadow-blue-900/20"}`,children:c})]})]})}):null,jy=({width:E,height:l,fadeIn:s,fadeOut:o,duration:g,region:c,onFadeChange:m,onRegionChange:p})=>{if(g<=0)return null;const d=E/g,f=c.start*d,w=c.end*d,C=w-f,k=c.end-c.start,b=f+s*d,S=w-o*d,v=42,j=f+v*d,_=k>v,[T,D]=Ee.useState(null),[B,q]=Ee.useState(null),I=Ee.useRef(null),Z=(F,Q)=>{Q.preventDefault(),Q.stopPropagation(),D(F),q({x:Q.clientX,regionStart:c.start,regionEnd:c.end}),Q.target.setPointerCapture(Q.pointerId)},ne=F=>{if(!T||!I.current||!B)return;F.preventDefault();const Q=I.current.getBoundingClientRect();if(T==="move"){if(!p)return;const O=(F.clientX-B.x)/d;let h=B.regionStart+O,U=B.regionEnd+O;h<0&&(h=0,U=0+(B.regionEnd-B.regionStart)),U>g&&(U=g,h=g-(B.regionEnd-B.regionStart)),p(h,U)}else if(T==="resize-start"){if(!p)return;const O=(F.clientX-B.x)/d;let h=B.regionStart+O;h<0&&(h=0),h>=B.regionEnd-.1&&(h=B.regionEnd-.1),p(h,B.regionEnd)}else if(T==="resize-end"){if(!p)return;const O=(F.clientX-B.x)/d;let h=B.regionEnd+O;h>g&&(h=g),h<=B.regionStart+.1&&(h=B.regionStart+.1),p(B.regionStart,h)}else{if(!m)return;const O=(F.clientX-Q.left)/Q.width*g;if(T==="in"){let h=O-c.start;h<0&&(h=0),h>c.end-c.start&&(h=c.end-c.start),m("in",h)}else{let h=c.end-O;h<0&&(h=0),h>c.end-c.start&&(h=c.end-c.start),m("out",h)}}},V=F=>{D(null),q(null),F.target.releasePointerCapture(F.pointerId)};return u.jsxs("svg",{ref:I,className:"absolute top-0 left-0 fade-overlay fade-overlay-svg-container",style:{width:"100%",height:"100%",pointerEvents:"none",zIndex:999,position:"absolute",top:0,left:0},viewBox:`0 0 ${E} ${l}`,preserveAspectRatio:"none",onPointerMove:ne,onPointerUp:V,onPointerLeave:V,children:[u.jsxs("defs",{children:[u.jsx("style",{children:`
                        .fade-overlay { mix-blend-mode: normal; }
                        .fade-handle { pointer-events: auto; cursor: col-resize; }
                        .fade-handle:hover line { stroke: white; }
                        .fade-handle:hover polygon { fill: white; }

                        /* Bottom Move Bar */
                        .move-bar { pointer-events: auto; cursor: grab; fill: rgba(0,0,0,0.4); stroke: rgba(255,255,255,0.2); transition: fill 0.2s; }
                        .move-bar:hover { fill: rgba(255,255,255,0.1); stroke: rgba(255,255,255,0.5); }
                        .move-bar:active { cursor: grabbing; fill: rgba(255,255,255,0.2); }
                        
                        .resize-handle { pointer-events: auto; cursor: col-resize; transition: opacity 0.2s; }
                        .resize-handle:hover rect { opacity: 1; }
                        .resize-handle:active rect { fill: #ffb900; }

                        /* Corner Fade Creator Handles */
                        .corner-handle { pointer-events: auto; cursor: col-resize; fill: rgba(255,255,255,0.5); transition: fill 0.2s; }
                        .corner-handle:hover { fill: rgba(255,255,255,1); }
                        
                        rect.handle-hit-area { fill: transparent; pointer-events: auto; cursor: col-resize; }
                        rect.handle-hit-area:hover + polygon { fill: white; }
                        
                        /* Danger Zone Pattern */
                        .danger-pattern { fill: url(#dangerStripe); opacity: 0.3; pointer-events: none; }
                    `}),u.jsx("pattern",{id:"dangerStripe",width:"10",height:"10",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"10",stroke:"#f00f13",strokeWidth:"2"})})]}),_&&u.jsx("rect",{x:j,y:0,width:w-j,height:l,fill:"rgba(240, 15, 19, 0.1)",className:"danger-zone"}),_&&u.jsx("rect",{x:j,y:0,width:w-j,height:l,fill:"url(#dangerStripe)",opacity:.2,style:{pointerEvents:"none"}}),u.jsxs("g",{className:"move-group",children:[u.jsx("rect",{x:f+10,y:l-24,width:Math.max(0,C-20),height:24,className:"move-bar",onPointerDown:F=>Z("move",F)}),u.jsxs("g",{className:"resize-handle",onPointerDown:F=>Z("resize-start",F),children:[u.jsx("rect",{x:f,y:l-24,width:10,height:24,fill:"#fff",opacity:.8,rx:"2"}),u.jsx("line",{x1:f+3,y1:l-20,x2:f+3,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5}),u.jsx("line",{x1:f+6,y1:l-20,x2:f+6,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5})]}),u.jsxs("g",{className:"resize-handle",onPointerDown:F=>Z("resize-end",F),children:[u.jsx("rect",{x:w-10,y:l-24,width:10,height:24,fill:"#fff",opacity:.8,rx:"2"}),u.jsx("line",{x1:w-7,y1:l-20,x2:w-7,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5}),u.jsx("line",{x1:w-4,y1:l-20,x2:w-4,y2:l-4,stroke:"black",strokeWidth:"1",opacity:.5})]}),u.jsxs("text",{x:f+C/2,y:l-8,textAnchor:"middle",fill:_?"#f00f13":"white",fontSize:"10",fontWeight:"bold",pointerEvents:"none",style:{textShadow:"0 1px 2px black"},children:[k.toFixed(2),"s ",_?"(!)":""]})]}),s>0&&u.jsxs(u.Fragment,{children:[u.jsx("path",{d:`M ${f},${l} C ${f+(b-f)/2},${l} ${b-(b-f)/2},0 ${b},0 L ${f},0 Z`,fill:"rgba(255, 185, 0, 0.3)"}),u.jsx("path",{d:`M ${f},${l} C ${f+(b-f)/2},${l} ${b-(b-f)/2},0 ${b},0`,fill:"none",stroke:"rgba(255, 255, 255, 0.9)",strokeWidth:"2"}),u.jsxs("g",{className:"fade-handle",onPointerDown:F=>Z("in",F),children:[u.jsx("line",{x1:b,y1:0,x2:b,y2:l,stroke:"rgba(255,255,255,0.5)",strokeWidth:"1",strokeDasharray:"4 4"}),u.jsx("polygon",{points:`${b},0 ${b-12},0 ${b},16`,fill:"rgba(255,255,255,0.8)"}),u.jsx("rect",{x:b-16,y:0,width:32,height:l,className:"handle-hit-area"})]})]}),u.jsxs("g",{className:"corner-handle",onPointerDown:F=>Z("in",F),children:[u.jsx("polygon",{points:`${f},0 ${f+24},0 ${f},24`}),u.jsx("rect",{x:f,y:0,width:24,height:24,fill:"transparent",style:{pointerEvents:"auto",cursor:"ew-resize"}})]}),o>0&&u.jsxs(u.Fragment,{children:[u.jsx("path",{d:`M ${S},0 C ${S+(w-S)/2},0 ${w-(w-S)/2},${l} ${w},${l} L ${w},0 Z`,fill:"rgba(255, 185, 0, 0.2)"}),u.jsx("path",{d:`M ${S},0 C ${S+(w-S)/2},0 ${w-(w-S)/2},${l} ${w},${l}`,fill:"none",stroke:"rgba(255, 255, 255, 0.8)",strokeWidth:"2"}),u.jsxs("g",{className:"fade-handle",onPointerDown:F=>Z("out",F),children:[u.jsx("line",{x1:S,y1:0,x2:S,y2:l,stroke:"rgba(255,255,255,0.5)",strokeWidth:"1",strokeDasharray:"4 4"}),u.jsx("polygon",{points:`${S},0 ${S+12},0 ${S},16`,fill:"rgba(255,255,255,0.8)"}),u.jsx("rect",{x:S-16,y:0,width:32,height:l,fill:"transparent"})]})]}),u.jsxs("g",{className:"corner-handle",onPointerDown:F=>Z("out",F),children:[u.jsx("polygon",{points:`${w},0 ${w-24},0 ${w},24`}),u.jsx("rect",{x:w-24,y:0,width:24,height:24,fill:"transparent",style:{pointerEvents:"auto",cursor:"ew-resize"}})]})]})},Cy=({slot:E,versions:l,activeVersionId:s,tapeColor:o,onClose:g,onSave:c,onSaveAsCopy:m,onDeleteVersion:p,onAssignVersion:d,onMoveVersionToPool:f,isDuplicate:w,onSaveUnique:C})=>{const k=Ee.useRef(null),b=Ee.useRef(null),S=Ee.useRef(null),v=Ee.useRef(null),[j,_]=Ee.useState(!1),[T,D]=Ee.useState(10),[B,q]=Ee.useState(0),[I,Z]=Ee.useState(0),[ne,V]=Ee.useState(!1),[F,Q]=Ee.useState(.2),[A,O]=Ee.useState(!1),[h,U]=Ee.useState(null),Y=Ee.useRef(null),H=(oe,ze="success")=>{Y.current&&clearTimeout(Y.current),U({message:oe,type:ze}),Y.current=setTimeout(()=>{U(null)},3e3)},[se,W]=Ee.useState(!1),[ye,z]=Ee.useState(""),[R,de]=Ee.useState(!1),[re,ce]=Ee.useState(!1),[Re,He]=Ee.useState(null),[P]=Ee.useState(new Audio),[_e,qe]=Ee.useState(null),[Xe,tt]=Ee.useState(E.blob),[Je,x]=Ee.useState(s),[ee,te]=Ee.useState(null),{stop:L}=ns(),[M,K]=Ee.useState(0),[ge,je]=Ee.useState(.1),[J,Te]=Ee.useState({start:0,end:0}),Ae=Ee.useRef(null),[De,Ve]=Ee.useState(!1),[ut,Qe]=Ee.useState(!1),[Zt,an]=Ee.useState(!1),[zt,dn]=Ee.useState(new Set),[ct,kt]=Ee.useState(!1),[Kt,gt]=Ee.useState(!1),Ot=Ee.useRef(!1),Dn=Ee.useRef(null),On=()=>{!R&&Ot.current&&de(!0)};Ee.useEffect(()=>(Ot.current=!0,Dn.current&&clearTimeout(Dn.current),Dn.current=setTimeout(()=>{he()},100),()=>{if(Ot.current=!1,Dn.current&&clearTimeout(Dn.current),S.current){try{S.current.destroy()}catch(oe){console.warn(oe)}S.current=null}}),[Xe]),Ee.useEffect(()=>{q(0),Z(0),de(!1);const oe=l.find(ze=>ze.id===Je);oe?.processing?(Ve(oe.processing.includes("normalized")),Qe(oe.processing.includes("trimmed"))):(Ve(!1),Qe(!1))},[Xe,Je,l]),Ee.useEffect(()=>{E.blob!==Xe&&tt(E.blob)},[E.blob]),Ee.useEffect(()=>{s!==Je&&x(s)},[s]),Ee.useEffect(()=>{S.current&&S.current.zoom(T)},[T]);const fe=Ee.useRef(!1),xe=Ee.useRef(null),pe=Ee.useRef(null);Ee.useEffect(()=>{fe.current=ne},[ne]);const he=async()=>{if(!(!k.current||!Xe||!Ot.current)){S.current&&(S.current.destroy(),S.current=null);try{const oe=URL.createObjectURL(Xe),ze=Ol.create({container:k.current,waveColor:"#ffb900",progressColor:"#FFDF9B",url:oe,height:256,minPxPerSec:T,interact:!0,dragToSeek:!0,autoScroll:!1});S.current=ze,xe.current=ze,ze.on("error",Ie=>{Ot.current&&(typeof Ie=="string"&&Ie.includes("not initialized")||console.error("WaveSurfer Error:",Ie))});try{const Ie=ze.registerPlugin(Ou.create());v.current=Ie,pe.current=Ie,ze.on("ready",()=>{if(!Ot.current)return;const jt=ze.getDuration();if(K(jt),k.current){const Un=k.current.clientWidth/jt;je(Un),D(Un),ze.zoom(Un)}let fn=0,wn=jt;if(jt>42){const Zn=jt/2;fn=Zn-21,wn=Zn+21}Ie.addRegion({start:fn,end:wn,color:"rgba(255, 255, 255, 0.1)",drag:!1,resize:!0}),Te({start:fn,end:wn})}),Ie.on("region-update",jt=>Te({start:jt.start,end:jt.end})),Ie.on("region-updated",jt=>{Te({start:jt.start,end:jt.end}),Ot.current&&On()}),Ie.on("region-out",jt=>{fe.current&&Ot.current&&ze.play(jt.start,jt.end)})}catch(Ie){console.warn(Ie)}ze.on("play",()=>Ot.current&&_(!0)),ze.on("pause",()=>{Ot.current&&_(!1)}),ze.on("finish",()=>{if(fe.current&&Ot.current){if(pe.current){const Ie=pe.current.getRegions();if(Ie.length>0){const jt=Ie[0];ze.play(jt.start,jt.end);return}}ze.play()}else Ot.current&&_(!1)});const Ye=await Xe.arrayBuffer();if(!Ot.current)return;const Le=new AudioContext,et=await Le.decodeAudioData(Ye);te(et),Le.close()}catch(oe){console.error(oe),Ot.current&&H("Init Failed: "+oe,"error")}}};Ee.useEffect(()=>(L(),()=>{Ae.current&&cancelAnimationFrame(Ae.current)}),[]);const ve=()=>{if(!S.current)return;const ze=S.current.getCurrentTime()-J.start,Ye=J.end-J.start;let Le=1;if(ze<0||ze>Ye)Le=1;else if(B>0&&ze<B){const et=ze/B;Le=.5*(1-Math.cos(et*Math.PI))}else if(I>0&&ze>Ye-I){const Ie=(Ye-ze)/I;Le=.5*(1-Math.cos(Ie*Math.PI))}S.current.setVolume(Le),j&&(Ae.current=requestAnimationFrame(ve))};Ee.useEffect(()=>(j?ve():Ae.current&&cancelAnimationFrame(Ae.current),()=>{Ae.current&&cancelAnimationFrame(Ae.current)}),[j,B,I]),Ee.useEffect(()=>{const oe=ze=>{ze.code==="Space"&&(ze.preventDefault(),Be())};return window.addEventListener("keydown",oe),()=>window.removeEventListener("keydown",oe)},[j,ne]);const we=(oe,ze)=>{const Ye=Math.max(oe,ge);if(D(Ye),S.current&&b.current&&k.current){const Le=S.current.getCurrentTime(),et=b.current.clientWidth,Ie=Le*Ye-et/2;requestAnimationFrame(()=>{b.current&&(b.current.scrollLeft=Math.max(0,Ie))})}},ke=()=>we(Math.min(T*1.25,500)),Ne=()=>we(Math.max(T*.8,ge)),Oe=()=>{if(!b.current||!M)return;const ze=b.current.clientWidth/M;je(ze),D(ze),b.current&&(b.current.scrollLeft=0)},Ce=()=>{if(!b.current||!M)return;const oe=b.current.clientWidth,ze=J.end-J.start;if(ze<=0)return;const Le=oe*.9/ze,et=Math.max(Le,ge);D(et),setTimeout(()=>{if(b.current){const wn=(J.start+ze/2)*et+16-oe/2;b.current.scrollLeft=Math.max(0,wn)}},0)},Me=oe=>{if(oe.ctrlKey){oe.preventDefault();const ze=-Math.sign(oe.deltaY),Ye=1.1;let Le=T;ze>0?Le=Math.min(T*Ye,500):Le=Math.max(T/Ye,ge),we(Le)}},Be=async()=>{if(S.current)if(j)S.current.pause();else{const oe=v.current?.getRegions();if(oe&&oe.length>0){const ze=oe[0],Ye=S.current.getCurrentTime();Ye>=ze.end-.05?S.current.play(ze.start,ze.end):Ye>=ze.start&&Ye<ze.end?S.current.play(Ye,ze.end):S.current.play(ze.start,ze.end)}else S.current.play()}},Ke=async()=>{if(ee){W(!0);try{let oe=!1;(B>0||I>0)&&(oe=!0),(J.start>.01||J.end<ee.duration-.01)&&(oe=!0);let ze=0,Ye=ee.duration;if(v.current){const Ie=v.current.getRegions();Ie&&Ie.length>0&&(ze=Ie[0].start,Ye=Ie[0].end)}let Le,et;if(oe){let Ie=await Yn.trim(ee,ze,Ye);(B>0||I>0)&&(Ie=await Yn.applyFades(Ie,B,I)),et=Ie.duration,Le=Ja(Ie),c(Le,et,"Edited",oe,["trimmed"])}else{let Ie=await Yn.trim(ee,ze,Ye);et=Ie.duration,Le=Ja(Ie);const jt=l.find(fn=>fn.id===Je)?.processing;c(Le,et,"Edited",oe,jt)}H(oe?"Version Saved!":"Assigned to Tape","success"),oe||g()}catch(oe){console.error(oe),H("Failed to save","error")}finally{W(!1)}}},mt=oe=>{Ot.current&&oe.id!==Je&&(R?(He(oe),ce(!0)):(tt(oe.blob),x(oe.id)))},Qt=(oe,ze)=>{if(ze.stopPropagation(),_e===oe.id)P.pause(),qe(null);else{const Ye=URL.createObjectURL(oe.blob);P.src=Ye,P.play().catch(Le=>console.error("Preview fail",Le)),qe(oe.id),P.onended=()=>qe(null)}},nt=Math.floor(M*T),Et=Ee.useRef(!1),yt=oe=>{oe.button===0&&(Et.current=!0,oe.target.setPointerCapture(oe.pointerId),Tt(oe))},vt=oe=>{Et.current&&Tt(oe)},ht=oe=>{Et.current&&(Et.current=!1,oe.target.releasePointerCapture(oe.pointerId))},Tt=oe=>{if(!k.current||!S.current)return;const ze=k.current.getBoundingClientRect();let Le=(oe.clientX-ze.left)/ze.width;Le<0&&(Le=0),Le>1&&(Le=1),S.current.seekTo(Le)};return u.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur flex items-center justify-center z-50 p-6",children:[u.jsx("style",{children:`
                /* Allow clicks to pass through region body to seek */
                .wavesurfer-region {
                    pointer-events: none !important;
                }
                /* Restrict Region Handles to Bottom 50% for Trimming */
                .wavesurfer-region [data-region-handle] {
                   height: 50% !important;
                   top: 50% !important;
                   pointer-events: auto !important;
                }
                /* Ensure region visuals are above waveform but below handles */
                .wavesurfer-region {
                    z-index: 4 !important;
                }
                /* Toast Animation */
                @keyframes slideIn {
                    from { transform: translateY(-20px) translateX(-50%); opacity: 0; }
                    to { transform: translateY(0) translateX(-50%); opacity: 1; }
                }

                /* Hide WaveSurfer Internal Scrollbar */
                ::part(scroll) {
                    overflow-x: hidden !important;
                }
                
                /* Custom Scrollbar */
                .editor-scroll::-webkit-scrollbar {
                    height: 12px;
                    background: #111;
                    border-top: 1px solid #333;
                }
                .editor-scroll::-webkit-scrollbar-thumb, .history-scroll::-webkit-scrollbar-thumb {
                    background: #444;
                    border-radius: 6px;
                    border: 2px solid #111;
                }
                .editor-scroll::-webkit-scrollbar-thumb:hover, .history-scroll::-webkit-scrollbar-thumb:hover {
                    background: #666;
                }
                
                /* History Sidebar Scrollbar */
                .history-scroll::-webkit-scrollbar {
                    width: 6px;
                    background: #111;
                }
            `}),h&&u.jsx("div",{className:"absolute top-8 left-1/2 z-[70] animate-[slideIn_0.3s_ease-out]",style:{transform:"translateX(-50%)"},children:u.jsxs("div",{className:`px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 border ${h.type==="success"?"bg-green-900/90 border-green-500 text-green-100":"bg-red-900/90 border-red-500 text-red-100"}`,children:[h.type==="success"?u.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center text-black font-bold text-xs",children:""}):u.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center text-white font-bold text-xs",children:"!"}),u.jsx("span",{className:"font-medium text-sm",children:h.message})]})}),re&&u.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-700 p-6 rounded-xl shadow-2xl max-w-sm w-full text-center",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Changes"}),u.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"You have unsaved changes in the current view. Loading a different version will discard them."}),u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsx("button",{onClick:()=>ce(!1),className:"px-4 py-2 rounded-full bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium text-sm transition-colors",children:"Cancel"}),u.jsx("button",{onClick:()=>{Re&&(tt(Re.blob),x(Re.id),ce(!1),He(null))},className:"px-4 py-2 rounded-full bg-red-600 hover:bg-red-500 text-white font-bold text-sm transition-colors",children:"Discard & Load"})]})]})}),u.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-2xl w-full max-w-7xl h-[90vh] shadow-2xl flex overflow-hidden",children:[u.jsx(ei,{isOpen:Zt,onClose:()=>an(!1),onConfirm:()=>{const oe=l.find(ze=>ze.id===Je);if(oe&&tt(oe.blob),q(0),Z(0),de(!1),S.current&&v.current){const ze=S.current.getDuration();v.current.clearRegions();let Ye=ze,Le=0;if(ze>42){const et=ze/2;Le=et-21,Ye=et+21}v.current.addRegion({start:Le,end:Ye,color:"rgba(255, 255, 255, 0.1)",drag:!1,resize:!0}),Te({start:Le,end:Ye})}H("Reset to original","success"),an(!1)},title:"Reset Changes?",message:"Are you sure you want to discard all changes and revert to the last saved version? This cannot be undone.",confirmLabel:"Discard & Reset",isDestructive:!0}),u.jsx(ei,{isOpen:ct,onClose:()=>kt(!1),onConfirm:()=>{p&&(zt.forEach(oe=>p(oe)),dn(new Set),kt(!1),H(`Deleted ${zt.size} versions`,"success"))},title:`Delete ${zt.size} Version${zt.size>1?"s":""}?`,message:"This action cannot be undone. These versions will be permanently removed from the history.",confirmLabel:"Delete Forever",isDestructive:!0}),u.jsx(ei,{isOpen:Kt,onClose:()=>gt(!1),onConfirm:()=>{f&&(zt.forEach(oe=>f(oe)),dn(new Set),gt(!1),H(`Moved ${zt.size} versions to Pool`,"success"))},title:`Move ${zt.size} Version${zt.size>1?"s":""} to Pool?`,message:"These versions will be removed from this file's history and created as new unassigned files.",confirmLabel:"Move to Pool"}),u.jsxs("div",{className:"w-64 bg-[#111] border-r border-gray-800 flex flex-col shrink-0",children:[u.jsxs("div",{className:"p-4 border-b border-gray-800 bg-gray-900/50 flex flex-wrap gap-2 justify-between items-center",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"History"}),zt.size>0&&u.jsxs("div",{className:"flex gap-1",children:[f&&u.jsxs("button",{onClick:()=>gt(!0),className:"text-xs font-bold text-synthux-yellow hover:text-white flex items-center gap-1 bg-synthux-yellow/10 px-2 py-1 rounded hover:bg-synthux-yellow/30 transition-colors border border-synthux-yellow/20",children:[u.jsx(xn,{size:12})," Move"]}),p&&u.jsxs("button",{onClick:()=>kt(!0),className:"text-xs font-bold text-red-400 hover:text-red-300 flex items-center gap-1 bg-red-900/20 px-2 py-1 rounded hover:bg-red-900/40 transition-colors",children:[u.jsx(Li,{size:12})," Delete"]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 history-scroll",children:l.map(oe=>{const ze=oe.id===Je,Ye=zt.has(oe.id);return u.jsxs("div",{onClick:()=>{mt(oe)},className:`group p-3 rounded-lg border cursor-pointer transition-all hover:bg-gray-800 relative select-none
                                        ${ze?"bg-gray-800 border-synthux-blue/50 ring-1 ring-synthux-blue/20":""}
                                        ${Ye?"bg-synthux-yellow/10 border-synthux-yellow/50":ze?"":"bg-transparent border-gray-800 opacity-60 hover:opacity-100"}
                                    `,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("div",{onClick:Le=>{Le.stopPropagation();const et=new Set(zt);et.has(oe.id)?et.delete(oe.id):et.add(oe.id),dn(et)},className:`w-3 h-3 rounded-sm border flex items-center justify-center shrink-0 transition-colors ${Ye?"bg-synthux-yellow border-synthux-yellow":"border-gray-600 hover:border-gray-400"}`,children:Ye&&u.jsx(Dl,{size:8,className:"text-black stroke-[4]"})}),u.jsx("div",{className:"text-xs text-gray-500",children:new Date(oe.timestamp).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"})})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:Le=>Qt(oe,Le),className:"p-1.5 rounded-full bg-gray-700 hover:bg-synthux-blue text-white transition-colors",title:_e===oe.id?"Stop Preview":"Preview Audio",children:_e===oe.id?u.jsx(Yh,{size:10,fill:"white"}):u.jsx(Ui,{size:10,fill:"white"})}),u.jsx("button",{onClick:Le=>{Le.stopPropagation(),ts(()=>Promise.resolve().then(()=>Ru),void 0).then(et=>et.exportSingleFile({...E,versions:[oe],currentVersionId:oe.id,name:`${E.name} (v${new Date(oe.timestamp).getTime()})`}))},className:"p-1.5 rounded-full bg-gray-700 hover:bg-gray-600 text-gray-400 hover:text-white transition-colors",title:"Download Version WAV",children:u.jsx(Bi,{size:10})}),f&&u.jsx("button",{onClick:Le=>{Le.stopPropagation(),f(oe.id)},className:"p-1.5 rounded-full bg-gray-700 hover:bg-synthux-yellow/20 text-gray-400 hover:text-synthux-yellow transition-colors",title:"Move to Pool",children:u.jsx(xn,{size:10})}),p&&u.jsx("button",{onClick:Le=>{Le.stopPropagation(),p(oe.id)},className:"p-1.5 rounded-full bg-gray-700 hover:bg-red-500 text-gray-400 hover:text-white transition-colors",title:"Delete Version",children:u.jsx(Li,{size:10})})]})]}),u.jsxs("div",{className:`text-sm font-medium truncate ${ze?"text-synthux-blue":"text-white"}`,children:[oe.description||"Edited Version",oe.processing&&oe.processing.length>0&&u.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:oe.processing.map(Le=>u.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700/50 rounded text-[10px] uppercase font-bold text-gray-300 border border-gray-600",children:Le},Le))})]}),u.jsx("div",{className:"text-[10px] text-gray-600 mt-1 flex justify-between items-center",children:u.jsxs("span",{children:[(oe.duration||0).toFixed(2),"s  ",(oe.blob.size/1024).toFixed(0),"KB"]})})]},oe.id)})})]}),u.jsxs("div",{className:"flex-1 flex flex-col relative bg-[#1a1a1a] min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 pb-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(Hi,{color:o?`var(--color-synthux-${o.toLowerCase()})`:"gold",size:40})}),u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center gap-3",children:u.jsx("h2",{className:"text-2xl font-black bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent tracking-tighter uppercase",children:E.name})}),u.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-widest uppercase flex items-center gap-2",children:[u.jsx("span",{children:"Waveform Editor"}),u.jsx("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),u.jsx("span",{className:R?"text-amber-500":"text-gray-600",children:R?"Unsaved Changes":"All Saved"})]})]})]}),u.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:""})]}),u.jsxs("div",{className:"p-6 pt-2 flex flex-col h-full overflow-hidden",children:[u.jsx("div",{className:"flex gap-6 mb-4 bg-[#111] p-4 rounded-xl border border-gray-800 flex-col text-left shrink-0 max-w-full",children:u.jsxs("div",{className:"flex items-center gap-6 w-full overflow-x-auto pb-2",children:[u.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-700 pr-6 shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Fade In"}),u.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:B,onChange:oe=>{q(Number(oe.target.value)),On()},onMouseEnter:()=>z("Adjust Fade In Duration"),onMouseLeave:()=>z(""),className:"w-24 h-2 bg-gradient-to-r from-green-900 to-synthux-green rounded-lg appearance-none cursor-pointer"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Fade Out"}),u.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:I,onChange:oe=>{Z(Number(oe.target.value)),On()},onMouseEnter:()=>z("Adjust Fade Out Duration"),onMouseLeave:()=>z(""),className:"w-24 h-2 bg-gradient-to-r from-synthux-orange to-red-900 rounded-lg appearance-none cursor-pointer"})]})]}),u.jsxs("button",{onClick:()=>O(!A),onMouseEnter:()=>z("Create Seamless Loop (Crossfade end/start)"),onMouseLeave:()=>z(""),disabled:se,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${A?"bg-synthux-blue text-white border-transparent":"bg-gray-800 hover:bg-gray-700 border-gray-700"}`,children:[u.jsx(Zh,{size:14})," Make Loop"]}),(()=>{const oe=J.end-J.start,ze=Math.abs(oe-M)<.05,Ye=se||ze||ut;return u.jsxs("button",{onClick:()=>{Ke()},onMouseEnter:()=>z(ut?"Already Applied":ze?"Full Selection (Nothing to Trim)":"Apply Trim & Fades (Keep Open)"),onMouseLeave:()=>z(""),disabled:Ye,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${Ye?"bg-gray-900 border-gray-800 text-gray-600 cursor-not-allowed opacity-50":"bg-gray-800 hover:bg-gray-700 border-gray-700 text-green-400 hover:text-green-300 hover:border-green-800"}`,children:[u.jsx(Dl,{size:14})," Apply Trim"]})})(),u.jsxs("button",{onClick:async()=>{if(ee){W(!0);try{const oe=await Yn.normalize(ee,-1),ze=Ja(oe);c(ze,oe.duration,"Normalized",!0,["normalized"]),Ve(!0),H("Normalized Saved!","success")}catch(oe){console.error(oe),H("Normalization Failed","error")}finally{W(!1)}}},onMouseEnter:()=>z(De?"Already Applied":"Normalize Audio to -1dB"),onMouseLeave:()=>z(""),title:De?"Already Applied":"",disabled:se||De,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${De?"bg-gray-900 border-gray-800 text-gray-600 cursor-not-allowed opacity-50":"bg-gray-800 hover:bg-gray-700 border-gray-700 text-yellow-400 hover:text-yellow-300 hover:border-yellow-800"}`,children:[u.jsx(fg,{size:14})," Normalize"]}),u.jsxs("button",{onClick:()=>an(!0),onMouseEnter:()=>z("Discard Changes & Reset"),onMouseLeave:()=>z(""),disabled:!R,className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-colors border ${R?"bg-red-900/20 hover:bg-red-900/40 border-red-900/30 text-red-400 hover:text-red-300":"bg-gray-900 border-gray-800 text-gray-700 cursor-not-allowed hidden"}`,children:[u.jsx(Zh,{size:14})," Reset"]})]})}),A&&u.jsxs("div",{className:"mt-4 border-t border-gray-800 pt-4 flex gap-4 items-center animate-[slideIn_0.2s_ease-out]",children:[u.jsx("div",{className:"flex flex-col gap-1 grow max-w-xs",children:(()=>{const oe=J.end-J.start,ze=Math.min(10,oe/2),Ye=Math.min(F,ze);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-gray-400 uppercase",children:[u.jsx("span",{children:"Loop Crossfade Duration"}),u.jsxs("span",{className:"text-synthux-blue",children:[Ye.toFixed(2),"s ",u.jsxs("span",{className:"text-gray-600",children:["/ ",ze.toFixed(2),"s"]})]})]}),u.jsx("input",{type:"range",min:"0.01",max:ze,step:"0.01",value:Ye,onChange:Le=>Q(Number(Le.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]})})()}),u.jsx("button",{onClick:async()=>{if(ee){W(!0);try{let oe=0,ze=ee.duration;if(v.current){const Ie=v.current.getRegions();Ie.length>0&&(oe=Ie[0].start,ze=Ie[0].end)}const Ye=await Yn.trim(ee,oe,ze),Le=await Yn.applyCrossfadeLoop(Ye,F),et=Ja(Le);c(et,Le.duration,`Loop (${F.toFixed(2)}s)`,!0,["looped","trimmed"]),H("Loop Created!","success"),O(!1)}catch(oe){console.error(oe),H("Failed to make loopable","error")}finally{W(!1)}}},className:"px-6 py-2 bg-synthux-blue hover:bg-blue-500 rounded text-sm font-bold text-white transition-colors h-full self-end",children:"Create Loop"})]}),u.jsx("div",{className:"absolute top-[88px] left-6 text-[10px] text-synthux-blue font-mono tracking-widest uppercase pointer-events-none transition-opacity duration-200",children:ye||"Ready"}),u.jsx("div",{className:"flex-1 bg-black/40 border-y border-gray-800 relative flex flex-col justify-center overflow-hidden min-h-[300px] min-w-0 max-w-full",children:u.jsx("div",{ref:b,className:"w-full h-full overflow-x-auto overflow-y-hidden px-4 editor-scroll",style:{userSelect:"none"},onWheel:Me,children:u.jsxs("div",{className:"relative my-auto top-1/2 -translate-y-1/2",style:{width:nt,height:256,minWidth:"100%"},children:[u.jsx("div",{ref:k,className:"absolute inset-0 z-0 bg-black/20 cursor-text",onPointerDown:yt,onPointerMove:vt,onPointerUp:ht,onPointerLeave:ht}),M>0&&u.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",style:{width:nt,height:256},children:u.jsx(jy,{width:nt,height:256,fadeIn:B,fadeOut:I,duration:M,region:J,onFadeChange:(oe,ze)=>{const Ye=Math.round(ze*100)/100;oe==="in"?q(Ye):Z(Ye),On()},onRegionChange:(oe,ze)=>{const Ye=v.current?.getRegions();Ye&&Ye.length>0&&Ye[0].setOptions({start:oe,end:ze}),Te({start:oe,end:ze})}})}),u.jsx("div",{className:"absolute inset-0 pointer-events-none border-t border-b border-dashed border-gray-700/30 top-1/2 -translate-y-1/2 h-0 z-0"})]})})}),u.jsxs("div",{className:"flex items-center justify-between px-6 py-2 bg-[#111] border-t border-gray-800 shrink-0 gap-4",children:[u.jsx("div",{className:"flex-1 flex justify-start",children:(()=>{const oe=J.end-J.start,ze=oe>42.01;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`text-xs font-bold uppercase tracking-widest flex items-center gap-2 ${ze?"text-red-500":"text-gray-500"}`,children:[ze&&u.jsx("span",{children:""}),u.jsxs("span",{children:["Trim: ",oe.toFixed(2),"s"]}),ze&&u.jsx("span",{className:"text-[10px] normal-case opacity-80",children:"(Max 42s)"})]}),u.jsx("button",{onClick:()=>{if(v.current){const Ye=v.current.getRegions();if(Ye.length>0){const Le=Ye[0],et=Le.start+oe/2,Ie=Math.max(0,et-21),jt=Math.min(M,et+21);Le.setOptions({start:Ie,end:jt}),Te({start:Ie,end:jt}),On()}}},className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase transition-all border ${ze?"bg-red-900/30 hover:bg-red-900/50 border-red-500/50 text-red-200":"bg-gray-800 hover:bg-gray-700 border-gray-600 text-gray-400 hover:text-white"}`,children:"Set 42s"})]})})()}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"mr-2 text-gray-500 flex items-center gap-1 opacity-50",children:u.jsx(_g,{size:14})}),u.jsxs("button",{onClick:Oe,className:"px-2 py-1 hover:bg-gray-800 rounded text-[10px] font-bold uppercase text-gray-400 hover:text-white flex items-center gap-1 border border-transparent hover:border-gray-700 transition-all",title:"Fit All",children:[u.jsx(rg,{size:14})," Fit View"]}),u.jsxs("button",{onClick:Ce,className:"px-2 py-1 hover:bg-gray-800 rounded text-[10px] font-bold uppercase text-gray-400 hover:text-white flex items-center gap-1 border border-transparent hover:border-gray-700 transition-all",title:"Fit Trim",children:[u.jsx(Fg,{size:14})," Fit Trim"]}),u.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),u.jsx("button",{onClick:Ne,disabled:T<=ge*1.001,className:`p-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white ${T<=ge*1.001?"opacity-30":""}`,children:u.jsx(ay,{size:16})}),u.jsx("input",{type:"range",min:ge||.1,max:"1000",step:"0.1",value:T,onChange:oe=>we(Number(oe.target.value)),className:"w-24 h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),u.jsx("button",{onClick:ke,className:"p-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white",children:u.jsx(ty,{size:16})})]})]}),u.jsxs("div",{className:"flex justify-center gap-4 shrink-0 pb-4 pt-2 border-t border-gray-800 bg-[#1a1a1a] z-50",children:[u.jsx("button",{onClick:()=>{const oe=!ne;if(V(oe),v.current){const ze=v.current.getRegions();ze.length>0&&ze[0].setOptions({loop:oe})}},className:`flex items-center justify-center w-12 h-12 rounded-full border border-gray-700 transition-all ${ne?"bg-synthux-blue text-white border-transparent":"bg-gray-800 text-gray-400 hover:text-white"}`,title:ne?"Looping Active":"Enable Looping",children:u.jsx(gp,{size:20})}),u.jsxs("button",{onClick:Be,className:"flex items-center gap-2 px-8 py-3 bg-gray-800 hover:bg-gray-700 rounded-full text-lg font-bold transition-all hover:scale-105 active:scale-95 shadow-lg shadow-black/50",children:[j?u.jsx(Yh,{fill:"white"}):u.jsx(Ui,{fill:"white"}),j?"PAUSE":"PLAY"]}),u.jsx("div",{title:!R&&Je===s?"File has not changed":"",children:u.jsxs("button",{onClick:()=>{!R&&Je!==s&&d?d(Je):Ke()},disabled:se||!R&&Je===s,className:`flex items-center gap-2 px-8 py-3 rounded-full text-lg font-bold transition-all shadow-lg ${se||!R&&Je===s?"bg-gray-800 text-gray-500 cursor-not-allowed shadow-none":"bg-synthux-blue hover:bg-blue-500 text-white hover:scale-105 active:scale-95 shadow-synthux-blue/20"}`,children:[u.jsx(Gh,{size:20})," ",se?"SAVING...":"ASSIGN TO TAPE"]})}),w&&C&&u.jsxs("button",{onClick:async()=>{if(ee){W(!0);try{let oe=0,ze=ee.duration;if(v.current){const Ie=v.current.getRegions();Ie&&Ie.length>0&&(oe=Ie[0].start,ze=Ie[0].end)}const Ye=[];(oe>.01||ze<ee.duration-.01)&&Ye.push("trimmed"),ne&&Ye.push("looped");let Le=await Yn.trim(ee,oe,ze);(B>0||I>0)&&(Le=await Yn.applyFades(Le,B,I));const et=Ja(Le);C(et,Le.duration,Ye),H("Saved as Unique File!","success")}catch(oe){console.error(oe),H("Failed to save unique file","error")}finally{W(!1)}}},disabled:se,className:"flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-500 rounded-full text-sm font-bold transition-all hover:scale-105 active:scale-95 shadow-lg border border-orange-500 text-white",title:"Save as a new unique file and assign to this slot, leaving other duplicates unchanged.",children:[u.jsx(dp,{size:16})," SAVE UNIQUE"]}),u.jsxs("button",{onClick:async()=>{if(ee){W(!0);try{let oe=0,ze=ee.duration;if(v.current){const et=v.current.getRegions();et&&et.length>0&&(oe=et[0].start,ze=et[0].end)}let Ye=await Yn.trim(ee,oe,ze);(B>0||I>0)&&(Ye=await Yn.applyFades(Ye,B,I));const Le=Ja(Ye);m(Le,Ye.duration),H("Saved copy to Unused Pool!","success")}catch(oe){console.error(oe),H("Failed to save copy","error")}finally{W(!1)}}},disabled:se,className:"flex items-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full text-sm font-bold transition-all hover:scale-105 active:scale-95 shadow-lg border border-gray-600 text-gray-300",title:"Save as a new Parked file (Unassigned)",children:[u.jsx(Gh,{size:16})," SAVE COPY TO POOL"]})]})]})]})]})]})},zy=({files:E,tapes:l,onParkRequest:s,onOpenSampleBrowser:o,duplicates:g,onOpenDuplicateModal:c,onUnassignFile:m,onBulkUnassign:p,onDeleteFile:d,onFillFreeSlots:f})=>{const[w,C]=Ee.useState(!0),[k,b]=Ee.useState(!0),[S,v]=Ee.useState(!1),[j,_]=Ee.useState(new Set),[T,D]=Ee.useState(null),[B,q]=Ee.useState(null),I=()=>{const P=E.filter(qe=>qe.isParked),_e=E.filter(qe=>!qe.isParked);return[...P,..._e]},Z=(P,_e)=>{_e.stopPropagation();const qe=I(),Xe=new Set(j);if(_e.shiftKey&&B){const tt=qe.findIndex(x=>x.id===B),Je=qe.findIndex(x=>x.id===P);if(tt!==-1&&Je!==-1){const x=Math.min(tt,Je),ee=Math.max(tt,Je);!_e.ctrlKey&&!_e.metaKey&&Xe.clear();for(let te=x;te<=ee;te++)Xe.add(qe[te].id);D(P)}}else _e.ctrlKey||_e.metaKey?Xe.has(P)?Xe.delete(P):(Xe.add(P),D(P),q(P)):(Xe.clear(),Xe.add(P),D(P),q(P));_(Xe)},ne=P=>{const _e=new Set(j);_e.has(P)?_e.delete(P):(_e.add(P),D(P),q(P)),_(_e)},V=P=>{if(P.key!=="ArrowUp"&&P.key!=="ArrowDown")return;P.preventDefault();const _e=I();if(_e.length===0)return;let qe=0;if(T){const ee=_e.findIndex(te=>te.id===T);ee!==-1&&(P.key==="ArrowUp"?qe=Math.max(0,ee-1):qe=Math.min(_e.length-1,ee+1))}const tt=_e[qe].id,Je=new Set(j);if(P.shiftKey){B||q(T||tt);const ee=B||T||tt,te=_e.findIndex(ge=>ge.id===ee),L=qe,M=Math.min(te,L),K=Math.max(te,L);!P.ctrlKey&&!P.metaKey&&Je.clear();for(let ge=M;ge<=K;ge++)Je.add(_e[ge].id);D(tt)}else Je.clear(),Je.add(tt),D(tt),q(tt);_(Je),document.getElementById(`file-item-${tt}`)?.scrollIntoView({block:"nearest"})},F=()=>{if(!p&&!m)return;const P=[];j.forEach(_e=>{const qe=E.find(Xe=>Xe.id===_e);qe&&!qe.isParked&&P.push(_e)}),P.length!==0&&(p?p(P):m&&P.forEach(_e=>m(_e)),_(new Set))},Q=()=>{d&&confirm(`Are you sure you want to delete ${j.size} files? This cannot be undone.`)&&(j.forEach(P=>d(P)),_(new Set))},A=()=>_(new Set),O=()=>{const P=new Set(j);ye.forEach(_e=>P.add(_e.id)),_(P)},h=()=>{const P=new Set(j);z.forEach(_e=>P.add(_e.id)),_(P)},U=()=>{if(!f)return;const P=ye.filter(qe=>j.has(qe.id)).map(qe=>qe.id),_e=P.length>0?P:ye.map(qe=>qe.id);_e.length!==0&&(f(_e),A())},Y=(P,_e)=>{if(j.has(_e)){const qe=Array.from(j);P.dataTransfer.setData("application/x-spotykach-bulk-ids",JSON.stringify(qe)),P.dataTransfer.setData("application/x-spotykach-source","browser"),P.dataTransfer.effectAllowed="copyMove",P.dataTransfer.setData("application/x-spotykach-file-id",_e)}else P.dataTransfer.setData("application/x-spotykach-file-id",_e),P.dataTransfer.setData("application/x-spotykach-source","browser"),P.dataTransfer.effectAllowed="copyMove"},H=P=>{P.preventDefault(),P.dataTransfer.types.includes("application/x-spotykach-file-id")&&(P.dataTransfer.dropEffect="move")},se=P=>{P.preventDefault();const _e=P.dataTransfer.getData("application/x-spotykach-file-id"),qe=P.dataTransfer.getData("application/x-spotykach-source");_e&&qe==="slot"&&s(_e)},W=P=>{for(const[_e,qe]of Object.entries(l)){const Xe=qe.slots.find(tt=>tt.fileId===P);if(Xe)return`${_e} ${Xe.id}`}return null},ye=E.filter(P=>P.isParked),z=E.filter(P=>!P.isParked),R=P=>{if(!P)return"";switch(P.split(" ")[0]){case"Blue":return"bg-synthux-blue/20 text-synthux-blue border-synthux-blue/50";case"Green":return"bg-synthux-green/20 text-synthux-green border-synthux-green/50";case"Pink":return"bg-synthux-pink/20 text-synthux-pink border-synthux-pink/50";case"Red":return"bg-synthux-red/20 text-synthux-red border-synthux-red/50";case"Turquoise":return"bg-teal-400/20 text-teal-400 border-teal-400/50";case"Yellow":return"bg-synthux-yellow/20 text-synthux-yellow border-synthux-yellow/50";default:return"bg-gray-700 text-gray-300 border-gray-600"}},de=P=>{if(!P)return"border-gray-600";switch(P.split(" ")[0]){case"Blue":return"border-synthux-blue";case"Green":return"border-synthux-green";case"Pink":return"border-synthux-pink";case"Red":return"border-synthux-red";case"Turquoise":return"border-teal-400";case"Yellow":return"border-synthux-yellow";default:return"border-gray-600"}},{play:re,stop:ce,isPlaying:Re,activeFileId:He}=ns();return u.jsxs("div",{className:"w-72 bg-synthux-browsebg border-r border-gray-800 flex flex-col h-full transition-all outline-none focus:ring-1 focus:ring-synthux-blue/50",onDragOver:H,onDrop:se,tabIndex:0,onKeyDown:V,children:[u.jsxs("div",{className:"p-4 border-b border-gray-800 bg-synthux-panel flex items-center justify-between min-h-[60px]",children:[j.size>0?u.jsxs("div",{className:"flex items-center gap-2 w-full animate-in fade-in slide-in-from-top-1 duration-200",children:[u.jsxs("button",{onClick:A,className:"mr-auto text-xs font-bold text-gray-400 hover:text-white flex items-center gap-1",children:[u.jsx(xn,{size:14})," ",j.size," Selected"]}),m&&u.jsx("button",{onClick:F,className:"p-1.5 rounded-md bg-synthux-yellow/10 border border-synthux-yellow/30 text-synthux-yellow hover:bg-synthux-yellow/30 transition-colors",title:"Move Selected to Unassigned",children:u.jsx(xn,{size:14})}),d&&u.jsx("button",{onClick:Q,className:"p-1.5 rounded-md bg-red-900/20 border border-red-900/30 text-red-500 hover:bg-red-900/40 transition-colors",title:"Delete Selected",children:u.jsx(Li,{size:14})})]}):u.jsxs("div",{children:[u.jsxs("h3",{className:"text-gray-400 uppercase text-xs font-bold flex items-center gap-2",children:[u.jsx(fp,{size:14})," File Registry"]}),u.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"All imported files."})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:o,className:"p-1.5 rounded hover:bg-gray-700 transition-colors text-gray-400 hover:text-synthux-orange",title:"Browse Sample Packs",children:u.jsx(hp,{size:16})}),u.jsx("button",{onClick:()=>v(!S),className:`p-1.5 rounded hover:bg-gray-700 transition-colors ${S?"text-synthux-blue bg-gray-800":"text-gray-400"}`,title:S?"Expand View":"Compact View",children:S?u.jsx(Rg,{size:16}):u.jsx(Ug,{size:16})})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1 w-full",children:[u.jsxs("button",{onClick:()=>b(!k),className:"flex items-center gap-1 text-left text-xs font-bold text-gray-400 uppercase hover:text-white flex-1",children:[k?u.jsx(Lh,{size:14}):u.jsx(Hh,{size:14}),"Unassigned (",ye.length,")"]}),u.jsx("button",{onClick:P=>{P.stopPropagation(),O()},className:"text-[10px] text-gray-500 hover:text-white underline decoration-transparent hover:decoration-white transition-all",title:"Select All Unassigned",children:"Select All"}),f&&ye.length>0&&u.jsx("button",{onClick:P=>{P.stopPropagation(),U()},className:"p-1 rounded bg-gray-800 hover:bg-synthux-blue/20 text-gray-400 hover:text-synthux-blue transition-colors ml-1",title:"Add all unassigned to free slots",children:u.jsx(og,{size:12})})]}),k&&u.jsxs("div",{className:"pl-1",children:[ye.map(P=>u.jsx(Jh,{file:P,isMinified:S,isPlaying:Re,activeFileId:He,play:re,stop:ce,onDragStart:Y,location:null,getLabelStyle:R,getBorderColor:de,isSelected:j.has(P.id),onToggleSelect:()=>ne(P.id),onSelectionClick:_e=>Z(P.id,_e),onDelete:()=>{d&&d(P.id)}},P.id)),ye.length===0&&u.jsx("div",{className:"text-gray-600 text-xs italic px-2 py-4 border border-dashed border-gray-800 rounded",children:"No unassigned files"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1 w-full",children:[u.jsxs("button",{onClick:()=>C(!w),className:"flex items-center gap-1 text-left text-xs font-bold text-gray-400 uppercase hover:text-white flex-1",children:[w?u.jsx(Lh,{size:14}):u.jsx(Hh,{size:14}),"Assigned (",z.length,")"]}),u.jsx("button",{onClick:P=>{P.stopPropagation(),h()},className:"text-[10px] text-gray-500 hover:text-white underline decoration-transparent hover:decoration-white transition-all",title:"Select All Assigned",children:"Select All"})]}),w&&u.jsxs("div",{className:"pl-1",children:[z.map(P=>u.jsx(Jh,{file:P,isMinified:S,isPlaying:Re,activeFileId:He,play:re,stop:ce,onDragStart:Y,location:W(P.id),getLabelStyle:R,getBorderColor:de,isDuplicate:g.has(P.id),onOpenDuplicateModal:c,isSelected:j.has(P.id),onToggleSelect:()=>ne(P.id),onSelectionClick:_e=>Z(P.id,_e),onUnassign:()=>{m&&m(P.id)},onDelete:()=>{d&&d(P.id)}},P.id)),z.length===0&&u.jsx("div",{className:"text-gray-600 text-xs italic px-2 py-4 border border-dashed border-gray-800 rounded",children:"No assigned files"})]})]})]}),u.jsx("div",{className:"p-4 border-t border-gray-800",children:u.jsx("button",{onClick:()=>{confirm("Factory Reset: This will delete all imported files and assignments. Are you sure?")&&ts(()=>Promise.resolve().then(()=>av),void 0).then(P=>P.clearState())},className:"w-full py-2 text-xs font-bold text-red-900 bg-red-900/20 hover:bg-red-900/40 border border-red-900 rounded uppercase transition-colors",children:"Reset Application"})})]})},Jh=({file:E,location:l,isMinified:s,isPlaying:o,activeFileId:g,play:c,stop:m,onDragStart:p,getLabelStyle:d,getBorderColor:f,isDuplicate:w,onUnassign:C,onDelete:k,isSelected:b,onToggleSelect:S,onSelectionClick:v})=>{const j=o&&g===E.id,_=s&&l?f(l):l?"border-gray-700":"border-gray-600",T=l?"bg-gray-800/50":"bg-gray-800";return u.jsxs("div",{id:`file-item-${E.id}`,draggable:!0,onDragStart:D=>p(D,E.id),onClick:v,className:`
            relative rounded-md text-sm border cursor-grab active:cursor-grabbing group flex gap-2 select-none transition-colors mb-2
            ${T} ${_}
            ${s?"items-center p-1.5":"items-start p-2"}

            hover:border-gray-500 hover:bg-gray-700
            ${w?"!border-orange-500":""}
            ${b?"bg-synthux-yellow/10 border-synthux-yellow/50":""}
        `,children:[u.jsxs("div",{className:`flex shrink-0 ${s?"flex-row items-center gap-2":"flex-col items-center gap-1"}`,children:[u.jsx("div",{onClick:D=>{D.stopPropagation(),S()},className:`
                        w-4 h-4 rounded border flex items-center justify-center shrink-0 transition-colors cursor-pointer
                        ${b?"bg-synthux-yellow border-synthux-yellow":"bg-gray-800 border-gray-600 hover:border-gray-500"}
                    `,title:b?"Deselect":"Select",children:b&&u.jsx(Dl,{size:10,className:"text-black stroke-[3]"})}),u.jsx("button",{onClick:D=>{D.stopPropagation(),j?m():c(E)},className:`p-1.5 rounded-md transition-colors ${j?"bg-synthux-blue text-white":"bg-gray-700 text-gray-400 hover:text-white hover:bg-gray-600"}`,title:j?"Stop Preview":"Preview Audio",children:j?u.jsx(es,{size:12,fill:"currentColor"}):u.jsx(Ui,{size:12,fill:"currentColor"})}),u.jsx("button",{onClick:D=>{D.stopPropagation(),ts(()=>Promise.resolve().then(()=>Ru),void 0).then(B=>B.exportSingleFile(E))},className:"p-1.5 rounded-md transition-colors bg-gray-700 text-gray-400 hover:text-white hover:bg-gray-600",title:"Download WAV",children:u.jsx(Bi,{size:12})})]}),u.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[u.jsx("div",{className:"font-medium truncate text-gray-200",children:E.name}),!s&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-between text-[10px] text-gray-400 mt-0.5",children:u.jsx("span",{className:"truncate max-w-[100px]",children:E.originalName})}),u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:E.versions.find(D=>D.id===E.currentVersionId)?.description||"Original"}),u.jsxs("div",{className:"text-[10px] text-gray-600 mt-1",children:[E.versions.length," version",E.versions.length!==1?"s":""]})]})]}),u.jsxs("div",{className:`flex items-center gap-1 ${s?"ml-1":"ml-2"}`,children:[l&&C&&u.jsx("button",{onClick:D=>{D.stopPropagation(),C()},className:"p-1 rounded hover:bg-synthux-yellow/20 text-gray-500 hover:text-synthux-yellow transition-colors",title:"Unassign (Move to Unassigned)",children:u.jsx(xn,{size:12})}),k&&u.jsx("button",{onClick:D=>{D.stopPropagation(),k()},className:"p-1 rounded hover:bg-red-900/40 text-gray-500 hover:text-red-500 transition-colors",title:"Permanently Delete",children:u.jsx(Li,{size:12})})]}),l&&!s&&u.jsx("div",{className:`absolute bottom-1 right-1 text-[9px] px-1 py-0.5 rounded border leading-none font-mono ${d(l)}`,children:l}),!s&&u.jsx(Tg,{size:16,className:"text-gray-600 mt-0.5 shrink-0 opacity-50 group-hover:opacity-100"})]})},ky=E=>({id:E,fileId:null}),Ty=E=>({color:E,slots:Array.from({length:6},(l,s)=>ky(s+1))}),Ny=()=>{const E=Xt.reduce((l,s)=>(l[s]=Ty(s),l),{});return{files:{},tapes:E}};class Ay{audioContext;constructor(){this.audioContext=new(window.AudioContext||window.webkitAudioContext)}async loadAndProcessAudio(l){const s=await l.arrayBuffer(),o=await this.audioContext.decodeAudioData(s);let g=o;(o.sampleRate!==48e3||o.numberOfChannels!==2)&&(g=await this.resampleTo48kStereo(o));const c=Ja(g);return{buffer:g,blob:c}}async resampleTo48kStereo(l){const g=l.duration,c=Math.ceil(g*48e3),m=new OfflineAudioContext(2,c,48e3),p=m.createBufferSource();return p.buffer=l,p.connect(m.destination),p.start(0),await m.startRendering()}}const ju=new Ay;function Wr(E){throw new Error('Could not dynamically require "'+E+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wu={exports:{}};var Ph;function Dy(){return Ph||(Ph=1,(function(E,l){(function(s){E.exports=s()})(function(){return(function s(o,g,c){function m(f,w){if(!g[f]){if(!o[f]){var C=typeof Wr=="function"&&Wr;if(!w&&C)return C(f,!0);if(p)return p(f,!0);var k=new Error("Cannot find module '"+f+"'");throw k.code="MODULE_NOT_FOUND",k}var b=g[f]={exports:{}};o[f][0].call(b.exports,function(S){var v=o[f][1][S];return m(v||S)},b,b.exports,s,o,g,c)}return g[f].exports}for(var p=typeof Wr=="function"&&Wr,d=0;d<c.length;d++)m(c[d]);return m})({1:[function(s,o,g){var c=s("./utils"),m=s("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(d){for(var f,w,C,k,b,S,v,j=[],_=0,T=d.length,D=T,B=c.getTypeOf(d)!=="string";_<d.length;)D=T-_,C=B?(f=d[_++],w=_<T?d[_++]:0,_<T?d[_++]:0):(f=d.charCodeAt(_++),w=_<T?d.charCodeAt(_++):0,_<T?d.charCodeAt(_++):0),k=f>>2,b=(3&f)<<4|w>>4,S=1<D?(15&w)<<2|C>>6:64,v=2<D?63&C:64,j.push(p.charAt(k)+p.charAt(b)+p.charAt(S)+p.charAt(v));return j.join("")},g.decode=function(d){var f,w,C,k,b,S,v=0,j=0,_="data:";if(d.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var T,D=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===p.charAt(64)&&D--,d.charAt(d.length-2)===p.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=m.uint8array?new Uint8Array(0|D):new Array(0|D);v<d.length;)f=p.indexOf(d.charAt(v++))<<2|(k=p.indexOf(d.charAt(v++)))>>4,w=(15&k)<<4|(b=p.indexOf(d.charAt(v++)))>>2,C=(3&b)<<6|(S=p.indexOf(d.charAt(v++))),T[j++]=f,b!==64&&(T[j++]=w),S!==64&&(T[j++]=C);return T}},{"./support":30,"./utils":32}],2:[function(s,o,g){var c=s("./external"),m=s("./stream/DataWorker"),p=s("./stream/Crc32Probe"),d=s("./stream/DataLengthProbe");function f(w,C,k,b,S){this.compressedSize=w,this.uncompressedSize=C,this.crc32=k,this.compression=b,this.compressedContent=S}f.prototype={getContentWorker:function(){var w=new m(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),C=this;return w.on("end",function(){if(this.streamInfo.data_length!==C.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new m(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(w,C,k){return w.pipe(new p).pipe(new d("uncompressedSize")).pipe(C.compressWorker(k)).pipe(new d("compressedSize")).withStreamInfo("compression",C)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,o,g){var c=s("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},g.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,o,g){var c=s("./utils"),m=(function(){for(var p,d=[],f=0;f<256;f++){p=f;for(var w=0;w<8;w++)p=1&p?3988292384^p>>>1:p>>>1;d[f]=p}return d})();o.exports=function(p,d){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?(function(f,w,C,k){var b=m,S=k+C;f^=-1;for(var v=k;v<S;v++)f=f>>>8^b[255&(f^w[v])];return-1^f})(0|d,p,p.length,0):(function(f,w,C,k){var b=m,S=k+C;f^=-1;for(var v=k;v<S;v++)f=f>>>8^b[255&(f^w.charCodeAt(v))];return-1^f})(0|d,p,p.length,0):0}},{"./utils":32}],5:[function(s,o,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(s,o,g){var c=null;c=typeof Promise<"u"?Promise:s("lie"),o.exports={Promise:c}},{lie:37}],7:[function(s,o,g){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=s("pako"),p=s("./utils"),d=s("./stream/GenericWorker"),f=c?"uint8array":"array";function w(C,k){d.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=k,this.meta={}}g.magic="\b\0",p.inherits(w,d),w.prototype.processChunk=function(C){this.meta=C.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(f,C.data),!1)},w.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(k){C.push({data:k,meta:C.meta})}},g.compressWorker=function(C){return new w("Deflate",C)},g.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,o,g){function c(b,S){var v,j="";for(v=0;v<S;v++)j+=String.fromCharCode(255&b),b>>>=8;return j}function m(b,S,v,j,_,T){var D,B,q=b.file,I=b.compression,Z=T!==f.utf8encode,ne=p.transformTo("string",T(q.name)),V=p.transformTo("string",f.utf8encode(q.name)),F=q.comment,Q=p.transformTo("string",T(F)),A=p.transformTo("string",f.utf8encode(F)),O=V.length!==q.name.length,h=A.length!==F.length,U="",Y="",H="",se=q.dir,W=q.date,ye={crc32:0,compressedSize:0,uncompressedSize:0};S&&!v||(ye.crc32=b.crc32,ye.compressedSize=b.compressedSize,ye.uncompressedSize=b.uncompressedSize);var z=0;S&&(z|=8),Z||!O&&!h||(z|=2048);var R=0,de=0;se&&(R|=16),_==="UNIX"?(de=798,R|=(function(ce,Re){var He=ce;return ce||(He=Re?16893:33204),(65535&He)<<16})(q.unixPermissions,se)):(de=20,R|=(function(ce){return 63&(ce||0)})(q.dosPermissions)),D=W.getUTCHours(),D<<=6,D|=W.getUTCMinutes(),D<<=5,D|=W.getUTCSeconds()/2,B=W.getUTCFullYear()-1980,B<<=4,B|=W.getUTCMonth()+1,B<<=5,B|=W.getUTCDate(),O&&(Y=c(1,1)+c(w(ne),4)+V,U+="up"+c(Y.length,2)+Y),h&&(H=c(1,1)+c(w(Q),4)+A,U+="uc"+c(H.length,2)+H);var re="";return re+=`
\0`,re+=c(z,2),re+=I.magic,re+=c(D,2),re+=c(B,2),re+=c(ye.crc32,4),re+=c(ye.compressedSize,4),re+=c(ye.uncompressedSize,4),re+=c(ne.length,2),re+=c(U.length,2),{fileRecord:C.LOCAL_FILE_HEADER+re+ne+U,dirRecord:C.CENTRAL_FILE_HEADER+c(de,2)+re+c(Q.length,2)+"\0\0\0\0"+c(R,4)+c(j,4)+ne+U+Q}}var p=s("../utils"),d=s("../stream/GenericWorker"),f=s("../utf8"),w=s("../crc32"),C=s("../signature");function k(b,S,v,j){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=v,this.encodeFileName=j,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(k,d),k.prototype.push=function(b){var S=b.meta.percent||0,v=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,d.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:v?(S+100*(v-j-1))/v:100}}))},k.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var S=this.streamFiles&&!b.file.dir;if(S){var v=m(b,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},k.prototype.closedSource=function(b){this.accumulate=!1;var S=this.streamFiles&&!b.file.dir,v=m(b,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),S)this.push({data:(function(j){return C.DATA_DESCRIPTOR+c(j.crc32,4)+c(j.compressedSize,4)+c(j.uncompressedSize,4)})(b),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},k.prototype.flush=function(){for(var b=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var v=this.bytesWritten-b,j=(function(_,T,D,B,q){var I=p.transformTo("string",q(B));return C.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(_,2)+c(_,2)+c(T,4)+c(D,4)+c(I.length,2)+I})(this.dirRecords.length,v,b,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},k.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},k.prototype.registerPrevious=function(b){this._sources.push(b);var S=this;return b.on("data",function(v){S.processChunk(v)}),b.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),b.on("error",function(v){S.error(v)}),this},k.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},k.prototype.error=function(b){var S=this._sources;if(!d.prototype.error.call(this,b))return!1;for(var v=0;v<S.length;v++)try{S[v].error(b)}catch{}return!0},k.prototype.lock=function(){d.prototype.lock.call(this);for(var b=this._sources,S=0;S<b.length;S++)b[S].lock()},o.exports=k},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,o,g){var c=s("../compressions"),m=s("./ZipFileWorker");g.generateWorker=function(p,d,f){var w=new m(d.streamFiles,f,d.platform,d.encodeFileName),C=0;try{p.forEach(function(k,b){C++;var S=(function(T,D){var B=T||D,q=c[B];if(!q)throw new Error(B+" is not a valid compression method !");return q})(b.options.compression,d.compression),v=b.options.compressionOptions||d.compressionOptions||{},j=b.dir,_=b.date;b._compressWorker(S,v).withStreamInfo("file",{name:k,dir:j,date:_,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(w)}),w.entriesCount=C}catch(k){w.error(k)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,o,g){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new c;for(var p in this)typeof this[p]!="function"&&(m[p]=this[p]);return m}}(c.prototype=s("./object")).loadAsync=s("./load"),c.support=s("./support"),c.defaults=s("./defaults"),c.version="3.10.1",c.loadAsync=function(m,p){return new c().loadAsync(m,p)},c.external=s("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,o,g){var c=s("./utils"),m=s("./external"),p=s("./utf8"),d=s("./zipEntries"),f=s("./stream/Crc32Probe"),w=s("./nodejsUtils");function C(k){return new m.Promise(function(b,S){var v=k.decompressed.getContentWorker().pipe(new f);v.on("error",function(j){S(j)}).on("end",function(){v.streamInfo.crc32!==k.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}o.exports=function(k,b){var S=this;return b=c.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),w.isNode&&w.isStream(k)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",k,!0,b.optimizedBinaryString,b.base64).then(function(v){var j=new d(b);return j.load(v),j}).then(function(v){var j=[m.Promise.resolve(v)],_=v.files;if(b.checkCRC32)for(var T=0;T<_.length;T++)j.push(C(_[T]));return m.Promise.all(j)}).then(function(v){for(var j=v.shift(),_=j.files,T=0;T<_.length;T++){var D=_[T],B=D.fileNameStr,q=c.resolve(D.fileNameStr);S.file(q,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:b.createFolders}),D.dir||(S.file(q).unsafeOriginalName=B)}return j.zipComment.length&&(S.comment=j.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,o,g){var c=s("../utils"),m=s("../stream/GenericWorker");function p(d,f){m.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(f)}c.inherits(p,m),p.prototype._bindStream=function(d){var f=this;(this._stream=d).pause(),d.on("data",function(w){f.push({data:w,meta:{percent:0}})}).on("error",function(w){f.isPaused?this.generatedError=w:f.error(w)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},p.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,o,g){var c=s("readable-stream").Readable;function m(p,d,f){c.call(this,d),this._helper=p;var w=this;p.on("data",function(C,k){w.push(C)||w._helper.pause(),f&&f(k)}).on("error",function(C){w.emit("error",C)}).on("end",function(){w.push(null)})}s("../utils").inherits(m,c),m.prototype._read=function(){this._helper.resume()},o.exports=m},{"../utils":32,"readable-stream":16}],14:[function(s,o,g){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,m){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,m);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,m)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var m=new Buffer(c);return m.fill(0),m},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(s,o,g){function c(q,I,Z){var ne,V=p.getTypeOf(I),F=p.extend(Z||{},w);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(q=_(q)),F.createFolders&&(ne=j(q))&&T.call(this,ne,!0);var Q=V==="string"&&F.binary===!1&&F.base64===!1;Z&&Z.binary!==void 0||(F.binary=!Q),(I instanceof C&&I.uncompressedSize===0||F.dir||!I||I.length===0)&&(F.base64=!1,F.binary=!0,I="",F.compression="STORE",V="string");var A=null;A=I instanceof C||I instanceof d?I:S.isNode&&S.isStream(I)?new v(q,I):p.prepareContent(q,I,F.binary,F.optimizedBinaryString,F.base64);var O=new k(q,A,F);this.files[q]=O}var m=s("./utf8"),p=s("./utils"),d=s("./stream/GenericWorker"),f=s("./stream/StreamHelper"),w=s("./defaults"),C=s("./compressedObject"),k=s("./zipObject"),b=s("./generate"),S=s("./nodejsUtils"),v=s("./nodejs/NodejsStreamInputAdapter"),j=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var I=q.lastIndexOf("/");return 0<I?q.substring(0,I):""},_=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},T=function(q,I){return I=I!==void 0?I:w.createFolders,q=_(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:I}),this.files[q]};function D(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var I,Z,ne;for(I in this.files)ne=this.files[I],(Z=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&q(Z,ne)},filter:function(q){var I=[];return this.forEach(function(Z,ne){q(Z,ne)&&I.push(ne)}),I},file:function(q,I,Z){if(arguments.length!==1)return q=this.root+q,c.call(this,q,I,Z),this;if(D(q)){var ne=q;return this.filter(function(F,Q){return!Q.dir&&ne.test(F)})}var V=this.files[this.root+q];return V&&!V.dir?V:null},folder:function(q){if(!q)return this;if(D(q))return this.filter(function(V,F){return F.dir&&q.test(V)});var I=this.root+q,Z=T.call(this,I),ne=this.clone();return ne.root=Z.name,ne},remove:function(q){q=this.root+q;var I=this.files[q];if(I||(q.slice(-1)!=="/"&&(q+="/"),I=this.files[q]),I&&!I.dir)delete this.files[q];else for(var Z=this.filter(function(V,F){return F.name.slice(0,q.length)===q}),ne=0;ne<Z.length;ne++)delete this.files[Z[ne].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var I,Z={};try{if((Z=p.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=Z.type.toLowerCase(),Z.compression=Z.compression.toUpperCase(),Z.type==="binarystring"&&(Z.type="string"),!Z.type)throw new Error("No output type specified.");p.checkSupport(Z.type),Z.platform!=="darwin"&&Z.platform!=="freebsd"&&Z.platform!=="linux"&&Z.platform!=="sunos"||(Z.platform="UNIX"),Z.platform==="win32"&&(Z.platform="DOS");var ne=Z.comment||this.comment||"";I=b.generateWorker(this,Z,ne)}catch(V){(I=new d("error")).error(V)}return new f(I,Z.type||"string",Z.mimeType)},generateAsync:function(q,I){return this.generateInternalStream(q).accumulate(I)},generateNodeStream:function(q,I){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(I)}};o.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,o,g){o.exports=s("stream")},{stream:void 0}],17:[function(s,o,g){var c=s("./DataReader");function m(p){c.call(this,p);for(var d=0;d<this.data.length;d++)p[d]=255&p[d]}s("../utils").inherits(m,c),m.prototype.byteAt=function(p){return this.data[this.zero+p]},m.prototype.lastIndexOfSignature=function(p){for(var d=p.charCodeAt(0),f=p.charCodeAt(1),w=p.charCodeAt(2),C=p.charCodeAt(3),k=this.length-4;0<=k;--k)if(this.data[k]===d&&this.data[k+1]===f&&this.data[k+2]===w&&this.data[k+3]===C)return k-this.zero;return-1},m.prototype.readAndCheckSignature=function(p){var d=p.charCodeAt(0),f=p.charCodeAt(1),w=p.charCodeAt(2),C=p.charCodeAt(3),k=this.readData(4);return d===k[0]&&f===k[1]&&w===k[2]&&C===k[3]},m.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,d},o.exports=m},{"../utils":32,"./DataReader":18}],18:[function(s,o,g){var c=s("../utils");function m(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var d,f=0;for(this.checkOffset(p),d=this.index+p-1;d>=this.index;d--)f=(f<<8)+this.byteAt(d);return this.index+=p,f},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},o.exports=m},{"../utils":32}],19:[function(s,o,g){var c=s("./Uint8ArrayReader");function m(p){c.call(this,p)}s("../utils").inherits(m,c),m.prototype.readData=function(p){this.checkOffset(p);var d=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,d},o.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,o,g){var c=s("./DataReader");function m(p){c.call(this,p)}s("../utils").inherits(m,c),m.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},m.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},m.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},m.prototype.readData=function(p){this.checkOffset(p);var d=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,d},o.exports=m},{"../utils":32,"./DataReader":18}],21:[function(s,o,g){var c=s("./ArrayReader");function m(p){c.call(this,p)}s("../utils").inherits(m,c),m.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,d},o.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(s,o,g){var c=s("../utils"),m=s("../support"),p=s("./ArrayReader"),d=s("./StringReader"),f=s("./NodeBufferReader"),w=s("./Uint8ArrayReader");o.exports=function(C){var k=c.getTypeOf(C);return c.checkSupport(k),k!=="string"||m.uint8array?k==="nodebuffer"?new f(C):m.uint8array?new w(c.transformTo("uint8array",C)):new p(c.transformTo("array",C)):new d(C)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,o,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,o,g){var c=s("./GenericWorker"),m=s("../utils");function p(d){c.call(this,"ConvertWorker to "+d),this.destType=d}m.inherits(p,c),p.prototype.processChunk=function(d){this.push({data:m.transformTo(this.destType,d.data),meta:d.meta})},o.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(s,o,g){var c=s("./GenericWorker"),m=s("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(p,c),p.prototype.processChunk=function(d){this.streamInfo.crc32=m(d.data,this.streamInfo.crc32||0),this.push(d)},o.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,o,g){var c=s("../utils"),m=s("./GenericWorker");function p(d){m.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}c.inherits(p,m),p.prototype.processChunk=function(d){if(d){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+d.data.length}m.prototype.processChunk.call(this,d)},o.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(s,o,g){var c=s("../utils"),m=s("./GenericWorker");function p(d){m.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(w){f.dataIsReady=!0,f.data=w,f.max=w&&w.length||0,f.type=c.getTypeOf(w),f.isPaused||f._tickAndRepeat()},function(w){f.error(w)})}c.inherits(p,m),p.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,f);break;case"uint8array":d=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":d=this.data.slice(this.index,f)}return this.index=f,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(s,o,g){function c(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,p){return this._listeners[m].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,p){if(this._listeners[m])for(var d=0;d<this._listeners[m].length;d++)this._listeners[m][d].call(this,p)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var p=this;return m.on("data",function(d){p.processChunk(d)}),m.on("end",function(){p.end()}),m.on("error",function(d){p.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,p){return this.extraStreamInfo[m]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},o.exports=c},{}],29:[function(s,o,g){var c=s("../utils"),m=s("./ConvertWorker"),p=s("./GenericWorker"),d=s("../base64"),f=s("../support"),w=s("../external"),C=null;if(f.nodestream)try{C=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function k(S,v){return new w.Promise(function(j,_){var T=[],D=S._internalType,B=S._outputType,q=S._mimeType;S.on("data",function(I,Z){T.push(I),v&&v(Z)}).on("error",function(I){T=[],_(I)}).on("end",function(){try{var I=(function(Z,ne,V){switch(Z){case"blob":return c.newBlob(c.transformTo("arraybuffer",ne),V);case"base64":return d.encode(ne);default:return c.transformTo(Z,ne)}})(B,(function(Z,ne){var V,F=0,Q=null,A=0;for(V=0;V<ne.length;V++)A+=ne[V].length;switch(Z){case"string":return ne.join("");case"array":return Array.prototype.concat.apply([],ne);case"uint8array":for(Q=new Uint8Array(A),V=0;V<ne.length;V++)Q.set(ne[V],F),F+=ne[V].length;return Q;case"nodebuffer":return Buffer.concat(ne);default:throw new Error("concat : unsupported type '"+Z+"'")}})(D,T),q);j(I)}catch(Z){_(Z)}T=[]}).resume()})}function b(S,v,j){var _=v;switch(v){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=v,this._mimeType=j,c.checkSupport(_),this._worker=S.pipe(new m(_)),S.lock()}catch(T){this._worker=new p("error"),this._worker.error(T)}}b.prototype={accumulate:function(S){return k(this,S)},on:function(S,v){var j=this;return S==="data"?this._worker.on(S,function(_){v.call(j,_.data,_.meta)}):this._worker.on(S,function(){c.delay(v,arguments,j)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new C(this,{objectMode:this._outputType!=="nodebuffer"},S)}},o.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,o,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=typeof Buffer<"u",g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var c=new ArrayBuffer(0);try{g.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(c),g.blob=m.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!s("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(s,o,g){for(var c=s("./utils"),m=s("./support"),p=s("./nodejsUtils"),d=s("./stream/GenericWorker"),f=new Array(256),w=0;w<256;w++)f[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;f[254]=f[254]=1;function C(){d.call(this,"utf-8 decode"),this.leftOver=null}function k(){d.call(this,"utf-8 encode")}g.utf8encode=function(b){return m.nodebuffer?p.newBufferFrom(b,"utf-8"):(function(S){var v,j,_,T,D,B=S.length,q=0;for(T=0;T<B;T++)(64512&(j=S.charCodeAt(T)))==55296&&T+1<B&&(64512&(_=S.charCodeAt(T+1)))==56320&&(j=65536+(j-55296<<10)+(_-56320),T++),q+=j<128?1:j<2048?2:j<65536?3:4;for(v=m.uint8array?new Uint8Array(q):new Array(q),T=D=0;D<q;T++)(64512&(j=S.charCodeAt(T)))==55296&&T+1<B&&(64512&(_=S.charCodeAt(T+1)))==56320&&(j=65536+(j-55296<<10)+(_-56320),T++),j<128?v[D++]=j:(j<2048?v[D++]=192|j>>>6:(j<65536?v[D++]=224|j>>>12:(v[D++]=240|j>>>18,v[D++]=128|j>>>12&63),v[D++]=128|j>>>6&63),v[D++]=128|63&j);return v})(b)},g.utf8decode=function(b){return m.nodebuffer?c.transformTo("nodebuffer",b).toString("utf-8"):(function(S){var v,j,_,T,D=S.length,B=new Array(2*D);for(v=j=0;v<D;)if((_=S[v++])<128)B[j++]=_;else if(4<(T=f[_]))B[j++]=65533,v+=T-1;else{for(_&=T===2?31:T===3?15:7;1<T&&v<D;)_=_<<6|63&S[v++],T--;1<T?B[j++]=65533:_<65536?B[j++]=_:(_-=65536,B[j++]=55296|_>>10&1023,B[j++]=56320|1023&_)}return B.length!==j&&(B.subarray?B=B.subarray(0,j):B.length=j),c.applyFromCharCode(B)})(b=c.transformTo(m.uint8array?"uint8array":"array",b))},c.inherits(C,d),C.prototype.processChunk=function(b){var S=c.transformTo(m.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var v=S;(S=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),S.set(v,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var j=(function(T,D){var B;for((D=D||T.length)>T.length&&(D=T.length),B=D-1;0<=B&&(192&T[B])==128;)B--;return B<0||B===0?D:B+f[T[B]]>D?B:D})(S),_=S;j!==S.length&&(m.uint8array?(_=S.subarray(0,j),this.leftOver=S.subarray(j,S.length)):(_=S.slice(0,j),this.leftOver=S.slice(j,S.length))),this.push({data:g.utf8decode(_),meta:b.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=C,c.inherits(k,d),k.prototype.processChunk=function(b){this.push({data:g.utf8encode(b.data),meta:b.meta})},g.Utf8EncodeWorker=k},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,o,g){var c=s("./support"),m=s("./base64"),p=s("./nodejsUtils"),d=s("./external");function f(v){return v}function w(v,j){for(var _=0;_<v.length;++_)j[_]=255&v.charCodeAt(_);return j}s("setimmediate"),g.newBlob=function(v,j){g.checkSupport("blob");try{return new Blob([v],{type:j})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(v),_.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var C={stringifyByChunk:function(v,j,_){var T=[],D=0,B=v.length;if(B<=_)return String.fromCharCode.apply(null,v);for(;D<B;)j==="array"||j==="nodebuffer"?T.push(String.fromCharCode.apply(null,v.slice(D,Math.min(D+_,B)))):T.push(String.fromCharCode.apply(null,v.subarray(D,Math.min(D+_,B)))),D+=_;return T.join("")},stringifyByChar:function(v){for(var j="",_=0;_<v.length;_++)j+=String.fromCharCode(v[_]);return j},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function k(v){var j=65536,_=g.getTypeOf(v),T=!0;if(_==="uint8array"?T=C.applyCanBeUsed.uint8array:_==="nodebuffer"&&(T=C.applyCanBeUsed.nodebuffer),T)for(;1<j;)try{return C.stringifyByChunk(v,_,j)}catch{j=Math.floor(j/2)}return C.stringifyByChar(v)}function b(v,j){for(var _=0;_<v.length;_++)j[_]=v[_];return j}g.applyFromCharCode=k;var S={};S.string={string:f,array:function(v){return w(v,new Array(v.length))},arraybuffer:function(v){return S.string.uint8array(v).buffer},uint8array:function(v){return w(v,new Uint8Array(v.length))},nodebuffer:function(v){return w(v,p.allocBuffer(v.length))}},S.array={string:k,array:f,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return p.newBufferFrom(v)}},S.arraybuffer={string:function(v){return k(new Uint8Array(v))},array:function(v){return b(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:f,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return p.newBufferFrom(new Uint8Array(v))}},S.uint8array={string:k,array:function(v){return b(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:f,nodebuffer:function(v){return p.newBufferFrom(v)}},S.nodebuffer={string:k,array:function(v){return b(v,new Array(v.length))},arraybuffer:function(v){return S.nodebuffer.uint8array(v).buffer},uint8array:function(v){return b(v,new Uint8Array(v.length))},nodebuffer:f},g.transformTo=function(v,j){if(j=j||"",!v)return j;g.checkSupport(v);var _=g.getTypeOf(j);return S[_][v](j)},g.resolve=function(v){for(var j=v.split("/"),_=[],T=0;T<j.length;T++){var D=j[T];D==="."||D===""&&T!==0&&T!==j.length-1||(D===".."?_.pop():_.push(D))}return _.join("/")},g.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(v)?"nodebuffer":c.uint8array&&v instanceof Uint8Array?"uint8array":c.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(v){if(!c[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(v){var j,_,T="";for(_=0;_<(v||"").length;_++)T+="\\x"+((j=v.charCodeAt(_))<16?"0":"")+j.toString(16).toUpperCase();return T},g.delay=function(v,j,_){setImmediate(function(){v.apply(_||null,j||[])})},g.inherits=function(v,j){function _(){}_.prototype=j.prototype,v.prototype=new _},g.extend=function(){var v,j,_={};for(v=0;v<arguments.length;v++)for(j in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],j)&&_[j]===void 0&&(_[j]=arguments[v][j]);return _},g.prepareContent=function(v,j,_,T,D){return d.Promise.resolve(j).then(function(B){return c.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new d.Promise(function(q,I){var Z=new FileReader;Z.onload=function(ne){q(ne.target.result)},Z.onerror=function(ne){I(ne.target.error)},Z.readAsArrayBuffer(B)}):B}).then(function(B){var q=g.getTypeOf(B);return q?(q==="arraybuffer"?B=g.transformTo("uint8array",B):q==="string"&&(D?B=m.decode(B):_&&T!==!0&&(B=(function(I){return w(I,c.uint8array?new Uint8Array(I.length):new Array(I.length))})(B))),B):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,o,g){var c=s("./reader/readerFor"),m=s("./utils"),p=s("./signature"),d=s("./zipEntry"),f=s("./support");function w(C){this.files=[],this.loadOptions=C}w.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var k=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(k)+", expected "+m.pretty(C)+")")}},isSignature:function(C,k){var b=this.reader.index;this.reader.setIndex(C);var S=this.reader.readString(4)===k;return this.reader.setIndex(b),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),k=f.uint8array?"uint8array":"array",b=m.transformTo(k,C);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,k,b,S=this.zip64EndOfCentralSize-44;0<S;)C=this.reader.readInt(2),k=this.reader.readInt(4),b=this.reader.readData(k),this.zip64ExtensibleData[C]={id:C,length:k,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,k;for(C=0;C<this.files.length;C++)k=this.files[C],this.reader.setIndex(k.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),k.readLocalPart(this.reader),k.handleUTF8(),k.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(C=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var k=C;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var S=k-b;if(0<S)this.isSignature(k,p.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(C){this.reader=c(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,o,g){var c=s("./reader/readerFor"),m=s("./utils"),p=s("./compressedObject"),d=s("./crc32"),f=s("./utf8"),w=s("./compressions"),C=s("./support");function k(b,S){this.options=b,this.loadOptions=S}k.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var S,v;if(b.skip(22),this.fileNameLength=b.readInt(2),v=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=(function(j){for(var _ in w)if(Object.prototype.hasOwnProperty.call(w,_)&&w[_].magic===j)return w[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,S,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var S=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(S),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=c(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var S,v,j,_=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<_;)S=b.readInt(2),v=b.readInt(2),j=b.readData(v),this.extraFields[S]={id:S,length:v,value:j};b.setIndex(_)},handleUTF8:function(){var b=C.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var v=m.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var _=m.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var S=c(b.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:f.utf8decode(S.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var S=c(b.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:f.utf8decode(S.readData(b.length-5))}return null}},o.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,o,g){function c(S,v,j){this.name=S,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=v,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var m=s("./stream/StreamHelper"),p=s("./stream/DataWorker"),d=s("./utf8"),f=s("./compressedObject"),w=s("./stream/GenericWorker");c.prototype={internalStream:function(S){var v=null,j="string";try{if(!S)throw new Error("No output type specified.");var _=(j=S.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),v=this._decompressWorker();var T=!this._dataBinary;T&&!_&&(v=v.pipe(new d.Utf8EncodeWorker)),!T&&_&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(D){(v=new w("error")).error(D)}return new m(v,j,"")},async:function(S,v){return this.internalStream(S).accumulate(v)},nodeStream:function(S,v){return this.internalStream(S||"nodebuffer").toNodejsStream(v)},_compressWorker:function(S,v){if(this._data instanceof f&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new d.Utf8EncodeWorker)),f.createWorkerFrom(j,S,v)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof w?this._data:new p(this._data)}};for(var C=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],k=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<C.length;b++)c.prototype[C[b]]=k;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,o,g){(function(c){var m,p,d=c.MutationObserver||c.WebKitMutationObserver;if(d){var f=0,w=new d(S),C=c.document.createTextNode("");w.observe(C,{characterData:!0}),m=function(){C.data=f=++f%2}}else if(c.setImmediate||c.MessageChannel===void 0)m="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var v=c.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},c.document.documentElement.appendChild(v)}:function(){setTimeout(S,0)};else{var k=new c.MessageChannel;k.port1.onmessage=S,m=function(){k.port2.postMessage(0)}}var b=[];function S(){var v,j;p=!0;for(var _=b.length;_;){for(j=b,b=[],v=-1;++v<_;)j[v]();_=b.length}p=!1}o.exports=function(v){b.push(v)!==1||p||m()}}).call(this,typeof Fr<"u"?Fr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,o,g){var c=s("immediate");function m(){}var p={},d=["REJECTED"],f=["FULFILLED"],w=["PENDING"];function C(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,_!==m&&v(this,_)}function k(_,T,D){this.promise=_,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function b(_,T,D){c(function(){var B;try{B=T(D)}catch(q){return p.reject(_,q)}B===_?p.reject(_,new TypeError("Cannot resolve promise with itself")):p.resolve(_,B)})}function S(_){var T=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof T=="function")return function(){T.apply(_,arguments)}}function v(_,T){var D=!1;function B(Z){D||(D=!0,p.reject(_,Z))}function q(Z){D||(D=!0,p.resolve(_,Z))}var I=j(function(){T(q,B)});I.status==="error"&&B(I.value)}function j(_,T){var D={};try{D.value=_(T),D.status="success"}catch(B){D.status="error",D.value=B}return D}(o.exports=C).prototype.finally=function(_){if(typeof _!="function")return this;var T=this.constructor;return this.then(function(D){return T.resolve(_()).then(function(){return D})},function(D){return T.resolve(_()).then(function(){throw D})})},C.prototype.catch=function(_){return this.then(null,_)},C.prototype.then=function(_,T){if(typeof _!="function"&&this.state===f||typeof T!="function"&&this.state===d)return this;var D=new this.constructor(m);return this.state!==w?b(D,this.state===f?_:T,this.outcome):this.queue.push(new k(D,_,T)),D},k.prototype.callFulfilled=function(_){p.resolve(this.promise,_)},k.prototype.otherCallFulfilled=function(_){b(this.promise,this.onFulfilled,_)},k.prototype.callRejected=function(_){p.reject(this.promise,_)},k.prototype.otherCallRejected=function(_){b(this.promise,this.onRejected,_)},p.resolve=function(_,T){var D=j(S,T);if(D.status==="error")return p.reject(_,D.value);var B=D.value;if(B)v(_,B);else{_.state=f,_.outcome=T;for(var q=-1,I=_.queue.length;++q<I;)_.queue[q].callFulfilled(T)}return _},p.reject=function(_,T){_.state=d,_.outcome=T;for(var D=-1,B=_.queue.length;++D<B;)_.queue[D].callRejected(T);return _},C.resolve=function(_){return _ instanceof this?_:p.resolve(new this(m),_)},C.reject=function(_){var T=new this(m);return p.reject(T,_)},C.all=function(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=_.length,B=!1;if(!D)return this.resolve([]);for(var q=new Array(D),I=0,Z=-1,ne=new this(m);++Z<D;)V(_[Z],Z);return ne;function V(F,Q){T.resolve(F).then(function(A){q[Q]=A,++I!==D||B||(B=!0,p.resolve(ne,q))},function(A){B||(B=!0,p.reject(ne,A))})}},C.race=function(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=_.length,B=!1;if(!D)return this.resolve([]);for(var q=-1,I=new this(m);++q<D;)Z=_[q],T.resolve(Z).then(function(ne){B||(B=!0,p.resolve(I,ne))},function(ne){B||(B=!0,p.reject(I,ne))});var Z;return I}},{immediate:36}],38:[function(s,o,g){var c={};(0,s("./lib/utils/common").assign)(c,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,o,g){var c=s("./zlib/deflate"),m=s("./utils/common"),p=s("./utils/strings"),d=s("./zlib/messages"),f=s("./zlib/zstream"),w=Object.prototype.toString,C=0,k=-1,b=0,S=8;function v(_){if(!(this instanceof v))return new v(_);this.options=m.assign({level:k,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},_||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var D=c.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(D!==C)throw new Error(d[D]);if(T.header&&c.deflateSetHeader(this.strm,T.header),T.dictionary){var B;if(B=typeof T.dictionary=="string"?p.string2buf(T.dictionary):w.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(D=c.deflateSetDictionary(this.strm,B))!==C)throw new Error(d[D]);this._dict_set=!0}}function j(_,T){var D=new v(T);if(D.push(_,!0),D.err)throw D.msg||d[D.err];return D.result}v.prototype.push=function(_,T){var D,B,q=this.strm,I=this.options.chunkSize;if(this.ended)return!1;B=T===~~T?T:T===!0?4:0,typeof _=="string"?q.input=p.string2buf(_):w.call(_)==="[object ArrayBuffer]"?q.input=new Uint8Array(_):q.input=_,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new m.Buf8(I),q.next_out=0,q.avail_out=I),(D=c.deflate(q,B))!==1&&D!==C)return this.onEnd(D),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(m.shrinkBuf(q.output,q.next_out))):this.onData(m.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&D!==1);return B===4?(D=c.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===C):B!==2||(this.onEnd(C),!(q.avail_out=0))},v.prototype.onData=function(_){this.chunks.push(_)},v.prototype.onEnd=function(_){_===C&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},g.Deflate=v,g.deflate=j,g.deflateRaw=function(_,T){return(T=T||{}).raw=!0,j(_,T)},g.gzip=function(_,T){return(T=T||{}).gzip=!0,j(_,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,o,g){var c=s("./zlib/inflate"),m=s("./utils/common"),p=s("./utils/strings"),d=s("./zlib/constants"),f=s("./zlib/messages"),w=s("./zlib/zstream"),C=s("./zlib/gzheader"),k=Object.prototype.toString;function b(v){if(!(this instanceof b))return new b(v);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},v||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||v&&v.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var _=c.inflateInit2(this.strm,j.windowBits);if(_!==d.Z_OK)throw new Error(f[_]);this.header=new C,c.inflateGetHeader(this.strm,this.header)}function S(v,j){var _=new b(j);if(_.push(v,!0),_.err)throw _.msg||f[_.err];return _.result}b.prototype.push=function(v,j){var _,T,D,B,q,I,Z=this.strm,ne=this.options.chunkSize,V=this.options.dictionary,F=!1;if(this.ended)return!1;T=j===~~j?j:j===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?Z.input=p.binstring2buf(v):k.call(v)==="[object ArrayBuffer]"?Z.input=new Uint8Array(v):Z.input=v,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new m.Buf8(ne),Z.next_out=0,Z.avail_out=ne),(_=c.inflate(Z,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&V&&(I=typeof V=="string"?p.string2buf(V):k.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,_=c.inflateSetDictionary(this.strm,I)),_===d.Z_BUF_ERROR&&F===!0&&(_=d.Z_OK,F=!1),_!==d.Z_STREAM_END&&_!==d.Z_OK)return this.onEnd(_),!(this.ended=!0);Z.next_out&&(Z.avail_out!==0&&_!==d.Z_STREAM_END&&(Z.avail_in!==0||T!==d.Z_FINISH&&T!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=p.utf8border(Z.output,Z.next_out),B=Z.next_out-D,q=p.buf2string(Z.output,D),Z.next_out=B,Z.avail_out=ne-B,B&&m.arraySet(Z.output,Z.output,D,B,0),this.onData(q)):this.onData(m.shrinkBuf(Z.output,Z.next_out)))),Z.avail_in===0&&Z.avail_out===0&&(F=!0)}while((0<Z.avail_in||Z.avail_out===0)&&_!==d.Z_STREAM_END);return _===d.Z_STREAM_END&&(T=d.Z_FINISH),T===d.Z_FINISH?(_=c.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===d.Z_OK):T!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(Z.avail_out=0))},b.prototype.onData=function(v){this.chunks.push(v)},b.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},g.Inflate=b,g.inflate=S,g.inflateRaw=function(v,j){return(j=j||{}).raw=!0,S(v,j)},g.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,o,g){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var w=f.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var C in w)w.hasOwnProperty(C)&&(d[C]=w[C])}}return d},g.shrinkBuf=function(d,f){return d.length===f?d:d.subarray?d.subarray(0,f):(d.length=f,d)};var m={arraySet:function(d,f,w,C,k){if(f.subarray&&d.subarray)d.set(f.subarray(w,w+C),k);else for(var b=0;b<C;b++)d[k+b]=f[w+b]},flattenChunks:function(d){var f,w,C,k,b,S;for(f=C=0,w=d.length;f<w;f++)C+=d[f].length;for(S=new Uint8Array(C),f=k=0,w=d.length;f<w;f++)b=d[f],S.set(b,k),k+=b.length;return S}},p={arraySet:function(d,f,w,C,k){for(var b=0;b<C;b++)d[k+b]=f[w+b]},flattenChunks:function(d){return[].concat.apply([],d)}};g.setTyped=function(d){d?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,m)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,p))},g.setTyped(c)},{}],42:[function(s,o,g){var c=s("./common"),m=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var d=new c.Buf8(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function w(C,k){if(k<65537&&(C.subarray&&p||!C.subarray&&m))return String.fromCharCode.apply(null,c.shrinkBuf(C,k));for(var b="",S=0;S<k;S++)b+=String.fromCharCode(C[S]);return b}d[254]=d[254]=1,g.string2buf=function(C){var k,b,S,v,j,_=C.length,T=0;for(v=0;v<_;v++)(64512&(b=C.charCodeAt(v)))==55296&&v+1<_&&(64512&(S=C.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),v++),T+=b<128?1:b<2048?2:b<65536?3:4;for(k=new c.Buf8(T),v=j=0;j<T;v++)(64512&(b=C.charCodeAt(v)))==55296&&v+1<_&&(64512&(S=C.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),v++),b<128?k[j++]=b:(b<2048?k[j++]=192|b>>>6:(b<65536?k[j++]=224|b>>>12:(k[j++]=240|b>>>18,k[j++]=128|b>>>12&63),k[j++]=128|b>>>6&63),k[j++]=128|63&b);return k},g.buf2binstring=function(C){return w(C,C.length)},g.binstring2buf=function(C){for(var k=new c.Buf8(C.length),b=0,S=k.length;b<S;b++)k[b]=C.charCodeAt(b);return k},g.buf2string=function(C,k){var b,S,v,j,_=k||C.length,T=new Array(2*_);for(b=S=0;b<_;)if((v=C[b++])<128)T[S++]=v;else if(4<(j=d[v]))T[S++]=65533,b+=j-1;else{for(v&=j===2?31:j===3?15:7;1<j&&b<_;)v=v<<6|63&C[b++],j--;1<j?T[S++]=65533:v<65536?T[S++]=v:(v-=65536,T[S++]=55296|v>>10&1023,T[S++]=56320|1023&v)}return w(T,S)},g.utf8border=function(C,k){var b;for((k=k||C.length)>C.length&&(k=C.length),b=k-1;0<=b&&(192&C[b])==128;)b--;return b<0||b===0?k:b+d[C[b]]>k?b:k}},{"./common":41}],43:[function(s,o,g){o.exports=function(c,m,p,d){for(var f=65535&c|0,w=c>>>16&65535|0,C=0;p!==0;){for(p-=C=2e3<p?2e3:p;w=w+(f=f+m[d++]|0)|0,--C;);f%=65521,w%=65521}return f|w<<16|0}},{}],44:[function(s,o,g){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,o,g){var c=(function(){for(var m,p=[],d=0;d<256;d++){m=d;for(var f=0;f<8;f++)m=1&m?3988292384^m>>>1:m>>>1;p[d]=m}return p})();o.exports=function(m,p,d,f){var w=c,C=f+d;m^=-1;for(var k=f;k<C;k++)m=m>>>8^w[255&(m^p[k])];return-1^m}},{}],46:[function(s,o,g){var c,m=s("../utils/common"),p=s("./trees"),d=s("./adler32"),f=s("./crc32"),w=s("./messages"),C=0,k=4,b=0,S=-2,v=-1,j=4,_=2,T=8,D=9,B=286,q=30,I=19,Z=2*B+1,ne=15,V=3,F=258,Q=F+V+1,A=42,O=113,h=1,U=2,Y=3,H=4;function se(x,ee){return x.msg=w[ee],ee}function W(x){return(x<<1)-(4<x?9:0)}function ye(x){for(var ee=x.length;0<=--ee;)x[ee]=0}function z(x){var ee=x.state,te=ee.pending;te>x.avail_out&&(te=x.avail_out),te!==0&&(m.arraySet(x.output,ee.pending_buf,ee.pending_out,te,x.next_out),x.next_out+=te,ee.pending_out+=te,x.total_out+=te,x.avail_out-=te,ee.pending-=te,ee.pending===0&&(ee.pending_out=0))}function R(x,ee){p._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,ee),x.block_start=x.strstart,z(x.strm)}function de(x,ee){x.pending_buf[x.pending++]=ee}function re(x,ee){x.pending_buf[x.pending++]=ee>>>8&255,x.pending_buf[x.pending++]=255&ee}function ce(x,ee){var te,L,M=x.max_chain_length,K=x.strstart,ge=x.prev_length,je=x.nice_match,J=x.strstart>x.w_size-Q?x.strstart-(x.w_size-Q):0,Te=x.window,Ae=x.w_mask,De=x.prev,Ve=x.strstart+F,ut=Te[K+ge-1],Qe=Te[K+ge];x.prev_length>=x.good_match&&(M>>=2),je>x.lookahead&&(je=x.lookahead);do if(Te[(te=ee)+ge]===Qe&&Te[te+ge-1]===ut&&Te[te]===Te[K]&&Te[++te]===Te[K+1]){K+=2,te++;do;while(Te[++K]===Te[++te]&&Te[++K]===Te[++te]&&Te[++K]===Te[++te]&&Te[++K]===Te[++te]&&Te[++K]===Te[++te]&&Te[++K]===Te[++te]&&Te[++K]===Te[++te]&&Te[++K]===Te[++te]&&K<Ve);if(L=F-(Ve-K),K=Ve-F,ge<L){if(x.match_start=ee,je<=(ge=L))break;ut=Te[K+ge-1],Qe=Te[K+ge]}}while((ee=De[ee&Ae])>J&&--M!=0);return ge<=x.lookahead?ge:x.lookahead}function Re(x){var ee,te,L,M,K,ge,je,J,Te,Ae,De=x.w_size;do{if(M=x.window_size-x.lookahead-x.strstart,x.strstart>=De+(De-Q)){for(m.arraySet(x.window,x.window,De,De,0),x.match_start-=De,x.strstart-=De,x.block_start-=De,ee=te=x.hash_size;L=x.head[--ee],x.head[ee]=De<=L?L-De:0,--te;);for(ee=te=De;L=x.prev[--ee],x.prev[ee]=De<=L?L-De:0,--te;);M+=De}if(x.strm.avail_in===0)break;if(ge=x.strm,je=x.window,J=x.strstart+x.lookahead,Te=M,Ae=void 0,Ae=ge.avail_in,Te<Ae&&(Ae=Te),te=Ae===0?0:(ge.avail_in-=Ae,m.arraySet(je,ge.input,ge.next_in,Ae,J),ge.state.wrap===1?ge.adler=d(ge.adler,je,Ae,J):ge.state.wrap===2&&(ge.adler=f(ge.adler,je,Ae,J)),ge.next_in+=Ae,ge.total_in+=Ae,Ae),x.lookahead+=te,x.lookahead+x.insert>=V)for(K=x.strstart-x.insert,x.ins_h=x.window[K],x.ins_h=(x.ins_h<<x.hash_shift^x.window[K+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[K+V-1])&x.hash_mask,x.prev[K&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=K,K++,x.insert--,!(x.lookahead+x.insert<V)););}while(x.lookahead<Q&&x.strm.avail_in!==0)}function He(x,ee){for(var te,L;;){if(x.lookahead<Q){if(Re(x),x.lookahead<Q&&ee===C)return h;if(x.lookahead===0)break}if(te=0,x.lookahead>=V&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+V-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),te!==0&&x.strstart-te<=x.w_size-Q&&(x.match_length=ce(x,te)),x.match_length>=V)if(L=p._tr_tally(x,x.strstart-x.match_start,x.match_length-V),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=V){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+V-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else L=p._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(L&&(R(x,!1),x.strm.avail_out===0))return h}return x.insert=x.strstart<V-1?x.strstart:V-1,ee===k?(R(x,!0),x.strm.avail_out===0?Y:H):x.last_lit&&(R(x,!1),x.strm.avail_out===0)?h:U}function P(x,ee){for(var te,L,M;;){if(x.lookahead<Q){if(Re(x),x.lookahead<Q&&ee===C)return h;if(x.lookahead===0)break}if(te=0,x.lookahead>=V&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+V-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=V-1,te!==0&&x.prev_length<x.max_lazy_match&&x.strstart-te<=x.w_size-Q&&(x.match_length=ce(x,te),x.match_length<=5&&(x.strategy===1||x.match_length===V&&4096<x.strstart-x.match_start)&&(x.match_length=V-1)),x.prev_length>=V&&x.match_length<=x.prev_length){for(M=x.strstart+x.lookahead-V,L=p._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-V),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=M&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+V-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=V-1,x.strstart++,L&&(R(x,!1),x.strm.avail_out===0))return h}else if(x.match_available){if((L=p._tr_tally(x,0,x.window[x.strstart-1]))&&R(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return h}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(L=p._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<V-1?x.strstart:V-1,ee===k?(R(x,!0),x.strm.avail_out===0?Y:H):x.last_lit&&(R(x,!1),x.strm.avail_out===0)?h:U}function _e(x,ee,te,L,M){this.good_length=x,this.max_lazy=ee,this.nice_length=te,this.max_chain=L,this.func=M}function qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*Z),this.dyn_dtree=new m.Buf16(2*(2*q+1)),this.bl_tree=new m.Buf16(2*(2*I+1)),ye(this.dyn_ltree),ye(this.dyn_dtree),ye(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(ne+1),this.heap=new m.Buf16(2*B+1),ye(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*B+1),ye(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xe(x){var ee;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=_,(ee=x.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?A:O,x.adler=ee.wrap===2?0:1,ee.last_flush=C,p._tr_init(ee),b):se(x,S)}function tt(x){var ee=Xe(x);return ee===b&&(function(te){te.window_size=2*te.w_size,ye(te.head),te.max_lazy_match=c[te.level].max_lazy,te.good_match=c[te.level].good_length,te.nice_match=c[te.level].nice_length,te.max_chain_length=c[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=V-1,te.match_available=0,te.ins_h=0})(x.state),ee}function Je(x,ee,te,L,M,K){if(!x)return S;var ge=1;if(ee===v&&(ee=6),L<0?(ge=0,L=-L):15<L&&(ge=2,L-=16),M<1||D<M||te!==T||L<8||15<L||ee<0||9<ee||K<0||j<K)return se(x,S);L===8&&(L=9);var je=new qe;return(x.state=je).strm=x,je.wrap=ge,je.gzhead=null,je.w_bits=L,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=M+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+V-1)/V),je.window=new m.Buf8(2*je.w_size),je.head=new m.Buf16(je.hash_size),je.prev=new m.Buf16(je.w_size),je.lit_bufsize=1<<M+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new m.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=ee,je.strategy=K,je.method=te,tt(x)}c=[new _e(0,0,0,0,function(x,ee){var te=65535;for(te>x.pending_buf_size-5&&(te=x.pending_buf_size-5);;){if(x.lookahead<=1){if(Re(x),x.lookahead===0&&ee===C)return h;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var L=x.block_start+te;if((x.strstart===0||x.strstart>=L)&&(x.lookahead=x.strstart-L,x.strstart=L,R(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-Q&&(R(x,!1),x.strm.avail_out===0))return h}return x.insert=0,ee===k?(R(x,!0),x.strm.avail_out===0?Y:H):(x.strstart>x.block_start&&(R(x,!1),x.strm.avail_out),h)}),new _e(4,4,8,4,He),new _e(4,5,16,8,He),new _e(4,6,32,32,He),new _e(4,4,16,16,P),new _e(8,16,32,32,P),new _e(8,16,128,128,P),new _e(8,32,128,256,P),new _e(32,128,258,1024,P),new _e(32,258,258,4096,P)],g.deflateInit=function(x,ee){return Je(x,ee,T,15,8,0)},g.deflateInit2=Je,g.deflateReset=tt,g.deflateResetKeep=Xe,g.deflateSetHeader=function(x,ee){return x&&x.state?x.state.wrap!==2?S:(x.state.gzhead=ee,b):S},g.deflate=function(x,ee){var te,L,M,K;if(!x||!x.state||5<ee||ee<0)return x?se(x,S):S;if(L=x.state,!x.output||!x.input&&x.avail_in!==0||L.status===666&&ee!==k)return se(x,x.avail_out===0?-5:S);if(L.strm=x,te=L.last_flush,L.last_flush=ee,L.status===A)if(L.wrap===2)x.adler=0,de(L,31),de(L,139),de(L,8),L.gzhead?(de(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),de(L,255&L.gzhead.time),de(L,L.gzhead.time>>8&255),de(L,L.gzhead.time>>16&255),de(L,L.gzhead.time>>24&255),de(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),de(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(de(L,255&L.gzhead.extra.length),de(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(x.adler=f(x.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(de(L,0),de(L,0),de(L,0),de(L,0),de(L,0),de(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),de(L,3),L.status=O);else{var ge=T+(L.w_bits-8<<4)<<8;ge|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(ge|=32),ge+=31-ge%31,L.status=O,re(L,ge),L.strstart!==0&&(re(L,x.adler>>>16),re(L,65535&x.adler)),x.adler=1}if(L.status===69)if(L.gzhead.extra){for(M=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>M&&(x.adler=f(x.adler,L.pending_buf,L.pending-M,M)),z(x),M=L.pending,L.pending!==L.pending_buf_size));)de(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>M&&(x.adler=f(x.adler,L.pending_buf,L.pending-M,M)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){M=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>M&&(x.adler=f(x.adler,L.pending_buf,L.pending-M,M)),z(x),M=L.pending,L.pending===L.pending_buf_size)){K=1;break}K=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,de(L,K)}while(K!==0);L.gzhead.hcrc&&L.pending>M&&(x.adler=f(x.adler,L.pending_buf,L.pending-M,M)),K===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){M=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>M&&(x.adler=f(x.adler,L.pending_buf,L.pending-M,M)),z(x),M=L.pending,L.pending===L.pending_buf_size)){K=1;break}K=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,de(L,K)}while(K!==0);L.gzhead.hcrc&&L.pending>M&&(x.adler=f(x.adler,L.pending_buf,L.pending-M,M)),K===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&z(x),L.pending+2<=L.pending_buf_size&&(de(L,255&x.adler),de(L,x.adler>>8&255),x.adler=0,L.status=O)):L.status=O),L.pending!==0){if(z(x),x.avail_out===0)return L.last_flush=-1,b}else if(x.avail_in===0&&W(ee)<=W(te)&&ee!==k)return se(x,-5);if(L.status===666&&x.avail_in!==0)return se(x,-5);if(x.avail_in!==0||L.lookahead!==0||ee!==C&&L.status!==666){var je=L.strategy===2?(function(J,Te){for(var Ae;;){if(J.lookahead===0&&(Re(J),J.lookahead===0)){if(Te===C)return h;break}if(J.match_length=0,Ae=p._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,Ae&&(R(J,!1),J.strm.avail_out===0))return h}return J.insert=0,Te===k?(R(J,!0),J.strm.avail_out===0?Y:H):J.last_lit&&(R(J,!1),J.strm.avail_out===0)?h:U})(L,ee):L.strategy===3?(function(J,Te){for(var Ae,De,Ve,ut,Qe=J.window;;){if(J.lookahead<=F){if(Re(J),J.lookahead<=F&&Te===C)return h;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=V&&0<J.strstart&&(De=Qe[Ve=J.strstart-1])===Qe[++Ve]&&De===Qe[++Ve]&&De===Qe[++Ve]){ut=J.strstart+F;do;while(De===Qe[++Ve]&&De===Qe[++Ve]&&De===Qe[++Ve]&&De===Qe[++Ve]&&De===Qe[++Ve]&&De===Qe[++Ve]&&De===Qe[++Ve]&&De===Qe[++Ve]&&Ve<ut);J.match_length=F-(ut-Ve),J.match_length>J.lookahead&&(J.match_length=J.lookahead)}if(J.match_length>=V?(Ae=p._tr_tally(J,1,J.match_length-V),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0):(Ae=p._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++),Ae&&(R(J,!1),J.strm.avail_out===0))return h}return J.insert=0,Te===k?(R(J,!0),J.strm.avail_out===0?Y:H):J.last_lit&&(R(J,!1),J.strm.avail_out===0)?h:U})(L,ee):c[L.level].func(L,ee);if(je!==Y&&je!==H||(L.status=666),je===h||je===Y)return x.avail_out===0&&(L.last_flush=-1),b;if(je===U&&(ee===1?p._tr_align(L):ee!==5&&(p._tr_stored_block(L,0,0,!1),ee===3&&(ye(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),z(x),x.avail_out===0))return L.last_flush=-1,b}return ee!==k?b:L.wrap<=0?1:(L.wrap===2?(de(L,255&x.adler),de(L,x.adler>>8&255),de(L,x.adler>>16&255),de(L,x.adler>>24&255),de(L,255&x.total_in),de(L,x.total_in>>8&255),de(L,x.total_in>>16&255),de(L,x.total_in>>24&255)):(re(L,x.adler>>>16),re(L,65535&x.adler)),z(x),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?b:1)},g.deflateEnd=function(x){var ee;return x&&x.state?(ee=x.state.status)!==A&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==O&&ee!==666?se(x,S):(x.state=null,ee===O?se(x,-3):b):S},g.deflateSetDictionary=function(x,ee){var te,L,M,K,ge,je,J,Te,Ae=ee.length;if(!x||!x.state||(K=(te=x.state).wrap)===2||K===1&&te.status!==A||te.lookahead)return S;for(K===1&&(x.adler=d(x.adler,ee,Ae,0)),te.wrap=0,Ae>=te.w_size&&(K===0&&(ye(te.head),te.strstart=0,te.block_start=0,te.insert=0),Te=new m.Buf8(te.w_size),m.arraySet(Te,ee,Ae-te.w_size,te.w_size,0),ee=Te,Ae=te.w_size),ge=x.avail_in,je=x.next_in,J=x.input,x.avail_in=Ae,x.next_in=0,x.input=ee,Re(te);te.lookahead>=V;){for(L=te.strstart,M=te.lookahead-(V-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[L+V-1])&te.hash_mask,te.prev[L&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=L,L++,--M;);te.strstart=L,te.lookahead=V-1,Re(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=V-1,te.match_available=0,x.next_in=je,x.input=J,x.avail_in=ge,te.wrap=K,b},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,o,g){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,o,g){o.exports=function(c,m){var p,d,f,w,C,k,b,S,v,j,_,T,D,B,q,I,Z,ne,V,F,Q,A,O,h,U;p=c.state,d=c.next_in,h=c.input,f=d+(c.avail_in-5),w=c.next_out,U=c.output,C=w-(m-c.avail_out),k=w+(c.avail_out-257),b=p.dmax,S=p.wsize,v=p.whave,j=p.wnext,_=p.window,T=p.hold,D=p.bits,B=p.lencode,q=p.distcode,I=(1<<p.lenbits)-1,Z=(1<<p.distbits)-1;e:do{D<15&&(T+=h[d++]<<D,D+=8,T+=h[d++]<<D,D+=8),ne=B[T&I];t:for(;;){if(T>>>=V=ne>>>24,D-=V,(V=ne>>>16&255)===0)U[w++]=65535&ne;else{if(!(16&V)){if((64&V)==0){ne=B[(65535&ne)+(T&(1<<V)-1)];continue t}if(32&V){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}F=65535&ne,(V&=15)&&(D<V&&(T+=h[d++]<<D,D+=8),F+=T&(1<<V)-1,T>>>=V,D-=V),D<15&&(T+=h[d++]<<D,D+=8,T+=h[d++]<<D,D+=8),ne=q[T&Z];n:for(;;){if(T>>>=V=ne>>>24,D-=V,!(16&(V=ne>>>16&255))){if((64&V)==0){ne=q[(65535&ne)+(T&(1<<V)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(Q=65535&ne,D<(V&=15)&&(T+=h[d++]<<D,(D+=8)<V&&(T+=h[d++]<<D,D+=8)),b<(Q+=T&(1<<V)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(T>>>=V,D-=V,(V=w-C)<Q){if(v<(V=Q-V)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(O=_,(A=0)===j){if(A+=S-V,V<F){for(F-=V;U[w++]=_[A++],--V;);A=w-Q,O=U}}else if(j<V){if(A+=S+j-V,(V-=j)<F){for(F-=V;U[w++]=_[A++],--V;);if(A=0,j<F){for(F-=V=j;U[w++]=_[A++],--V;);A=w-Q,O=U}}}else if(A+=j-V,V<F){for(F-=V;U[w++]=_[A++],--V;);A=w-Q,O=U}for(;2<F;)U[w++]=O[A++],U[w++]=O[A++],U[w++]=O[A++],F-=3;F&&(U[w++]=O[A++],1<F&&(U[w++]=O[A++]))}else{for(A=w-Q;U[w++]=U[A++],U[w++]=U[A++],U[w++]=U[A++],2<(F-=3););F&&(U[w++]=U[A++],1<F&&(U[w++]=U[A++]))}break}}break}}while(d<f&&w<k);d-=F=D>>3,T&=(1<<(D-=F<<3))-1,c.next_in=d,c.next_out=w,c.avail_in=d<f?f-d+5:5-(d-f),c.avail_out=w<k?k-w+257:257-(w-k),p.hold=T,p.bits=D}},{}],49:[function(s,o,g){var c=s("../utils/common"),m=s("./adler32"),p=s("./crc32"),d=s("./inffast"),f=s("./inftrees"),w=1,C=2,k=0,b=-2,S=1,v=852,j=592;function _(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(A){var O;return A&&A.state?(O=A.state,A.total_in=A.total_out=O.total=0,A.msg="",O.wrap&&(A.adler=1&O.wrap),O.mode=S,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new c.Buf32(v),O.distcode=O.distdyn=new c.Buf32(j),O.sane=1,O.back=-1,k):b}function B(A){var O;return A&&A.state?((O=A.state).wsize=0,O.whave=0,O.wnext=0,D(A)):b}function q(A,O){var h,U;return A&&A.state?(U=A.state,O<0?(h=0,O=-O):(h=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?b:(U.window!==null&&U.wbits!==O&&(U.window=null),U.wrap=h,U.wbits=O,B(A))):b}function I(A,O){var h,U;return A?(U=new T,(A.state=U).window=null,(h=q(A,O))!==k&&(A.state=null),h):b}var Z,ne,V=!0;function F(A){if(V){var O;for(Z=new c.Buf32(512),ne=new c.Buf32(32),O=0;O<144;)A.lens[O++]=8;for(;O<256;)A.lens[O++]=9;for(;O<280;)A.lens[O++]=7;for(;O<288;)A.lens[O++]=8;for(f(w,A.lens,0,288,Z,0,A.work,{bits:9}),O=0;O<32;)A.lens[O++]=5;f(C,A.lens,0,32,ne,0,A.work,{bits:5}),V=!1}A.lencode=Z,A.lenbits=9,A.distcode=ne,A.distbits=5}function Q(A,O,h,U){var Y,H=A.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new c.Buf8(H.wsize)),U>=H.wsize?(c.arraySet(H.window,O,h-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(U<(Y=H.wsize-H.wnext)&&(Y=U),c.arraySet(H.window,O,h-U,Y,H.wnext),(U-=Y)?(c.arraySet(H.window,O,h-U,U,0),H.wnext=U,H.whave=H.wsize):(H.wnext+=Y,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=Y))),0}g.inflateReset=B,g.inflateReset2=q,g.inflateResetKeep=D,g.inflateInit=function(A){return I(A,15)},g.inflateInit2=I,g.inflate=function(A,O){var h,U,Y,H,se,W,ye,z,R,de,re,ce,Re,He,P,_e,qe,Xe,tt,Je,x,ee,te,L,M=0,K=new c.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return b;(h=A.state).mode===12&&(h.mode=13),se=A.next_out,Y=A.output,ye=A.avail_out,H=A.next_in,U=A.input,W=A.avail_in,z=h.hold,R=h.bits,de=W,re=ye,ee=k;e:for(;;)switch(h.mode){case S:if(h.wrap===0){h.mode=13;break}for(;R<16;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if(2&h.wrap&&z===35615){K[h.check=0]=255&z,K[1]=z>>>8&255,h.check=p(h.check,K,2,0),R=z=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&z)<<8)+(z>>8))%31){A.msg="incorrect header check",h.mode=30;break}if((15&z)!=8){A.msg="unknown compression method",h.mode=30;break}if(R-=4,x=8+(15&(z>>>=4)),h.wbits===0)h.wbits=x;else if(x>h.wbits){A.msg="invalid window size",h.mode=30;break}h.dmax=1<<x,A.adler=h.check=1,h.mode=512&z?10:12,R=z=0;break;case 2:for(;R<16;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if(h.flags=z,(255&h.flags)!=8){A.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){A.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=z>>8&1),512&h.flags&&(K[0]=255&z,K[1]=z>>>8&255,h.check=p(h.check,K,2,0)),R=z=0,h.mode=3;case 3:for(;R<32;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}h.head&&(h.head.time=z),512&h.flags&&(K[0]=255&z,K[1]=z>>>8&255,K[2]=z>>>16&255,K[3]=z>>>24&255,h.check=p(h.check,K,4,0)),R=z=0,h.mode=4;case 4:for(;R<16;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}h.head&&(h.head.xflags=255&z,h.head.os=z>>8),512&h.flags&&(K[0]=255&z,K[1]=z>>>8&255,h.check=p(h.check,K,2,0)),R=z=0,h.mode=5;case 5:if(1024&h.flags){for(;R<16;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}h.length=z,h.head&&(h.head.extra_len=z),512&h.flags&&(K[0]=255&z,K[1]=z>>>8&255,h.check=p(h.check,K,2,0)),R=z=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(W<(ce=h.length)&&(ce=W),ce&&(h.head&&(x=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),c.arraySet(h.head.extra,U,H,ce,x)),512&h.flags&&(h.check=p(h.check,U,ce,H)),W-=ce,H+=ce,h.length-=ce),h.length))break e;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(W===0)break e;for(ce=0;x=U[H+ce++],h.head&&x&&h.length<65536&&(h.head.name+=String.fromCharCode(x)),x&&ce<W;);if(512&h.flags&&(h.check=p(h.check,U,ce,H)),W-=ce,H+=ce,x)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(W===0)break e;for(ce=0;x=U[H+ce++],h.head&&x&&h.length<65536&&(h.head.comment+=String.fromCharCode(x)),x&&ce<W;);if(512&h.flags&&(h.check=p(h.check,U,ce,H)),W-=ce,H+=ce,x)break e}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;R<16;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if(z!==(65535&h.check)){A.msg="header crc mismatch",h.mode=30;break}R=z=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),A.adler=h.check=0,h.mode=12;break;case 10:for(;R<32;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}A.adler=h.check=_(z),R=z=0,h.mode=11;case 11:if(h.havedict===0)return A.next_out=se,A.avail_out=ye,A.next_in=H,A.avail_in=W,h.hold=z,h.bits=R,2;A.adler=h.check=1,h.mode=12;case 12:if(O===5||O===6)break e;case 13:if(h.last){z>>>=7&R,R-=7&R,h.mode=27;break}for(;R<3;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}switch(h.last=1&z,R-=1,3&(z>>>=1)){case 0:h.mode=14;break;case 1:if(F(h),h.mode=20,O!==6)break;z>>>=2,R-=2;break e;case 2:h.mode=17;break;case 3:A.msg="invalid block type",h.mode=30}z>>>=2,R-=2;break;case 14:for(z>>>=7&R,R-=7&R;R<32;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if((65535&z)!=(z>>>16^65535)){A.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&z,R=z=0,h.mode=15,O===6)break e;case 15:h.mode=16;case 16:if(ce=h.length){if(W<ce&&(ce=W),ye<ce&&(ce=ye),ce===0)break e;c.arraySet(Y,U,H,ce,se),W-=ce,H+=ce,ye-=ce,se+=ce,h.length-=ce;break}h.mode=12;break;case 17:for(;R<14;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if(h.nlen=257+(31&z),z>>>=5,R-=5,h.ndist=1+(31&z),z>>>=5,R-=5,h.ncode=4+(15&z),z>>>=4,R-=4,286<h.nlen||30<h.ndist){A.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;R<3;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}h.lens[ge[h.have++]]=7&z,z>>>=3,R-=3}for(;h.have<19;)h.lens[ge[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,te={bits:h.lenbits},ee=f(0,h.lens,0,19,h.lencode,0,h.work,te),h.lenbits=te.bits,ee){A.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;_e=(M=h.lencode[z&(1<<h.lenbits)-1])>>>16&255,qe=65535&M,!((P=M>>>24)<=R);){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if(qe<16)z>>>=P,R-=P,h.lens[h.have++]=qe;else{if(qe===16){for(L=P+2;R<L;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if(z>>>=P,R-=P,h.have===0){A.msg="invalid bit length repeat",h.mode=30;break}x=h.lens[h.have-1],ce=3+(3&z),z>>>=2,R-=2}else if(qe===17){for(L=P+3;R<L;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}R-=P,x=0,ce=3+(7&(z>>>=P)),z>>>=3,R-=3}else{for(L=P+7;R<L;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}R-=P,x=0,ce=11+(127&(z>>>=P)),z>>>=7,R-=7}if(h.have+ce>h.nlen+h.ndist){A.msg="invalid bit length repeat",h.mode=30;break}for(;ce--;)h.lens[h.have++]=x}}if(h.mode===30)break;if(h.lens[256]===0){A.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,te={bits:h.lenbits},ee=f(w,h.lens,0,h.nlen,h.lencode,0,h.work,te),h.lenbits=te.bits,ee){A.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,te={bits:h.distbits},ee=f(C,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,te),h.distbits=te.bits,ee){A.msg="invalid distances set",h.mode=30;break}if(h.mode=20,O===6)break e;case 20:h.mode=21;case 21:if(6<=W&&258<=ye){A.next_out=se,A.avail_out=ye,A.next_in=H,A.avail_in=W,h.hold=z,h.bits=R,d(A,re),se=A.next_out,Y=A.output,ye=A.avail_out,H=A.next_in,U=A.input,W=A.avail_in,z=h.hold,R=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;_e=(M=h.lencode[z&(1<<h.lenbits)-1])>>>16&255,qe=65535&M,!((P=M>>>24)<=R);){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if(_e&&(240&_e)==0){for(Xe=P,tt=_e,Je=qe;_e=(M=h.lencode[Je+((z&(1<<Xe+tt)-1)>>Xe)])>>>16&255,qe=65535&M,!(Xe+(P=M>>>24)<=R);){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}z>>>=Xe,R-=Xe,h.back+=Xe}if(z>>>=P,R-=P,h.back+=P,h.length=qe,_e===0){h.mode=26;break}if(32&_e){h.back=-1,h.mode=12;break}if(64&_e){A.msg="invalid literal/length code",h.mode=30;break}h.extra=15&_e,h.mode=22;case 22:if(h.extra){for(L=h.extra;R<L;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}h.length+=z&(1<<h.extra)-1,z>>>=h.extra,R-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;_e=(M=h.distcode[z&(1<<h.distbits)-1])>>>16&255,qe=65535&M,!((P=M>>>24)<=R);){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if((240&_e)==0){for(Xe=P,tt=_e,Je=qe;_e=(M=h.distcode[Je+((z&(1<<Xe+tt)-1)>>Xe)])>>>16&255,qe=65535&M,!(Xe+(P=M>>>24)<=R);){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}z>>>=Xe,R-=Xe,h.back+=Xe}if(z>>>=P,R-=P,h.back+=P,64&_e){A.msg="invalid distance code",h.mode=30;break}h.offset=qe,h.extra=15&_e,h.mode=24;case 24:if(h.extra){for(L=h.extra;R<L;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}h.offset+=z&(1<<h.extra)-1,z>>>=h.extra,R-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){A.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(ye===0)break e;if(ce=re-ye,h.offset>ce){if((ce=h.offset-ce)>h.whave&&h.sane){A.msg="invalid distance too far back",h.mode=30;break}Re=ce>h.wnext?(ce-=h.wnext,h.wsize-ce):h.wnext-ce,ce>h.length&&(ce=h.length),He=h.window}else He=Y,Re=se-h.offset,ce=h.length;for(ye<ce&&(ce=ye),ye-=ce,h.length-=ce;Y[se++]=He[Re++],--ce;);h.length===0&&(h.mode=21);break;case 26:if(ye===0)break e;Y[se++]=h.length,ye--,h.mode=21;break;case 27:if(h.wrap){for(;R<32;){if(W===0)break e;W--,z|=U[H++]<<R,R+=8}if(re-=ye,A.total_out+=re,h.total+=re,re&&(A.adler=h.check=h.flags?p(h.check,Y,re,se-re):m(h.check,Y,re,se-re)),re=ye,(h.flags?z:_(z))!==h.check){A.msg="incorrect data check",h.mode=30;break}R=z=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;R<32;){if(W===0)break e;W--,z+=U[H++]<<R,R+=8}if(z!==(4294967295&h.total)){A.msg="incorrect length check",h.mode=30;break}R=z=0}h.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;default:return b}return A.next_out=se,A.avail_out=ye,A.next_in=H,A.avail_in=W,h.hold=z,h.bits=R,(h.wsize||re!==A.avail_out&&h.mode<30&&(h.mode<27||O!==4))&&Q(A,A.output,A.next_out,re-A.avail_out)?(h.mode=31,-4):(de-=A.avail_in,re-=A.avail_out,A.total_in+=de,A.total_out+=re,h.total+=re,h.wrap&&re&&(A.adler=h.check=h.flags?p(h.check,Y,re,A.next_out-re):m(h.check,Y,re,A.next_out-re)),A.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(de==0&&re===0||O===4)&&ee===k&&(ee=-5),ee)},g.inflateEnd=function(A){if(!A||!A.state)return b;var O=A.state;return O.window&&(O.window=null),A.state=null,k},g.inflateGetHeader=function(A,O){var h;return A&&A.state?(2&(h=A.state).wrap)==0?b:((h.head=O).done=!1,k):b},g.inflateSetDictionary=function(A,O){var h,U=O.length;return A&&A.state?(h=A.state).wrap!==0&&h.mode!==11?b:h.mode===11&&m(1,O,U,0)!==h.check?-3:Q(A,O,U,U)?(h.mode=31,-4):(h.havedict=1,k):b},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,o,g){var c=s("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(w,C,k,b,S,v,j,_){var T,D,B,q,I,Z,ne,V,F,Q=_.bits,A=0,O=0,h=0,U=0,Y=0,H=0,se=0,W=0,ye=0,z=0,R=null,de=0,re=new c.Buf16(16),ce=new c.Buf16(16),Re=null,He=0;for(A=0;A<=15;A++)re[A]=0;for(O=0;O<b;O++)re[C[k+O]]++;for(Y=Q,U=15;1<=U&&re[U]===0;U--);if(U<Y&&(Y=U),U===0)return S[v++]=20971520,S[v++]=20971520,_.bits=1,0;for(h=1;h<U&&re[h]===0;h++);for(Y<h&&(Y=h),A=W=1;A<=15;A++)if(W<<=1,(W-=re[A])<0)return-1;if(0<W&&(w===0||U!==1))return-1;for(ce[1]=0,A=1;A<15;A++)ce[A+1]=ce[A]+re[A];for(O=0;O<b;O++)C[k+O]!==0&&(j[ce[C[k+O]]++]=O);if(Z=w===0?(R=Re=j,19):w===1?(R=m,de-=257,Re=p,He-=257,256):(R=d,Re=f,-1),A=h,I=v,se=O=z=0,B=-1,q=(ye=1<<(H=Y))-1,w===1&&852<ye||w===2&&592<ye)return 1;for(;;){for(ne=A-se,F=j[O]<Z?(V=0,j[O]):j[O]>Z?(V=Re[He+j[O]],R[de+j[O]]):(V=96,0),T=1<<A-se,h=D=1<<H;S[I+(z>>se)+(D-=T)]=ne<<24|V<<16|F|0,D!==0;);for(T=1<<A-1;z&T;)T>>=1;if(T!==0?(z&=T-1,z+=T):z=0,O++,--re[A]==0){if(A===U)break;A=C[k+j[O]]}if(Y<A&&(z&q)!==B){for(se===0&&(se=Y),I+=h,W=1<<(H=A-se);H+se<U&&!((W-=re[H+se])<=0);)H++,W<<=1;if(ye+=1<<H,w===1&&852<ye||w===2&&592<ye)return 1;S[B=z&q]=Y<<24|H<<16|I-v|0}}return z!==0&&(S[I+z]=A-se<<24|64<<16|0),_.bits=Y,0}},{"../utils/common":41}],51:[function(s,o,g){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,o,g){var c=s("../utils/common"),m=0,p=1;function d(M){for(var K=M.length;0<=--K;)M[K]=0}var f=0,w=29,C=256,k=C+1+w,b=30,S=19,v=2*k+1,j=15,_=16,T=7,D=256,B=16,q=17,I=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(k+2));d(Q);var A=new Array(2*b);d(A);var O=new Array(512);d(O);var h=new Array(256);d(h);var U=new Array(w);d(U);var Y,H,se,W=new Array(b);function ye(M,K,ge,je,J){this.static_tree=M,this.extra_bits=K,this.extra_base=ge,this.elems=je,this.max_length=J,this.has_stree=M&&M.length}function z(M,K){this.dyn_tree=M,this.max_code=0,this.stat_desc=K}function R(M){return M<256?O[M]:O[256+(M>>>7)]}function de(M,K){M.pending_buf[M.pending++]=255&K,M.pending_buf[M.pending++]=K>>>8&255}function re(M,K,ge){M.bi_valid>_-ge?(M.bi_buf|=K<<M.bi_valid&65535,de(M,M.bi_buf),M.bi_buf=K>>_-M.bi_valid,M.bi_valid+=ge-_):(M.bi_buf|=K<<M.bi_valid&65535,M.bi_valid+=ge)}function ce(M,K,ge){re(M,ge[2*K],ge[2*K+1])}function Re(M,K){for(var ge=0;ge|=1&M,M>>>=1,ge<<=1,0<--K;);return ge>>>1}function He(M,K,ge){var je,J,Te=new Array(j+1),Ae=0;for(je=1;je<=j;je++)Te[je]=Ae=Ae+ge[je-1]<<1;for(J=0;J<=K;J++){var De=M[2*J+1];De!==0&&(M[2*J]=Re(Te[De]++,De))}}function P(M){var K;for(K=0;K<k;K++)M.dyn_ltree[2*K]=0;for(K=0;K<b;K++)M.dyn_dtree[2*K]=0;for(K=0;K<S;K++)M.bl_tree[2*K]=0;M.dyn_ltree[2*D]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function _e(M){8<M.bi_valid?de(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function qe(M,K,ge,je){var J=2*K,Te=2*ge;return M[J]<M[Te]||M[J]===M[Te]&&je[K]<=je[ge]}function Xe(M,K,ge){for(var je=M.heap[ge],J=ge<<1;J<=M.heap_len&&(J<M.heap_len&&qe(K,M.heap[J+1],M.heap[J],M.depth)&&J++,!qe(K,je,M.heap[J],M.depth));)M.heap[ge]=M.heap[J],ge=J,J<<=1;M.heap[ge]=je}function tt(M,K,ge){var je,J,Te,Ae,De=0;if(M.last_lit!==0)for(;je=M.pending_buf[M.d_buf+2*De]<<8|M.pending_buf[M.d_buf+2*De+1],J=M.pending_buf[M.l_buf+De],De++,je===0?ce(M,J,K):(ce(M,(Te=h[J])+C+1,K),(Ae=Z[Te])!==0&&re(M,J-=U[Te],Ae),ce(M,Te=R(--je),ge),(Ae=ne[Te])!==0&&re(M,je-=W[Te],Ae)),De<M.last_lit;);ce(M,D,K)}function Je(M,K){var ge,je,J,Te=K.dyn_tree,Ae=K.stat_desc.static_tree,De=K.stat_desc.has_stree,Ve=K.stat_desc.elems,ut=-1;for(M.heap_len=0,M.heap_max=v,ge=0;ge<Ve;ge++)Te[2*ge]!==0?(M.heap[++M.heap_len]=ut=ge,M.depth[ge]=0):Te[2*ge+1]=0;for(;M.heap_len<2;)Te[2*(J=M.heap[++M.heap_len]=ut<2?++ut:0)]=1,M.depth[J]=0,M.opt_len--,De&&(M.static_len-=Ae[2*J+1]);for(K.max_code=ut,ge=M.heap_len>>1;1<=ge;ge--)Xe(M,Te,ge);for(J=Ve;ge=M.heap[1],M.heap[1]=M.heap[M.heap_len--],Xe(M,Te,1),je=M.heap[1],M.heap[--M.heap_max]=ge,M.heap[--M.heap_max]=je,Te[2*J]=Te[2*ge]+Te[2*je],M.depth[J]=(M.depth[ge]>=M.depth[je]?M.depth[ge]:M.depth[je])+1,Te[2*ge+1]=Te[2*je+1]=J,M.heap[1]=J++,Xe(M,Te,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],(function(Qe,Zt){var an,zt,dn,ct,kt,Kt,gt=Zt.dyn_tree,Ot=Zt.max_code,Dn=Zt.stat_desc.static_tree,On=Zt.stat_desc.has_stree,fe=Zt.stat_desc.extra_bits,xe=Zt.stat_desc.extra_base,pe=Zt.stat_desc.max_length,he=0;for(ct=0;ct<=j;ct++)Qe.bl_count[ct]=0;for(gt[2*Qe.heap[Qe.heap_max]+1]=0,an=Qe.heap_max+1;an<v;an++)pe<(ct=gt[2*gt[2*(zt=Qe.heap[an])+1]+1]+1)&&(ct=pe,he++),gt[2*zt+1]=ct,Ot<zt||(Qe.bl_count[ct]++,kt=0,xe<=zt&&(kt=fe[zt-xe]),Kt=gt[2*zt],Qe.opt_len+=Kt*(ct+kt),On&&(Qe.static_len+=Kt*(Dn[2*zt+1]+kt)));if(he!==0){do{for(ct=pe-1;Qe.bl_count[ct]===0;)ct--;Qe.bl_count[ct]--,Qe.bl_count[ct+1]+=2,Qe.bl_count[pe]--,he-=2}while(0<he);for(ct=pe;ct!==0;ct--)for(zt=Qe.bl_count[ct];zt!==0;)Ot<(dn=Qe.heap[--an])||(gt[2*dn+1]!==ct&&(Qe.opt_len+=(ct-gt[2*dn+1])*gt[2*dn],gt[2*dn+1]=ct),zt--)}})(M,K),He(Te,ut,M.bl_count)}function x(M,K,ge){var je,J,Te=-1,Ae=K[1],De=0,Ve=7,ut=4;for(Ae===0&&(Ve=138,ut=3),K[2*(ge+1)+1]=65535,je=0;je<=ge;je++)J=Ae,Ae=K[2*(je+1)+1],++De<Ve&&J===Ae||(De<ut?M.bl_tree[2*J]+=De:J!==0?(J!==Te&&M.bl_tree[2*J]++,M.bl_tree[2*B]++):De<=10?M.bl_tree[2*q]++:M.bl_tree[2*I]++,Te=J,ut=(De=0)===Ae?(Ve=138,3):J===Ae?(Ve=6,3):(Ve=7,4))}function ee(M,K,ge){var je,J,Te=-1,Ae=K[1],De=0,Ve=7,ut=4;for(Ae===0&&(Ve=138,ut=3),je=0;je<=ge;je++)if(J=Ae,Ae=K[2*(je+1)+1],!(++De<Ve&&J===Ae)){if(De<ut)for(;ce(M,J,M.bl_tree),--De!=0;);else J!==0?(J!==Te&&(ce(M,J,M.bl_tree),De--),ce(M,B,M.bl_tree),re(M,De-3,2)):De<=10?(ce(M,q,M.bl_tree),re(M,De-3,3)):(ce(M,I,M.bl_tree),re(M,De-11,7));Te=J,ut=(De=0)===Ae?(Ve=138,3):J===Ae?(Ve=6,3):(Ve=7,4)}}d(W);var te=!1;function L(M,K,ge,je){re(M,(f<<1)+(je?1:0),3),(function(J,Te,Ae,De){_e(J),de(J,Ae),de(J,~Ae),c.arraySet(J.pending_buf,J.window,Te,Ae,J.pending),J.pending+=Ae})(M,K,ge)}g._tr_init=function(M){te||((function(){var K,ge,je,J,Te,Ae=new Array(j+1);for(J=je=0;J<w-1;J++)for(U[J]=je,K=0;K<1<<Z[J];K++)h[je++]=J;for(h[je-1]=J,J=Te=0;J<16;J++)for(W[J]=Te,K=0;K<1<<ne[J];K++)O[Te++]=J;for(Te>>=7;J<b;J++)for(W[J]=Te<<7,K=0;K<1<<ne[J]-7;K++)O[256+Te++]=J;for(ge=0;ge<=j;ge++)Ae[ge]=0;for(K=0;K<=143;)Q[2*K+1]=8,K++,Ae[8]++;for(;K<=255;)Q[2*K+1]=9,K++,Ae[9]++;for(;K<=279;)Q[2*K+1]=7,K++,Ae[7]++;for(;K<=287;)Q[2*K+1]=8,K++,Ae[8]++;for(He(Q,k+1,Ae),K=0;K<b;K++)A[2*K+1]=5,A[2*K]=Re(K,5);Y=new ye(Q,Z,C+1,k,j),H=new ye(A,ne,0,b,j),se=new ye(new Array(0),V,0,S,T)})(),te=!0),M.l_desc=new z(M.dyn_ltree,Y),M.d_desc=new z(M.dyn_dtree,H),M.bl_desc=new z(M.bl_tree,se),M.bi_buf=0,M.bi_valid=0,P(M)},g._tr_stored_block=L,g._tr_flush_block=function(M,K,ge,je){var J,Te,Ae=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=(function(De){var Ve,ut=4093624447;for(Ve=0;Ve<=31;Ve++,ut>>>=1)if(1&ut&&De.dyn_ltree[2*Ve]!==0)return m;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return p;for(Ve=32;Ve<C;Ve++)if(De.dyn_ltree[2*Ve]!==0)return p;return m})(M)),Je(M,M.l_desc),Je(M,M.d_desc),Ae=(function(De){var Ve;for(x(De,De.dyn_ltree,De.l_desc.max_code),x(De,De.dyn_dtree,De.d_desc.max_code),Je(De,De.bl_desc),Ve=S-1;3<=Ve&&De.bl_tree[2*F[Ve]+1]===0;Ve--);return De.opt_len+=3*(Ve+1)+5+5+4,Ve})(M),J=M.opt_len+3+7>>>3,(Te=M.static_len+3+7>>>3)<=J&&(J=Te)):J=Te=ge+5,ge+4<=J&&K!==-1?L(M,K,ge,je):M.strategy===4||Te===J?(re(M,2+(je?1:0),3),tt(M,Q,A)):(re(M,4+(je?1:0),3),(function(De,Ve,ut,Qe){var Zt;for(re(De,Ve-257,5),re(De,ut-1,5),re(De,Qe-4,4),Zt=0;Zt<Qe;Zt++)re(De,De.bl_tree[2*F[Zt]+1],3);ee(De,De.dyn_ltree,Ve-1),ee(De,De.dyn_dtree,ut-1)})(M,M.l_desc.max_code+1,M.d_desc.max_code+1,Ae+1),tt(M,M.dyn_ltree,M.dyn_dtree)),P(M),je&&_e(M)},g._tr_tally=function(M,K,ge){return M.pending_buf[M.d_buf+2*M.last_lit]=K>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&K,M.pending_buf[M.l_buf+M.last_lit]=255&ge,M.last_lit++,K===0?M.dyn_ltree[2*ge]++:(M.matches++,K--,M.dyn_ltree[2*(h[ge]+C+1)]++,M.dyn_dtree[2*R(K)]++),M.last_lit===M.lit_bufsize-1},g._tr_align=function(M){re(M,2,3),ce(M,D,Q),(function(K){K.bi_valid===16?(de(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(M)}},{"../utils/common":41}],53:[function(s,o,g){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,o,g){(function(c){(function(m,p){if(!m.setImmediate){var d,f,w,C,k=1,b={},S=!1,v=m.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(m);j=j&&j.setTimeout?j:m,d={}.toString.call(m.process)==="[object process]"?function(B){process.nextTick(function(){T(B)})}:(function(){if(m.postMessage&&!m.importScripts){var B=!0,q=m.onmessage;return m.onmessage=function(){B=!1},m.postMessage("","*"),m.onmessage=q,B}})()?(C="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",D,!1):m.attachEvent("onmessage",D),function(B){m.postMessage(C+B,"*")}):m.MessageChannel?((w=new MessageChannel).port1.onmessage=function(B){T(B.data)},function(B){w.port2.postMessage(B)}):v&&"onreadystatechange"in v.createElement("script")?(f=v.documentElement,function(B){var q=v.createElement("script");q.onreadystatechange=function(){T(B),q.onreadystatechange=null,f.removeChild(q),q=null},f.appendChild(q)}):function(B){setTimeout(T,0,B)},j.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var q=new Array(arguments.length-1),I=0;I<q.length;I++)q[I]=arguments[I+1];var Z={callback:B,args:q};return b[k]=Z,d(k),k++},j.clearImmediate=_}function _(B){delete b[B]}function T(B){if(S)setTimeout(T,0,B);else{var q=b[B];if(q){S=!0;try{(function(I){var Z=I.callback,ne=I.args;switch(ne.length){case 0:Z();break;case 1:Z(ne[0]);break;case 2:Z(ne[0],ne[1]);break;case 3:Z(ne[0],ne[1],ne[2]);break;default:Z.apply(p,ne)}})(q)}finally{_(B),S=!1}}}}function D(B){B.source===m&&typeof B.data=="string"&&B.data.indexOf(C)===0&&T(+B.data.slice(C.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Fr<"u"?Fr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(wu)),wu.exports}var Oy=Dy();const Mu=up(Oy),jp=async E=>{const l=new Mu,s=l.folder("SK");if(!s)throw new Error("Failed to create root folder");Xt.forEach(m=>{const p=E.tapes[m],d=m.charAt(0).toUpperCase(),f=s.folder(d);f&&p.slots.forEach(w=>{if(w.fileId){const C=E.files[w.fileId];if(C){const k=C.versions.find(b=>b.id===C.currentVersionId);k&&f.file(`${w.id}.WAV`,k.blob)}}})});const o=s.folder("EXTRAS");o&&Object.values(E.files).forEach(m=>{if(m.isParked){const p=m.versions.find(d=>d.id===m.currentVersionId);p&&o.file(`${m.name}.WAV`,p.blob)}});const g=await l.generateAsync({type:"blob"}),c=new Date().toISOString().split("T")[0];as(g,`Spotykach_SD_${c}.zip`)},Cp=async E=>{const l=new Mu,s={},o=l.folder("blobs");for(const[p,d]of Object.entries(E.files))s[p]={...d,versions:d.versions.map(f=>{const w=`${f.id}.wav`;return o&&o.file(w,f.blob),{...f,blob:null,blobRef:w}})};const g={files:s,tapes:E.tapes,metadata:{appName:"Spotykach WAV Builder",version:"0.1.2",exportDate:new Date().toISOString()}};l.file("project.json",JSON.stringify(g,null,2));const c=await l.generateAsync({type:"blob"}),m=new Date().toISOString().split("T")[0];as(c,`Spotykach_Project_${m}.zip`)},zp=async E=>{if(!("showDirectoryPicker"in window))throw new Error("Your browser does not support writing directly to folders. Please use Export ZIP instead.");const s=await(await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"})).getDirectoryHandle("SK",{create:!0});for(const g of Xt){const c=E.tapes[g],m=g.charAt(0).toUpperCase(),p=await s.getDirectoryHandle(m,{create:!0});for(const d of c.slots)if(d.fileId){const f=E.files[d.fileId];if(f){const w=f.versions.find(C=>C.id===f.currentVersionId);if(w){const k=await(await p.getFileHandle(`${d.id}.WAV`,{create:!0})).createWritable();await k.write(w.blob),await k.close()}}}}const o=await s.getDirectoryHandle("EXTRAS",{create:!0});for(const g of Object.values(E.files))if(g.isParked){const c=g.versions.find(m=>m.id===g.currentVersionId);if(c){const p=await(await o.getFileHandle(`${g.name}.WAV`,{create:!0})).createWritable();await p.write(c.blob),await p.close()}}},My=E=>{const l=E.versions.find(s=>s.id===E.currentVersionId);if(l&&l.blob)as(l.blob,`${E.name}.WAV`);else throw new Error("File data not available.")},kp=async(E,l,s)=>{const o=new Mu,g=E.charAt(0).toUpperCase(),c=o.folder(g);if(!c)throw new Error("Failed to create zip folder.");let m=0;if(l.slots.forEach(d=>{if(d.fileId&&s[d.fileId]){const f=s[d.fileId],w=f.versions.find(C=>C.id===f.currentVersionId);w&&w.blob&&(c.file(`${d.id}.WAV`,w.blob),m++)}}),m===0)throw new Error("Tape is empty. Nothing to export.");const p=await o.generateAsync({type:"blob"});as(p,`${E.replace(/^\w/,d=>d.toUpperCase())}_Tape.zip`)},as=(E,l)=>{const s=URL.createObjectURL(E),o=document.createElement("a");o.href=s,o.download=l,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)},Ru=Object.freeze(Object.defineProperty({__proto__:null,exportSaveState:Cp,exportSingleFile:My,exportSingleTape:kp,exportToSDCard:zp,exportZip:jp},Symbol.toStringTag,{value:"Module"})),ep={B:"Blue",G:"Green",P:"Pink",R:"Red",T:"Turquoise",Y:"Yellow"},tp=()=>crypto.randomUUID(),Cu=E=>{let l=E.replace(/[^a-zA-Z0-9.\-_]/g,"_");return l=l.replace(/__+/g,"_"),l},Ry=async(E,l)=>{const s=Array.from(E),o=s.find(d=>d.name==="project.json"||d.webkitRelativePath.endsWith("project.json"));if(o)try{const d=await o.text(),f=JSON.parse(d),w={};for(const S of s)S.name.endsWith(".wav")&&(w[S.name]=S);const C={};let k=0;for(const[S,v]of Object.entries(f.files)){k++,l(k,Object.keys(f.files).length);const j=[];for(const _ of v.versions){const T=_.blobRef;let D=w[T];if(!D){console.warn(`Missing blob for version ${_.id} (${T})`);continue}j.push({..._,blob:D})}j.length>0&&(C[S]={...v,versions:j,currentVersionId:j.find(_=>_.id===v.currentVersionId)?v.currentVersionId:j[0].id})}const b={Blue:[],Green:[],Pink:[],Red:[],Turquoise:[],Yellow:[]};return Object.entries(f.tapes).forEach(([S,v])=>{b[S]&&v.slots.forEach(j=>{j.fileId&&b[S].push({slotId:j.id,fileId:j.fileId})})}),{files:C,tapes:b}}catch(d){throw console.error("Failed to parse project.json",d),new Error("Invalid Project File")}const g={},c={Blue:[],Green:[],Pink:[],Red:[],Turquoise:[],Yellow:[]},m={Blue:1,Green:1,Pink:1,Red:1,Turquoise:1,Yellow:1},p=s.filter(d=>d.type.includes("audio")||d.name.toLowerCase().endsWith(".wav"));for(let d=0;d<p.length;d++){const f=p[d];l(d+1,p.length);const w=f.webkitRelativePath.split("/"),C=w.some(S=>S==="EXTRAS");let k,b;if(!C&&w.length>=2){const S=w[w.length-2].toUpperCase();if(Xt.includes(S)?k=S:ep[S]&&(k=ep[S]),k){const j=w[w.length-1].match(/^(\d+)/);j?b=parseInt(j[1]):(b=m[k],m[k]++)}}try{const{buffer:S,blob:v}=await ju.loadAndProcessAudio(f),j=tp(),_=tp(),T={id:_,timestamp:Date.now(),description:"Original Import",blob:v,duration:S.duration},D=Cu(f.name),B={id:j,name:D.toUpperCase().replace(/\.[^/.]+$/,""),originalName:f.name,versions:[T],currentVersionId:_,isParked:!k||!b};g[j]=B,k&&b&&b>=1&&b<=6&&c[k].push({slotId:b,fileId:j})}catch(S){console.error(`Failed to process ${f.name}`,S)}}return{files:g,tapes:c}},By="0.2.1",Uy=({onClose:E})=>u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-6",children:u.jsxs("div",{className:"bg-synthux-panel border border-gray-800 rounded-2xl w-full max-w-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-black/20",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent font-header",children:"About Spotykach WAV Builder"}),u.jsxs("p",{className:"text-gray-500 text-sm mt-1 font-body",children:["Version ",By]})]}),u.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:u.jsx(xn,{size:24})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto max-h-[70vh] space-y-8 font-body",children:[u.jsxs("div",{className:"bg-synthux-yellow/10 border border-synthux-yellow/30 p-4 rounded-lg flex items-start gap-3",children:[u.jsx("div",{className:"text-synthux-yellow mt-0.5",children:""}),u.jsxs("div",{className:"text-sm text-gray-300",children:[u.jsx("strong",{className:"text-synthux-yellow block mb-1",children:"Desktop Computer Required"}),"This application is designed for use on a ",u.jsx("strong",{children:"Desktop Computer"})," (Chrome/Edge recommended) with a mouse/trackpad. It relies on advanced browser audio features that are not available on mobile devices."]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[u.jsx(bu,{size:20,className:"text-synthux-blue"}),"Purpose"]}),u.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["This application is specifically designed to prepare audio files for the ",u.jsx("strong",{className:"text-white",children:"Synthux Spotykach - the looper playground"}),". It automatically handles the strict format requirements needed by the firmware, ensuring your samples assume the correct",u.jsx("span",{className:"text-synthux-blue font-mono text-xs mx-1 px-1.5 py-0.5 bg-synthux-blue/20 rounded",children:"48kHz Stereo WAV"}),"format and folder structure."]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[u.jsx(fp,{size:20,className:"text-synthux-green"}),"Supported Files"]}),u.jsx("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800",children:u.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:[u.jsx("li",{children:"All standard audio formats (MP3, WAV, AIF, OGG, etc.)"}),u.jsx("li",{children:"Files are automatically converted to 48kHz / 16-bit / Stereo."}),u.jsx("li",{children:" Drag & Drop files directly onto slots or use the Import Folder button."})]})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[u.jsx(bu,{size:20,className:"text-synthux-pink"}),"Technology Stack"]}),u.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800 text-sm text-gray-300",children:["Built with ",u.jsx("span",{className:"text-white font-bold",children:"React"}),", ",u.jsx("span",{className:"text-white font-bold",children:"Vite"}),", and ",u.jsx("span",{className:"text-white font-bold",children:"TailwindCSS"}),".",u.jsx("br",{}),"Assisted by ",u.jsx("span",{className:"text-synthux-pink font-bold",children:"Google Deepmind"}),"'s experimental agentic coding models."]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 font-header",children:[u.jsx(bu,{size:20,className:"text-synthux-yellow"}),"Roadmap & Contributing"]}),u.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-gray-800 text-sm text-gray-300 space-y-2",children:[u.jsxs("p",{children:["Future versions will include ",u.jsx("strong",{children:"Multi-Project Support"}),", a ",u.jsx("strong",{children:"Shared Sample Pool"}),", and a ",u.jsx("strong",{children:"Project Manager"}),"."]}),u.jsxs("p",{children:["Want to help? Join the discussion on the ",u.jsx("a",{href:"https://synthux.academy",target:"_blank",rel:"noreferrer",className:"text-synthux-yellow hover:underline",children:"Synthux Discord"}),", open an issue on GitHub, or check out our ",u.jsx("a",{href:"https://github.com/jonwaterschoot/spotykach_WAV_builder/blob/main/CONTRIBUTING.md",target:"_blank",rel:"noreferrer",className:"text-synthux-yellow hover:underline",children:"Contribution Guide"}),"."]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("a",{href:"https://github.com/jonwaterschoot/spotykach_WAV_builder",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-4 bg-gray-800/50 hover:bg-gray-800 rounded-xl border border-gray-700 transition-all group",children:[u.jsx("span",{className:"font-medium text-white group-hover:text-synthux-blue transition-colors",children:"GitHub Repository"}),u.jsx(qh,{size:16,className:"text-gray-500 group-hover:text-white transition-colors"})]}),u.jsxs("a",{href:"https://discord.gg/synthux",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-4 bg-gray-800/50 hover:bg-gray-800 rounded-xl border border-gray-700 transition-all group",children:[u.jsx("span",{className:"font-medium text-synthux-yellow group-hover:text-synthux-yellow-light transition-colors",children:"Synthux Discord"}),u.jsx(qh,{size:16,className:"text-gray-500 group-hover:text-white transition-colors"})]})]}),u.jsxs("div",{className:"pt-6 border-t border-gray-800 text-center space-y-4",children:[u.jsxs("div",{className:"text-xs text-gray-500 font-mono bg-black/40 p-3 rounded border border-gray-800/50 mx-auto max-w-md",children:[u.jsx("p",{className:"font-bold text-gray-400 mb-1",children:"LICENSE"}),"DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE",u.jsx("br",{}),"Version 2, December 2004",u.jsx("br",{}),u.jsx("br",{}),"Copyright (C) 2026 @jonwtr",u.jsx("br",{}),"Everyone is permitted to copy and distribute verbatim or modified copies of this license document, and changing it is allowed as long as the name is changed."]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm",children:[u.jsx(cg,{size:16}),u.jsxs("span",{children:["Built by ",u.jsx("a",{href:"https://github.com/jonwaterschoot",target:"_blank",rel:"noreferrer",className:"text-synthux-yellow hover:text-synthux-yellow-light hover:underline",children:"@jonwaterschoot"})]})]})]})]})]})}),Su=[{id:"synthux-horror",name:"Synthux Horror Sample Pack 2025",description:"A community collection of eerie soundscapes, drones, and textures created with, or with the help of the Synthux Audrey II synths.",license:`CC-BY 4.0
The author keeps full ownership of the recordings.
Synthux Academy and others can share, remix, or use these sounds  including commercially  as long as they give credit.
Crediting can be done by linking to author or mentioning the name.
Nobody else can claim this work as their own.`,links:[{label:"View Full Credits & Source",url:"https://github.com/jonwaterschoot/spotykach_WAV_builder/tree/main/public/samples/horror/p1"}],coverImage:"/samples/horror/p1/Audrey-II-Horror-Sample-Pack-2026-Synthux-Academy.png",samples:[{name:"C-Larinet Der Wal",path:"/samples/horror/p1/KG/Clarinet_Rixdorf.wav",category:"KHAGE"},{name:"Acid Box Echo Fix 1",path:"/samples/horror/p1/MO/AcidBox_Echo1.wav",category:"Machine Oil"},{name:"Acid Box Echo Fix 2",path:"/samples/horror/p1/MO/AcidBox_Echo2.wav",category:"Machine Oil"},{name:"Echo Fix 1",path:"/samples/horror/p1/MO/Echo1.wav",category:"Machine Oil"},{name:"Echo Fix 2",path:"/samples/horror/p1/MO/Echo2.wav",category:"Machine Oil"},{name:"Echo Fix 3",path:"/samples/horror/p1/MO/Echo3.wav",category:"Machine Oil"},{name:"Echo Fix 4",path:"/samples/horror/p1/MO/Echo4.wav",category:"Machine Oil"},{name:"Neuromorph CF 1",path:"/samples/horror/p1/NM/CF_1.wav",category:"Neuromorph"},{name:"Neuromorph CF 2",path:"/samples/horror/p1/NM/CF_2.wav",category:"Neuromorph"},{name:"Neuromorph CF 3",path:"/samples/horror/p1/NM/CF_3.wav",category:"Neuromorph"},{name:"Neuromorph CF 4",path:"/samples/horror/p1/NM/CF_4.wav",category:"Neuromorph"},{name:"Neuromorph CF 5",path:"/samples/horror/p1/NM/CF_5.wav",category:"Neuromorph"},{name:"Neuromorph CF 6",path:"/samples/horror/p1/NM/CF_6.wav",category:"Neuromorph"},{name:"Neuromorph CF 7",path:"/samples/horror/p1/NM/CF_7.wav",category:"Neuromorph"},{name:"Neuromorph CF 8",path:"/samples/horror/p1/NM/CF_8.wav",category:"Neuromorph"},{name:"Neuromorph CF 9",path:"/samples/horror/p1/NM/CF_9.wav",category:"Neuromorph"},{name:"Neuromorph CF 10",path:"/samples/horror/p1/NM/CF_10.wav",category:"Neuromorph"},{name:"Neuromorph CF 11",path:"/samples/horror/p1/NM/CF_11.wav",category:"Neuromorph"},{name:"Neuromorph CF 12",path:"/samples/horror/p1/NM/CF_12.wav",category:"Neuromorph"},{name:"Neuromorph CF 13",path:"/samples/horror/p1/NM/CF_13.wav",category:"Neuromorph"},{name:"Audrey II Horrorscape Pt 1",path:"/samples/horror/p1/TPO/Horrorscape_Pt1.wav",category:"The Pedalboard Orchestra"},{name:"Audrey II Horrorscape Pt 2",path:"/samples/horror/p1/TPO/Horrorscape_Pt2.wav",category:"The Pedalboard Orchestra"},{name:"Audrey II Horrorscape Pt 3",path:"/samples/horror/p1/TPO/Horrorscape_Pt3.wav",category:"The Pedalboard Orchestra"},{name:"Arhythmic",path:"/samples/horror/p1/NKT/Arhythmic.wav",category:"enkaytee"},{name:"Cosmic Winds",path:"/samples/horror/p1/NKT/CosmicWinds.wav",category:"enkaytee"},{name:"Midnight Chimes",path:"/samples/horror/p1/NKT/MidnightChimes.wav",category:"enkaytee"},{name:"Silent Bells",path:"/samples/horror/p1/NKT/SilentBells.wav",category:"enkaytee"},{name:"Model Cycles Audrey Touch Pt 1",path:"/samples/horror/p1/JW/ModelCycles_Pt1.wav",category:"jonwtr"},{name:"Model Cycles Audrey Touch Pt 2",path:"/samples/horror/p1/JW/ModelCycles_Pt2.wav",category:"jonwtr"}]},{id:"jonwtr-explorations",name:"Jonwtr Explorations",description:"A collection of noisy textures, field recordings, and voice sounds explored during the development of Spotykach.",license:`DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
Version 2, December 2004

Copyright (C) 2026 @jonwtr

Everyone is permitted to copy and distribute verbatim or modified copies of this license document, and changing it is allowed as long as the name is changed.`,links:[{label:"Read Documentation",url:"https://github.com/jonwaterschoot/spotykach_WAV_builder/blob/main/public/samples/jonwtr/README.md"},{label:"Instagram (@jonwtr)",url:"https://instagram.com/jonwtr"},{label:"YouTube (@jonwtr)",url:"https://youtube.com/@jonwtr"}],coverImage:"/samples/jonwtr/og-image.png",samples:[{name:"Tractatus Logico Robovoice",path:"/samples/jonwtr/Tractatus_logico_robovoice.wav",category:"Voice"},{name:"Voice Glitch Raw",path:"/samples/jonwtr/voice_prrrrttttsktsk_rawCut.wav",category:"Voice"},{name:"Noise Trickle Distorted 1",path:"/samples/jonwtr/noise_trickle_distorted1.wav",category:"Textures"},{name:"Noise Trickle Distorted 2",path:"/samples/jonwtr/noise_trickle_distorted2.wav",category:"Textures"},{name:"Noise Drone",path:"/samples/jonwtr/noisedrone.wav",category:"Textures"},{name:"Noisy Bass Pad",path:"/samples/jonwtr/noisybasspadC2G1.wav",category:"Textures"},{name:"Drainpipe UZ",path:"/samples/jonwtr/drainpipeUZ.wav",category:"Field Recordings"},{name:"Trickling Stones Dense",path:"/samples/jonwtr/tricklingstones_dense.wav",category:"Field Recordings"},{name:"Trickling Stones Sparse",path:"/samples/jonwtr/tricklingstones_lessdense.wav",category:"Field Recordings"},{name:"Mini Kalimba Dry",path:"/samples/jonwtr/minikalimbadry-120bpm-C_E_G.wav",category:"Instruments"},{name:"Mini Kalimba Distorted",path:"/samples/jonwtr/minikalimbadry-120bpm-C_E_G_distorted.wav",category:"Instruments"}]}],Ly=({isOpen:E,onClose:l,onImport:s})=>{const[o,g]=Ee.useState(Su[0]?.id||""),[c,m]=Ee.useState(null),[p,d]=Ee.useState(null),[f,w]=Ee.useState(new Set),C=Ee.useRef(null);if(!E)return null;const k=Su.find(v=>v.id===o),b=v=>{if(c===v.path)C.current?.pause(),m(null);else if(C.current){C.current.pause();const j="/spotykach_WAV_builder/".replace(/\/$/,"");C.current.src=`${j}${v.path}`,C.current.play().catch(_=>console.error("Preview failed",_)),m(v.path)}},S=async v=>{d(v.path);try{const j="/spotykach_WAV_builder/".replace(/\/$/,"");await s(`${j}${v.path}`,v.name),w(_=>new Set(_).add(v.path))}catch(j){console.error("Import failed",j)}finally{d(null)}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:u.jsxs("div",{className:"bg-synthux-panel border border-gray-700 rounded-lg shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800 bg-synthux-panel",children:[u.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-white",children:[u.jsx(hp,{className:"text-synthux-orange"})," Sample Pack Browser"]}),u.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",children:u.jsx(xn,{size:20})})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsxs("div",{className:"w-64 bg-synthux-sidebg border-r border-gray-800 p-4 flex flex-col gap-2 overflow-y-auto",children:[u.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Available Packs"}),Su.map(v=>u.jsx("button",{onClick:()=>g(v.id),className:`text-left px-3 py-2 rounded text-sm font-medium transition-colors ${o===v.id?"bg-synthux-orange/20 text-synthux-orange border border-synthux-orange/50":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:v.name},v.id))]}),u.jsx("div",{className:"flex-1 bg-synthux-main p-6 overflow-y-auto",children:k?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:k.name}),u.jsx("p",{className:"text-gray-400 text-sm max-w-xl mb-4 leading-relaxed font-body",children:k.description}),k.license&&u.jsxs("div",{className:"bg-black/20 p-3 rounded-lg border border-gray-800 text-xs text-gray-400 font-mono whitespace-pre-wrap mb-4 max-w-xl",children:[u.jsx("strong",{className:"block text-gray-500 mb-1 uppercase tracking-wider",children:"License"}),k.license]}),k.links&&k.links.length>0&&u.jsx("div",{className:"flex gap-2 mb-4 flex-wrap text-sm",children:k.links.map((v,j)=>u.jsx("a",{href:v.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-synthux-blue rounded border border-gray-700 transition-colors",children:v.label},j))})]}),u.jsx("div",{className:"space-y-6",children:Object.entries(k.samples.reduce((v,j)=>{const _=j.category||"Uncategorized";return v[_]||(v[_]=[]),v[_].push(j),v},{})).map(([v,j])=>u.jsxs("div",{children:[u.jsx("h3",{className:"sticky top-0 z-10 bg-synthux-main text-xs font-bold text-synthux-orange uppercase py-2 px-4 mb-1 border-b border-gray-800",children:v}),u.jsx("div",{className:"space-y-1",children:j.map((_,T)=>{const D=c===_.path,B=p===_.path,q=f.has(_.path);return u.jsxs("div",{className:"grid grid-cols-[40px_1fr_100px] gap-4 items-center px-4 py-3 hover:bg-gray-800/50 rounded border border-transparent hover:border-gray-800 transition-colors group",children:[u.jsx("button",{onClick:()=>b(_),className:`w-8 h-8 flex items-center justify-center rounded-full transition-all ${D?"text-synthux-orange bg-synthux-orange/10":"text-gray-500 hover:text-white bg-gray-800 hover:bg-gray-700"}`,children:D?u.jsx(es,{size:12,fill:"currentColor"}):u.jsx(Ui,{size:12,fill:"currentColor"})}),u.jsx("div",{className:"font-mono text-sm text-gray-300 group-hover:text-white truncate",children:_.name}),u.jsx("div",{className:"text-right",children:u.jsx("button",{onClick:()=>S(_),disabled:B||q,className:`inline-flex items-center gap-2 px-3 py-1.5 rounded text-xs font-bold transition-colors disabled:cursor-not-allowed ${q?"bg-synthux-yellow/20 text-synthux-yellow border border-synthux-yellow/50":"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white"}`,children:B?u.jsxs(u.Fragment,{children:[u.jsx(Hg,{size:12,className:"animate-spin"})," Adding..."]}):q?u.jsxs(u.Fragment,{children:[u.jsx(Dl,{size:14})," Added"]}):u.jsxs(u.Fragment,{children:[u.jsx(Bi,{size:14})," Add"]})})})]},T)})})]},v))})]}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select a pack to browse samples"})})]}),u.jsx("audio",{ref:C,onEnded:()=>m(null)})]})})},Hy=({message:E,type:l="info",onClose:s,duration:o=3e3})=>{Ee.useEffect(()=>{const m=setTimeout(s,o);return()=>clearTimeout(m)},[o,s]);const g={success:"bg-synthux-main border-synthux-green text-green-400",error:"bg-synthux-main border-red-500 text-red-400",info:"bg-synthux-main border-synthux-blue text-synthux-blue"},c={success:u.jsx(Dl,{size:18}),error:u.jsx(oa,{size:18}),info:u.jsx(pp,{size:18})};return u.jsxs("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-4 py-3 rounded-lg border shadow-2xl animate-in slide-in-from-bottom-5 fade-in duration-300 ${g[l]}`,children:[c[l],u.jsx("span",{className:"font-medium text-sm text-gray-200",children:E}),u.jsx("button",{onClick:s,className:"ml-2 hover:bg-white/10 p-1 rounded transition-colors",children:u.jsx(xn,{size:14})})]})},qy=({duplicates:E,files:l,onKeep:s,onMakeUnique:o,onClose:g})=>{if(E.size===0)return g(),null;const c=m=>{switch(m){case"Red":return"var(--color-synthux-red)";case"Blue":return"var(--color-synthux-blue)";case"Green":return"var(--color-synthux-green)";case"Pink":return"var(--color-synthux-pink)";case"Yellow":return"var(--color-synthux-yellow)";case"Turquoise":return"var(--color-synthux-turquoise)";default:return"var(--color-synthux-blue)"}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:u.jsxs("div",{className:"w-full max-w-2xl bg-[#1a1a1a] border border-gray-700 rounded-2xl shadow-2xl flex flex-col max-h-[80vh] overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-700 flex items-center justify-between bg-[#222]",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-full bg-orange-500/20 text-orange-400",children:u.jsx(oa,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Resolve Duplicates"}),u.jsx("p",{className:"text-sm text-gray-400",children:"The same file is assigned to multiple slots."})]})]}),u.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:u.jsx(xn,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:Array.from(E.entries()).map(([m,p])=>{const d=l[m];return d?u.jsxs("div",{className:"bg-black/30 border border-gray-700 rounded-xl p-4 flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"font-bold text-white text-lg truncate",title:d.name,children:d.name}),u.jsx("div",{className:"text-xs text-gray-500 font-mono truncate",children:d.originalName}),u.jsxs("div",{className:"text-xs text-orange-400 mt-1 flex items-center gap-1",children:[u.jsx(oa,{size:12}),"Used in ",p.length," slots"]})]}),u.jsxs("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider",children:"Keep only:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(f=>{const w=c(f.color);return u.jsxs("button",{onClick:()=>s(m,f),className:"flex items-center gap-2 pl-1 pr-3 py-1 bg-gray-800 border border-gray-600 rounded-full hover:border-white hover:bg-gray-700 transition-all group",title:`Keep only slot ${f.color} ${f.slotId}`,children:[u.jsx("div",{className:"w-5 h-5",children:u.jsx(Hi,{color:w,className:"w-full h-full"})}),u.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-white",children:f.slotId})]},`${f.color}-${f.slotId}`)})})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider",children:"Or:"}),u.jsxs("button",{onClick:()=>o(m),className:"flex items-center justify-center gap-2 px-3 py-2 bg-synthux-blue/20 text-synthux-blue border border-synthux-blue/50 rounded-lg hover:bg-synthux-blue hover:text-white transition-all text-xs font-bold uppercase",children:[u.jsx(dp,{size:14}),"Make Each Unique"]})]})]})]},m):null})}),u.jsx("div",{className:"p-4 border-t border-gray-700 bg-[#222] flex justify-end",children:u.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-bold text-gray-300 hover:text-white",children:"Close"})})]})})},Vy=({count:E,onOverwrite:l,onFillEmpty:s,onCancel:o})=>u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"w-full max-w-md bg-[#1a1a1a] border border-orange-500/30 rounded-2xl shadow-2xl overflow-hidden flex flex-col animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"p-6 bg-gradient-to-b from-orange-500/10 to-transparent border-b border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-orange-500/20 rounded-full",children:u.jsx(oa,{className:"text-orange-500",size:24})}),u.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Assignment Conflict"})]}),u.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["The slots you are dropping into are already occupied. ",u.jsxs("span",{className:"text-white font-bold",children:[E," file",E!==1?"s":""]})," would be overwritten."]})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[u.jsxs("button",{onClick:l,className:"group flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-orange-500/10 hover:border-orange-500/30 transition-all text-left",children:[u.jsxs("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-orange-500/20 transition-colors",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white",children:u.jsx("span",{children:""})}),u.jsx("div",{className:"w-0.5 h-8 bg-white/20 my-1 self-center"}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white",children:u.jsx("span",{children:"L"})})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white font-bold text-sm mb-0.5",children:"Overwrite Existing"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Replace current files (they will be parked)."})]})]}),u.jsxs("button",{onClick:s,className:"group flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-emerald-500/10 hover:border-emerald-500/30 transition-all text-left",children:[u.jsx("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-emerald-500/20 transition-colors",children:u.jsx(vg,{className:"text-gray-400 group-hover:text-emerald-500",size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white font-bold text-sm mb-0.5",children:"Push to Free Slots"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Skip occupied slots and find next available spaces."})]})]}),u.jsxs("button",{onClick:o,className:"mt-2 w-full py-3 px-4 rounded-xl text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-white hover:bg-white/5 transition-colors flex items-center justify-center gap-2",children:[u.jsx(xn,{size:14})," Cancel"]})]})]})});class Yy extends Ee.Component{state={hasError:!1,error:null};static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,s){console.error("Uncaught error:",l,s)}render(){return this.state.hasError?u.jsxs("div",{className:"p-8 bg-red-900/20 text-red-200 border border-red-800 rounded-lg m-4",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"Something went wrong."}),u.jsx("p",{className:"mb-4",children:"The application encountered an error. Please report this to the developer."}),u.jsx("pre",{className:"bg-black/50 p-4 rounded text-xs overflow-auto max-h-48 text-red-300 font-mono",children:this.state.error?.toString()}),u.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-800 hover:bg-red-700 rounded text-white font-bold",children:"Reload Application"})]}):this.props.children}}const zu=(E,l)=>l.some(s=>E instanceof s);let np,ap;function Zy(){return np||(np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gy(){return ap||(ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ku=new WeakMap,_u=new WeakMap,is=new WeakMap;function Xy(E){const l=new Promise((s,o)=>{const g=()=>{E.removeEventListener("success",c),E.removeEventListener("error",m)},c=()=>{s(Oa(E.result)),g()},m=()=>{o(E.error),g()};E.addEventListener("success",c),E.addEventListener("error",m)});return is.set(l,E),l}function Iy(E){if(ku.has(E))return;const l=new Promise((s,o)=>{const g=()=>{E.removeEventListener("complete",c),E.removeEventListener("error",m),E.removeEventListener("abort",m)},c=()=>{s(),g()},m=()=>{o(E.error||new DOMException("AbortError","AbortError")),g()};E.addEventListener("complete",c),E.addEventListener("error",m),E.addEventListener("abort",m)});ku.set(E,l)}let Tu={get(E,l,s){if(E instanceof IDBTransaction){if(l==="done")return ku.get(E);if(l==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Oa(E[l])},set(E,l,s){return E[l]=s,!0},has(E,l){return E instanceof IDBTransaction&&(l==="done"||l==="store")?!0:l in E}};function Tp(E){Tu=E(Tu)}function Fy(E){return Gy().includes(E)?function(...l){return E.apply(Nu(this),l),Oa(this.request)}:function(...l){return Oa(E.apply(Nu(this),l))}}function Ky(E){return typeof E=="function"?Fy(E):(E instanceof IDBTransaction&&Iy(E),zu(E,Zy())?new Proxy(E,Tu):E)}function Oa(E){if(E instanceof IDBRequest)return Xy(E);if(_u.has(E))return _u.get(E);const l=Ky(E);return l!==E&&(_u.set(E,l),is.set(l,E)),l}const Nu=E=>is.get(E);function Qy(E,l,{blocked:s,upgrade:o,blocking:g,terminated:c}={}){const m=indexedDB.open(E,l),p=Oa(m);return o&&m.addEventListener("upgradeneeded",d=>{o(Oa(m.result),d.oldVersion,d.newVersion,Oa(m.transaction),d)}),s&&m.addEventListener("blocked",d=>s(d.oldVersion,d.newVersion,d)),p.then(d=>{c&&d.addEventListener("close",()=>c()),g&&d.addEventListener("versionchange",f=>g(f.oldVersion,f.newVersion,f))}).catch(()=>{}),p}function Wy(E,{blocked:l}={}){const s=indexedDB.deleteDatabase(E);return l&&s.addEventListener("blocked",o=>l(o.oldVersion,o)),Oa(s).then(()=>{})}const $y=["get","getKey","getAll","getAllKeys","count"],Jy=["put","add","delete","clear"],Eu=new Map;function ip(E,l){if(!(E instanceof IDBDatabase&&!(l in E)&&typeof l=="string"))return;if(Eu.get(l))return Eu.get(l);const s=l.replace(/FromIndex$/,""),o=l!==s,g=Jy.includes(s);if(!(s in(o?IDBIndex:IDBObjectStore).prototype)||!(g||$y.includes(s)))return;const c=async function(m,...p){const d=this.transaction(m,g?"readwrite":"readonly");let f=d.store;return o&&(f=f.index(p.shift())),(await Promise.all([f[s](...p),g&&d.done]))[0]};return Eu.set(l,c),c}Tp(E=>({...E,get:(l,s,o)=>ip(l,s)||E.get(l,s,o),has:(l,s)=>!!ip(l,s)||E.has(l,s)}));const Py=["continue","continuePrimaryKey","advance"],lp={},Au=new WeakMap,Np=new WeakMap,ev={get(E,l){if(!Py.includes(l))return E[l];let s=lp[l];return s||(s=lp[l]=function(...o){Au.set(this,Np.get(this)[l](...o))}),s}};async function*tv(...E){let l=this;if(l instanceof IDBCursor||(l=await l.openCursor(...E)),!l)return;l=l;const s=new Proxy(l,ev);for(Np.set(s,l),is.set(s,Nu(l));l;)yield s,l=await(Au.get(s)||l.continue()),Au.delete(s)}function rp(E,l){return l===Symbol.asyncIterator&&zu(E,[IDBIndex,IDBObjectStore,IDBCursor])||l==="iterate"&&zu(E,[IDBIndex,IDBObjectStore])}Tp(E=>({...E,get(l,s,o){return rp(l,s)?tv:E.get(l,s,o)},has(l,s){return rp(l,s)||E.has(l,s)}}));const Ap="spotykach-wav-builder",Pr="app-state",Dp=async()=>Qy(Ap,1,{upgrade(E){E.objectStoreNames.contains(Pr)||E.createObjectStore(Pr)}}),nv=async()=>{try{await Wy(Ap),window.location.reload()}catch(E){console.error("Failed to clear DB",E),alert("Failed to clear data.")}},Op=async E=>{try{await(await Dp()).put(Pr,E,"current")}catch(l){console.error("Failed to save state to DB",l)}},Mp=async()=>{try{return await(await Dp()).get(Pr,"current")||null}catch(E){return console.error("Failed to load state from DB",E),null}},av=Object.freeze(Object.defineProperty({__proto__:null,clearState:nv,loadStateFromDB:Mp,saveStateToDB:Op},Symbol.toStringTag,{value:"Module"}));function iv(){const[E,l]=Ee.useState(Ny()),[s,o]=Ee.useState("Blue"),[g,c]=Ee.useState("single"),[m,p]=Ee.useState(null),[d,f]=Ee.useState(!1),[w,C]=Ee.useState(!1),[k,b]=Ee.useState(null),[S,v]=Ee.useState(!1),[j,_]=Ee.useState(""),[T,D]=Ee.useState(!1),[B,q]=Ee.useState(!1),[I,Z]=Ee.useState(null),[ne,V]=Ee.useState(!1),[F,Q]=Ee.useState(!1),[A,O]=Ee.useState(null),[h,U]=Ee.useState(new Set),[Y,H]=Ee.useState(null),[se,W]=Ee.useState(null),ye=new Map,z=new Set;Object.entries(E.tapes).forEach(([fe,xe])=>{xe.slots.forEach(pe=>{if(pe.fileId){const he=ye.get(pe.fileId)||[];he.push({slotId:pe.id,color:fe}),ye.set(pe.fileId,he)}})});for(const[fe,xe]of ye.entries())xe.length<=1?ye.delete(fe):z.add(fe);const R=(fe,xe)=>{l(pe=>{const he={...pe.tapes};return Object.keys(he).forEach(ve=>{he[ve]={...he[ve],slots:he[ve].slots.map(we=>we.fileId===fe?ve===xe.color&&we.id===xe.slotId?we:{...we,fileId:null}:we)}}),{...pe,tapes:he}})},de=fe=>{l(xe=>{const pe=xe.files[fe];if(!pe)return xe;const he={...xe.files},ve={...xe.tapes},we=ye.get(fe);if(!we)return xe;for(let ke=1;ke<we.length;ke++){const Ne=we[ke],Oe=M(),Ce=pe.versions.map(Be=>({...Be})),Me={...pe,id:Oe,name:`${pe.name}_${ke+1}`,originalName:pe.originalName,versions:Ce,currentVersionId:Ce[0].id,isParked:!1};he[Oe]=Me,ve[Ne.color]={...ve[Ne.color],slots:ve[Ne.color].slots.map(Be=>Be.id===Ne.slotId?{...Be,fileId:Oe}:Be)}}return{...xe,files:he,tapes:ve}})},re=()=>{V(!0)},ce=()=>{V(!1),_e.current?.click()},Re=async()=>{v(!0),_("Zipping files...");try{await jp(E),b({msg:"Zip created successfully!",type:"success"})}catch(fe){console.error(fe),b({msg:"Failed to create Zip.",type:"error"})}finally{v(!1)}},He=async()=>{v(!0),_("Saving project...");try{await Cp(E),b({msg:"Project saved successfully!",type:"success"})}catch(fe){console.error(fe),b({msg:"Failed to save project.",type:"error"})}finally{v(!1)}},P=async()=>{D(!1),v(!0),_("Writing to SD Card...");try{await zp(E),b({msg:"Export to SD successful!",type:"success"})}catch(fe){console.error(fe);const xe=fe instanceof Error?fe.message:"Failed to write to SD.";b({msg:xe,type:"error"})}finally{v(!1)}};Ee.useEffect(()=>{Mp().then(fe=>{fe&&l(fe)})},[]),Ee.useEffect(()=>{const fe=setTimeout(()=>{Op(E)},1e3);return()=>clearTimeout(fe)},[E]);const _e=Ee.useRef(null),qe=Ee.useRef(null),[Xe,tt]=Ee.useState(null),Je=E.tapes[s],x=m?Je.slots.find(fe=>fe.id===m):null,ee=x?.fileId,te=ee?E.files[ee]:null,L=te!==null,M=()=>crypto.randomUUID(),K=async(fe,xe,pe=s)=>{if(xe.length===0)return;const he=xe[0];if(!he.type.includes("audio")&&!he.name.toLowerCase().endsWith(".wav")){alert("Please upload an audio file.");return}v(!0),_("Processing audio...");try{const{buffer:ve,blob:we}=await ju.loadAndProcessAudio(he),ke=M(),Ne=M(),Oe={id:Ne,timestamp:Date.now(),description:"Original Upload",blob:we,duration:ve.duration},Ce=Cu(he.name);Ce!==he.name&&b({msg:`Renamed "${he.name}" to "${Ce}"`,type:"info"});const Me={id:ke,name:Ce.toUpperCase().replace(/\.[^/.]+$/,""),originalName:he.name,versions:[Oe],currentVersionId:Ne,isParked:!1};l(Be=>({...Be,files:{...Be.files,[ke]:Me},tapes:{...Be.tapes,[pe]:{...Be.tapes[pe],slots:Be.tapes[pe].slots.map(Ke=>Ke.id===fe?{...Ke,fileId:ke}:Ke)}}}))}catch(ve){console.error(ve),alert("Error processing audio.")}finally{v(!1),_("")}},ge=(fe,xe,pe,he=!1,ve=s,we,ke)=>{l(Ne=>{const Oe={...Ne.files},Ce={...Ne.tapes};pe==="browser"&&(Oe[xe]={...Oe[xe],isParked:!1});const Ke=Ce[ve].slots.find(mt=>mt.id===fe)?.fileId;if(pe==="slot"&&Ke&&we!==void 0&&ke&&!he&&Ce[ke].slots.findIndex(nt=>nt.id===we)!==-1){let nt=Ce[ve];nt===Ne.tapes[ve]&&(nt={...nt,slots:[...nt.slots]},Ce[ve]=nt);let Et=Ce[ke];return Et===Ne.tapes[ke]&&(Et={...Et,slots:[...Et.slots]},Ce[ke]=Et),nt.slots=nt.slots.map(yt=>yt.id===fe?{...yt,fileId:xe}:yt),Et.slots=Et.slots.map(yt=>yt.id===we?{...yt,fileId:Ke}:yt),{files:Oe,tapes:Ce}}return Ke&&(Oe[Ke]={...Oe[Ke],isParked:!0}),Ce[ve]={...Ce[ve],slots:Ce[ve].slots.map(mt=>mt.id===fe?{...mt,fileId:xe}:mt)},!he&&pe==="slot"&&Object.keys(Ce).forEach(mt=>{const Qt=mt,nt=Ce[Qt];nt.slots.some(yt=>{const vt=Qt===ve&&yt.id===fe;return yt.fileId===xe&&!vt})&&(Ce[Qt]={...nt,slots:nt.slots.map(yt=>{const vt=Qt===ve&&yt.id===fe;return yt.fileId===xe&&!vt?{...yt,fileId:null}:yt})})}),{files:Oe,tapes:Ce}})},je=fe=>{J(fe)},J=fe=>{const xe=E.files[fe];xe&&Z({title:"Unassign File",message:`Remove "${xe.name}" from all assigned slots? It will remain in the unassigned pool.`,onConfirm:()=>{const pe={...E.tapes};let he=!1;Object.keys(pe).forEach(ve=>{const we=pe[ve];we.slots.some(ke=>ke.fileId===fe)&&(pe[ve]={...we,slots:we.slots.map(ke=>ke.fileId===fe?{...ke,fileId:null}:ke)},he=!0)}),he&&(l(ve=>({...ve,files:{...ve.files,[fe]:{...ve.files[fe],isParked:!0}},tapes:pe})),b({msg:"File unassigned from all slots",type:"success"})),Z(null)}})},Te=fe=>{const xe=fe.filter(pe=>!E.files[pe]?.isParked);xe.length!==0&&Z({title:"Unassign Multiple Files",message:`Remove ${xe.length} files from all assigned slots? They will remain in the unassigned pool.`,onConfirm:()=>{l(pe=>{const he={...pe.tapes},ve={...pe.files};let we=0;return xe.forEach(ke=>{let Ne=!1;Object.keys(he).forEach(Oe=>{const Ce=he[Oe];Ce.slots.some(Me=>Me.fileId===ke)&&(he[Oe]={...Ce,slots:Ce.slots.map(Me=>Me.fileId===ke?{...Me,fileId:null}:Me)},Ne=!0)}),Ne&&(ve[ke]={...ve[ke],isParked:!0},we++)}),b({msg:`Unassigned ${we} files`,type:"success"}),{...pe,tapes:he,files:ve}}),Z(null)}})},Ae=fe=>{const xe=E.files[fe];if(!xe)return;let pe=!1;Object.values(E.tapes).forEach(ve=>{ve.slots.some(we=>we.fileId===fe)&&(pe=!0)});const he=pe?"This will remove it from all assigned slots and the project.":"This will permanently remove it from the project.";Z({title:`Permanently delete "${xe.name}"?`,message:he,isDestructive:!0,confirmLabel:"Delete Forever",onConfirm:()=>{const ve={...E.tapes};let we=!1;Object.keys(ve).forEach(Ne=>{const Oe=ve[Ne];Oe.slots.some(Ce=>Ce.fileId===fe)&&(ve[Ne]={...Oe,slots:Oe.slots.map(Ce=>Ce.fileId===fe?{...Ce,fileId:null}:Ce)},we=!0)});const ke={...E.files};delete ke[fe],l(Ne=>({...Ne,files:ke,tapes:we?ve:Ne.tapes})),ee===fe&&p(null),Z(null),b({msg:"File permanently deleted",type:"success"})}})},De=fe=>{const pe=E.tapes[s].slots.find(he=>he.id===fe);pe&&pe.fileId?p(fe):(tt(fe),qe.current?.click())},Ve=(fe,xe,pe,he)=>{l(ve=>{const we={...ve.files},ke={...ve.tapes},Oe=ke[fe].slots.find(Me=>Me.fileId===null);if(!Oe)return alert(`Tape ${fe} is full!`),ve;pe==="browser"&&(we[xe]={...we[xe],isParked:!1}),!he&&pe==="slot"&&Object.keys(ke).forEach(Me=>{const Be=Me;ke[Be]={...ke[Be],slots:ke[Be].slots.map(Ke=>Ke.fileId===xe?{...Ke,fileId:null}:Ke)}});const Ce=ke[fe].slots.findIndex(Me=>Me.id===Oe.id);return Ce>=0&&(ke[fe]={...ke[fe],slots:ke[fe].slots.map((Me,Be)=>Be===Ce?{...Me,fileId:xe}:Me)}),{files:we,tapes:ke}})},ut=(fe,xe,pe)=>{l(he=>{const ve={...he.files},we={...he.tapes};let ke=null,Ne=null;const Oe=["Blue","Green","Pink","Red","Turquoise","Yellow"];for(const Ce of Oe){const Be=we[Ce].slots.find(Ke=>Ke.fileId===null);if(Be){ke=Be.id,Ne=Ce;break}}return ke===null||!Ne?(alert("All tapes are full!"),he):(xe==="browser"&&(ve[fe]={...ve[fe],isParked:!1}),!pe&&xe==="slot"&&Object.keys(we).forEach(Ce=>{const Me=Ce;we[Me]={...we[Me],slots:we[Me].slots.map(Be=>Be.fileId===fe?{...Be,fileId:null}:Be)}}),we[Ne]={...we[Ne],slots:we[Ne].slots.map(Ce=>Ce.id===ke?{...Ce,fileId:fe}:Ce)},{files:ve,tapes:we})})},Qe=(fe,xe,pe,he,ve)=>{if(pe==="check"){const we=E.tapes;let ke=0,Ne=null,Oe=-1;if(he){const Be=we[he].slots.findIndex(Ke=>Ke.id===fe);Be!==-1&&(Ne=he,Oe=Be)}else for(const Be of Xt){const Ke=we[Be].slots.findIndex(mt=>mt.id===fe);if(Ke!==-1){Ne=Be,Oe=Ke;break}}if(!Ne||Oe===-1)return{conflicts:0};let Ce=Xt.indexOf(Ne),Me=Oe;for(const Be of xe){let Ke=!1;for(;Ce<Xt.length;){const mt=we[Xt[Ce]];if(Me<mt.slots.length){const Qt=mt.slots[Me];Qt.fileId&&Qt.fileId!==Be&&ke++,Ke=!0,Me++;break}Ce++,Me=0}if(!Ke)break}return{conflicts:ke}}l(we=>{const ke={...we.files},Ne={...we.tapes};let Oe=null,Ce=-1;if(he){const nt=Ne[he].slots.findIndex(Et=>Et.id===fe);nt!==-1&&(Oe=he,Ce=nt)}else for(const nt of Xt){const Et=Ne[nt].slots.findIndex(yt=>yt.id===fe);if(Et!==-1){Oe=nt,Ce=Et;break}}if(!Oe||Ce===-1)return we;let Me=Xt.indexOf(Oe),Be=Ce;const Ke=[];let mt=0;const Qt=new Set;for(const nt of xe){let Et=!1;for(;Me<Xt.length;){const yt=Xt[Me];let vt=Ne[yt];for(vt===we.tapes[yt]&&(vt={...vt,slots:[...vt.slots]},Ne[yt]=vt);Be<vt.slots.length;){const ht=vt.slots[Be],Tt=ht.fileId!==null&&ht.fileId!==nt;if(pe==="fill"&&Tt){Be++;continue}ht.fileId&&ht.fileId!==nt&&(ke[ht.fileId]={...ke[ht.fileId],isParked:!0}),vt.slots[Be]={...ht,fileId:nt},ke[nt]={...ke[nt],isParked:!1},Qt.add(`${yt}-${ht.id}`),Et=!0,mt++,Be++;break}if(Et)break;Me++,Be=0}Et||Ke.push(nt)}return ve&&ve.length>0&&(ve.forEach(nt=>{if(!Qt.has(nt)){const[Et,yt]=nt.split("-"),vt=Et,ht=parseInt(yt);let Tt=Ne[vt];Tt===we.tapes[vt]&&(Tt={...Tt,slots:[...Tt.slots]},Ne[vt]=Tt),Ne[vt].slots=Ne[vt].slots.map(oe=>oe.id===ht?{...oe,fileId:null}:oe)}}),U(new Set)),Ke.length>0?Z({title:"Bulk Assignment Complete",message:`Assigned ${mt} files. ${Ke.length} files could not create space.`,confirmLabel:"OK",showCancel:!1,onConfirm:()=>Z(null)}):b({msg:`Assigned ${mt} files (${pe})`,type:"success"}),{...we,files:ke,tapes:Ne}})},Zt=(fe,xe,pe,he)=>{const we=Qe(fe,xe,"check",pe).conflicts;we>0?O({targetSlotId:fe,fileIds:xe,conflicts:we,targetColor:pe,sourceSlotKeys:he}):Qe(fe,xe,"overwrite",pe,he)},an=()=>{A&&(Qe(A.targetSlotId,A.fileIds,"overwrite",A.targetColor,A.sourceSlotKeys),O(null))},zt=()=>{A&&(Qe(A.targetSlotId,A.fileIds,"fill",A.targetColor,A.sourceSlotKeys),O(null))},dn=fe=>{const xe={...E.files},pe={...E.tapes};let he=0,ve=0,we=0;const ke=Oe=>{for(;he<Xt.length;){const Ce=Xt[he];let Me=pe[Ce];for(Me===E.tapes[Ce]&&(Me={...Me,slots:[...Me.slots]},pe[Ce]=Me);ve<Me.slots.length;){const Be=Me.slots[ve];if(Be.fileId===null)return xe[Oe]={...xe[Oe],isParked:!1},Me.slots[ve]={...Be,fileId:Oe},ve++,!0;ve++}he++,ve=0}return!1},Ne=[];fe.forEach(Oe=>{ke(Oe)?we++:Ne.push(Oe)}),l(Oe=>({...Oe,files:xe,tapes:pe})),Ne.length>0?Z({title:"Fill Slots Complete",message:`Filled all free slots. ${Ne.length} file(s) could not be assigned.`,confirmLabel:"OK",showCancel:!1,onConfirm:()=>Z(null)}):b({msg:`Assigned ${we} files to slots`,type:"success"})},ct=fe=>{l(xe=>{const pe={...xe.tapes};let he=null,ve;for(const Ne of Xt){const Oe=pe[Ne].slots.find(Ce=>Ce.id===fe);if(Oe){he=Ne,ve=Oe;break}}if(!he||!ve)return xe;const we=ve.fileId;pe[he]={...pe[he],slots:pe[he].slots.map(Ne=>Ne.id===fe?{...Ne,fileId:null}:Ne)};let ke=xe.files;if(we){let Ne=!1;Object.keys(pe).forEach(Oe=>{pe[Oe].slots.some(Ce=>Ce.fileId===we)&&(Ne=!0)}),!Ne&&ke[we]&&(ke={...xe.files,[we]:{...xe.files[we],isParked:!0}})}return{...xe,files:ke,tapes:pe}})},kt=(fe,xe,pe)=>{pe.stopPropagation();const he=`${xe}-${fe}`,ve=new Set(h);if(pe.shiftKey&&Y){const we=[];Xt.forEach(Oe=>{for(let Ce=0;Ce<6;Ce++)we.push(`${Oe}-${Ce}`)});const ke=we.indexOf(Y),Ne=we.indexOf(he);if(ke!==-1&&Ne!==-1){const Oe=Math.min(ke,Ne),Ce=Math.max(ke,Ne);!pe.ctrlKey&&!pe.metaKey&&ve.clear();for(let Me=Oe;Me<=Ce;Me++)ve.add(we[Me])}}else pe.ctrlKey||pe.metaKey?ve.has(he)?ve.delete(he):(ve.add(he),H(he),W(he)):(ve.clear(),ve.add(he),H(he),W(he));U(ve)},Kt=(fe,xe)=>{const pe=`${xe}-${fe}`,he=new Set(h);he.has(pe)?he.delete(pe):(he.add(pe),he.add(pe),H(pe),W(pe)),U(he)};Ee.useEffect(()=>{const fe=xe=>{const pe=document.activeElement;if(pe?.tagName==="INPUT"||pe?.tagName==="TEXTAREA"||pe!==document.body&&pe?.getAttribute("tabindex")!==null||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(xe.key))return;xe.preventDefault();const he=[];Xt.forEach(Ne=>{for(let Oe=0;Oe<6;Oe++)he.push(`${Ne}-${Oe}`)});let ve=0;if(Y){const Ne=he.indexOf(Y);Ne!==-1&&(xe.key==="ArrowUp"?ve=Math.max(0,Ne-6):xe.key==="ArrowDown"?ve=Math.min(he.length-1,Ne+6):xe.key==="ArrowLeft"?ve=Math.max(0,Ne-1):xe.key==="ArrowRight"&&(ve=Math.min(he.length-1,Ne+1)))}else ve=0;const we=he[ve],ke=new Set(h);if(xe.shiftKey){se||W(Y||we);const Ne=se||Y||we,Oe=he.indexOf(Ne),Ce=ve,Me=Math.min(Oe,Ce),Be=Math.max(Oe,Ce);!xe.ctrlKey&&!xe.metaKey&&ke.clear();for(let Ke=Me;Ke<=Be;Ke++)ke.add(he[Ke]);H(we)}else ke.clear(),ke.add(we),H(we),W(we);U(ke)};return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[h,Y,se]);const gt=(fe,xe)=>{o(xe);const he=E.tapes[xe].slots.find(ve=>ve.id===fe);he&&he.fileId?p(fe):(tt(fe),qe.current?.click())},Ot=(fe,xe,pe)=>{const he=`${pe}-${xe}`,we=E.tapes[pe].slots.find(ke=>ke.id===xe);if(!we||!we.fileId){fe.preventDefault();return}if(h.has(he)){const ke=[],Ne=[];h.forEach(Oe=>{const[Ce,Me]=Oe.split("-"),Be=parseInt(Me),Ke=E.tapes[Ce]?.slots.find(mt=>mt.id===Be);Ke&&Ke.fileId&&(ke.push(Ke.fileId),Ne.push(Oe))}),ke.length>0&&(fe.dataTransfer.setData("application/x-spotykach-bulk-ids",JSON.stringify(ke)),fe.dataTransfer.setData("application/x-spotykach-bulk-source-slots",JSON.stringify(Ne)))}fe.dataTransfer.setData("application/x-spotykach-file-id",we.fileId),fe.dataTransfer.setData("application/x-spotykach-source","slot"),fe.dataTransfer.setData("application/x-spotykach-slot-id",we.id.toString()),fe.dataTransfer.setData("application/x-spotykach-slot-color",pe),fe.dataTransfer.effectAllowed="copyMove"},Dn=async fe=>{if(fe.target.files?.length){v(!0);try{const xe=await Ry(fe.target.files,(ve,we)=>{_(`Importing file ${ve} of ${we}...`)}),pe=xe.files,he=xe.tapes;l(ve=>{const we={...ve.files,...pe},ke={...ve.tapes};return Object.entries(he).forEach(([Ne,Oe])=>{const Ce=Ne;Oe.forEach(Me=>{ke[Ce]={...ke[Ce],slots:ke[Ce].slots.map(Be=>Be.id===Me.slotId?{...Be,fileId:Me.fileId}:Be)}})}),{files:we,tapes:ke}})}catch(xe){console.error(xe),alert("Import failed")}finally{v(!1),_(""),_e.current&&(_e.current.value="")}}},On=async(fe,xe)=>{v(!0),_(`Downloading ${xe}...`);try{const pe=await fetch(fe);if(!pe.ok)throw new Error("Network response was not ok");const he=await pe.blob(),{buffer:ve,blob:we}=await ju.loadAndProcessAudio(he),ke=M(),Ne=M(),Oe={id:Ne,timestamp:Date.now(),description:"Imported Sample",blob:we,duration:ve.duration},Ce=Cu(xe);Ce!==xe&&b({msg:`Renamed "${xe}" to "${Ce}"`,type:"info"});const Me={id:ke,name:Ce.toUpperCase().replace(/\.[^/.]+$/,""),originalName:xe,versions:[Oe],currentVersionId:Ne,isParked:!0};l(Be=>({...Be,files:{...Be.files,[ke]:Me}})),b({msg:`Imported ${xe}`,type:"success"})}catch(pe){console.error(pe),b({msg:"Error importing sample",type:"error"})}finally{v(!1),_("")}};return u.jsxs("div",{className:"flex h-screen bg-synthux-main text-white font-sans overflow-hidden",children:[u.jsx(iy,{currentTape:s,isAllView:g==="all",onSelect:fe=>{o(fe),c("single")},onToggleAllView:()=>c("all"),onDropOnTape:Ve,onDropOnViewAll:ut}),u.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[u.jsxs("header",{className:"h-16 border-b border-gray-800 flex items-center justify-between px-6 bg-synthux-panel",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:ry,alt:"Spotykach Logo",className:"h-10 w-auto object-contain"}),u.jsx("span",{className:"text-[2rem] font-bold tracking-tight bg-gradient-to-r from-synthux-orange to-synthux-yellow bg-clip-text text-transparent hidden md:block font-header leading-none pt-2",children:"Spotykach .WAV builder"})]}),u.jsx("input",{type:"file",multiple:!0,webkitdirectory:"",ref:_e,onChange:Dn,className:"hidden"}),u.jsx("input",{type:"file",ref:qe,onChange:fe=>{fe.target.files&&Xe!==null&&K(Xe,fe.target.files,s),tt(null),qe.current&&(qe.current.value="")},className:"hidden"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>f(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors border border-transparent hover:border-gray-600",title:"Information",children:u.jsx(pp,{size:20})}),u.jsx("div",{className:"h-6 w-px bg-gray-700 my-auto"}),u.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-colors text-sm font-bold border border-gray-700",title:"Import SK folder or project folder",children:[u.jsx(Jg,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"Import"})]}),u.jsx("div",{className:"h-6 w-px bg-gray-700 my-auto"}),u.jsxs("button",{onClick:()=>q(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-colors text-sm font-bold border border-gray-700",title:"Save Project (JSON)",children:[u.jsx(jg,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"Project"})]}),u.jsxs("button",{onClick:Re,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-colors text-sm font-bold border border-gray-700",title:"Save SK Zip",children:[u.jsx(Bi,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"SK Zip"})]}),u.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-2 px-4 py-2 bg-synthux-blue hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-bold shadow-lg shadow-blue-900/20",title:"Save to SD Card",children:[u.jsx(Vh,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"To SD"})]})]})]}),u.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[u.jsx(zy,{files:Object.values(E.files),tapes:E.tapes,onParkRequest:je,onOpenSampleBrowser:()=>C(!0),duplicates:z,onOpenDuplicateModal:()=>Q(!0),onUnassignFile:J,onBulkUnassign:Te,onDeleteFile:Ae,onFillFreeSlots:dn}),u.jsxs("main",{className:"flex-1 overflow-y-auto p-4 flex flex-col items-center relative",children:[u.jsx("div",{className:"absolute right-0 bottom-0 pointer-events-none z-0 overflow-hidden w-full h-full",style:{zIndex:0},children:u.jsx("div",{className:"absolute right-0 bottom-0 animate-slow-spin opacity-15",style:{width:"120%",aspectRatio:"1/1",transform:"translate(50%, 50%)",maskImage:`url(${Xh})`,maskSize:"contain",maskPosition:"center",maskRepeat:"no-repeat",WebkitMaskImage:`url(${Xh})`,WebkitMaskSize:"contain",WebkitMaskPosition:"center",WebkitMaskRepeat:"no-repeat",backgroundColor:g==="all"?"#ffffff":`var(--color-synthux-${s==="Red"?"red":s==="Blue"?"blue":s==="Green"?"green":s==="Pink"?"pink":s==="Yellow"?"yellow":s==="Turquoise"?"turquoise":"blue"})`,opacity:g==="all"?.05:void 0}})}),u.jsx("div",{className:"w-full max-w-5xl py-8 relative z-10",children:g==="single"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6 w-full",children:[u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(Hi,{color:`var(--color-synthux-${s.toLowerCase()})`,size:40})}),u.jsx("div",{className:"flex-1",children:u.jsxs("h2",{style:{color:`var(--color-synthux-${s.toLowerCase()})`},className:"text-4xl font-bold font-header tracking-tight uppercase drop-shadow-md shrink-0 flex items-center gap-3",children:["Tape ",s,u.jsx("button",{onClick:()=>kp(s,Je,E.files),className:"p-1.5 rounded-full bg-gray-800 hover:bg-white/10 text-gray-400 hover:text-white transition-colors border border-gray-700 hover:border-gray-500",title:`Download ${s} Tape (Zip)`,children:u.jsx(Bi,{size:16})})]})}),z.size>0&&u.jsxs("div",{className:"flex items-center gap-4 bg-[#1a1a1a]/80 border border-orange-500/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-1 bg-orange-500/10 rounded-full",children:u.jsx(oa,{className:"text-orange-900",size:14})}),u.jsxs("span",{className:"text-xs font-medium text-gray-400",children:[z.size," file",z.size!==1?"s":""," assigned to multiple slots."]})]}),u.jsx("button",{onClick:()=>Q(!0),className:"text-[10px] font-bold uppercase text-orange-600 hover:text-orange-400 hover:bg-orange-500/10 px-2 py-1 rounded transition-all",children:"Resolve"})]})]}),u.jsx(dy,{slots:Je.slots,files:E.files,tapeColor:s,activeSlotId:m,onSlotClick:De,onSlotDrop:(fe,xe)=>K(fe,xe,s),onSlotDropInternal:(fe,xe,pe,he,ve,we)=>{ge(fe,xe,pe,he,s,ve,we)},onRemoveSlot:ct,duplicates:z,onDeleteFile:Ae,onBulkAssign:Zt,selectedSlots:h,onSlotSelectionClick:(fe,xe,pe)=>kt(xe,fe,pe),onToggleSlotSelection:(fe,xe)=>Kt(xe,fe),onSlotDragStart:Ot})]}):u.jsxs("div",{className:"bg-black/40 rounded-3xl p-4 border border-white/5 backdrop-blur-md",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6 px-4",children:[u.jsx("h2",{className:"text-4xl font-bold font-header tracking-tight uppercase text-white drop-shadow-md",children:"All Tapes"}),z.size>0&&u.jsxs("div",{className:"flex items-center gap-4 bg-[#1a1a1a]/80 border border-orange-500/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-1 bg-orange-500/10 rounded-full",children:u.jsx(oa,{className:"text-orange-900",size:14})}),u.jsxs("span",{className:"text-xs font-medium text-gray-400",children:[z.size," Conflict",z.size!==1?"s":""]})]}),u.jsx("button",{onClick:()=>Q(!0),className:"text-[10px] font-bold uppercase text-orange-600 hover:text-orange-400 hover:bg-orange-500/10 px-2 py-1 rounded transition-all",children:"Resolve"})]})]}),u.jsx(hy,{tapes:E.tapes,files:E.files,onRemoveSlot:fe=>ct(fe),onSlotDrop:K,onSlotDropInternal:ge,onSlotClick:gt,onTapeHeaderClick:fe=>{o(fe),c("single")},duplicates:ye,onDeleteFile:Ae,onBulkAssign:Zt,selectedSlots:h,onSlotSelectionClick:kt,onToggleSlotSelection:(fe,xe)=>Kt(fe,xe),onSlotDragStart:Ot})]})})]})]}),L&&te&&u.jsx(Yy,{children:(()=>{const xe=te.versions.find(pe=>pe.id===te.currentVersionId)?.blob;return!xe||!(xe instanceof Blob)?u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg text-center max-w-sm border border-red-900",children:[u.jsx("h3",{className:"text-red-500 font-bold mb-2",children:"Audio Data Missing"}),u.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:['The audio file for "',te.name,'" could not be loaded. This usually happens if the data cache was cleared or corrupted.']}),u.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"Close"})]})}):u.jsx(Cy,{slot:{...x,name:te.name,blob:xe},versions:te.versions,activeVersionId:te.currentVersionId,tapeColor:s,isDuplicate:z.has(te.id),onClose:()=>p(null),onSaveUnique:(pe,he,ve)=>{if(!ee||!m)return;const we=M(),ke=M(),Ne={id:ke,timestamp:Date.now(),description:"Unique Version from "+te.name,blob:pe,duration:he,processing:ve},Oe={id:we,name:te.name+" (Unique)",originalName:te.originalName,versions:[Ne],currentVersionId:ke,isParked:!1};l(Ce=>{const Me={...Ce.files,[we]:Oe},Be={...Ce.tapes},Ke=Be[s];return Ke&&(Be[s]={...Ke,slots:Ke.slots.map(mt=>mt.id===m?{...mt,fileId:we}:mt)}),{...Ce,files:Me,tapes:Be}}),p(null)},onSave:(pe,he,ve,we,ke)=>{if(!ee||!we)return;const Ne=ee,Oe=M(),Ce={id:Oe,timestamp:Date.now(),description:ve||"Edited",blob:pe,duration:he,processing:ke};l(Me=>({...Me,files:{...Me.files,[Ne]:{...Me.files[Ne],versions:[Ce,...Me.files[Ne].versions],currentVersionId:Oe}}}))},onSaveAsCopy:(pe,he)=>{const ve=M(),we=M(),ke={id:we,timestamp:Date.now(),description:"Copy from "+te.name,blob:pe,duration:he},Ne={id:ve,name:te.name+"_COPY",originalName:te.originalName,versions:[ke],currentVersionId:we,isParked:!0},Oe=M(),Ce={id:Oe,timestamp:Date.now(),description:"Saved to Pool",blob:pe,duration:he};l(Me=>({...Me,files:{...Me.files,[ve]:Ne,[ee]:{...Me.files[ee],versions:[Ce,...Me.files[ee].versions],currentVersionId:Oe}}}))},onDeleteVersion:pe=>{ee&&l(he=>{const ve=he.files[ee];if(!ve||ve.versions.length<=1)return he;const we=ve.versions.filter(Ne=>Ne.id!==pe);let ke=ve.currentVersionId;return ve.currentVersionId===pe&&(ke=we[0].id),{...he,files:{...he.files,[ee]:{...ve,versions:we,currentVersionId:ke}}}})},onAssignVersion:pe=>{ee&&(l(he=>({...he,files:{...he.files,[ee]:{...he.files[ee],currentVersionId:pe}}})),b({msg:"Version Assigned to Slot ",type:"success"}))},onMoveVersionToPool:pe=>{if(!ee)return;const he=E.files[ee],ve=he.versions.find(Ce=>Ce.id===pe);if(!ve)return;const we=M(),ke=M(),Ne={...ve,id:ke,timestamp:Date.now(),description:`Extracted from ${he.name}`},Oe={id:we,name:`${he.name}_v${new Date(ve.timestamp).getTime().toString().slice(-4)}`,originalName:he.originalName,versions:[Ne],currentVersionId:ke,isParked:!0};if(he.versions.length<=1){b({msg:"Cannot move the only version. Use 'Save Copy' instead.",type:"error"});return}l(Ce=>{const Me=Ce.files[ee],Be=Me.versions.filter(mt=>mt.id!==pe);let Ke=Me.currentVersionId;return Me.currentVersionId===pe&&(Ke=Be[0].id),{...Ce,files:{...Ce.files,[we]:Oe,[ee]:{...Me,versions:Be,currentVersionId:Ke}}}}),b({msg:"Version moved to Unassigned Pool",type:"success"})}})})()}),S&&u.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),u.jsx("div",{className:"text-white font-medium",children:j})]})}),A&&u.jsx(Vy,{count:A.conflicts,onOverwrite:an,onFillEmpty:zt,onCancel:()=>O(null)}),F&&u.jsx(qy,{duplicates:ye,files:E.files,onClose:()=>Q(!1),onKeep:R,onMakeUnique:de}),d&&u.jsx(Uy,{onClose:()=>f(!1)}),u.jsx(Ly,{isOpen:w,onClose:()=>C(!1),onImport:On}),u.jsx(ei,{isOpen:B,onClose:()=>q(!1),onConfirm:He,title:"Save Project Backup",confirmLabel:"Download Backup",message:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{children:["This will download a ",u.jsx("code",{children:".zip"})," file containing your entire project state (JSON) and all source audio files."]}),u.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 p-4 rounded-lg text-sm text-gray-300",children:[u.jsx("strong",{className:"text-blue-400 block mb-1",children:"Why save?"}),"Browser storage is temporary. If you clear your cache or change computers, your work will be lost unless you save this backup file."]})]})}),u.jsx(ei,{isOpen:ne,onClose:()=>V(!1),onConfirm:ce,title:"Import Project or Folder",confirmLabel:"Select File/Folder",message:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{children:["You can import a previously saved ",u.jsx("code",{children:"spotykach_project.zip"})," to restore your session, or any folder containing audio files."]}),u.jsxs("div",{className:"bg-synthux-blue/10 border border-synthux-blue/30 p-4 rounded-lg text-sm text-gray-300",children:[u.jsxs("strong",{className:"text-synthux-blue block mb-1 flex items-center gap-2",children:[u.jsx(Vh,{size:14})," Edit Existing SD Card"]}),u.jsxs("p",{className:"mb-2",children:["You can select an existing ",u.jsx("strong",{children:"Spotykach SD Card folder"})," (e.g. the ",u.jsx("code",{children:"SK"})," folder) to load your tapes, tweak them, and rearrange slots."]}),u.jsx("p",{className:"text-xs text-gray-400 italic",children:'Note: Changes are NOT saved automatically back to the folder. You must use "Export to SD" when you are finished.'})]})]})}),u.jsx(ei,{isOpen:T,onClose:()=>D(!1),onConfirm:P,title:"Export to SD Card",confirmLabel:"Select Folder & Write",message:u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{children:"You are about to write files directly to a folder on your computer (or SD card)."}),u.jsxs("div",{className:"bg-synthux-yellow/10 border border-synthux-yellow/30 p-4 rounded-lg text-sm text-gray-300",children:[u.jsx("strong",{className:"text-synthux-yellow block mb-1",children:"Important:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsxs("li",{children:["Please select the ",u.jsx("strong",{children:"Root Directory"})," of your SD Card."]}),u.jsxs("li",{children:["Existing files in ",u.jsx("code",{children:"SK/BLUE"}),", ",u.jsx("code",{children:"SK/RED"})," etc. will be ",u.jsx("strong",{children:"overwritten"}),"."]}),u.jsx("li",{children:"The browser will ask for permission to view/edit files."})]})]})]})}),I&&u.jsx(ei,{isOpen:!0,onClose:()=>Z(null),onConfirm:I.onConfirm,title:I.title,message:I.message,isDestructive:I.isDestructive,confirmLabel:I.confirmLabel,showCancel:I.showCancel}),k&&u.jsx(Hy,{message:k.msg,type:k.type,onClose:()=>b(null)})]})]})}var Nl={exports:{}};var lv=Nl.exports,sp;function rv(){return sp||(sp=1,(function(E,l){(function(s,o){o(l)})(lv,function(s){var o="dnd-poly-",g=["none","copy","copyLink","copyMove","link","linkMove","move","all"],c=["none","copy","move","link"];function m(){var O=!1;try{var h=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",null,h)}catch{}return O}var p=m();function d(O){return O&&O.tagName}function f(O,h,U){document.addEventListener(O,h,!!p&&{passive:U})}function w(O,h){document.removeEventListener(O,h)}function C(O,h,U,Y){Y===void 0&&(Y=!1);var H=p?{passive:!0,capture:Y}:Y;return O.addEventListener(h,U,H),{off:function(){O.removeEventListener(h,U,H)}}}function k(O){return O.length===0?0:O.reduce(function(h,U){return U+h},0)/O.length}function b(O,h){for(var U=0;U<O.changedTouches.length;U++)if(O.changedTouches[U].identifier===h)return!0;return!1}function S(O,h,U){for(var Y=[],H=[],se=0;se<h.touches.length;se++){var W=h.touches[se];Y.push(W[O+"X"]),H.push(W[O+"Y"])}U.x=k(Y),U.y=k(H)}var v=["","-webkit-"];function j(O,W,U,Y,H){var se=W.x,W=W.y;Y&&(se+=Y.x,W+=Y.y),(H=H===void 0||H)&&(se-=parseInt(O.offsetWidth,10)/2,W-=parseInt(O.offsetHeight,10)/2);for(var ye="translate3d("+se+"px,"+W+"px, 0)",z=0;z<v.length;z++){var R=v[z]+"transform";O.style[R]=ye+" "+U[z]}}var _=(Object.defineProperty(T.prototype,"dropEffect",{get:function(){return this.t},set:function(O){this.i.mode!==0&&-1<g.indexOf(O)&&(this.t=O)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(O){this.i.mode===2&&-1<g.indexOf(O)&&(this.i.effectAllowed=O)},enumerable:!1,configurable:!0}),T.prototype.setData=function(O,h){if(this.i.mode===2){if(-1<O.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[O]=h,this.i.types.indexOf(O)===-1&&this.i.types.push(O)}},T.prototype.getData=function(O){if(this.i.mode===1||this.i.mode===2)return this.i.data[O]||""},T.prototype.clearData=function(O){this.i.mode===2&&(O&&this.i.data[O]?(delete this.i.data[O],-1<(O=this.i.types.indexOf(O))&&this.i.types.splice(O,1)):(this.i.data={},this.i.types=[]))},T.prototype.setDragImage=function(O,h,U){this.i.mode===2&&this.h(O,h,U)},T);function T(O,h){this.i=O,this.h=h,this.t=c[0]}function D(O,h){return O?O===g[0]?c[0]:O.indexOf(g[1])===0||O===g[7]?c[1]:O.indexOf(g[4])===0?c[3]:O===g[6]?c[2]:c[1]:h.nodeType===3&&h.tagName==="A"?c[3]:c[1]}function B(O,h,U,Y,H,se,W){return W===void 0&&(W=null),H=(function(ye,z,R,P,re,ce,Re){W===void 0&&(Re=null);var He=U.changedTouches[0],P=new Event(O,{bubbles:!0,cancelable:P});return P.dataTransfer=ce,P.relatedTarget=Re,P.screenX=He.screenX,P.screenY=He.screenY,P.clientX=He.clientX,P.clientY=He.clientY,P.pageX=He.pageX,P.pageY=He.pageY,ye=ye.getBoundingClientRect(),P.offsetX=P.clientX-ye.left,P.offsetY=P.clientY-ye.top,P})(h,0,0,se=se===void 0||se,document.defaultView,H,W),H=!h.dispatchEvent(H),Y.mode=0,H}function q(O,h){if(!O||O===g[7])return h;if(h===c[1]){if(O.indexOf(c[1])===0)return c[1]}else if(h===c[3]){if(O.indexOf(c[3])===0||-1<O.indexOf("Link"))return c[3]}else if(h===c[2]&&(O.indexOf(c[2])===0||-1<O.indexOf("Move")))return c[2];return c[0]}var I=(Z.prototype.o=function(){var O=this;this.u=1,this.l=c[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var h=this.m;if(this.I=new _(this.v,function(se,W,ye){h=se,typeof W!="number"&&typeof ye!="number"||(O.j={x:W||0,y:ye||0})}),this.v.mode=2,this.I.dropEffect=c[0],B("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;S("page",this.k,this.g);var U,Y,H=this.S.dragImageSetup(h);return this.A=(U=H,v.map(function(se){return se=U.style[se+"transform"],se&&se!=="none"?se.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),H.style.position="absolute",H.style.left="0px",H.style.top="0px",H.style.zIndex="999999",H.classList.add("dnd-poly-drag-image"),H.classList.add("dnd-poly-icon"),this.O=H,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(Y=getComputedStyle(h),this.j={x:0-parseInt(Y.marginLeft,10),y:0-parseInt(Y.marginTop,10)}):(H=h.getBoundingClientRect(),Y=getComputedStyle(h),this.j={x:H.left-this.M.clientX-parseInt(Y.marginLeft,10)+H.width/2,y:H.top-this.M.clientY-parseInt(Y.marginTop,10)+H.height/2})),j(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){O.F||(O.F=!0,O.N(),O.F=!1)},this.S.iterationInterval),!0},Z.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),w("touchmove",this.P),w("touchend",this.T),w("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},Z.prototype._=function(O){var h=this;if(b(O,this.M.identifier)!==!1){if(this.k=O,this.u===0){var U=void 0;if(this.S.dragStartConditionOverride)try{U=this.S.dragStartConditionOverride(O)}catch{U=!1}else U=O.touches.length===1;return U?void(this.o()===!0&&(this.H.preventDefault(),O.preventDefault())):void this.C()}if(O.preventDefault(),S("client",O,this.p),S("page",O,this.g),this.S.dragImageTranslateOverride)try{var Y=!1;if(this.S.dragImageTranslateOverride(O,{x:this.p.x,y:this.p.y},this.V,function(H,se){h.O&&(Y=!0,h.p.x+=H,h.p.y+=se,h.g.x+=H,h.g.y+=se,j(h.O,h.g,h.A,h.j,h.S.dragImageCenterOnTouch))}),Y)return}catch{}j(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},Z.prototype.X=function(O){if(b(O,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(O.preventDefault(),this.u=O.type==="touchcancel"?3:2):this.C()}},Z.prototype.N=function(){var O=this,h=this.l;this.v.mode=3,this.I.dropEffect=c[0];var U,Y,H,se,W,ye=B("drag",this.m,this.k,this.v,this.I);if(ye&&(this.l=c[0]),ye||this.u===2||this.u===3)return this.Y(this.u)?(se=this.m,U=this.O,Y=this.A,R=function(){O.q()},void((W=getComputedStyle(se)).visibility!=="hidden"&&W.display!=="none"?(U.classList.add("dnd-poly-snapback"),H=getComputedStyle(U),ye=parseFloat(H.transitionDuration),isNaN(ye)||ye===0?R():((se={x:(z=se.getBoundingClientRect()).left,y:z.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,se.y+=document.body.scrollTop||document.documentElement.scrollTop,se.x-=parseInt(W.marginLeft,10),se.y-=parseInt(W.marginTop,10),z=parseFloat(H.transitionDelay),z=Math.round(1e3*(ye+z)),j(U,se,Y,void 0,!1),setTimeout(R,z))):R())):void this.q();var z=this.S.elementFromPoint(this.p.x,this.p.y),R=this.B;z!==this.V&&z!==this.B&&(this.V=z,this.B!==null&&(this.v.mode=3,this.I.dropEffect=c[0],B("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=D(this.v.effectAllowed,this.m),B("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=q(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),R!==this.B&&d(R)&&(this.v.mode=3,this.I.dropEffect=c[0],B("dragleave",R,this.k,this.v,this.I,!1,this.B)),d(this.B)&&(this.v.mode=3,this.I.dropEffect=D(this.v.effectAllowed,this.m),B("dragover",this.B,this.k,this.v,this.I)===!1?this.l=c[0]:this.l=q(this.I.effectAllowed,this.I.dropEffect)),h!==this.l&&this.O.classList.remove(o+h),h=o+this.l,this.O.classList.add(h)},Z.prototype.Y=function(O){return O=this.l===c[0]||this.B===null||O===3,O?d(this.B)&&(this.v.mode=3,this.I.dropEffect=c[0],B("dragleave",this.B,this.k,this.v,this.I,!1)):d(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,B("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=c[0]),O},Z.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,B("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},Z);function Z(O,h,U,Y){this.H=O,this.S=h,this.m=U,this.L=Y,this.u=0,this.V=null,this.B=null,this.k=O,this.M=O.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),f("touchmove",this.P,!1),f("touchend",this.T,!1),f("touchcancel",this.T,!1)}var ne,V={iterationInterval:150,tryFindDraggableTarget:function(O){for(var h=0,U=O.composedPath();h<U.length;h++){var Y=U[h];do if(Y.draggable!==!1&&(Y.draggable===!0||Y.getAttribute&&Y.getAttribute("draggable")==="true"))return Y;while((Y=Y.parentNode)&&Y!==document.body)}},dragImageSetup:function(O){var h=O.cloneNode(!0);return(function U(Y,H){if(Y.nodeType===1){for(var se,W,ye=getComputedStyle(Y),z=0;z<ye.length;z++){var R=ye[z];H.style.setProperty(R,ye.getPropertyValue(R),ye.getPropertyPriority(R))}H.style.pointerEvents="none",H.removeAttribute("id"),H.removeAttribute("class"),H.removeAttribute("draggable"),H.nodeName==="CANVAS"&&(se=H,W=(W=Y).getContext("2d").getImageData(0,0,W.width,W.height),se.getContext("2d").putImageData(W,0,0))}if(Y.hasChildNodes())for(z=0;z<Y.childNodes.length;z++)U(Y.childNodes[z],H.childNodes[z]);(function de(re){if(re instanceof HTMLElement&&(re.style.pointerEvents="none"),re.children&&re.children.length)for(var ce=0;ce<re.children.length;ce++)de(re.children[ce]);if(re.shadowRoot&&re.shadowRoot.children.length)for(ce=0;ce<re.shadowRoot.children.length;ce++)de(re.shadowRoot.children[ce])})(H)})(O,h),h},elementFromPoint:function(O,h){var U=document.elementFromPoint(O,h);if(U){for(;U.shadowRoot;){var Y=U.shadowRoot.elementFromPoint(O,h);if(Y===null||Y===U)break;U=Y}return U}}};function F(O){if(!ne){var h=V.tryFindDraggableTarget(O);if(h)try{ne=new I(O,V,h,A)}catch(U){throw A(V,O,3),U}}}function Q(O){function h(z){H.off(),se.off(),W.off(),ye.off(),U&&U.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(Y)}var U=O.target;U&&U.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var Y=window.setTimeout(function(){H.off(),se.off(),W.off(),ye.off(),F(O)},V.holdToDrag),H=C(U,"touchend",h),se=C(U,"touchcancel",h),W=C(U,"touchmove",h),ye=C(window,"scroll",h,!0)}function A(O,h,U){if(U===0&&O.defaultActionOverride)try{O.defaultActionOverride(h),h.defaultPrevented}catch{}ne=null}s.polyfill=function(O){if(O&&Object.keys(O).forEach(function(U){V[U]=O[U]}),!V.forceApply&&(h=(h=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||h&&"ontouchstart"in document.documentElement)}),h.userAgentSupportingNativeDnD&&h.draggable&&h.dragEvents))return!1;var h;return V.holdToDrag?f("touchstart",Q,!1):f("touchstart",F,!1),!0},s.supportsPassiveEventListener=m,Object.defineProperty(s,"G",{value:!0})})})(Nl,Nl.exports)),Nl.exports}var sv=rv(),Al={exports:{}},ov=Al.exports,op;function uv(){return op||(op=1,(function(E,l){(function(s,o){o(l)})(ov,(function(s){function o(V){return V===document.body||V===document.documentElement}function g(V,F){var Q;if(o(V))Q=F===0?V.clientLeft:V.clientTop;else{var A=V.getBoundingClientRect();Q=F===0?A.left:A.top}return Q}function c(V,F){var Q;return o(V)?Q=F===0?window.innerWidth:window.innerHeight:Q=F===0?V.clientWidth:V.clientHeight,Q}function m(V,F,Q){var A=F===0?"scrollLeft":"scrollTop",O=o(V);if(arguments.length===2)return O?document.body[A]||document.documentElement[A]:V[A];O?(document.documentElement[A]+=Q,document.body[A]+=Q):V[A]+=Q}function p(V){var F=getComputedStyle(V);return V.scrollHeight>V.clientHeight&&(F.overflowY==="scroll"||F.overflowY==="auto")||V.scrollWidth>V.clientWidth&&(F.overflowX==="scroll"||F.overflowX==="auto")}function d(V){do{if(!V)return;if(p(V))return V;if(V===document.documentElement)return null}while(V=V.parentNode);return null}function f(V,F,Q){return V<Q?-1:F-V<Q?1:0}function w(V,F,Q,A){return V===-1?Math.abs(F-A):V===1?Math.abs(Q-F-A):0}function C(V,F,Q){var A=V===0?Q.scrollX:Q.scrollY;if(F===1){var O=V===0?Q.scrollWidth-Q.width:Q.scrollHeight-Q.height;return A>=O}else if(F===-1)return A<=0;return!0}var k={threshold:75,velocityFn:function(V,F){var Q=V/F,A=Q*Q*Q;return A*F}},b={horizontal:0,vertical:0},S={x:0,y:0},v,j,_,T,D;function B(V,F,Q,A){j=F,D=A,_!==Q&&(_=Q,T=d(_));var O=Z(j,T,k.threshold,b,S);O?q():v&&(window.cancelAnimationFrame(v),v=null)}function q(){v||(v=window.requestAnimationFrame(I))}function I(){var V=0,F=0,Q=o(T);b.horizontal!==0&&(V=Math.round(k.velocityFn(S.x,k.threshold)*b.horizontal),m(T,0,V)),b.vertical!==0&&(F=Math.round(k.velocityFn(S.y,k.threshold)*b.vertical),m(T,1,F)),Q?D(V,F):D(0,0),v=null,Z(j,T,k.threshold,b,S)&&q()}function Z(V,F,Q,A,O){if(!V||!F)return!1;var h={x:g(F,0),y:g(F,1),width:c(F,0),height:c(F,1),scrollX:m(F,0),scrollY:m(F,1),scrollWidth:F.scrollWidth,scrollHeight:F.scrollHeight},U={x:V.x-h.x,y:V.y-h.y};return A.horizontal=f(U.x,h.width,Q),A.vertical=f(U.y,h.height,Q),A.horizontal&&C(0,A.horizontal,h)?A.horizontal=0:A.horizontal&&(O.x=w(A.horizontal,U.x,h.width,Q)),A.vertical&&C(1,A.vertical,h)?A.vertical=0:A.vertical&&(O.y=w(A.vertical,U.y,h.height,Q)),!!(A.horizontal||A.vertical)}var ne=B;s.scrollBehaviourDragImageTranslateOverride=ne,Object.defineProperty(s,"__esModule",{value:!0})}))})(Al,Al.exports)),Al.exports}var cv=uv();sv.polyfill({dragImageTranslateOverride:cv.scrollBehaviourDragImageTranslateOverride,holdToDrag:300});window.addEventListener("touchmove",function(){},{passive:!1});P0.createRoot(document.getElementById("root")).render(u.jsx(Ee.StrictMode,{children:u.jsx(uy,{children:u.jsx(iv,{})})}));
